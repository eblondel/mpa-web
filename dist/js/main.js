if(function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,(function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=na.type(a);return"function"!==c&&!na.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a,b,c){if(na.isFunction(b))return na.grep(a,(function(a,d){return!!b.call(a,d,a)!==c}));if(b.nodeType)return na.grep(a,(function(a){return a===b!==c}));if("string"==typeof b){if(xa.test(b))return na.filter(b,a,c);b=na.filter(b,a)}return na.grep(a,(function(a){return na.inArray(a,b)>-1!==c}))}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b={};return na.each(a.match(Da)||[],(function(a,c){b[c]=!0})),b}function g(){da.addEventListener?(da.removeEventListener("DOMContentLoaded",h),a.removeEventListener("load",h)):(da.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(da.addEventListener||"load"===a.event.type||"complete"===da.readyState)&&(g(),na.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Ia,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:Ha.test(c)?na.parseJSON(c):c)}catch(e){}na.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!na.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(Ga(a)){var e,f,g=na.expando,h=a.nodeType,i=h?na.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=ca.pop()||na.guid++:g),i[j]||(i[j]=h?{}:{toJSON:na.noop}),"object"!=typeof b&&"function"!=typeof b||(d?i[j]=na.extend(i[j],b):i[j].data=na.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[na.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[na.camelCase(b)])):e=f,e}}function l(a,b,c){if(Ga(a)){var d,e,f=a.nodeType,g=f?na.cache:a,h=f?a[na.expando]:na.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){na.isArray(b)?b=b.concat(na.map(b,na.camelCase)):b in d?b=[b]:(b=na.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!na.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?na.cleanData([a],!0):la.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}function m(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return na.css(a,b,"")},i=h(),j=c&&c[3]||(na.cssNumber[b]?"":"px"),k=(na.cssNumber[b]||"px"!==j&&+i)&&Ka.exec(na.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,na.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function n(a){var b=Sa.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){var c,d,e=0,f="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||na.nodeName(d,b)?f.push(d):na.merge(f,o(d,b));return void 0===b||b&&na.nodeName(a,b)?na.merge([a],f):f}function p(a,b){for(var c,d=0;null!=(c=a[d]);d++)na._data(c,"globalEval",!b||na._data(b[d],"globalEval"))}function q(a){Oa.test(a.type)&&(a.defaultChecked=a.checked)}function r(a,b,c,d,e){for(var f,g,h,i,j,k,l,m=a.length,r=n(b),s=[],t=0;t<m;t++)if(g=a[t],g||0===g)if("object"===na.type(g))na.merge(s,g.nodeType?[g]:g);else if(Ua.test(g)){for(i=i||r.appendChild(b.createElement("div")),j=(Pa.exec(g)||["",""])[1].toLowerCase(),l=Ta[j]||Ta._default,i.innerHTML=l[1]+na.htmlPrefilter(g)+l[2],f=l[0];f--;)i=i.lastChild;if(!la.leadingWhitespace&&Ra.test(g)&&s.push(b.createTextNode(Ra.exec(g)[0])),!la.tbody)for(g="table"!==j||Va.test(g)?"<table>"!==l[1]||Va.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;f--;)na.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k);for(na.merge(s,i.childNodes),i.textContent="";i.firstChild;)i.removeChild(i.firstChild);i=r.lastChild}else s.push(b.createTextNode(g));for(i&&r.removeChild(i),la.appendChecked||na.grep(o(s,"input"),q),t=0;g=s[t++];)if(d&&na.inArray(g,d)>-1)e&&e.push(g);else if(h=na.contains(g.ownerDocument,g),i=o(r.appendChild(g),"script"),h&&p(i),c)for(f=0;g=i[f++];)Qa.test(g.type||"")&&c.push(g);return i=null,r}function s(){return!0}function t(){return!1}function u(){try{return da.activeElement}catch(a){}}function v(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)v(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=t;else if(!e)return a;return 1===f&&(g=e,e=function(a){return na().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=na.guid++)),a.each((function(){na.event.add(this,b,e,d,c)}))}function w(a,b){return na.nodeName(a,"table")&&na.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function x(a){return a.type=(null!==na.find.attr(a,"type"))+"/"+a.type,a}function y(a){var b=eb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function z(a,b){if(1===b.nodeType&&na.hasData(a)){var c,d,e,f=na._data(a),g=na._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)na.event.add(b,c,h[c][d])}g.data&&(g.data=na.extend({},g.data))}}function A(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!la.noCloneEvent&&b[na.expando]){e=na._data(b);for(d in e.events)na.removeEvent(b,d,e.handle);b.removeAttribute(na.expando)}"script"===c&&b.text!==a.text?(x(b).text=a.text,y(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),la.html5Clone&&a.innerHTML&&!na.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Oa.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function B(a,b,c,d){b=fa.apply([],b);var e,f,g,h,i,j,k=0,l=a.length,m=l-1,n=b[0],p=na.isFunction(n);if(p||l>1&&"string"==typeof n&&!la.checkClone&&db.test(n))return a.each((function(e){var f=a.eq(e);p&&(b[0]=n.call(this,e,f.html())),B(f,b,c,d)}));if(l&&(j=r(b,a[0].ownerDocument,!1,a,d),e=j.firstChild,1===j.childNodes.length&&(j=e),e||d)){for(h=na.map(o(j,"script"),x),g=h.length;k<l;k++)f=j,k!==m&&(f=na.clone(f,!0,!0),g&&na.merge(h,o(f,"script"))),c.call(a[k],f,k);if(g)for(i=h[h.length-1].ownerDocument,na.map(h,y),k=0;k<g;k++)f=h[k],Qa.test(f.type||"")&&!na._data(f,"globalEval")&&na.contains(i,f)&&(f.src?na._evalUrl&&na._evalUrl(f.src):na.globalEval((f.text||f.textContent||f.innerHTML||"").replace(fb,"")));j=e=null}return a}function C(a,b,c){for(var d,e=b?na.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||na.cleanData(o(d)),d.parentNode&&(c&&na.contains(d.ownerDocument,d)&&p(o(d,"script")),d.parentNode.removeChild(d));return a}function D(a,b){var c=na(b.createElement(a)).appendTo(b.body),d=na.css(c[0],"display");return c.detach(),d}function E(a){var b=da,c=jb[a];return c||(c=D(a,b),"none"!==c&&c||(ib=(ib||na("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(ib[0].contentWindow||ib[0].contentDocument).document,b.write(),b.close(),c=D(a,b),ib.detach()),jb[a]=c),c}function F(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function G(a){if(a in yb)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),c=xb.length;c--;)if(a=xb[c]+b,a in yb)return a}function H(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=na._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ma(d)&&(f[g]=na._data(d,"olddisplay",E(d.nodeName)))):(e=Ma(d),(c&&"none"!==c||!e)&&na._data(d,"olddisplay",e?c:na.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function I(a,b,c){var d=ub.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function J(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=na.css(a,c+La[f],!0,e)),d?("content"===c&&(g-=na.css(a,"padding"+La[f],!0,e)),"margin"!==c&&(g-=na.css(a,"border"+La[f]+"Width",!0,e))):(g+=na.css(a,"padding"+La[f],!0,e),"padding"!==c&&(g+=na.css(a,"border"+La[f]+"Width",!0,e)));return g}function K(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=ob(a),g=la.boxSizing&&"border-box"===na.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=pb(a,b,f),(e<0||null==e)&&(e=a.style[b]),lb.test(e))return e;d=g&&(la.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+J(a,b,c||(g?"border":"content"),d,f)+"px"}function L(a,b,c,d,e){return new L.prototype.init(a,b,c,d,e)}function M(){return a.setTimeout((function(){zb=void 0})),zb=na.now()}function N(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=La[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function O(a,b,c){for(var d,e=(R.tweeners[b]||[]).concat(R.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function P(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ma(a),p=na._data(a,"fxshow");c.queue||(h=na._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always((function(){l.always((function(){h.unqueued--,na.queue(a,"fx").length||h.empty.fire()}))}))),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=na.css(a,"display"),k="none"===j?na._data(a,"olddisplay")||E(a.nodeName):j,"inline"===k&&"none"===na.css(a,"float")&&(la.inlineBlockNeedsLayout&&"inline"!==E(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",la.shrinkWrapBlocks()||l.always((function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]})));for(d in b)if(e=b[d],Bb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||na.style(a,d)}else j=void 0;if(na.isEmptyObject(m))"inline"===("none"===j?E(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=na._data(a,"fxshow",{}),f&&(p.hidden=!o),o?na(a).show():l.done((function(){na(a).hide()})),l.done((function(){var b;na._removeData(a,"fxshow");for(b in m)na.style(a,b,m[b])}));for(d in m)g=O(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Q(a,b){var c,d,e,f,g;for(c in a)if(d=na.camelCase(c),e=b[d],f=a[c],na.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=na.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function R(a,b,c){var d,e,f=0,g=R.prefilters.length,h=na.Deferred().always((function(){delete i.elem})),i=function(){if(e)return!1;for(var b=zb||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:na.extend({},b),opts:na.extend(!0,{specialEasing:{},easing:na.easing._default},c),originalProperties:b,originalOptions:c,startTime:zb||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=na.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Q(k,j.opts.specialEasing);f<g;f++)if(d=R.prefilters[f].call(j,a,k,j.opts))return na.isFunction(d.stop)&&(na._queueHooks(j.elem,j.opts.queue).stop=na.proxy(d.stop,d)),d;return na.map(k,O,j),na.isFunction(j.opts.start)&&j.opts.start.call(a,j),na.fx.timer(na.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function S(a){return na.attr(a,"class")||""}function T(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Da)||[];if(na.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function U(a,b,c,d){function e(h){var i;return f[h]=!0,na.each(a[h]||[],(function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)})),i}var f={},g=a===$b;return e(b.dataTypes[0])||!f["*"]&&e("*")}function V(a,b){var c,d,e=na.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&na.extend(!0,a,c),a}function W(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return f!==i[0]&&i.unshift(f),c[f]}function X(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Y(a){return a.style&&a.style.display||na.css(a,"display")}function Z(a){if(!na.contains(a.ownerDocument||da,a))return!0;for(;a&&1===a.nodeType;){if("none"===Y(a)||"hidden"===a.type)return!0;a=a.parentNode}return!1}function $(a,b,c,d){var e;if(na.isArray(b))na.each(b,(function(b,e){c||dc.test(a)?d(a,e):$(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)}));else if(c||"object"!==na.type(b))d(a,b);else for(e in b)$(a+"["+e+"]",b[e],c,d)}function _(){try{return new a.XMLHttpRequest}catch(b){}}function aa(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ba(a){return na.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var ca=[],da=a.document,ea=ca.slice,fa=ca.concat,ga=ca.push,ha=ca.indexOf,ia={},ja=ia.toString,ka=ia.hasOwnProperty,la={},ma="1.12.4",na=function(a,b){return new na.fn.init(a,b)},oa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pa=/^-ms-/,qa=/-([\da-z])/gi,ra=function(a,b){return b.toUpperCase()};na.fn=na.prototype={jquery:ma,constructor:na,selector:"",length:0,toArray:function(){return ea.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:ea.call(this)},pushStack:function(a){var b=na.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return na.each(this,a)},map:function(a){return this.pushStack(na.map(this,(function(b,c){return a.call(b,c,b)})))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ga,sort:ca.sort,splice:ca.splice},na.extend=na.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||na.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(na.isPlainObject(c)||(b=na.isArray(c)))?(b?(b=!1,f=a&&na.isArray(a)?a:[]):f=a&&na.isPlainObject(a)?a:{},g[d]=na.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},na.extend({expando:"jQuery"+(ma+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===na.type(a)},isArray:Array.isArray||function(a){return"array"===na.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!na.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==na.type(a)||a.nodeType||na.isWindow(a))return!1;try{if(a.constructor&&!ka.call(a,"constructor")&&!ka.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(!la.ownFirst)for(b in a)return ka.call(a,b);for(b in a);return void 0===b||ka.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ia[ja.call(a)]||"object":typeof a},globalEval:function(b){b&&na.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(pa,"ms-").replace(qa,ra)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(c(a))for(d=a.length;e<d&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(oa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?na.merge(d,"string"==typeof a?[a]:a):ga.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(ha)return ha.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f,g=0,h=[];if(c(a))for(e=a.length;g<e;g++)f=b(a[g],g,d),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,d),null!=f&&h.push(f);return fa.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(e=a[b],b=a,a=e),na.isFunction(a))return c=ea.call(arguments,2),d=function(){return a.apply(b||this,c.concat(ea.call(arguments)))},d.guid=a.guid=a.guid||na.guid++,d},now:function(){return+new Date},support:la}),"function"==typeof Symbol&&(na.fn[Symbol.iterator]=ca[Symbol.iterator]),na.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(a,b){ia["[object "+b+"]"]=b.toLowerCase()}));var sa=(function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,I)){if(11!==p&&(j=ra.exec(a)))if(e=j[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&M(b,g)&&g.id===e)return c.push(g),c}else{if(j[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=j[3])&&v.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(v.qsa&&!T[a+" "]&&(!J||!J.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,"\\$&"):b.setAttribute("id",h=N),l=z(a),f=l.length,i=ma.test(h)?"#"+h:"[id='"+h+"']";f--;)l[f]=i+" "+m(l[f]);n=l.join(","),o=sa.test(a)&&k(b.parentNode)||b}if(n)try{return $.apply(c,o.querySelectorAll(n)),c}catch(q){}finally{h===N&&b.removeAttribute("id")}}}return B(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d((function(b){return b=+b,d((function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}))}))}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[N]||(b[N]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===P&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d((function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)}))}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n((function(a){return a===b}),g,!0),j=n((function(a){return aa(b,a)>-1}),g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g===G||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===G||(F(k),h=!I);m=a[l++];)if(m(k,g||G,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),va=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},wa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(xa){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=G.documentElement,I=!y(G),(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",wa,!1):c.attachEvent&&c.attachEvent("onunload",wa)),v.attributes=e((function(a){return a.className="i",!a.getAttribute("className")})),v.getElementsByTagName=e((function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length})),v.getElementsByClassName=qa.test(G.getElementsByClassName),v.getById=e((function(a){return H.appendChild(a).id=N,!G.getElementsByName||!G.getElementsByName(N).length})),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&I)return b.getElementsByClassName(a)},K=[],J=[],(v.qsa=qa.test(G.querySelectorAll))&&(e((function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")})),e((function(a){var b=G.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")}))),(v.matchesSelector=qa.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e((function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",fa)})),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=qa.test(H.compareDocumentPosition),M=b||qa.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===O&&M(O,a)?-1:b===G||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===G?-1:b===G?1:e?-1:f?1:D?aa(D,a)-aa(D,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===O?-1:i[d]===O?1:0},G):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(ka,"='$1']"),v.matchesSelector&&I&&!T[c+" "]&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[3]||a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ua,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,(function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n&&j[2],
m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[P,n,t];break}}else if(s&&(m=b,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[P,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d((function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])})):function(a){return f(a,0,e)}):f}},pseudos:{not:d((function(a){var b=[],c=[],e=A(a.replace(ha,"$1"));return e[N]?d((function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))})):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}})),has:d((function(a){return function(c){return b(a,c).length>0}})),contains:d((function(a){return a=a.replace(ua,va),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}})),lang:d((function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}})),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j((function(){return[0]})),last:j((function(a,b){return[b-1]})),eq:j((function(a,b,c){return[c<0?c+b:c]})),even:j((function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a})),odd:j((function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a})),lt:j((function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a})),gt:j((function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a}))}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ia.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in w.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),sa.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,!b||sa.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e((function(a){return 1&a.compareDocumentPosition(G.createElement("div"))})),e((function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")}))||f("type|href|height|width",(function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)})),v.attributes&&e((function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")}))||f("value",(function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue})),e((function(a){return null==a.getAttribute("disabled")}))||f(ba,(function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null})),b})(a);na.find=sa,na.expr=sa.selectors,na.expr[":"]=na.expr.pseudos,na.uniqueSort=na.unique=sa.uniqueSort,na.text=sa.getText,na.isXMLDoc=sa.isXML,na.contains=sa.contains;var ta=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&na(a).is(c))break;d.push(a)}return d},ua=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},va=na.expr.match.needsContext,wa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,xa=/^.[^:#\[\.,]*$/;na.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?na.find.matchesSelector(d,a)?[d]:[]:na.find.matches(a,na.grep(b,(function(a){return 1===a.nodeType})))},na.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(na(a).filter((function(){for(b=0;b<e;b++)if(na.contains(d[b],this))return!0})));for(b=0;b<e;b++)na.find(a,d[b],c);return c=this.pushStack(e>1?na.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&va.test(a)?na(a):a||[],!1).length}});var ya,za=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Aa=na.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||ya,"string"==typeof a){if(d="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:za.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof na?b[0]:b,na.merge(this,na.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:da,!0)),wa.test(d[1])&&na.isPlainObject(b))for(d in b)na.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}if(e=da.getElementById(d[2]),e&&e.parentNode){if(e.id!==d[2])return ya.find(a);this.length=1,this[0]=e}return this.context=da,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):na.isFunction(a)?"undefined"!=typeof c.ready?c.ready(a):a(na):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),na.makeArray(a,this))};Aa.prototype=na.fn,ya=na(da);var Ba=/^(?:parents|prev(?:Until|All))/,Ca={children:!0,contents:!0,next:!0,prev:!0};na.fn.extend({has:function(a){var b,c=na(a,this),d=c.length;return this.filter((function(){for(b=0;b<d;b++)if(na.contains(this,c[b]))return!0}))},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=va.test(a)||"string"!=typeof a?na(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&na.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?na.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?na.inArray(this[0],na(a)):na.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(na.uniqueSort(na.merge(this.get(),na(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),na.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ta(a,"parentNode")},parentsUntil:function(a,b,c){return ta(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return ta(a,"nextSibling")},prevAll:function(a){return ta(a,"previousSibling")},nextUntil:function(a,b,c){return ta(a,"nextSibling",c)},prevUntil:function(a,b,c){return ta(a,"previousSibling",c)},siblings:function(a){return ua((a.parentNode||{}).firstChild,a)},children:function(a){return ua(a.firstChild)},contents:function(a){return na.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:na.merge([],a.childNodes)}},(function(a,b){na.fn[a]=function(c,d){var e=na.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=na.filter(d,e)),this.length>1&&(Ca[a]||(e=na.uniqueSort(e)),Ba.test(a)&&(e=e.reverse())),this.pushStack(e)}}));var Da=/\S+/g;na.Callbacks=function(a){a="string"==typeof a?f(a):na.extend({},a);var b,c,d,e,g=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)g[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,e&&(g=c?[]:"")},k={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),(function d(b){na.each(b,(function(b,c){na.isFunction(c)?a.unique&&k.has(c)||g.push(c):c&&c.length&&"string"!==na.type(c)&&d(c)}))})(arguments),c&&!b&&j()),this},remove:function(){return na.each(arguments,(function(a,b){for(var c;(c=na.inArray(b,g,c))>-1;)g.splice(c,1),c<=i&&i--})),this},has:function(a){return a?na.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return e=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return e=!0,c||k.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},na.extend({Deferred:function(a){var b=[["resolve","done",na.Callbacks("once memory"),"resolved"],["reject","fail",na.Callbacks("once memory"),"rejected"],["notify","progress",na.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return na.Deferred((function(c){na.each(b,(function(b,f){var g=na.isFunction(a[b])&&a[b];e[f[1]]((function(){var a=g&&g.apply(this,arguments);a&&na.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)}))})),a=null})).promise()},promise:function(a){return null!=a?na.extend(a,d):d}},e={};return d.pipe=d.then,na.each(b,(function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add((function(){c=h}),b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith})),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=ea.call(arguments),g=f.length,h=1!==g||a&&na.isFunction(a.promise)?g:0,i=1===h?a:na.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?ea.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&na.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var Ea;na.fn.ready=function(a){return na.ready.promise().done(a),this},na.extend({isReady:!1,readyWait:1,holdReady:function(a){a?na.readyWait++:na.ready(!0)},ready:function(a){(a===!0?--na.readyWait:na.isReady)||(na.isReady=!0,a!==!0&&--na.readyWait>0||(Ea.resolveWith(da,[na]),na.fn.triggerHandler&&(na(da).triggerHandler("ready"),na(da).off("ready"))))}}),na.ready.promise=function(b){if(!Ea)if(Ea=na.Deferred(),"complete"===da.readyState||"loading"!==da.readyState&&!da.documentElement.doScroll)a.setTimeout(na.ready);else if(da.addEventListener)da.addEventListener("DOMContentLoaded",h),a.addEventListener("load",h);else{da.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&da.documentElement}catch(d){}c&&c.doScroll&&!(function e(){if(!na.isReady){try{c.doScroll("left")}catch(b){return a.setTimeout(e,50)}g(),na.ready()}})()}return Ea.promise(b)},na.ready.promise();var Fa;for(Fa in na(la))break;la.ownFirst="0"===Fa,la.inlineBlockNeedsLayout=!1,na((function(){var a,b,c,d;c=da.getElementsByTagName("body")[0],c&&c.style&&(b=da.createElement("div"),d=da.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",la.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))})),(function(){var a=da.createElement("div");la.deleteExpando=!0;try{delete a.test}catch(b){la.deleteExpando=!1}a=null})();var Ga=function(a){var b=na.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||b!==!0&&a.getAttribute("classid")===b)},Ha=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ia=/([A-Z])/g;na.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?na.cache[a[na.expando]]:a[na.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),na.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=na.data(f),1===f.nodeType&&!na._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=na.camelCase(d.slice(5)),i(f,d,e[d])));na._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each((function(){na.data(this,a)})):arguments.length>1?this.each((function(){na.data(this,a,b)})):f?i(f,a,na.data(f,a)):void 0},removeData:function(a){return this.each((function(){na.removeData(this,a)}))}}),na.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=na._data(a,b),c&&(!d||na.isArray(c)?d=na._data(a,b,na.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=na.queue(a,b),d=c.length,e=c.shift(),f=na._queueHooks(a,b),g=function(){na.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return na._data(a,c)||na._data(a,c,{empty:na.Callbacks("once memory").add((function(){na._removeData(a,b+"queue"),na._removeData(a,c)}))})}}),na.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?na.queue(this[0],a):void 0===b?this:this.each((function(){var c=na.queue(this,a,b);na._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&na.dequeue(this,a)}))},dequeue:function(a){return this.each((function(){na.dequeue(this,a)}))},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=na.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=na._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}}),(function(){var a;la.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=da.getElementsByTagName("body")[0],c&&c.style?(b=da.createElement("div"),d=da.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(da.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}})();var Ja=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ka=new RegExp("^(?:([+-])=|)("+Ja+")([a-z%]*)$","i"),La=["Top","Right","Bottom","Left"],Ma=function(a,b){return a=b||a,"none"===na.css(a,"display")||!na.contains(a.ownerDocument,a)},Na=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===na.type(c)){e=!0;for(h in c)Na(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,na.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(na(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Oa=/^(?:checkbox|radio)$/i,Pa=/<([\w:-]+)/,Qa=/^$|\/(?:java|ecma)script/i,Ra=/^\s+/,Sa="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!(function(){var a=da.createElement("div"),b=da.createDocumentFragment(),c=da.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",la.leadingWhitespace=3===a.firstChild.nodeType,la.tbody=!a.getElementsByTagName("tbody").length,la.htmlSerialize=!!a.getElementsByTagName("link").length,la.html5Clone="<:nav></:nav>"!==da.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),la.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",la.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=da.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),la.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,la.noCloneEvent=!!a.addEventListener,a[na.expando]=1,la.attributes=!a.getAttribute(na.expando)})();var Ta={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:la.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ta.optgroup=Ta.option,Ta.tbody=Ta.tfoot=Ta.colgroup=Ta.caption=Ta.thead,Ta.th=Ta.td;var Ua=/<|&#?\w+;/,Va=/<tbody/i;!(function(){var b,c,d=da.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(la[b]=c in a)||(d.setAttribute(c,"t"),la[b]=d.attributes[c].expando===!1);d=null})();var Wa=/^(?:input|select|textarea)$/i,Xa=/^key/,Ya=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Za=/^(?:focusinfocus|focusoutblur)$/,$a=/^([^.]*)(?:\.(.+)|)/;na.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=na._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=na.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return"undefined"==typeof na||a&&na.event.triggered===a.type?void 0:na.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(Da)||[""],h=b.length;h--;)f=$a.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=na.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=na.event.special[n]||{},l=na.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&na.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),na.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=na.hasData(a)&&na._data(a);if(q&&(k=q.events)){for(b=(b||"").match(Da)||[""],j=b.length;j--;)if(h=$a.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=na.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||na.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)na.event.remove(a,n+b[j],c,d,!0);na.isEmptyObject(k)&&(delete q.handle,na._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||da],n=ka.call(b,"type")?b.type:b,o=ka.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||da,3!==d.nodeType&&8!==d.nodeType&&!Za.test(n+na.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[na.expando]?b:new na.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:na.makeArray(c,[b]),j=na.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!na.isWindow(d)){for(i=j.delegateType||n,Za.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||da)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(na._data(h,"events")||{})[b.type]&&na._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&Ga(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&Ga(d)&&g&&d[n]&&!na.isWindow(d)){k=d[g],k&&(d[g]=null),na.event.triggered=n;try{d[n]()}catch(p){}na.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=na.event.fix(a);var b,c,d,e,f,g=[],h=ea.call(arguments),i=(na._data(this,"events")||{})[a.type]||[],j=na.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=na.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(f.namespace)||(a.handleObj=f,a.data=f.data,d=((na.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?na(e,this).index(i)>-1:na.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[na.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ya.test(e)?this.mouseHooks:Xa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new na.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||da),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||da,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===u()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(na.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return na.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=na.extend(new na.Event,c,{type:a,isSimulated:!0});na.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}},na.removeEvent=da.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},na.Event=function(a,b){return this instanceof na.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?s:t):this.type=a,b&&na.extend(this,b),this.timeStamp=a&&a.timeStamp||na.now(),void(this[na.expando]=!0)):new na.Event(a,b)},na.Event.prototype={constructor:na.Event,isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=s,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=s,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=s,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},na.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(a,b){na.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||na.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}})),la.submit||(na.event.special.submit={setup:function(){return!na.nodeName(this,"form")&&void na.event.add(this,"click._submit keypress._submit",(function(a){var b=a.target,c=na.nodeName(b,"input")||na.nodeName(b,"button")?na.prop(b,"form"):void 0;c&&!na._data(c,"submit")&&(na.event.add(c,"submit._submit",(function(a){a._submitBubble=!0})),na._data(c,"submit",!0))}))},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&na.event.simulate("submit",this.parentNode,a))},teardown:function(){return!na.nodeName(this,"form")&&void na.event.remove(this,"._submit")}}),la.change||(na.event.special.change={setup:function(){return Wa.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(na.event.add(this,"propertychange._change",(function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)})),na.event.add(this,"click._change",(function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),na.event.simulate("change",this,a)}))),!1):void na.event.add(this,"beforeactivate._change",(function(a){var b=a.target;Wa.test(b.nodeName)&&!na._data(b,"change")&&(na.event.add(b,"change._change",(function(a){!this.parentNode||a.isSimulated||a.isTrigger||na.event.simulate("change",this.parentNode,a)})),na._data(b,"change",!0))}))},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return na.event.remove(this,"._change"),!Wa.test(this.nodeName)}}),la.focusin||na.each({focus:"focusin",blur:"focusout"},(function(a,b){var c=function(a){na.event.simulate(b,a.target,na.event.fix(a))};na.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=na._data(d,b);e||d.addEventListener(a,c,!0),na._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=na._data(d,b)-1;e?na._data(d,b,e):(d.removeEventListener(a,c,!0),na._removeData(d,b))}}})),na.fn.extend({on:function(a,b,c,d){return v(this,a,b,c,d)},one:function(a,b,c,d){return v(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,na(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=t),this.each((function(){na.event.remove(this,a,c,b)}))},trigger:function(a,b){return this.each((function(){na.event.trigger(a,b,this)}))},triggerHandler:function(a,b){var c=this[0];if(c)return na.event.trigger(a,b,c,!0)}});var _a=/ jQuery\d+="(?:null|\d+)"/g,ab=new RegExp("<(?:"+Sa+")[\\s/>]","i"),bb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,cb=/<script|<style|<link/i,db=/checked\s*(?:[^=]|=\s*.checked.)/i,eb=/^true\/(.*)/,fb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gb=n(da),hb=gb.appendChild(da.createElement("div"));na.extend({htmlPrefilter:function(a){return a.replace(bb,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i=na.contains(a.ownerDocument,a);if(la.html5Clone||na.isXMLDoc(a)||!ab.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(hb.innerHTML=a.outerHTML,hb.removeChild(f=hb.firstChild)),!(la.noCloneEvent&&la.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||na.isXMLDoc(a)))for(d=o(f),h=o(a),g=0;null!=(e=h[g]);++g)d[g]&&A(e,d[g]);if(b)if(c)for(h=h||o(a),d=d||o(f),g=0;null!=(e=h[g]);g++)z(e,d[g]);else z(a,f);return d=o(f,"script"),d.length>0&&p(d,!i&&o(a,"script")),d=h=e=null,f},cleanData:function(a,b){for(var c,d,e,f,g=0,h=na.expando,i=na.cache,j=la.attributes,k=na.event.special;null!=(c=a[g]);g++)if((b||Ga(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?na.event.remove(c,d):na.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j||"undefined"==typeof c.removeAttribute?c[h]=void 0:c.removeAttribute(h),ca.push(e))}}}),na.fn.extend({domManip:B,detach:function(a){return C(this,a,!0)},remove:function(a){return C(this,a)},text:function(a){return Na(this,(function(a){return void 0===a?na.text(this):this.empty().append((this[0]&&this[0].ownerDocument||da).createTextNode(a))}),null,a,arguments.length)},append:function(){return B(this,arguments,(function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.appendChild(a)}}))},prepend:function(){return B(this,arguments,(function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.insertBefore(a,b.firstChild)}}))},before:function(){return B(this,arguments,(function(a){this.parentNode&&this.parentNode.insertBefore(a,this)}))},after:function(){return B(this,arguments,(function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)}))},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&na.cleanData(o(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&na.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map((function(){return na.clone(this,a,b)}))},html:function(a){return Na(this,(function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(_a,""):void 0;if("string"==typeof a&&!cb.test(a)&&(la.htmlSerialize||!ab.test(a))&&(la.leadingWhitespace||!Ra.test(a))&&!Ta[(Pa.exec(a)||["",""])[1].toLowerCase()]){a=na.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(na.cleanData(o(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)}),null,a,arguments.length)},replaceWith:function(){var a=[];return B(this,arguments,(function(b){var c=this.parentNode;na.inArray(this,a)<0&&(na.cleanData(o(this)),c&&c.replaceChild(b,this));
}),a)}}),na.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(a,b){na.fn[a]=function(a){for(var c,d=0,e=[],f=na(a),g=f.length-1;d<=g;d++)c=d===g?this:this.clone(!0),na(f[d])[b](c),ga.apply(e,c.get());return this.pushStack(e)}}));var ib,jb={HTML:"block",BODY:"block"},kb=/^margin/,lb=new RegExp("^("+Ja+")(?!px)[a-z%]+$","i"),mb=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},nb=da.documentElement;!(function(){function b(){var b,k,l=da.documentElement;l.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",c=e=h=!1,d=g=!0,a.getComputedStyle&&(k=a.getComputedStyle(j),c="1%"!==(k||{}).top,h="2px"===(k||{}).marginLeft,e="4px"===(k||{width:"4px"}).width,j.style.marginRight="50%",d="4px"===(k||{marginRight:"4px"}).marginRight,b=j.appendChild(da.createElement("div")),b.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",b.style.marginRight=b.style.width="0",j.style.width="1px",g=!parseFloat((a.getComputedStyle(b)||{}).marginRight),j.removeChild(b)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",j.childNodes[0].style.borderCollapse="separate",b=j.getElementsByTagName("td"),b[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===b[0].offsetHeight,f&&(b[0].style.display="",b[1].style.display="none",f=0===b[0].offsetHeight)),l.removeChild(i)}var c,d,e,f,g,h,i=da.createElement("div"),j=da.createElement("div");j.style&&(j.style.cssText="float:left;opacity:.5",la.opacity="0.5"===j.style.opacity,la.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",la.clearCloneStyle="content-box"===j.style.backgroundClip,i=da.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),la.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,na.extend(la,{reliableHiddenOffsets:function(){return null==c&&b(),f},boxSizingReliable:function(){return null==c&&b(),e},pixelMarginRight:function(){return null==c&&b(),d},pixelPosition:function(){return null==c&&b(),c},reliableMarginRight:function(){return null==c&&b(),g},reliableMarginLeft:function(){return null==c&&b(),h}}))})();var ob,pb,qb=/^(top|right|bottom|left)$/;a.getComputedStyle?(ob=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},pb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ob(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||na.contains(a.ownerDocument,a)||(g=na.style(a,b)),c&&!la.pixelMarginRight()&&lb.test(g)&&kb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+""}):nb.currentStyle&&(ob=function(a){return a.currentStyle},pb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ob(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),lb.test(g)&&!qb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});var rb=/alpha\([^)]*\)/i,sb=/opacity\s*=\s*([^)]*)/i,tb=/^(none|table(?!-c[ea]).+)/,ub=new RegExp("^("+Ja+")(.*)$","i"),vb={position:"absolute",visibility:"hidden",display:"block"},wb={letterSpacing:"0",fontWeight:"400"},xb=["Webkit","O","Moz","ms"],yb=da.createElement("div").style;na.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=pb(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":la.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=na.camelCase(b),i=a.style;if(b=na.cssProps[h]||(na.cssProps[h]=G(h)||h),g=na.cssHooks[b]||na.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Ka.exec(c))&&e[1]&&(c=m(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(na.cssNumber[h]?"":"px")),la.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=na.camelCase(b);return b=na.cssProps[h]||(na.cssProps[h]=G(h)||h),g=na.cssHooks[b]||na.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=pb(a,b,d)),"normal"===f&&b in wb&&(f=wb[b]),""===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f}}),na.each(["height","width"],(function(a,b){na.cssHooks[b]={get:function(a,c,d){if(c)return tb.test(na.css(a,"display"))&&0===a.offsetWidth?mb(a,vb,(function(){return K(a,b,d)})):K(a,b,d)},set:function(a,c,d){var e=d&&ob(a);return I(a,c,d?J(a,b,d,la.boxSizing&&"border-box"===na.css(a,"boxSizing",!1,e),e):0)}}})),la.opacity||(na.cssHooks.opacity={get:function(a,b){return sb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=na.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===na.trim(f.replace(rb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=rb.test(f)?f.replace(rb,e):f+" "+e)}}),na.cssHooks.marginRight=F(la.reliableMarginRight,(function(a,b){if(b)return mb(a,{display:"inline-block"},pb,[a,"marginRight"])})),na.cssHooks.marginLeft=F(la.reliableMarginLeft,(function(a,b){if(b)return(parseFloat(pb(a,"marginLeft"))||(na.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-mb(a,{marginLeft:0},(function(){return a.getBoundingClientRect().left})):0))+"px"})),na.each({margin:"",padding:"",border:"Width"},(function(a,b){na.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+La[d]+b]=f[d]||f[d-2]||f[0];return e}},kb.test(a)||(na.cssHooks[a+b].set=I)})),na.fn.extend({css:function(a,b){return Na(this,(function(a,b,c){var d,e,f={},g=0;if(na.isArray(b)){for(d=ob(a),e=b.length;g<e;g++)f[b[g]]=na.css(a,b[g],!1,d);return f}return void 0!==c?na.style(a,b,c):na.css(a,b)}),a,b,arguments.length>1)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each((function(){Ma(this)?na(this).show():na(this).hide()}))}}),na.Tween=L,L.prototype={constructor:L,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||na.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(na.cssNumber[c]?"":"px")},cur:function(){var a=L.propHooks[this.prop];return a&&a.get?a.get(this):L.propHooks._default.get(this)},run:function(a){var b,c=L.propHooks[this.prop];return this.options.duration?this.pos=b=na.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=na.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){na.fx.step[a.prop]?na.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[na.cssProps[a.prop]]&&!na.cssHooks[a.prop]?a.elem[a.prop]=a.now:na.style(a.elem,a.prop,a.now+a.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},na.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},na.fx=L.prototype.init,na.fx.step={};var zb,Ab,Bb=/^(?:toggle|show|hide)$/,Cb=/queueHooks$/;na.Animation=na.extend(R,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return m(c.elem,a,Ka.exec(b),c),c}]},tweener:function(a,b){na.isFunction(a)?(b=a,a=["*"]):a=a.match(Da);for(var c,d=0,e=a.length;d<e;d++)c=a[d],R.tweeners[c]=R.tweeners[c]||[],R.tweeners[c].unshift(b)},prefilters:[P],prefilter:function(a,b){b?R.prefilters.unshift(a):R.prefilters.push(a)}}),na.speed=function(a,b,c){var d=a&&"object"==typeof a?na.extend({},a):{complete:c||!c&&b||na.isFunction(a)&&a,duration:a,easing:c&&b||b&&!na.isFunction(b)&&b};return d.duration=na.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in na.fx.speeds?na.fx.speeds[d.duration]:na.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){na.isFunction(d.old)&&d.old.call(this),d.queue&&na.dequeue(this,d.queue)},d},na.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ma).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=na.isEmptyObject(a),f=na.speed(b,c,d),g=function(){var b=R(this,na.extend({},a),f);(e||na._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each((function(){var b=!0,e=null!=a&&a+"queueHooks",f=na.timers,g=na._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||na.dequeue(this,a)}))},finish:function(a){return a!==!1&&(a=a||"fx"),this.each((function(){var b,c=na._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=na.timers,g=d?d.length:0;for(c.finish=!0,na.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish}))}}),na.each(["toggle","show","hide"],(function(a,b){var c=na.fn[b];na.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,d,e)}})),na.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(a,b){na.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}})),na.timers=[],na.fx.tick=function(){var a,b=na.timers,c=0;for(zb=na.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||na.fx.stop(),zb=void 0},na.fx.timer=function(a){na.timers.push(a),a()?na.fx.start():na.timers.pop()},na.fx.interval=13,na.fx.start=function(){Ab||(Ab=a.setInterval(na.fx.tick,na.fx.interval))},na.fx.stop=function(){a.clearInterval(Ab),Ab=null},na.fx.speeds={slow:600,fast:200,_default:400},na.fn.delay=function(b,c){return b=na.fx?na.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,(function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}}))},(function(){var a,b=da.createElement("input"),c=da.createElement("div"),d=da.createElement("select"),e=d.appendChild(da.createElement("option"));c=da.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",la.getSetAttribute="t"!==c.className,la.style=/top/.test(a.getAttribute("style")),la.hrefNormalized="/a"===a.getAttribute("href"),la.checkOn=!!b.value,la.optSelected=e.selected,la.enctype=!!da.createElement("form").enctype,d.disabled=!0,la.optDisabled=!e.disabled,b=da.createElement("input"),b.setAttribute("value",""),la.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),la.radioValue="t"===b.value})();var Db=/\r/g,Eb=/[\x20\t\r\n\f]+/g;na.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=na.isFunction(a),this.each((function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,na(this).val()):a,null==e?e="":"number"==typeof e?e+="":na.isArray(e)&&(e=na.map(e,(function(a){return null==a?"":a+""}))),b=na.valHooks[this.type]||na.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))}));if(e)return b=na.valHooks[e.type]||na.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(Db,""):null==c?"":c)}}}),na.extend({valHooks:{option:{get:function(a){var b=na.find.attr(a,"value");return null!=b?b:na.trim(na.text(a)).replace(Eb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(la.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!na.nodeName(c.parentNode,"optgroup"))){if(b=na(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=na.makeArray(b),g=e.length;g--;)if(d=e[g],na.inArray(na.valHooks.option.get(d),f)>-1)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),na.each(["radio","checkbox"],(function(){na.valHooks[this]={set:function(a,b){if(na.isArray(b))return a.checked=na.inArray(na(a).val(),b)>-1}},la.checkOn||(na.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}));var Fb,Gb,Hb=na.expr.attrHandle,Ib=/^(?:checked|selected)$/i,Jb=la.getSetAttribute,Kb=la.input;na.fn.extend({attr:function(a,b){return Na(this,na.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each((function(){na.removeAttr(this,a)}))}}),na.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?na.prop(a,b,c):(1===f&&na.isXMLDoc(a)||(b=b.toLowerCase(),e=na.attrHooks[b]||(na.expr.match.bool.test(b)?Gb:Fb)),void 0!==c?null===c?void na.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=na.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!la.radioValue&&"radio"===b&&na.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(Da);if(f&&1===a.nodeType)for(;c=f[e++];)d=na.propFix[c]||c,na.expr.match.bool.test(c)?Kb&&Jb||!Ib.test(c)?a[d]=!1:a[na.camelCase("default-"+c)]=a[d]=!1:na.attr(a,c,""),a.removeAttribute(Jb?c:d)}}),Gb={set:function(a,b,c){return b===!1?na.removeAttr(a,c):Kb&&Jb||!Ib.test(c)?a.setAttribute(!Jb&&na.propFix[c]||c,c):a[na.camelCase("default-"+c)]=a[c]=!0,c}},na.each(na.expr.match.bool.source.match(/\w+/g),(function(a,b){var c=Hb[b]||na.find.attr;Kb&&Jb||!Ib.test(b)?Hb[b]=function(a,b,d){var e,f;return d||(f=Hb[b],Hb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,Hb[b]=f),e}:Hb[b]=function(a,b,c){if(!c)return a[na.camelCase("default-"+b)]?b.toLowerCase():null}})),Kb&&Jb||(na.attrHooks.value={set:function(a,b,c){return na.nodeName(a,"input")?void(a.defaultValue=b):Fb&&Fb.set(a,b,c)}}),Jb||(Fb={set:function(a,b,c){var d=a.getAttributeNode(c);if(d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c))return b}},Hb.id=Hb.name=Hb.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},na.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:Fb.set},na.attrHooks.contenteditable={set:function(a,b,c){Fb.set(a,""!==b&&b,c)}},na.each(["width","height"],(function(a,b){na.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}}))),la.style||(na.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Lb=/^(?:input|select|textarea|button|object)$/i,Mb=/^(?:a|area)$/i;na.fn.extend({prop:function(a,b){return Na(this,na.prop,a,b,arguments.length>1)},removeProp:function(a){return a=na.propFix[a]||a,this.each((function(){try{this[a]=void 0,delete this[a]}catch(b){}}))}}),na.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&na.isXMLDoc(a)||(b=na.propFix[b]||b,e=na.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=na.find.attr(a,"tabindex");return b?parseInt(b,10):Lb.test(a.nodeName)||Mb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),la.hrefNormalized||na.each(["href","src"],(function(a,b){na.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}})),la.optSelected||(na.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),na.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){na.propFix[this.toLowerCase()]=this})),la.enctype||(na.propFix.enctype="encoding");var Nb=/[\t\r\n\f]/g;na.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(na.isFunction(a))return this.each((function(b){na(this).addClass(a.call(this,b,S(this)))}));if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[i++];)if(e=S(c),d=1===c.nodeType&&(" "+e+" ").replace(Nb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=na.trim(d),e!==h&&na.attr(c,"class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(na.isFunction(a))return this.each((function(b){na(this).removeClass(a.call(this,b,S(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[i++];)if(e=S(c),d=1===c.nodeType&&(" "+e+" ").replace(Nb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=na.trim(d),e!==h&&na.attr(c,"class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):na.isFunction(a)?this.each((function(c){na(this).toggleClass(a.call(this,c,S(this),b),b)})):this.each((function(){var b,d,e,f;if("string"===c)for(d=0,e=na(this),f=a.match(Da)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=S(this),b&&na._data(this,"__className__",b),na.attr(this,"class",b||a===!1?"":na._data(this,"__className__")||""))}))},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+S(c)+" ").replace(Nb," ").indexOf(b)>-1)return!0;return!1}}),na.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(a,b){na.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}})),na.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Ob=a.location,Pb=na.now(),Qb=/\?/,Rb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;na.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=na.trim(b+"");return e&&!na.trim(e.replace(Rb,(function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")})))?Function("return "+e)():na.error("Invalid JSON: "+b)},na.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser,c=d.parseFromString(b,"text/xml")):(c=new a.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||na.error("Invalid XML: "+b),c};var Sb=/#.*$/,Tb=/([?&])_=[^&]*/,Ub=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Vb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Wb=/^(?:GET|HEAD)$/,Xb=/^\/\//,Yb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Zb={},$b={},_b="*/".concat("*"),ac=Ob.href,bc=Yb.exec(ac.toLowerCase())||[];na.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ac,type:"GET",isLocal:Vb.test(bc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_b,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":na.parseJSON,"text xml":na.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?V(V(a,na.ajaxSettings),b):V(na.ajaxSettings,a)},ajaxPrefilter:T(Zb),ajaxTransport:T($b),ajax:function(b,c){function d(b,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&a.clearTimeout(i),k=void 0,h=e||"",w.readyState=b>0?4:0,f=b>=200&&b<300||304===b,d&&(t=W(m,w,d)),t=X(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(na.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(na.etag[g]=v)),204===b||"HEAD"===m.type?x="nocontent":304===b?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,!b&&x||(x="error",b<0&&(b=0))),w.status=b,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--na.active||na.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=na.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?na(n):na.event,p=na.Deferred(),q=na.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Ub.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((b||m.url||ac)+"").replace(Sb,"").replace(Xb,bc[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=na.trim(m.dataType||"*").toLowerCase().match(Da)||[""],null==m.crossDomain&&(e=Yb.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===bc[1]&&e[2]===bc[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(bc[3]||("http:"===bc[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=na.param(m.data,m.traditional)),U(Zb,m,c,w),2===u)return w;j=na.event&&m.global,j&&0===na.active++&&na.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Wb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Qb.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Tb.test(g)?g.replace(Tb,"$1_="+Pb++):g+(Qb.test(g)?"&":"?")+"_="+Pb++)),m.ifModified&&(na.lastModified[g]&&w.setRequestHeader("If-Modified-Since",na.lastModified[g]),na.etag[g]&&w.setRequestHeader("If-None-Match",na.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+_b+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=U($b,m,c,w)){if(w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=a.setTimeout((function(){w.abort("timeout")}),m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(u<2))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return na.get(a,b,c,"json")},getScript:function(a,b){return na.get(a,void 0,b,"script")}}),na.each(["get","post"],(function(a,b){na[b]=function(a,c,d,e){return na.isFunction(c)&&(e=e||d,d=c,c=void 0),na.ajax(na.extend({url:a,type:b,dataType:e,data:c,success:d},na.isPlainObject(a)&&a))}})),na._evalUrl=function(a){return na.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},na.fn.extend({wrapAll:function(a){if(na.isFunction(a))return this.each((function(b){na(this).wrapAll(a.call(this,b))}));if(this[0]){var b=na(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map((function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a})).append(this)}return this},wrapInner:function(a){return na.isFunction(a)?this.each((function(b){na(this).wrapInner(a.call(this,b))})):this.each((function(){var b=na(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)}))},wrap:function(a){var b=na.isFunction(a);return this.each((function(c){na(this).wrapAll(b?a.call(this,c):a)}))},unwrap:function(){return this.parent().each((function(){na.nodeName(this,"body")||na(this).replaceWith(this.childNodes)})).end()}}),na.expr.filters.hidden=function(a){return la.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:Z(a)},na.expr.filters.visible=function(a){return!na.expr.filters.hidden(a)};var cc=/%20/g,dc=/\[\]$/,ec=/\r?\n/g,fc=/^(?:submit|button|image|reset|file)$/i,gc=/^(?:input|select|textarea|keygen)/i;na.param=function(a,b){var c,d=[],e=function(a,b){b=na.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=na.ajaxSettings&&na.ajaxSettings.traditional),na.isArray(a)||a.jquery&&!na.isPlainObject(a))na.each(a,(function(){e(this.name,this.value)}));else for(c in a)$(c,a[c],b,e);return d.join("&").replace(cc,"+")},na.fn.extend({serialize:function(){return na.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var a=na.prop(this,"elements");return a?na.makeArray(a):this})).filter((function(){var a=this.type;return this.name&&!na(this).is(":disabled")&&gc.test(this.nodeName)&&!fc.test(a)&&(this.checked||!Oa.test(a))})).map((function(a,b){var c=na(this).val();return null==c?null:na.isArray(c)?na.map(c,(function(a){return{name:b.name,value:a.replace(ec,"\r\n")}})):{name:b.name,value:c.replace(ec,"\r\n")}})).get()}}),na.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?aa():da.documentMode>8?_():/^(get|post|head|put|delete|options)$/i.test(this.type)&&_()||aa()}:_;var hc=0,ic={},jc=na.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",(function(){for(var a in ic)ic[a](void 0,!0)})),la.cors=!!jc&&"withCredentials"in jc,jc=la.ajax=!!jc,jc&&na.ajaxTransport((function(b){if(!b.crossDomain||la.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++hc;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(b.hasContent&&b.data||null),c=function(a,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete ic[h],c=void 0,g.onreadystatechange=na.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText}catch(k){i=""}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=j.text?200:404}j&&e(f,i,j,g.getAllResponseHeaders())},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=ic[h]=c:c()},abort:function(){c&&c(void 0,!0)}}}})),na.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return na.globalEval(a),a}}}),na.ajaxPrefilter("script",(function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)})),na.ajaxTransport("script",(function(a){if(a.crossDomain){var b,c=da.head||na("head")[0]||da.documentElement;return{send:function(d,e){b=da.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}}));var kc=[],lc=/(=)\?(?=&|$)|\?\?/;na.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=kc.pop()||na.expando+"_"+Pb++;return this[a]=!0,a}}),na.ajaxPrefilter("json jsonp",(function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(lc.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&lc.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=na.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(lc,"$1"+e):b.jsonp!==!1&&(b.url+=(Qb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||na.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always((function(){void 0===f?na(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,kc.push(e)),g&&na.isFunction(f)&&f(g[0]),g=f=void 0})),"script"})),na.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||da;var d=wa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=r([a],b,e),e&&e.length&&na(e).remove(),na.merge([],d.childNodes))};var mc=na.fn.load;na.fn.load=function(a,b,c){if("string"!=typeof a&&mc)return mc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=na.trim(a.slice(h,a.length)),a=a.slice(0,h)),na.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&na.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done((function(a){f=arguments,g.html(d?na("<div>").append(na.parseHTML(a)).find(d):a)})).always(c&&function(a,b){g.each((function(){c.apply(this,f||[a.responseText,b,a])}))}),this},na.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(a,b){na.fn[b]=function(a){return this.on(b,a)}})),na.expr.filters.animated=function(a){return na.grep(na.timers,(function(b){return a===b.elem})).length},na.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=na.css(a,"position"),l=na(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=na.css(a,"top"),i=na.css(a,"left"),j=("absolute"===k||"fixed"===k)&&na.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),na.isFunction(b)&&(b=b.call(a,c,na.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},na.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each((function(b){na.offset.setOffset(this,a,b)}));var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,na.contains(b,e)?("undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=ba(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===na.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),na.nodeName(a[0],"html")||(c=a.offset()),c.top+=na.css(a[0],"borderTopWidth",!0),c.left+=na.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-na.css(d,"marginTop",!0),left:b.left-c.left-na.css(d,"marginLeft",!0)}}},offsetParent:function(){
return this.map((function(){for(var a=this.offsetParent;a&&!na.nodeName(a,"html")&&"static"===na.css(a,"position");)a=a.offsetParent;return a||nb}))}}),na.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(a,b){var c=/Y/.test(b);na.fn[a]=function(d){return Na(this,(function(a,d,e){var f=ba(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?na(f).scrollLeft():e,c?e:na(f).scrollTop()):a[d]=e)}),a,d,arguments.length,null)}})),na.each(["top","left"],(function(a,b){na.cssHooks[b]=F(la.pixelPosition,(function(a,c){if(c)return c=pb(a,b),lb.test(c)?na(a).position()[b]+"px":c}))})),na.each({Height:"height",Width:"width"},(function(a,b){na.each({padding:"inner"+a,content:b,"":"outer"+a},(function(c,d){na.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Na(this,(function(b,c,d){var e;return na.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?na.css(b,c,g):na.style(b,c,d,g)}),b,f?d:void 0,f,null)}}))})),na.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),na.fn.size=function(){return this.length},na.fn.andSelf=na.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return na}));var nc=a.jQuery,oc=a.$;return na.noConflict=function(b){return a.$===na&&(a.$=oc),b&&a.jQuery===na&&(a.jQuery=nc),na},b||(a.jQuery=a.$=na),na})),(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})((function(a){function b(a){for(var b=a.css("visibility");"inherit"===b;)a=a.parent(),b=a.css("visibility");return"hidden"!==b}function c(a){for(var b,c;a.length&&a[0]!==document;){if(b=a.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c))return c;a=a.parent()}return 0}function d(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.regional.en=a.extend(!0,{},this.regional[""]),this.regional["en-US"]=a.extend(!0,{},this.regional.en),this.dpDiv=e(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function e(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.on("mouseout",c,(function(){a(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",c,f)}function f(){a.datepicker._isDisabledDatepicker(q.inline?q.dpDiv.parent()[0]:q.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).addClass("ui-datepicker-next-hover"))}function g(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}function h(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.ui=a.ui||{};var i=(a.ui.version="1.12.1",0),j=Array.prototype.slice;a.cleanData=(function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}})(a.cleanData),a.widget=function(b,c,d){var e,f,g,h={},i=b.split(".")[0];b=b.split(".")[1];var j=i+"-"+b;return d||(d=c,c=a.Widget),a.isArray(d)&&(d=a.extend.apply(null,[{}].concat(d))),a.expr[":"][j.toLowerCase()]=function(b){return!!a.data(b,j)},a[i]=a[i]||{},e=a[i][b],f=a[i][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new f(a,b)},a.extend(f,e,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),g=new c,g.options=a.widget.extend({},g.options),a.each(d,(function(b,d){return a.isFunction(d)?void(h[b]=(function(){function a(){return c.prototype[b].apply(this,arguments)}function e(a){return c.prototype[b].apply(this,a)}return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}})()):void(h[b]=d)})),f.prototype=a.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||b:b},h,{constructor:f,namespace:i,widgetName:b,widgetFullName:j}),e?(a.each(e._childConstructors,(function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,f,c._proto)})),delete e._childConstructors):c._childConstructors.push(f),a.widget.bridge(b,f),f},a.widget.extend=function(b){for(var c,d,e=j.call(arguments,1),f=0,g=e.length;f<g;f++)for(c in e[f])d=e[f][c],e[f].hasOwnProperty(c)&&void 0!==d&&(a.isPlainObject(d)?b[c]=a.isPlainObject(b[c])?a.widget.extend({},b[c],d):a.widget.extend({},d):b[c]=d);return b},a.widget.bridge=function(b,c){var d=c.prototype.widgetFullName||b;a.fn[b]=function(e){var f="string"==typeof e,g=j.call(arguments,1),h=this;return f?this.length||"instance"!==e?this.each((function(){var c,f=a.data(this,d);return"instance"===e?(h=f,!1):f?a.isFunction(f[e])&&"_"!==e.charAt(0)?(c=f[e].apply(f,g),c!==f&&void 0!==c?(h=c&&c.jquery?h.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+e+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+e+"'")})):h=void 0:(g.length&&(e=a.widget.extend.apply(null,[e].concat(g))),this.each((function(){var b=a.data(this,d);b?(b.option(e||{}),b._init&&b._init()):a.data(this,d,new c(e,this))}))),h}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0],this.element=a(c),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),this.classesElementLookup={},c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var b=this;this._destroy(),a.each(this.classesElementLookup,(function(a,c){b._removeClass(c,a)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return"classes"===a&&this._setOptionClasses(b),this.options[a]=b,"disabled"===a&&this._setOptionDisabled(b),this},_setOptionClasses:function(b){var c,d,e;for(c in b)e=this.classesElementLookup[c],b[c]!==this.options.classes[c]&&e&&e.length&&(d=a(e.get()),this._removeClass(e,c),d.addClass(this._classes({element:d,keys:c,classes:b,add:!0})))},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a),a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(b){function c(c,f){var g,h;for(h=0;h<c.length;h++)g=e.classesElementLookup[c[h]]||a(),g=a(b.add?a.unique(g.get().concat(b.element.get())):g.not(b.element).get()),e.classesElementLookup[c[h]]=g,d.push(c[h]),f&&b.classes[c[h]]&&d.push(b.classes[c[h]])}var d=[],e=this;return b=a.extend({element:this.element,classes:this.options.classes||{}},b),this._on(b.element,{remove:"_untrackClassesElement"}),b.keys&&c(b.keys.match(/\S+/g)||[],!0),b.extra&&c(b.extra.match(/\S+/g)||[]),d.join(" ")},_untrackClassesElement:function(b){var c=this;a.each(c.classesElementLookup,(function(d,e){a.inArray(b.target,e)!==-1&&(c.classesElementLookup[d]=a(e.not(b.target).get()))}))},_removeClass:function(a,b,c){return this._toggleClass(a,b,c,!1)},_addClass:function(a,b,c){return this._toggleClass(a,b,c,!0)},_toggleClass:function(a,b,c,d){d="boolean"==typeof d?d:c;var e="string"==typeof a||null===a,f={extra:e?b:c,keys:e?a:b,element:e?this.element:a,add:d};return f.element.toggleClass(this._classes(f),d),this},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,(function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.on(j,k,h):c.on(j,h)}))},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.off(c).off(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){this._addClass(a(b.currentTarget),null,"ui-state-hover")},mouseleave:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){this._addClass(a(b.currentTarget),null,"ui-state-focus")},focusout:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},(function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue((function(c){a(this)[b](),f&&f.call(d[0]),c()}))}}));a.widget;!(function(){function b(a,b,c){return[parseFloat(a[0])*(l.test(a[0])?b/100:1),parseFloat(a[1])*(l.test(a[1])?c/100:1)]}function c(b,c){return parseInt(a.css(b,c),10)||0}function d(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}var e,f=Math.max,g=Math.abs,h=/left|center|right/,i=/top|center|bottom/,j=/[\+\-]\d+(\.[\d]+)?%?/,k=/^\w+/,l=/%$/,m=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==e)return e;var b,c,d=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=d.children()[0];return a("body").append(d),b=f.offsetWidth,d.css("overflow","scroll"),c=f.offsetWidth,b===c&&(c=d[0].clientWidth),d.remove(),e=b-c},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType,f=!d&&!e;return{element:c,isWindow:d,isDocument:e,offset:f?a(b).offset():{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:c.outerWidth(),height:c.outerHeight()}}},a.fn.position=function(e){if(!e||!e.of)return m.apply(this,arguments);e=a.extend({},e);var l,n,o,p,q,r,s=a(e.of),t=a.position.getWithinInfo(e.within),u=a.position.getScrollInfo(t),v=(e.collision||"flip").split(" "),w={};return r=d(s),s[0].preventDefault&&(e.at="left top"),n=r.width,o=r.height,p=r.offset,q=a.extend({},p),a.each(["my","at"],(function(){var a,b,c=(e[this]||"").split(" ");1===c.length&&(c=h.test(c[0])?c.concat(["center"]):i.test(c[0])?["center"].concat(c):["center","center"]),c[0]=h.test(c[0])?c[0]:"center",c[1]=i.test(c[1])?c[1]:"center",a=j.exec(c[0]),b=j.exec(c[1]),w[this]=[a?a[0]:0,b?b[0]:0],e[this]=[k.exec(c[0])[0],k.exec(c[1])[0]]})),1===v.length&&(v[1]=v[0]),"right"===e.at[0]?q.left+=n:"center"===e.at[0]&&(q.left+=n/2),"bottom"===e.at[1]?q.top+=o:"center"===e.at[1]&&(q.top+=o/2),l=b(w.at,n,o),q.left+=l[0],q.top+=l[1],this.each((function(){var d,h,i=a(this),j=i.outerWidth(),k=i.outerHeight(),m=c(this,"marginLeft"),r=c(this,"marginTop"),x=j+m+c(this,"marginRight")+u.width,y=k+r+c(this,"marginBottom")+u.height,z=a.extend({},q),A=b(w.my,i.outerWidth(),i.outerHeight());"right"===e.my[0]?z.left-=j:"center"===e.my[0]&&(z.left-=j/2),"bottom"===e.my[1]?z.top-=k:"center"===e.my[1]&&(z.top-=k/2),z.left+=A[0],z.top+=A[1],d={marginLeft:m,marginTop:r},a.each(["left","top"],(function(b,c){a.ui.position[v[b]]&&a.ui.position[v[b]][c](z,{targetWidth:n,targetHeight:o,elemWidth:j,elemHeight:k,collisionPosition:d,collisionWidth:x,collisionHeight:y,offset:[l[0]+A[0],l[1]+A[1]],my:e.my,at:e.at,within:t,elem:i})})),e.using&&(h=function(a){var b=p.left-z.left,c=b+n-j,d=p.top-z.top,h=d+o-k,l={target:{element:s,left:p.left,top:p.top,width:n,height:o},element:{element:i,left:z.left,top:z.top,width:j,height:k},horizontal:c<0?"left":b>0?"right":"center",vertical:h<0?"top":d>0?"bottom":"middle"};n<j&&g(b+c)<n&&(l.horizontal="center"),o<k&&g(d+h)<o&&(l.vertical="middle"),f(g(b),g(c))>f(g(d),g(h))?l.important="horizontal":l.important="vertical",e.using.call(this,a,l)}),i.offset(a.extend(z,{using:h}))}))},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,g=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-g-e;b.collisionWidth>g?i>0&&j<=0?(c=a.left+i+b.collisionWidth-g-e,a.left+=i-c):j>0&&i<=0?a.left=e:i>j?a.left=e+g-b.collisionWidth:a.left=e:i>0?a.left+=i:j>0?a.left-=j:a.left=f(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-g-e;b.collisionHeight>g?i>0&&j<=0?(c=a.top+i+b.collisionHeight-g-e,a.top+=i-c):j>0&&i<=0?a.top=e:i>j?a.top=e+g-b.collisionHeight:a.top=e:i>0?a.top+=i:j>0?a.top-=j:a.top=f(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,h=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-h-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];k<0?(c=a.left+m+n+o+b.collisionWidth-h-f,(c<0||c<g(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||g(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,h=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-h-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];k<0?(d=a.top+n+o+p+b.collisionHeight-h-f,(d<0||d<g(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,(c>0||g(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}}})();var k=(a.ui.position,a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo((function(b){return function(c){return!!a.data(c,b)}})):function(b,c,d){return!!a.data(b,d[3])}}),a.fn.extend({disableSelection:(function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(a+".ui-disableSelection",(function(a){a.preventDefault()}))}})(),enableSelection:function(){return this.off(".ui-disableSelection")}}),"ui-effects-"),l="ui-effects-style",m="ui-effects-animated",n=a;a.effects={effect:{}},(function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,(function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";if(h)return f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1})),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,(function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}})),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,(function(a,b){n[b.idx]=c(e[b.idx],b)})),this):"object"===m?(e instanceof j?o(k,(function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())})):o(k,(function(b,d){var f=d.cache;o(d.props,(function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)})),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))})),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,(function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,(function(a,b){if(null!=g[b.idx])return c=g[b.idx]===f[b.idx]}))),c})),c},_space:function(){var a=[],b=this;return o(k,(function(c,d){b[d.cache]&&a.push(c)})),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,(function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))})),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,(function(a,b){return(1-d)*e[b]+d*a})))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,(function(a,b){return null==a?b>2?1:0:a}));return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),(function(a,b){return null==a&&(a=b>2?1:0),b&&b<3&&(a=Math.round(100*a)+"%"),a}));return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,(function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:l<=.5?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=d<=.5?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,(function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,(function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)})),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,(function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})}))})),j.hook=function(b){var c=b.split(" ");o(c,(function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}}))},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],(function(c,d){b["border"+d+"Color"]=a})),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(n),(function(){function b(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function c(b,c){var d,f,g={};for(d in c)f=c[d],b[d]!==f&&(e[d]||!a.fx.step[d]&&isNaN(parseFloat(f))||(g[d]=f));return g}var d=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(n.style(a.elem,c,a.end),a.setAttr=!0)}})),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(e,f,g,h){var i=a.speed(f,g,h);return this.queue((function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map((function(){var c=a(this);return{el:c,start:b(this)}})),f=function(){a.each(d,(function(a,b){e[b]&&g[b+"Class"](e[b])}))},f(),j=j.map((function(){return this.end=b(this.el[0]),this.diff=c(this.start,this.end),this})),g.attr("class",h),j=j.map((function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()})),a.when.apply(a,j.get()).done((function(){f(),a.each(arguments,(function(){var b=this.el;a.each(this.diff,(function(a){b.css(a,"")}))})),i.complete.call(g[0])}))}))},a.fn.extend({addClass:(function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}})(a.fn.addClass),removeClass:(function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}})(a.fn.removeClass),toggleClass:(function(b){return function(c,d,e,f,g){return"boolean"==typeof d||void 0===d?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,e,f)}})(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})})(),(function(){function b(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function c(b){return!(b&&"number"!=typeof b&&!a.fx.speeds[b])||("string"==typeof b&&!a.effects.effect[b]||(!!a.isFunction(b)||"object"==typeof b&&!b.effect))}function d(a,b){var c=b.outerWidth(),d=b.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,f=e.exec(a)||["",0,c,d,0];return{top:parseFloat(f[1])||0,right:"auto"===f[2]?c:parseFloat(f[2]),bottom:"auto"===f[3]?d:parseFloat(f[3]),left:parseFloat(f[4])||0}}a.expr&&a.expr.filters&&a.expr.filters.animated&&(a.expr.filters.animated=(function(b){return function(c){return!!a(c).data(m)||b(c)}})(a.expr.filters.animated)),a.uiBackCompat!==!1&&a.extend(a.effects,{save:function(a,b){for(var c=0,d=b.length;c<d;c++)null!==b[c]&&a.data(k+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c,d=0,e=b.length;d<e;d++)null!==b[d]&&(c=a.data(k+b[d]),a.css(b[d],c))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).trigger("focus"),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],(function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")})),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).trigger("focus")),b}}),a.extend(a.effects,{version:"1.12.1",define:function(b,c,d){return d||(d=c,c="effect"),a.effects.effect[b]=d,a.effects.effect[b].mode=c,d},scaledDimensions:function(a,b,c){if(0===b)return{height:0,width:0,outerHeight:0,outerWidth:0};var d="horizontal"!==c?(b||100)/100:1,e="vertical"!==c?(b||100)/100:1;return{height:a.height()*e,width:a.width()*d,outerHeight:a.outerHeight()*e,outerWidth:a.outerWidth()*d}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,c){var d=a.queue();b>1&&d.splice.apply(d,[1,0].concat(d.splice(b,c))),a.dequeue()},saveStyle:function(a){a.data(l,a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data(l)||"",a.removeData(l)},mode:function(a,b){var c=a.is(":hidden");return"toggle"===b&&(b=c?"show":"hide"),(c?"hide"===b:"show"===b)&&(b="none"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createPlaceholder:function(b){var c,d=b.css("position"),e=b.position();return b.css({marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()),/^(static|relative)/.test(d)&&(d="absolute",
c=a("<"+b[0].nodeName+">").insertAfter(b).css({display:/^(inline|ruby)/.test(b.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight"),"float":b.css("float")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).addClass("ui-effects-placeholder"),b.data(k+"placeholder",c)),b.css({position:d,left:e.left,top:e.top}),c},removePlaceholder:function(a){var b=k+"placeholder",c=a.data(b);c&&(c.remove(),a.removeData(b))},cleanUp:function(b){a.effects.restoreStyle(b),a.effects.removePlaceholder(b)},setTransition:function(b,c,d,e){return e=e||{},a.each(c,(function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])})),e}}),a.fn.extend({effect:function(){function c(b){function c(){h.removeData(m),a.effects.cleanUp(h),"hide"===d.mode&&h.hide(),g()}function g(){a.isFunction(i)&&i.call(h[0]),a.isFunction(b)&&b()}var h=a(this);d.mode=k.shift(),a.uiBackCompat===!1||f?"none"===d.mode?(h[j](),g()):e.call(h[0],d,c):(h.is(":hidden")?"hide"===j:"show"===j)?(h[j](),g()):e.call(h[0],d,g)}var d=b.apply(this,arguments),e=a.effects.effect[d.effect],f=e.mode,g=d.queue,h=g||"fx",i=d.complete,j=d.mode,k=[],l=function(b){var c=a(this),d=a.effects.mode(c,j)||f;c.data(m,!0),k.push(d),f&&("show"===d||d===f&&"hide"===d)&&c.show(),f&&"none"===d||a.effects.saveStyle(c),a.isFunction(b)&&b()};return a.fx.off||!e?j?this[j](d.duration,i):this.each((function(){i&&i.call(this)})):g===!1?this.each(l).each(c):this.queue(h,l).queue(h,c)},show:(function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}})(a.fn.show),hide:(function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}})(a.fn.hide),toggle:(function(a){return function(d){if(c(d)||"boolean"==typeof d)return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}})(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],(function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])})),d},cssClip:function(a){return a?this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"):d(this.css("clip"),this)},transfer:function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,(function(){m.remove(),a.isFunction(c)&&c()}))}}),a.fx.step.clip=function(b){b.clipInit||(b.start=a(b.elem).cssClip(),"string"==typeof b.end&&(b.end=d(b.end,b.elem)),b.clipInit=!0),a(b.elem).cssClip({top:b.pos*(b.end.top-b.start.top)+b.start.top,right:b.pos*(b.end.right-b.start.right)+b.start.right,bottom:b.pos*(b.end.bottom-b.start.bottom)+b.start.bottom,left:b.pos*(b.end.left-b.start.left)+b.start.left})}})(),(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],(function(a,c){b[c]=function(b){return Math.pow(b,a+2)}})),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,(function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return a<.5?c(2*a)/2:1-c(a*-2+2)/2}}))})();var o,o=a.effects;a.effects.define("blind","hide",(function(b,c){var d={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},e=a(this),f=b.direction||"up",g=e.cssClip(),h={clip:a.extend({},g)},i=a.effects.createPlaceholder(e);h.clip[d[f][0]]=h.clip[d[f][1]],"show"===b.mode&&(e.cssClip(h.clip),i&&i.css(a.effects.clipToBox(h)),h.clip=g),i&&i.animate(a.effects.clipToBox(h),b.duration,b.easing),e.animate(h,{queue:!1,duration:b.duration,easing:b.easing,complete:c})})),a.effects.define("bounce",(function(b,c){var d,e,f,g=a(this),h=b.mode,i="hide"===h,j="show"===h,k=b.direction||"up",l=b.distance,m=b.times||5,n=2*m+(j||i?1:0),o=b.duration/n,p=b.easing,q="up"===k||"down"===k?"top":"left",r="up"===k||"left"===k,s=0,t=g.queue().length;for(a.effects.createPlaceholder(g),f=g.css(q),l||(l=g["top"===q?"outerHeight":"outerWidth"]()/3),j&&(e={opacity:1},e[q]=f,g.css("opacity",0).css(q,r?2*-l:2*l).animate(e,o,p)),i&&(l/=Math.pow(2,m-1)),e={},e[q]=f;s<m;s++)d={},d[q]=(r?"-=":"+=")+l,g.animate(d,o,p).animate(e,o,p),l=i?2*l:l/2;i&&(d={opacity:0},d[q]=(r?"-=":"+=")+l,g.animate(d,o,p)),g.queue(c),a.effects.unshift(g,t,n+1)})),a.effects.define("clip","hide",(function(b,c){var d,e={},f=a(this),g=b.direction||"vertical",h="both"===g,i=h||"horizontal"===g,j=h||"vertical"===g;d=f.cssClip(),e.clip={top:j?(d.bottom-d.top)/2:d.top,right:i?(d.right-d.left)/2:d.right,bottom:j?(d.bottom-d.top)/2:d.bottom,left:i?(d.right-d.left)/2:d.left},a.effects.createPlaceholder(f),"show"===b.mode&&(f.cssClip(e.clip),e.clip=d),f.animate(e,{queue:!1,duration:b.duration,easing:b.easing,complete:c})})),a.effects.define("drop","hide",(function(b,c){var d,e=a(this),f=b.mode,g="show"===f,h=b.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h?"-=":"+=",k="+="===j?"-=":"+=",l={opacity:0};a.effects.createPlaceholder(e),d=b.distance||e["top"===i?"outerHeight":"outerWidth"](!0)/2,l[i]=j+d,g&&(e.css(l),l[i]=k+d,l.opacity=1),e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:c})})),a.effects.define("explode","hide",(function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=b.mode,p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;f<l;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;g<m;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)})),a.effects.define("fade","toggle",(function(b,c){var d="show"===b.mode;a(this).css("opacity",d?0:1).animate({opacity:d?1:0},{queue:!1,duration:b.duration,easing:b.easing,complete:c})})),a.effects.define("fold","hide",(function(b,c){var d=a(this),e=b.mode,f="show"===e,g="hide"===e,h=b.size||15,i=/([0-9]+)%/.exec(h),j=!!b.horizFirst,k=j?["right","bottom"]:["bottom","right"],l=b.duration/2,m=a.effects.createPlaceholder(d),n=d.cssClip(),o={clip:a.extend({},n)},p={clip:a.extend({},n)},q=[n[k[0]],n[k[1]]],r=d.queue().length;i&&(h=parseInt(i[1],10)/100*q[g?0:1]),o.clip[k[0]]=h,p.clip[k[0]]=h,p.clip[k[1]]=0,f&&(d.cssClip(p.clip),m&&m.css(a.effects.clipToBox(p)),p.clip=n),d.queue((function(c){m&&m.animate(a.effects.clipToBox(o),l,b.easing).animate(a.effects.clipToBox(p),l,b.easing),c()})).animate(o,l,b.easing).animate(p,l,b.easing).queue(c),a.effects.unshift(d,r,4)})),a.effects.define("highlight","show",(function(b,c){var d=a(this),e={backgroundColor:d.css("backgroundColor")};"hide"===b.mode&&(e.opacity=0),a.effects.saveStyle(d),d.css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(e,{queue:!1,duration:b.duration,easing:b.easing,complete:c})})),a.effects.define("size",(function(b,c){var d,e,f,g=a(this),h=["fontSize"],i=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],j=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],k=b.mode,l="effect"!==k,m=b.scale||"both",n=b.origin||["middle","center"],o=g.css("position"),p=g.position(),q=a.effects.scaledDimensions(g),r=b.from||q,s=b.to||a.effects.scaledDimensions(g,0);a.effects.createPlaceholder(g),"show"===k&&(f=r,r=s,s=f),e={from:{y:r.height/q.height,x:r.width/q.width},to:{y:s.height/q.height,x:s.width/q.width}},"box"!==m&&"both"!==m||(e.from.y!==e.to.y&&(r=a.effects.setTransition(g,i,e.from.y,r),s=a.effects.setTransition(g,i,e.to.y,s)),e.from.x!==e.to.x&&(r=a.effects.setTransition(g,j,e.from.x,r),s=a.effects.setTransition(g,j,e.to.x,s))),"content"!==m&&"both"!==m||e.from.y!==e.to.y&&(r=a.effects.setTransition(g,h,e.from.y,r),s=a.effects.setTransition(g,h,e.to.y,s)),n&&(d=a.effects.getBaseline(n,q),r.top=(q.outerHeight-r.outerHeight)*d.y+p.top,r.left=(q.outerWidth-r.outerWidth)*d.x+p.left,s.top=(q.outerHeight-s.outerHeight)*d.y+p.top,s.left=(q.outerWidth-s.outerWidth)*d.x+p.left),g.css(r),"content"!==m&&"both"!==m||(i=i.concat(["marginTop","marginBottom"]).concat(h),j=j.concat(["marginLeft","marginRight"]),g.find("*[width]").each((function(){var c=a(this),d=a.effects.scaledDimensions(c),f={height:d.height*e.from.y,width:d.width*e.from.x,outerHeight:d.outerHeight*e.from.y,outerWidth:d.outerWidth*e.from.x},g={height:d.height*e.to.y,width:d.width*e.to.x,outerHeight:d.height*e.to.y,outerWidth:d.width*e.to.x};e.from.y!==e.to.y&&(f=a.effects.setTransition(c,i,e.from.y,f),g=a.effects.setTransition(c,i,e.to.y,g)),e.from.x!==e.to.x&&(f=a.effects.setTransition(c,j,e.from.x,f),g=a.effects.setTransition(c,j,e.to.x,g)),l&&a.effects.saveStyle(c),c.css(f),c.animate(g,b.duration,b.easing,(function(){l&&a.effects.restoreStyle(c)}))}))),g.animate(s,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){var b=g.offset();0===s.opacity&&g.css("opacity",r.opacity),l||(g.css("position","static"===o?"relative":o).offset(b),a.effects.saveStyle(g)),c()}})})),a.effects.define("scale",(function(b,c){var d=a(this),e=b.mode,f=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"effect"!==e?0:100),g=a.extend(!0,{from:a.effects.scaledDimensions(d),to:a.effects.scaledDimensions(d,f,b.direction||"both"),origin:b.origin||["middle","center"]},b);b.fade&&(g.from.opacity=1,g.to.opacity=0),a.effects.effect.size.call(this,g,c)})),a.effects.define("puff","hide",(function(b,c){var d=a.extend(!0,{},b,{fade:!0,percent:parseInt(b.percent,10)||150});a.effects.effect.scale.call(this,d,c)})),a.effects.define("pulsate","show",(function(b,c){var d=a(this),e=b.mode,f="show"===e,g="hide"===e,h=f||g,i=2*(b.times||5)+(h?1:0),j=b.duration/i,k=0,l=1,m=d.queue().length;for(!f&&d.is(":visible")||(d.css("opacity",0).show(),k=1);l<i;l++)d.animate({opacity:k},j,b.easing),k=1-k;d.animate({opacity:k},j,b.easing),d.queue(c),a.effects.unshift(d,m,i+1)})),a.effects.define("shake",(function(b,c){var d=1,e=a(this),f=b.direction||"left",g=b.distance||20,h=b.times||3,i=2*h+1,j=Math.round(b.duration/i),k="up"===f||"down"===f?"top":"left",l="up"===f||"left"===f,m={},n={},o={},p=e.queue().length;for(a.effects.createPlaceholder(e),m[k]=(l?"-=":"+=")+g,n[k]=(l?"+=":"-=")+2*g,o[k]=(l?"-=":"+=")+2*g,e.animate(m,j,b.easing);d<h;d++)e.animate(n,j,b.easing).animate(o,j,b.easing);e.animate(n,j,b.easing).animate(m,j/2,b.easing).queue(c),a.effects.unshift(e,p,i+1)})),a.effects.define("slide","show",(function(b,c){var d,e,f=a(this),g={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},h=b.mode,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l=b.distance||f["top"===j?"outerHeight":"outerWidth"](!0),m={};a.effects.createPlaceholder(f),d=f.cssClip(),e=f.position()[j],m[j]=(k?-1:1)*l+e,m.clip=f.cssClip(),m.clip[g[i][1]]=m.clip[g[i][0]],"show"===h&&(f.cssClip(m.clip),f.css(j,m[j]),m.clip=d,m[j]=e),f.animate(m,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}));a.uiBackCompat!==!1&&(o=a.effects.define("transfer",(function(b,c){a(this).transfer(b,c)})));a.ui.focusable=function(c,d){var e,f,g,h,i,j=c.nodeName.toLowerCase();return"area"===j?(e=c.parentNode,f=e.name,!(!c.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap='#"+f+"']"),g.length>0&&g.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(j)?(h=!c.disabled,h&&(i=a(c).closest("fieldset")[0],i&&(h=!i.disabled))):h="a"===j?c.href||d:d,h&&a(c).is(":visible")&&b(a(c)))},a.extend(a.expr[":"],{focusable:function(b){return a.ui.focusable(b,null!=a.attr(b,"tabindex"))}});a.ui.focusable,a.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):a(this[0].form)},a.ui.formResetMixin={_formResetHandler:function(){var b=a(this);setTimeout((function(){var c=b.data("ui-form-reset-instances");a.each(c,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var a=this.form.data("ui-form-reset-instances")||[];a.length||this.form.on("reset.ui-form-reset",this._formResetHandler),a.push(this),this.form.data("ui-form-reset-instances",a)}},_unbindFormResetHandler:function(){if(this.form.length){var b=this.form.data("ui-form-reset-instances");b.splice(a.inArray(this,b),1),b.length?this.form.data("ui-form-reset-instances",b):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===a.fn.jquery.substring(0,3)&&(a.each(["Width","Height"],(function(b,c){function d(b,c,d,f){return a.each(e,(function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)})),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each((function(){a(this).css(f,d(this,b)+"px")}))},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each((function(){a(this).css(f,d(this,b,!0,e)+"px")}))}})),a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},a.ui.escapeSelector=(function(){var a=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(b){return b.replace(a,"\\$1")}})(),a.fn.labels=function(){var b,c,d,e,f;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),d=this.attr("id"),d&&(b=this.eq(0).parents().last(),f=b.add(b.length?b.siblings():this.siblings()),c="label[for='"+a.ui.escapeSelector(d)+"']",e=e.add(f.find(c).addBack(c))),this.pushStack(e))},a.fn.scrollParent=function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter((function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))})).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},a.extend(a.expr[":"],{tabbable:function(b){var c=a.attr(b,"tabindex"),d=null!=c;return(!d||c>=0)&&a.ui.focusable(b,d)}}),a.fn.extend({uniqueId:(function(){var a=0;return function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++a)}))}})(),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")}))}}),a.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=a(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),b.collapsible||b.active!==!1&&null!=b.active||(b.active=0),this._processPanels(),b.active<0&&(b.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a()}},_createIcons:function(){var b,c,d=this.options.icons;d&&(b=a("<span>"),this._addClass(b,"ui-accordion-header-icon","ui-icon "+d.header),b.prependTo(this.headers),c=this.active.children(".ui-accordion-header-icon"),this._removeClass(c,d.header)._addClass(c,null,d.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),void("icons"===a&&(this._destroyIcons(),b&&this._createIcons())))},_setOptionDisabled:function(a){this._super(a),this.element.attr("aria-disabled",a),this._toggleClass(null,"ui-state-disabled",!!a),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!a)},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),a(f).trigger("focus"),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().trigger("focus")},refresh:function(){var b=this.options;this._processPanels(),b.active===!1&&b.collapsible===!0||!this.headers.length?(b.active=!1,this.active=a()):b.active===!1?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var b,c=this.options,d=c.heightStyle,e=this.element.parent();this.active=this._findActive(c.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var b=a(this),c=b.uniqueId().attr("id"),d=b.next(),e=d.uniqueId().attr("id");b.attr("aria-controls",e),d.attr("aria-labelledby",c)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(c.event),"fill"===d?(b=e.height(),this.element.siblings(":visible").each((function(){var c=a(this),d=c.css("position");"absolute"!==d&&"fixed"!==d&&(b-=c.outerHeight(!0))})),this.headers.each((function(){b-=a(this).outerHeight(!0)})),this.headers.next().each((function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))})).css("overflow","auto")):"auto"===d&&(b=0,this.headers.next().each((function(){var c=a(this).is(":visible");c||a(this).show(),b=Math.max(b,a(this).css("height","").height()),c||a(this).hide()})).height(b))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),(function(a,b){c[b]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,c),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(b){var c,d,e=this.options,f=this.active,g=a(b.currentTarget),h=g[0]===f[0],i=h&&e.collapsible,j=i?a():g.next(),k=f.next(),l={oldHeader:f,oldPanel:k,newHeader:i?a():g,newPanel:j};b.preventDefault(),h&&!e.collapsible||this._trigger("beforeActivate",b,l)===!1||(e.active=!i&&this.headers.index(g),this.active=h?a():g,this._toggle(l),this._removeClass(f,"ui-accordion-header-active","ui-state-active"),e.icons&&(c=f.children(".ui-accordion-header-icon"),this._removeClass(c,null,e.icons.activeHeader)._addClass(c,null,e.icons.header)),h||(this._removeClass(g,"ui-accordion-header-collapsed")._addClass(g,"ui-accordion-header-active","ui-state-active"),e.icons&&(d=g.children(".ui-accordion-header-icon"),this._removeClass(d,null,e.icons.header)._addClass(d,null,e.icons.activeHeader)),this._addClass(g.next(),"ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-hidden":"true"}),d.prev().attr({"aria-selected":"false","aria-expanded":"false"}),c.length&&d.length?d.prev().attr({tabIndex:-1,"aria-expanded":"false"}):c.length&&this.headers.filter((function(){return 0===parseInt(a(this).attr("tabIndex"),10)})).attr("tabIndex",-1),c.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,c){var d,e,f,g=this,h=0,i=a.css("box-sizing"),j=a.length&&(!b.length||a.index()<b.index()),k=this.options.animate||{},l=j&&k.down||k,m=function(){g._toggleComplete(c)};return"number"==typeof l&&(f=l),"string"==typeof l&&(e=l),e=e||l.easing||k.easing,f=f||l.duration||k.duration,b.length?a.length?(d=a.show().outerHeight(),b.animate(this.hideProps,{duration:f,easing:e,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(this.showProps,{duration:f,easing:e,complete:m,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?"content-box"===i&&(h+=c.now):"content"!==g.options.heightStyle&&(c.now=Math.round(d-b.outerHeight()-h),h=0)}})):b.animate(this.hideProps,f,e,m):a.animate(this.showProps,f,e,m)},_toggleComplete:function(a){var b=a.oldPanel,c=b.prev();this._removeClass(b,"ui-accordion-content-active"),this._removeClass(c,"ui-accordion-header-active")._addClass(c,"ui-accordion-header-collapsed"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),a.ui.safeActiveElement=function(a){var b;try{b=a.activeElement}catch(c){b=a.body}return b||(b=a.body),b.nodeName||(b=a.body),b},a.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var c=a(b.target),d=a(a.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&d.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var c=a(b.target).closest(".ui-menu-item"),d=a(b.currentTarget);c[0]===d[0]&&(this._removeClass(d.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(b,d))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,c)},blur:function(b){this._delay((function(){var c=!a.contains(this.element[0],a.ui.safeActiveElement(this.document[0]));c&&this.collapseAll(b)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){var b=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),c=b.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),c.children().each((function(){var b=a(this);b.data("ui-menu-submenu-caret")&&b.remove()}))},_keydown:function(b){var c,d,e,f,g=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:g=!1,d=this.previousFilter||"",f=!1,e=b.keyCode>=96&&b.keyCode<=105?(b.keyCode-96).toString():String.fromCharCode(b.keyCode),clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,c=this._filterMenuItems(e),c=f&&c.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(b.keyCode),c=this._filterMenuItems(e)),c.length?(this.focus(b,c),this.previousFilter=e,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}g&&b.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c,d,e,f,g=this,h=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),d=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var b=a(this),c=b.prev(),d=a("<span>").data("ui-menu-submenu-caret",!0);g._addClass(d,"ui-menu-icon","ui-icon "+h),c.attr("aria-haspopup","true").prepend(d),b.attr("aria-labelledby",c.attr("id"))})),this._addClass(d,"ui-menu","ui-widget ui-widget-content ui-front"),b=i.add(this.element),c=b.find(this.options.items),c.not(".ui-menu-item").each((function(){var b=a(this);g._isDivider(b)&&g._addClass(b,"ui-menu-divider","ui-widget-content")})),e=c.not(".ui-menu-item, .ui-menu-divider"),f=e.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(e,"ui-menu-item")._addClass(f,"ui-menu-item-wrapper"),c.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){if("icons"===a){var c=this.element.find(".ui-menu-icon");this._removeClass(c,null,this.options.icons.submenu)._addClass(c,null,b.submenu)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a),this.element.attr("aria-disabled",String(a)),this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,b){var c,d,e;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children(".ui-menu-item-wrapper"),this._addClass(d,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),e=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(e,null,"ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.outerHeight(),e<0?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(a)}),this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay((function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this._removeClass(d.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=d}),this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(b){return!a(b.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay((function(){this.focus(a,b)})))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[b]()),
this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return c=a(this),c.offset().top-d-e<0})),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return c=a(this),c.offset().top-d+e>0})),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items).first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)},_filterMenuItems:function(b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),d=new RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return d.test(a.trim(a(this).children(".ui-menu-item-wrapper").text()))}))}});a.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f||!g&&this._isContentEditable(this.element),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==a.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(b,c){var d,e;return this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",(function(){a(b.target).trigger(b.originalEvent)}))):(e=c.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",b,{item:e})&&b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value),d=c.item.attr("aria-label")||e.value,void(d&&a.trim(d).length&&(this.liveRegion.children().hide(),a("<div>").text(d).appendTo(this.liveRegion))))},menuselect:function(b,c){var d=c.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==a.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=e,this._delay((function(){this.previous=e,this.selectedItem=d}))),!1!==this._trigger("select",b,{item:d})&&this._value(d.value),this.term=this._value(),this.close(b),this.selectedItem=d}}),this.liveRegion=a("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(b){var c=this.menu.element[0];return b.target===this.element[0]||b.target===c||a.contains(c,b.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front, dialog")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay((function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;b&&(!b||c||d)||(this.selectedItem=null,this.search(null,a))}),this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy((function(a){b===this.requestIndex&&this.__response(a),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,(function(b){return"string"==typeof b?{label:b,value:b}:a.extend({},b,{label:b.label||b.value,value:b.value||b.label})}))},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,(function(a,c){d._renderItemData(b,c)}))},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<div>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(a,b),b.preventDefault())},_isContentEditable:function(a){if(!a.length)return!1;var b=a.prop("contentEditable");return"inherit"===b?this._isContentEditable(a.parent()):"true"===b}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,(function(a){return d.test(a.label||a.value||a)}))}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(c).appendTo(this.liveRegion))}});var p=(a.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);a.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var b=this,c=[];a.each(this.options.items,(function(d,e){var f,g={};if(e)return"controlgroupLabel"===d?(f=b.element.find(e),f.each((function(){var b=a(this);b.children(".ui-controlgroup-label-contents").length||b.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),b._addClass(f,null,"ui-widget ui-widget-content ui-state-default"),void(c=c.concat(f.get()))):void(a.fn[d]&&(g=b["_"+d+"Options"]?b["_"+d+"Options"]("middle"):{classes:{}},b.element.find(e).each((function(){var e=a(this),f=e[d]("instance"),h=a.widget.extend({},g);if("button"!==d||!e.parent(".ui-spinner").length){f||(f=e[d]()[d]("instance")),f&&(h.classes=b._resolveClassesValues(h.classes,f)),e[d](h);var i=e[d]("widget");a.data(i[0],"ui-controlgroup-data",f?f:e[d]("instance")),c.push(i[0])}}))))})),this.childWidgets=a(a.unique(c)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(b){this.childWidgets.each((function(){var c=a(this),d=c.data("ui-controlgroup-data");d&&d[b]&&d[b]()}))},_updateCornerClass:function(a,b){var c="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",d=this._buildSimpleOptions(b,"label").classes.label;this._removeClass(a,null,c),this._addClass(a,null,d)},_buildSimpleOptions:function(a,b){var c="vertical"===this.options.direction,d={classes:{}};return d.classes[b]={middle:"",first:"ui-corner-"+(c?"top":"left"),last:"ui-corner-"+(c?"bottom":"right"),only:"ui-corner-all"}[a],d},_spinnerOptions:function(a){var b=this._buildSimpleOptions(a,"ui-spinner");return b.classes["ui-spinner-up"]="",b.classes["ui-spinner-down"]="",b},_buttonOptions:function(a){return this._buildSimpleOptions(a,"ui-button")},_checkboxradioOptions:function(a){return this._buildSimpleOptions(a,"ui-checkboxradio-label")},_selectmenuOptions:function(a){var b="vertical"===this.options.direction;return{width:!!b&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(b?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(b?"top":"left")},last:{"ui-selectmenu-button-open":b?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(b?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[a]}},_resolveClassesValues:function(b,c){var d={};return a.each(b,(function(e){var f=c.options.classes[e]||"";f=a.trim(f.replace(p,"")),d[e]=(f+" "+b[e]).replace(/\s+/g," ")})),d},_setOption:function(a,b){return"direction"===a&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(a,b),"disabled"===a?void this._callChildMethod(b?"disable":"enable"):void this.refresh()},refresh:function(){var b,c=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),b=this.childWidgets,this.options.onlyVisible&&(b=b.filter(":visible")),b.length&&(a.each(["first","last"],(function(a,d){var e=b[d]().data("ui-controlgroup-data");if(e&&c["_"+e.widgetName+"Options"]){var f=c["_"+e.widgetName+"Options"](1===b.length?"only":d);f.classes=c._resolveClassesValues(f.classes,e),e.element[e.widgetName](f)}else c._updateCornerClass(b[d](),d)})),this._callChildMethod("refresh"))}});a.widget("ui.checkboxradio",[a.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var b,c,d=this,e=this._super()||{};return this._readType(),c=this.element.labels(),this.label=a(c[c.length-1]),this.label.length||a.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each((function(){d.originalLabel+=3===this.nodeType?a(this).text():this.outerHTML})),this.originalLabel&&(e.label=this.originalLabel),b=this.element[0].disabled,null!=b&&(e.disabled=b),e},_create:function(){var a=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),a&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var b=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===b&&/radio|checkbox/.test(this.type)||a.error("Can't create checkboxradio on element.nodeName="+b+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var b,c=this.element[0].name,d="input[name='"+a.ui.escapeSelector(c)+"']";return c?(b=this.form.length?a(this.form[0].elements).filter(d):a(d).filter((function(){return 0===a(this).form().length})),b.not(this.element)):a([])},_toggleClasses:function(){var b=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",b),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",b)._toggleClass(this.icon,null,"ui-icon-blank",!b),"radio"===this.type&&this._getRadioGroup().each((function(){var b=a(this).checkboxradio("instance");b&&b._removeClass(b.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(a,b){if("label"!==a||b)return this._super(a,b),"disabled"===a?(this._toggleClass(this.label,null,"ui-state-disabled",b),void(this.element[0].disabled=b)):void this.refresh()},_updateIcon:function(b){var c="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=a("<span>"),this.iconSpace=a("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(c+=b?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,b?"ui-icon-blank":"ui-icon-check")):c+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",c),b||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var a=this.label.contents().not(this.element[0]);this.icon&&(a=a.not(this.icon[0])),this.iconSpace&&(a=a.not(this.iconSpace[0])),a.remove(),this.label.append(this.options.label)},refresh:function(){var a=this.element[0].checked,b=this.element[0].disabled;this._updateIcon(a),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",a),null!==this.options.label&&this._updateLabel(),b!==this.options.disabled&&this._setOptions({disabled:b})}}]);a.ui.checkboxradio;a.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var a,b=this._super()||{};return this.isInput=this.element.is("input"),a=this.element[0].disabled,null!=a&&(b.disabled=a),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(b.label=this.originalLabel),b},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(b){b.keyCode===a.ui.keyCode.SPACE&&(b.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(b,c){var d="iconPosition"!==b,e=d?this.options.iconPosition:c,f="top"===e||"bottom"===e;this.icon?d&&this._removeClass(this.icon,null,this.options.icon):(this.icon=a("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),d&&this._addClass(this.icon,null,c),this._attachIcon(e),f?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=a("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(e))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(a){this.icon[/^(?:end|bottom)/.test(a)?"before":"after"](this.iconSpace)},_attachIcon:function(a){this.element[/^(?:end|bottom)/.test(a)?"append":"prepend"](this.icon)},_setOptions:function(a){var b=void 0===a.showLabel?this.options.showLabel:a.showLabel,c=void 0===a.icon?this.options.icon:a.icon;b||c||(a.showLabel=!0),this._super(a)},_setOption:function(a,b){"icon"===a&&(b?this._updateIcon(a,b):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===a&&this._updateIcon(a,b),"showLabel"===a&&(this._toggleClass("ui-button-icon-only",null,!b),this._updateTooltip()),"label"===a&&(this.isInput?this.element.val(b):(this.element.html(b),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(a,b),"disabled"===a&&(this._toggleClass(null,"ui-state-disabled",b),this.element[0].disabled=b,b&&this.element.blur())},refresh:function(){var a=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOptions({disabled:a}),this._updateTooltip()}}),a.uiBackCompat!==!1&&(a.widget("ui.button",a.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(a,b){return"text"===a?void this._super("showLabel",b):("showLabel"===a&&(this.options.text=b),"icon"===a&&(this.options.icons.primary=b),"icons"===a&&(b.primary?(this._super("icon",b.primary),this._super("iconPosition","beginning")):b.secondary&&(this._super("icon",b.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),a.fn.button=(function(b){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?b.apply(this,arguments):(a.ui.checkboxradio||a.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}})(a.fn.button),a.fn.buttonset=function(){return a.ui.controlgroup||a.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});a.ui.button;a.extend(a.ui,{datepicker:{version:"1.12.1"}});var q;a.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return g(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var d=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:d,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?e(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.off("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),"focus"!==d&&"both"!==d||b.on("focus",this._showDatepicker),"button"!==d&&"both"!==d||(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.on("click",(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1})))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,e,f){var h,i,j,k,l,m=this._dialogInst;return m||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),a("body").append(this._dialogInput),m=this._dialogInst=this._newInst(this._dialogInput,!1),m.settings={},a.data(this._dialogInput[0],"datepicker",m)),g(m.settings,e||{}),c=c&&c.constructor===Date?this._formatDate(m,c):c,this._dialogInput.val(c),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(i=document.documentElement.clientWidth,j=document.documentElement.clientHeight,k=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[i/2-100+k,j/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),m.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",m),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==c&&"span"!==c||d.removeClass(this.markerClassName).empty(),q===e&&(q=null))},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,(function(a){return a===b?null:a})))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,(function(a){return a===b?null:a})),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(b,c,d){var e,f,h,i,j=this._getInst(b);return 2===arguments.length&&"string"==typeof c?"defaults"===c?a.extend({},a.datepicker._defaults):j?"all"===c?a.extend({},j.settings):this._get(j,c):null:(e=c||{},"string"==typeof c&&(e={},e[c]=d),void(j&&(this._curInst===j&&this._hideDatepicker(),f=this._getDateDatepicker(b,!0),h=this._getMinMaxDate(j,"min"),i=this._getMinMaxDate(j,"max"),g(j.settings,e),null!==h&&void 0!==e.dateFormat&&void 0===e.minDate&&(j.settings.minDate=this._formatDate(j,h)),null!==i&&void 0!==e.dateFormat&&void 0===e.maxDate&&(j.settings.maxDate=this._formatDate(j,i)),"disabled"in e&&(e.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),j),this._autoSize(j),this._setDate(j,f),this._updateAlternate(j),this._updateDatepicker(j))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;
g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);if(a.datepicker._get(e,"constrainInput"))return c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||d<" "||!c||c.indexOf(d)>-1},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var d,e,f,h,i,j,k;d=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),e=a.datepicker._get(d,"beforeShow"),f=e?e.apply(b,[b,d]):{},f!==!1&&(g(d.settings,f),d.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),h=!1,a(b).parents().each((function(){return h|="fixed"===a(this).css("position"),!h})),i={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),i=a.datepicker._checkOffset(d,i,h),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":h?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),d.inline||(j=a.datepicker._get(d,"showAnim"),k=a.datepicker._get(d,"duration"),d.dpDiv.css("z-index",c(a(b))+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[j]?d.dpDiv.show(j,a.datepicker._get(d,"showOptions"),k):d.dpDiv[j||"show"](j?k:null),a.datepicker._shouldFocusInput(d)&&d.input.trigger("focus"),a.datepicker._curInst=d))}},_updateDatepicker:function(b){this.maxRows=4,q=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b);var c,d=this._getNumberOfMonths(b),e=d[1],g=17,h=b.dpDiv.find("."+this._dayOverClass+" a");h.length>0&&f.apply(h.get(0)),b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.trigger("focus"),b.yearshtml&&(c=b.yearshtml,setTimeout((function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null}),0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,g=this._curInst;!g||b&&g!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),d=this._get(g,"duration"),e=function(){a.datepicker._tidyDialog(g)},a.effects&&(a.effects.effect[c]||a.effects[c])?g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),d,e):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id===a.datepicker._mainDivId||0!==c.parents("#"+a.datepicker._mainDivId).length||c.hasClass(a.datepicker.markerClassName)||c.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)&&(!c.hasClass(a.datepicker.markerClassName)||a.datepicker._curInst===d)||a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).val(e))},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?c.toString():c+"",""===c)return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e="y"===a?d:1,f=new RegExp("^\\d{"+e+","+d+"}"),g=c.substring(i).match(f);if(!g)throw"Missing number at position "+i;return i+=g[0].length,parseInt(g[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,(function(a,b){return[[b,a]]})).sort((function(a,b){return-(a[1].length-b[1].length)}));if(a.each(g,(function(a,b){var d=b[1];if(c.substr(i,d.length).toLowerCase()===d.toLowerCase())return f=b[0],i+=d.length,!1})),f!==-1)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;e<b.length;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(i<c.length&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(p===-1?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=k?0:-100)),s>-1)for(q=1,r=s;;){if(f=this._getDaysInMonth(p,q-1),r<=f)break;q++,r-=f}if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;d<a.length;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getFullYear()%100<10?"0":"")+b.getFullYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"===g.toString()?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map((function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).on(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])}))},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(_<0&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&b<Z?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,_<0&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;v<7;v++)D=(v+k)%7,C+="<th scope='col'"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;J<H;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;v<7;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&I<Z||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;k<12;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";o<=p;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.selectedYear+("Y"===c?b:0),e=a.selectedMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),"M"!==c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).on("mousedown",a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each((function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)})):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new d,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.12.1";var r=(a.datepicker,a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);a(document).on("mouseup",(function(){r=!1}));a.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,(function(a){return b._mouseDown(a)})).on("click."+this.widgetName,(function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=1===b.which,e=!("string"!=typeof this.options.cancel||!b.target.nodeName)&&a(b.target).closest(this.options.cancel).length;return!(d&&!e&&this._mouseCapture(b))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){c.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),r=!0,!0))}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button)return this._mouseUp(b);if(!b.which)if(b.originalEvent.altKey||b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,r=!1,b.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}},a.ui.safeBlur=function(b){b&&"body"!==b.nodeName.toLowerCase()&&a(b).trigger("blur")};a.widget("ui.draggable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(b){var c=this.options;return!(this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(b),!!this.handle&&(this._blurActiveElement(b),this._blockFrames(c.iframeFix===!0?"iframe":c.iframeFix),!0))},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map((function(){var b=a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var c=a.ui.safeActiveElement(this.document[0]),d=a(b.target);d.closest(c).length||a.ui.safeBlur(c)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===a(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(b,c){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b,!0),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp(new a.Event("mouseup",b)),!1;this.position=d.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){c._trigger("stop",b)!==!1&&c._clear()})):this._trigger("stop",b)!==!1&&this._clear(),!1},_mouseUp:function(b){return this._unblockFrames(),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),this.handleElement.is(b.target)&&this.element.trigger("focus"),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new a.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(b){return!this.options.handle||!!a(b.target).closest(this.element.find(this.options.handle)).length;
},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper),e=d?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),c=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==c&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options,f=this.document[0];return this.relativeContainer=null,e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(f).width()-this.helperProportions.width-this.margins.left,(a(f).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c))):void(this.containment=null)},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*c}},_generatePosition:function(a,b){var c,d,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),i=a.pageX,j=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,a.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),a.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),a.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),a.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(i=this.originalPageX),"x"===g.axis&&(j=this.originalPageY)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d,this],!0),/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),d.offset=this.positionAbs),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c,d){var e=a.extend({},c,{item:d.element});d.sortables=[],a(d.options.connectToSortable).each((function(){var c=a(this).sortable("instance");c&&!c.options.disabled&&(d.sortables.push(c),c.refreshPositions(),c._trigger("activate",b,e))}))},stop:function(b,c,d){var e=a.extend({},c,{item:d.element});d.cancelHelperRemoval=!1,a.each(d.sortables,(function(){var a=this;a.isOver?(a.isOver=0,d.cancelHelperRemoval=!0,a.cancelHelperRemoval=!1,a._storedCSS={position:a.placeholder.css("position"),top:a.placeholder.css("top"),left:a.placeholder.css("left")},a._mouseStop(b),a.options.helper=a.options._helper):(a.cancelHelperRemoval=!0,a._trigger("deactivate",b,e))}))},drag:function(b,c,d){a.each(d.sortables,(function(){var e=!1,f=this;f.positionAbs=d.positionAbs,f.helperProportions=d.helperProportions,f.offset.click=d.offset.click,f._intersectsWith(f.containerCache)&&(e=!0,a.each(d.sortables,(function(){return this.positionAbs=d.positionAbs,this.helperProportions=d.helperProportions,this.offset.click=d.offset.click,this!==f&&this._intersectsWith(this.containerCache)&&a.contains(f.element[0],this.element[0])&&(e=!1),e}))),e?(f.isOver||(f.isOver=1,d._parent=c.helper.parent(),f.currentItem=c.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return c.helper[0]},b.target=f.currentItem[0],f._mouseCapture(b,!0),f._mouseStart(b,!0,!0),f.offset.click.top=d.offset.click.top,f.offset.click.left=d.offset.click.left,f.offset.parent.left-=d.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=d.offset.parent.top-f.offset.parent.top,d._trigger("toSortable",b),d.dropped=f.element,a.each(d.sortables,(function(){this.refreshPositions()})),d.currentItem=d.element,f.fromOutside=d),f.currentItem&&(f._mouseDrag(b),c.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,f.options.revert=!1,f._trigger("out",b,f._uiHash(f)),f._mouseStop(b,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),c.helper.appendTo(d._parent),d._refreshOffsets(b),c.position=d._generatePosition(b,!0),d._trigger("fromSortable",b),d.dropped=!1,a.each(d.sortables,(function(){this.refreshPositions()})))}))}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c,d){var e=a("body"),f=d.options;e.css("cursor")&&(f._cursor=e.css("cursor")),e.css("cursor",f.cursor)},stop:function(b,c,d){var e=d.options;e._cursor&&a("body").css("cursor",e._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("opacity")&&(f._opacity=e.css("opacity")),e.css("opacity",f.opacity)},stop:function(b,c,d){var e=d.options;e._opacity&&a(c.helper).css("opacity",e._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1)),c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(b,c,d){var e=d.options,f=!1,g=d.scrollParentNotHidden[0],h=d.document[0];g!==h&&"HTML"!==g.tagName?(e.axis&&"x"===e.axis||(d.overflowOffset.top+g.offsetHeight-b.pageY<e.scrollSensitivity?g.scrollTop=f=g.scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(g.scrollTop=f=g.scrollTop-e.scrollSpeed)),e.axis&&"y"===e.axis||(d.overflowOffset.left+g.offsetWidth-b.pageX<e.scrollSensitivity?g.scrollLeft=f=g.scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(g.scrollLeft=f=g.scrollLeft-e.scrollSpeed))):(e.axis&&"x"===e.axis||(b.pageY-a(h).scrollTop()<e.scrollSensitivity?f=a(h).scrollTop(a(h).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(h).scrollTop())<e.scrollSensitivity&&(f=a(h).scrollTop(a(h).scrollTop()+e.scrollSpeed))),e.axis&&"y"===e.axis||(b.pageX-a(h).scrollLeft()<e.scrollSensitivity?f=a(h).scrollLeft(a(h).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(h).scrollLeft())<e.scrollSensitivity&&(f=a(h).scrollLeft(a(h).scrollLeft()+e.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c,d){var e=d.options;d.snapElements=[],a(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each((function(){var b=a(this),c=b.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})}))},drag:function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o=d.options,p=o.snapTolerance,q=c.offset.left,r=q+d.helperProportions.width,s=c.offset.top,t=s+d.helperProportions.height;for(m=d.snapElements.length-1;m>=0;m--)i=d.snapElements[m].left-d.margins.left,j=i+d.snapElements[m].width,k=d.snapElements[m].top-d.margins.top,l=k+d.snapElements[m].height,r<i-p||q>j+p||t<k-p||s>l+p||!a.contains(d.snapElements[m].item.ownerDocument,d.snapElements[m].item)?(d.snapElements[m].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=!1):("inner"!==o.snapMode&&(e=Math.abs(k-t)<=p,f=Math.abs(l-s)<=p,g=Math.abs(i-r)<=p,h=Math.abs(j-q)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k-d.helperProportions.height,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i-d.helperProportions.width}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j}).left)),n=e||f||g||h,"outer"!==o.snapMode&&(e=Math.abs(k-s)<=p,f=Math.abs(l-t)<=p,g=Math.abs(i-q)<=p,h=Math.abs(j-r)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j-d.helperProportions.width}).left)),!d.snapElements[m].snapping&&(e||f||g||h||n)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=e||f||g||h||n)}}),a.ui.plugin.add("draggable","stack",{start:function(b,c,d){var e,f=d.options,g=a.makeArray(a(f.stack)).sort((function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)}));g.length&&(e=parseInt(a(g[0]).css("zIndex"),10)||0,a(g).each((function(b){a(this).css("zIndex",e+b)})),this.css("zIndex",e+g.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("zIndex")&&(f._zIndex=e.css("zIndex")),e.css("zIndex",f.zIndex)},stop:function(b,c,d){var e=d.options;e._zIndex&&a(c.helper).css("zIndex",e._zIndex)}});a.ui.draggable;a.widget("ui.resizable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseFloat(a)||0},_isNumber:function(a){return!isNaN(parseFloat(a))},_hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0||(b[d]=1,e=b[d]>0,b[d]=0,e)},_create:function(){var b,c=this.options,d=this;this._addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,b={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(b),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(b),this._proportionallyResize()),this._setupHandles(),c.autoHide&&a(this.element).on("mouseenter",(function(){c.disabled||(d._removeClass("ui-resizable-autohide"),d._handles.show())})).on("mouseleave",(function(){c.disabled||d.resizing||(d._addClass("ui-resizable-autohide"),d._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_setOption:function(a,b){switch(this._super(a,b),a){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var b,c,d,e,f,g=this.options,h=this;if(this.handles=g.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=a(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),d=this.handles.split(","),this.handles={},c=0;c<d.length;c++)b=a.trim(d[c]),e="ui-resizable-"+b,f=a("<div>"),this._addClass(f,"ui-resizable-handle "+e),f.css({zIndex:g.zIndex}),this.handles[b]=".ui-resizable-"+b,this.element.append(f);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String?this.handles[c]=this.element.children(this.handles[c]).first().show():(this.handles[c].jquery||this.handles[c].nodeType)&&(this.handles[c]=a(this.handles[c]),this._on(this.handles[c],{mousedown:h._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),this._handles=this._handles.add(this.handles[c])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){h.resizing||(this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),h.axis=f&&f[1]?f[1]:"se")})),g.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(b){var c,d,e,f=this.options,g=this.element;return this.resizing=!0,this._renderProxy(),c=this._num(this.helper.css("left")),d=this._num(this.helper.css("top")),f.containment&&(c+=a(f.containment).scrollLeft()||0,d+=a(f.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:c,top:d},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalPosition={left:c,top:d},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof f.aspectRatio?f.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===e?this.axis+"-resize":e),this._addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c,d,e=this.originalMousePosition,f=this.axis,g=b.pageX-e.left||0,h=b.pageY-e.top||0,i=this._change[f];return this._updatePrevProperties(),!!i&&(c=i.apply(this,[b,g,h]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),d=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(d)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges()),!1)},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&this._hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseFloat(k.element.css("left"))+(k.position.left-k.originalPosition.left)||null,i=parseFloat(k.element.css("top"))+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var b,c,d,e,f,g=this.options;f={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:1/0,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:1/0},(this._aspectRatio||a)&&(b=f.minHeight*this.aspectRatio,d=f.minWidth/this.aspectRatio,c=f.maxHeight*this.aspectRatio,e=f.maxWidth/this.aspectRatio,b>f.minWidth&&(f.minWidth=b),d>f.minHeight&&(f.minHeight=d),c<f.maxWidth&&(f.maxWidth=c),e<f.maxHeight&&(f.maxHeight=e)),this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===d&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"===d&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,h=this.originalPosition.left+this.originalSize.width,i=this.originalPosition.top+this.originalSize.height,j=/sw|nw|w/.test(c),k=/nw|ne|n/.test(c);return f&&(a.width=b.minWidth),g&&(a.height=b.minHeight),d&&(a.width=b.maxWidth),e&&(a.height=b.maxHeight),f&&j&&(a.left=h-b.minWidth),d&&j&&(a.left=h-b.maxWidth),g&&k&&(a.top=i-b.minHeight),e&&k&&(a.top=i-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],e=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];b<4;b++)c[b]=parseFloat(d[b])||0,c[b]+=parseFloat(e[b])||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,c=this.helper||this.element;b<this._proportionallyResizeElements.length;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).resizable("instance"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&c._hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,k=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseFloat(c.element.css("width")),height:parseFloat(c.element.css("height")),top:parseFloat(c.element.css("top")),left:parseFloat(c.element.css("left"))};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var b,c,d,e,f,g,h,i=a(this).resizable("instance"),j=i.options,k=i.element,l=j.containment,m=l instanceof a?l.get(0):/parent/.test(l)?k.parent().get(0):l;m&&(i.containerElement=a(m),/document/.test(l)||l===document?(i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(m),c=[],a(["Top","Right","Left","Bottom"]).each((function(a,d){c[a]=i._num(b.css("padding"+d))})),i.containerOffset=b.offset(),i.containerPosition=b.position(),i.containerSize={height:b.innerHeight()-c[3],width:b.innerWidth()-c[1]},d=i.containerOffset,e=i.containerSize.height,f=i.containerSize.width,g=i._hasScroll(m,"left")?m.scrollWidth:f,h=i._hasScroll(m)?m.scrollHeight:e,i.parentData={element:m,left:d.left,top:d.top,width:g,height:h}))},resize:function(b){var c,d,e,f,g=a(this).resizable("instance"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement,n=!0;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio,n=!1),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio,n=!1),g.position.top=g._helper?i.top:0),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f?(g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top):(g.offset.left=g.element.offset().left,g.offset.top=g.element.offset().top),c=Math.abs(g.sizeDiff.width+(g._helper?g.offset.left-l.left:g.offset.left-i.left)),d=Math.abs(g.sizeDiff.height+(g._helper?g.offset.top-l.top:g.offset.top-i.top)),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio,n=!1)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio,n=!1)),n||(g.position.left=g.prevPosition.left,g.position.top=g.prevPosition.top,g.size.width=g.prevSize.width,g.size.height=g.prevSize.height)},stop:function(){var b=a(this).resizable("instance"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).resizable("instance"),c=b.options;a(c.alsoResize).each((function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseFloat(b.width()),height:parseFloat(b.height()),left:parseFloat(b.css("left")),top:parseFloat(b.css("top"))})}))},resize:function(b,c){var d=a(this).resizable("instance"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0};a(e.alsoResize).each((function(){var b=a(this),d=a(this).data("ui-resizable-alsoresize"),e={},f=b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(f,(function(a,b){var c=(d[b]||0)+(h[b]||0);c&&c>=0&&(e[b]=c||null)})),b.css(e)}))},stop:function(){a(this).removeData("ui-resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).resizable("instance"),c=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}),b._addClass(b.ghost,"ui-resizable-ghost"),a.uiBackCompat!==!1&&"string"==typeof b.options.ghost&&b.ghost.addClass(this.options.ghost),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).resizable("instance");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b,c=a(this).resizable("instance"),d=c.options,e=c.size,f=c.originalSize,g=c.originalPosition,h=c.axis,i="number"==typeof d.grid?[d.grid,d.grid]:d.grid,j=i[0]||1,k=i[1]||1,l=Math.round((e.width-f.width)/j)*j,m=Math.round((e.height-f.height)/k)*k,n=f.width+l,o=f.height+m,p=d.maxWidth&&d.maxWidth<n,q=d.maxHeight&&d.maxHeight<o,r=d.minWidth&&d.minWidth>n,s=d.minHeight&&d.minHeight>o;d.grid=i,r&&(n+=j),s&&(o+=k),p&&(n-=j),q&&(o-=k),/^(se|s|e)$/.test(h)?(c.size.width=n,c.size.height=o):/^(ne)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.top=g.top-m):/^(sw)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.left=g.left-l):((o-k<=0||n-j<=0)&&(b=c._getPaddingPlusBorderDimensions(this)),o-k>0?(c.size.height=o,c.position.top=g.top-m):(o=k-b.height,c.size.height=o,c.position.top=g.top+f.height-o),n-j>0?(c.size.width=n,c.position.left=g.left-l):(n=j-b.width,c.size.width=n,c.position.left=g.left+f.width-n))}});a.ui.resizable;a.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],
classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c=this;this._isOpen&&this._trigger("beforeClose",b)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||a.ui.safeBlur(a.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){c._trigger("close",b)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var d=!1,e=this.uiDialog.siblings(".ui-front:visible").map((function(){return+a(this).css("z-index")})).get(),f=Math.max.apply(null,e);return f>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",f+1),d=!0),d&&!c&&this._trigger("focus",b),d},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(a.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){b._focusTabbable(),b._trigger("focus")})),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).trigger("focus")},_keepFocus:function(b){function c(){var b=a.ui.safeActiveElement(this.document[0]),c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(this._delay((function(){e.trigger("focus")})),b.preventDefault()):(this._delay((function(){d.trigger("focus")})),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:a("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(b,"ui-dialog-title"),this._title(b),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title?a.text(this.options.title):a.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(a.each(c,(function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,f={icon:d.icon,iconPosition:d.iconPosition,showLabel:d.showLabel,icons:d.icons,text:d.text},delete d.click,delete d.icon,delete d.iconPosition,delete d.showLabel,delete d.icons,"boolean"==typeof d.text&&delete d.text,a("<button></button>",d).button(f).appendTo(b.uiButtonSet).on("click",(function(){e.apply(b.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){c._addClass(a(this),"ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){var g=f.offset.left-c.document.scrollLeft(),h=f.offset.top-c.document.scrollTop();d.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:c.window},c._removeClass(a(this),"ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){c._addClass(a(this),"ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){var g=c.uiDialog.offset(),h=g.left-c.document.scrollLeft(),i=g.top-c.document.scrollTop();d.height=c.uiDialog.height(),d.width=c.uiDialog.width(),d.position={my:"left top",at:"left"+(h>=0?"+":"")+h+" top"+(i>=0?"+":"")+i,of:c.window},c._removeClass(a(this),"ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget(),this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),c=a.inArray(this,b);c!==-1&&b.splice(c,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(b){var c=this,d=!1,e={};a.each(b,(function(a,b){c._setOption(a,b),a in c.sizeRelatedOptions&&(d=!0),a in c.resizableRelatedOptions&&(e[a]=b)})),d&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(b,c){var d,e,f=this.uiDialog;"disabled"!==b&&(this._super(b,c),"appendTo"===b&&this.uiDialog.appendTo(this._appendTo()),"buttons"===b&&this._createButtons(),"closeText"===b&&this.uiDialogTitlebarClose.button({label:a("<a>").text(""+this.options.closeText).html()}),"draggable"===b&&(d=f.is(":data(ui-draggable)"),d&&!c&&f.draggable("destroy"),!d&&c&&this._makeDraggable()),"position"===b&&this._position(),"resizable"===b&&(e=f.is(":data(ui-resizable)"),e&&!c&&f.resizable("destroy"),e&&"string"==typeof c&&f.resizable("option","handles",c),e||c===!1||this._makeResizable()),"title"===b&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return!!a(b.target).closest(".ui-dialog").length||!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay((function(){b=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=a("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),a.uiBackCompat!==!1&&a.widget("ui.dialog",a.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(a,b){"dialogClass"===a&&this.uiDialog.removeClass(this.options.dialogClass).addClass(b),this._superApply(arguments)}});a.ui.dialog;a.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?void(b=arguments[0]):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(c.scope),c.addClasses&&this._addClass("ui-droppable")},_addToManager:function(b){a.ui.ddmanager.droppables[b]=a.ui.ddmanager.droppables[b]||[],a.ui.ddmanager.droppables[b].push(this)},_splice:function(a){for(var b=0;b<a.length;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];this._splice(b)},_setOption:function(b,c){if("accept"===b)this.accept=a.isFunction(c)?c:function(a){return a.is(c)};else if("scope"===b){var d=a.ui.ddmanager.droppables[this.options.scope];this._splice(d),this._addToManager(c)}this._super(b,c)},_activate:function(b){var c=a.ui.ddmanager.current;this._addActiveClass(),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this._removeActiveClass(),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this._addHoverClass(),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this._removeHoverClass(),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return!(!d||(d.currentItem||d.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var c=a(this).droppable("instance");if(c.options.greedy&&!c.options.disabled&&c.options.scope===d.options.scope&&c.accept.call(c.element[0],d.currentItem||d.element)&&s(d,a.extend(c,{offset:c.element.offset()}),c.options.tolerance,b))return e=!0,!1})),!e&&(!!this.accept.call(this.element[0],d.currentItem||d.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",b,this.ui(d)),this.element)))},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var s=a.ui.intersect=(function(){function a(a,b,c){return a>=b&&a<b+c}return function(b,c,d,e){if(!c.offset)return!1;var f=(b.positionAbs||b.position.absolute).left+b.margins.left,g=(b.positionAbs||b.position.absolute).top+b.margins.top,h=f+b.helperProportions.width,i=g+b.helperProportions.height,j=c.offset.left,k=c.offset.top,l=j+c.proportions().width,m=k+c.proportions().height;switch(d){case"fit":return j<=f&&h<=l&&k<=g&&i<=m;case"intersect":return j<f+b.helperProportions.width/2&&h-b.helperProportions.width/2<l&&k<g+b.helperProportions.height/2&&i-b.helperProportions.height/2<m;case"pointer":return a(e.pageY,k,c.proportions().height)&&a(e.pageX,j,c.proportions().width);case"touch":return(g>=k&&g<=m||i>=k&&i<=m||g<k&&i>m)&&(f>=j&&f<=l||h>=j&&h<=l||f<j&&h>l);default:return!1}}})();a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;d<f.length;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;e<h.length;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&s(b,this,this.options.tolerance,c)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))})),d},dragStart:function(b,c){b.element.parentsUntil("body").on("scroll.droppable",(function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}))},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=s(b,this,this.options.tolerance,c),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter((function(){return a(this).droppable("instance").options.scope===e})),f.length&&(d=a(f[0]).droppable("instance"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}}))},dragStop:function(b,c){b.element.parentsUntil("body").off("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}},a.uiBackCompat!==!1&&a.widget("ui.droppable",a.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});a.ui.droppable,a.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=a("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),this._super(a,b)},_setOptionDisabled:function(a){this._super(a),this.element.attr("aria-disabled",a),this._toggleClass(null,"ui-state-disabled",!!a)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).width(c.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,b===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}}),a.widget("ui.selectable",a.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b.elementPos=a(b.element[0]).offset(),b.selectees=a(b.options.filter,b.element[0]),b._addClass(b.selectees,"ui-selectee"),b.selectees.each((function(){var c=a(this),d=c.offset(),e={left:d.left-b.elementPos.left,top:d.top-b.elementPos.top};a.data(this,"selectable-item",{element:this,$element:c,left:e.left,top:e.top,right:e.left+c.outerWidth(),bottom:e.top+c.outerHeight(),startselected:!1,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=a("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.elementPos=a(this.element[0]).offset(),this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(c._removeClass(d.$element,"ui-selected"),d.selected=!1,c._addClass(d.$element,"ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))})),a(b.target).parents().addBack().each((function(){var d,e=a.data(this,"selectable-item");if(e)return d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected"),c._removeClass(e.$element,d?"ui-unselecting":"ui-selected")._addClass(e.$element,d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element}),!1})))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;return f>h&&(c=h,h=f,f=c),g>i&&(c=i,i=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each((function(){var c=a.data(this,"selectable-item"),j=!1,k={};c&&c.element!==d.element[0]&&(k.left=c.left+d.elementPos.left,k.right=c.right+d.elementPos.left,k.top=c.top+d.elementPos.top,k.bottom=c.bottom+d.elementPos.top,"touch"===e.tolerance?j=!(k.left>h||k.right<f||k.top>i||k.bottom<g):"fit"===e.tolerance&&(j=k.left>f&&k.right<h&&k.top>g&&k.bottom<i),j?(c.selected&&(d._removeClass(c.$element,"ui-selected"),c.selected=!1),c.unselecting&&(d._removeClass(c.$element,"ui-unselecting"),c.unselecting=!1),c.selecting||(d._addClass(c.$element,"ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(d._removeClass(c.$element,"ui-selecting"),c.selecting=!1,d._addClass(c.$element,"ui-selected"),c.selected=!0):(d._removeClass(c.$element,"ui-selecting"),c.selecting=!1,c.startselected&&(d._addClass(c.$element,"ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(d._removeClass(c.$element,"ui-selected"),c.selected=!1,d._addClass(c.$element,"ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element})))))})),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each((function(){var d=a.data(this,"selectable-item");c._removeClass(d.$element,"ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})})),a(".ui-selecting",this.element[0]).each((function(){var d=a.data(this,"selectable-item");c._removeClass(d.$element,"ui-selecting")._addClass(d.$element,"ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})})),this._trigger("stop",b),this.helper.remove(),!1}}),a.widget("ui.selectmenu",[a.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var b=this.element.uniqueId().attr("id");this.ids={element:b,button:b+"-button",menu:b+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=a()},_drawButton:function(){var b,c=this,d=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(a){this.button.focus(),a.preventDefault()}}),this.element.hide(),this.button=a("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),b=a("<span>").appendTo(this.button),this._addClass(b,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(d).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){c._rendered||c._refreshMenu()}))},_drawMenu:function(){var b=this;this.menu=a("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=a("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(a,c){a.preventDefault(),b._setSelection(),b._select(c.item.data("ui-selectmenu-item"),a)},focus:function(a,c){var d=c.item.data("ui-selectmenu-item");null!=b.focusIndex&&d.index!==b.focusIndex&&(b._trigger("focus",a,{item:d}),b.isOpen||b._select(d,a)),b.focusIndex=d.index,b.button.attr("aria-activedescendant",b.menuItems.eq(d.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var a,b=this.element.find("option");this.menu.empty(),this._parseOptions(b),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,b.length&&(a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a)))},_position:function(){this.menuWrap.position(a.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(b){var c=a("<span>");return this._setText(c,b.label),this._addClass(c,"ui-selectmenu-text"),c},_renderMenu:function(b,c){var d=this,e="";a.each(c,(function(c,f){var g;f.optgroup!==e&&(g=a("<li>",{text:f.optgroup}),d._addClass(g,"ui-selectmenu-optgroup","ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),g.appendTo(b),e=f.optgroup),d._renderItemData(b,f)}))},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(b,c){var d=a("<li>"),e=a("<div>",{title:c.element.attr("title")});return c.disabled&&this._addClass(d,null,"ui-state-disabled"),this._setText(e,c.label),d.append(e).appendTo(b)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,b){var c,d,e=".ui-menu-item";this.isOpen?c=this.menuItems.eq(this.focusIndex).parent("li"):(c=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),e+=":not(.ui-state-disabled)"),d="first"===a||"last"===a?c["first"===a?"prevAll":"nextAll"](e).eq(-1):c[a+"All"](e).eq(0),d.length&&this.menuInstance.focus(b,d)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(b){this.isOpen&&(a(b.target).closest(".ui-selectmenu-menu, #"+a.ui.escapeSelector(this.ids.button)).length||this.close(b))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection(),this._toggle(a)},keydown:function(b){var c=!0;switch(b.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:this.close(b),c=!1;break;case a.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(b);break;case a.ui.keyCode.UP:b.altKey?this._toggle(b):this._move("prev",b);break;case a.ui.keyCode.DOWN:b.altKey?this._toggle(b):this._move("next",b);break;case a.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(b):this._toggle(b);break;case a.ui.keyCode.LEFT:this._move("prev",b);break;case a.ui.keyCode.RIGHT:this._move("next",b);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",b);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",b);break;default:this.menu.trigger(b),c=!1}c&&b.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex).parent("li");b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,b){var c=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(a)),this._setAria(a),this._trigger("select",b,{item:a}),a.index!==c&&this._trigger("change",b,{item:a}),this.close(b)},_setAria:function(a){var b=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":b,
"aria-activedescendant":b}),this.menu.attr("aria-activedescendant",b)},_setOption:function(a,b){if("icons"===a){var c=this.button.find("span.ui-icon");this._removeClass(c,null,this.options.icons.button)._addClass(c,null,b.button)}this._super(a,b),"appendTo"===a&&this.menuWrap.appendTo(this._appendTo()),"width"===a&&this._resizeButton()},_setOptionDisabled:function(a){this._super(a),this.menuInstance.option("disabled",a),this.button.attr("aria-disabled",a),this._toggleClass(this.button,null,"ui-state-disabled",a),this.element.prop("disabled",a),a?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front, dialog")),b.length||(b=this.document[0].body),b},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;return a===!1?void this.button.css("width",""):(null===a&&(a=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(a))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var a=this._super();return a.disabled=this.element.prop("disabled"),a},_parseOptions:function(b){var c=this,d=[];b.each((function(b,e){d.push(c._parseOption(a(e),b))})),this.items=d},_parseOption:function(a,b){var c=a.parent("optgroup");return{element:a,index:b,value:a.val(),label:a.text(),optgroup:c.attr("label")||"",disabled:c.prop("disabled")||a.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),a.widget("ui.slider",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle"),f="<span tabindex='0'></span>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;b<c;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(b){a(this).data("ui-slider-handle-index",b).attr("tabIndex",0)}))},_createRange:function(){var b=this.options;b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=a("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==b.range&&"max"!==b.range||this._addClass(this.range,"ui-slider-range-"+b.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each((function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)})),h=this._start(b,g),h!==!1&&(this._mouseSliding=!0,this._handleIndex=g,this._addClass(f,null,"ui-state-active"),f.trigger("focus"),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_uiHash:function(a,b,c){var d={handle:this.handles[a],handleIndex:a,value:void 0!==b?b:this.value()};return this._hasMultipleValues()&&(d.value=void 0!==b?b:this.values(a),d.values=c||this.values()),d},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(a,b){return this._trigger("start",a,this._uiHash(b))},_slide:function(a,b,c){var d,e,f=this.value(),g=this.values();this._hasMultipleValues()&&(e=this.values(b?0:1),f=this.values(b),2===this.options.values.length&&this.options.range===!0&&(c=0===b?Math.min(e,c):Math.max(e,c)),g[b]=c),c!==f&&(d=this._trigger("slide",a,this._uiHash(b,c,g)),d!==!1&&(this._hasMultipleValues()?this.values(b,c):this.value(c)))},_stop:function(a,b){this._trigger("stop",a,this._uiHash(b))},_change:function(a,b){this._keySliding||this._mouseSliding||(this._lastChangedValue=b,this._trigger("change",a,this._uiHash(b)))},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this._hasMultipleValues()?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),this._super(b,c),b){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(c),this.handles.css("horizontal"===c?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=e-1;d>=0;d--)this._change(null,d);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(a){this._super(a),this._toggleClass(null,"ui-state-disabled",!!a)},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this._hasMultipleValues()){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step,d=Math.round((a-b)/c)*c;a=d+b,a>this.options.max&&(a-=c),this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(a){"vertical"===a&&this.range.css({width:"",left:""}),"horizontal"===a&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=!this._animateOff&&h.animate,k={};this._hasMultipleValues()?this.handles.each((function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c})):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:100-c+"%"},h.animate),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:100-c+"%"},h.animate))},_handleEvents:{keydown:function(b){var c,d,e,f,g=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(a(b.target),null,"ui-state-active"),c=this._start(b,g),c===!1))return}switch(f=this.options.step,d=e=this._hasMultipleValues()?this.values(g):this.value(),b.keyCode){case a.ui.keyCode.HOME:e=this._valueMin();break;case a.ui.keyCode.END:e=this._valueMax();break;case a.ui.keyCode.PAGE_UP:e=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===this._valueMax())return;e=this._trimAlignValue(d+f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===this._valueMin())return;e=this._trimAlignValue(d-f)}this._slide(b,g,e)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),this._removeClass(a(b.target),null,"ui-state-active"))}}}),a.widget("ui.sortable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&a<b+c},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,b){this._super(a,b),"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){var b=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),a.each(this.items,(function(){b._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(b),a(b.target).parents().each((function(){if(a.data(this,f.widgetName+"-item")===f)return d=a(this),!1})),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),!!d&&(!(this.options.handle&&!c&&(a(this.options.handle,d).find("*").addBack().each((function(){this===b.target&&(e=!0)})),!e))&&(this.currentItem=d,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-this.document.scrollTop()<g.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-g.scrollSpeed):this.window.height()-(b.pageY-this.document.scrollTop())<g.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+g.scrollSpeed)),b.pageX-this.document.scrollLeft()<g.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-g.scrollSpeed):this.window.width()-(b.pageX-this.document.scrollLeft())<g.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&!(e===this.currentItem[0]||this.placeholder[1===f?"next":"prev"]()[0]===e||a.contains(this.placeholder[0],e)||"semi-dynamic"===this.options.type&&a.contains(this.element[0],e))){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,(function(){d._clear(b)}))}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new a.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each((function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))})),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each((function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")})),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&d+j<i,m="y"===this.options.axis||b+k>f&&b+k<g,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b,c,d="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),e="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),f=d&&e;return!!f&&(b=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection(),this.floating?"right"===c||"down"===b?2:1:b&&("down"===b?2:1))},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&c||"left"===e&&!c:d&&("down"===d&&b||"up"===d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d],this.document[0]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,(function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0}))},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c],this.document[0]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;d<j;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]);return b._addClass(e,"ui-sortable-placeholder",c||b.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===d?b._createTrPlaceholder(b.currentItem.find("tr").eq(0),a("<tr>",b.document[0]).appendTo(e)):"tr"===d?b._createTrPlaceholder(b.currentItem,e):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){c&&!d.forcePlaceholderSize||(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_createTrPlaceholder:function(b,c){var d=this;b.children().each((function(){a("<td>&#160;</td>",d.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(c)}))},_contactContainers:function(b){var c,d,e,f,g,h,i,j,k,l,m=null,n=null;for(c=this.containers.length-1;c>=0;c--)if(!a.contains(this.currentItem[0],this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(m&&a.contains(this.containers[c].element[0],m.element[0]))continue;m=this.containers[c],n=c}else this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",b,this._uiHash(this)),this.containers[c].containerCache.over=0);if(m)if(1===this.containers.length)this.containers[n].containerCache.over||(this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1);else{for(e=1e4,f=null,k=m.floating||this._isFloating(this.currentItem),g=k?"left":"top",h=k?"width":"height",l=k?"pageX":"pageY",d=this.items.length-1;d>=0;d--)a.contains(this.containers[n].element[0],this.items[d].item[0])&&this.items[d].item[0]!==this.currentItem[0]&&(i=this.items[d].item.offset()[g],j=!1,b[l]-i>this.items[d][h]/2&&(j=!0),Math.abs(b[l]-i)<e&&(e=Math.abs(b[l]-i),f=this.items[d],this.direction=j?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[n])return void(this.currentContainer.containerCache.over||(this.containers[n]._trigger("over",b,this._uiHash()),this.currentContainer.containerCache.over=1));f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.containers[n].element,!0),this._trigger("change",b,this._uiHash()),this.containers[n]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[n],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),d[0].style.width&&!c.forceHelperSize||d.width(this.currentItem.width()),d[0].style.height&&!c.forceHelperSize||d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),"document"!==e.containment&&"window"!==e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===e.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===e.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]);
},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay((function(){e===this.counter&&this.refreshPositions(!d)}))},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)"auto"!==this._storedCSS[d]&&"static"!==this._storedCSS[d]||(this._storedCSS[d]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push((function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push((function(a){this._trigger("update",a,this._uiHash())})),this!==this.currentContainer&&(b||(e.push((function(a){this._trigger("remove",a,this._uiHash())})),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}});a.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b=this._super(),c=this.element;return a.each(["min","max","step"],(function(a,d){var e=c.attr(d);null!=e&&e.length&&(b[d]=e)})),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(a)}),100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var b=this.element[0]===a.ui.safeActiveElement(this.document[0]);b||(this.element.trigger("focus"),this.previous=d,this._delay((function(){this.previous=d})))}var d;d=this.element[0]===a.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,c.call(this)})),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(a(b.currentTarget).hasClass("ui-state-active"))return this._start(b)!==!1&&void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_start:function(a){return!(!this.spinning&&this._trigger("start",a)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,b,c)}),a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){var c,d,e;return"culture"===a||"numberFormat"===a?(c=this._parse(this.element.val()),this.options[a]=b,void this.element.val(this._format(c))):("max"!==a&&"min"!==a&&"step"!==a||"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(d=this.buttons.first().find(".ui-icon"),this._removeClass(d,null,this.options.icons.up),this._addClass(d,null,b.up),e=this.buttons.last().find(".ui-icon"),this._removeClass(e,null,this.options.icons.down),this._addClass(e,null,b.down)),void this._super(a,b))},_setOptionDisabled:function(a){this._super(a),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!a),this.element.prop("disabled",!!a),this.buttons.button(a?"disable":"enable")},_setOptions:h((function(a){this._super(a)})),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null!==a&&a===this._adjustValue(a)},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h((function(a){this._stepUp(a)})),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:h((function(a){this._stepDown(a)})),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:h((function(a){this._stepUp((a||1)*this.options.page)})),pageDown:h((function(a){this._stepDown((a||1)*this.options.page)})),value:function(a){return arguments.length?void h(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),a.uiBackCompat!==!1&&a.widget("ui.spinner",a.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});a.ui.spinner;a.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var a=/#.*$/;return function(b){var c,d;c=b.href.replace(a,""),d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(e){}try{d=decodeURIComponent(d)}catch(e){}return b.hash.length>1&&c===d}})(),_create:function(){var b=this,c=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,c.collapsible),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),(function(a){return b.tabs.index(a)})))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(c.active):this.active=a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each((function(c,e){if(a(e).attr("aria-controls")===d)return b=c,!1})),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==b&&b!==-1||(b=!!this.tabs.length&&0)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),b===-1&&(b=!c&&0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(a.ui.safeActiveElement(this.document[0])).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d!==this.options.active&&d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||b.metaKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",d)}),this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),b<0&&(b=e),b}for(var e=this.tabs.length-1;a.inArray(d(),this.options.disabled)!==-1;)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).trigger("focus"),a},_setOption:function(a,b){return"active"===a?void this._activate(b):(this._super(a,b),"collapsible"===a&&(this._toggleClass("ui-tabs-collapsible",null,b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),(function(a){return c.index(a)})),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this,c=this.tabs,d=this.anchors,e=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return a("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=a(),this.anchors.each((function(c,d){var e,f,g,h=a(d).uniqueId().attr("id"),i=a(d).closest("li"),j=i.attr("aria-controls");b._isLocal(d)?(e=d.hash,g=e.substring(1),f=b.element.find(b._sanitizeSelector(e))):(g=i.attr("aria-controls")||a({}).uniqueId()[0].id,e="#"+g,f=b.element.find(e),f.length||(f=b._createPanel(g),f.insertAfter(b.panels[c-1]||b.tablist)),f.attr("aria-live","polite")),f.length&&(b.panels=b.panels.add(f)),j&&i.data("ui-tabs-aria-controls",j),i.attr({"aria-controls":g,"aria-labelledby":h}),f.attr("aria-labelledby",h)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),c&&(this._off(c.not(this.tabs)),this._off(d.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(b){var c,d,e;for(a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1),e=0;d=this.tabs[e];e++)c=a(d),b===!0||a.inArray(e,b)!==-1?(c.attr("aria-disabled","true"),this._addClass(c,null,"ui-state-disabled")):(c.removeAttr("aria-disabled"),this._removeClass(c,null,"ui-state-disabled"));this.options.disabled=b,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,b===!0)},_setupEvents:function(b){var c={};b&&a.each(b.split(" "),(function(a,b){c[b]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(a){a.preventDefault()}}),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){c-=a(this).outerHeight(!0)})),this.panels.each((function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))})).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each((function(){c=Math.max(c,a(this).height("").height())})).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=!h&&this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){f._addClass(c.newTab.closest("li"),"ui-tabs-active","ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,(function(){f._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),e()})):(this._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),h.hide(),e()),h.attr("aria-hidden","true"),c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter((function(){return 0===a(this).attr("tabIndex")})).attr("tabIndex",-1),g.attr("aria-hidden","false"),c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(b){return"string"==typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+a.ui.escapeSelector(b)+"']"))),b},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var c=this.options.disabled;c!==!1&&(void 0===b?c=!1:(b=this._getIndex(b),c=a.isArray(c)?a.map(c,(function(a){return a!==b?a:null})):a.map(this.tabs,(function(a,c){return c!==b?c:null}))),this._setOptionDisabled(c))},disable:function(b){var c=this.options.disabled;if(c!==!0){if(void 0===b)c=!0;else{if(b=this._getIndex(b),a.inArray(b,c)!==-1)return;c=a.isArray(c)?a.merge([b],c).sort():[b]}this._setOptionDisabled(c)}},load:function(b,c){b=this._getIndex(b);var d=this,e=this.tabs.eq(b),f=e.find(".ui-tabs-anchor"),g=this._getPanelForTab(e),h={tab:e,panel:g},i=function(a,b){"abort"===b&&d.panels.stop(!1,!0),d._removeClass(e,"ui-tabs-loading"),g.removeAttr("aria-busy"),a===d.xhr&&delete d.xhr};this._isLocal(f[0])||(this.xhr=a.ajax(this._ajaxSettings(f,c,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(e,"ui-tabs-loading"),g.attr("aria-busy","true"),this.xhr.done((function(a,b,e){setTimeout((function(){g.html(a),d._trigger("load",c,h),i(e,b)}),1)})).fail((function(a,b){setTimeout((function(){i(a,b)}),1)}))))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href").replace(/#.*$/,""),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),a.uiBackCompat!==!1&&a.widget("ui.tabs",a.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});a.ui.tabs;a.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))},_removeDescribedBy:function(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);e!==-1&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=a([])},_setOption:function(b,c){var d=this;this._super(b,c),"content"===b&&a.each(this.tooltips,(function(a,b){d._updateContent(b.element)}))},_setOptionDisabled:function(a){this[a?"_disable":"_enable"]()},_disable:function(){var b=this;a.each(this.tooltips,(function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d.element[0],b.close(e,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var b=a(this);if(b.is("[title]"))return b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})),this.disabledTitles=a([])},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each((function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))})),this._registerCloseHandlers(b,d),this._updateContent(d,b))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d||d.nodeType||d.jquery?this._open(b,a,d):(c=d.call(a[0],(function(c){e._delay((function(){a.data("ui-tooltip-open")&&(b&&(b.type=f),this._open(b,a,c))}))})),void(c&&this._open(b,a,c)))},_open:function(b,c,d){function e(a){j.of=a,g.is(":hidden")||g.position(j)}var f,g,h,i,j=a.extend({},this.options.position);if(d){if(f=this._find(c))return void f.tooltip.find(".ui-tooltip-content").html(d);c.is("[title]")&&(b&&"mouseover"===b.type?c.attr("title",""):c.removeAttr("title")),f=this._tooltip(c),g=f.tooltip,this._addDescribedBy(c,g.attr("id")),g.find(".ui-tooltip-content").html(d),this.liveRegion.children().hide(),i=a("<div>").html(g.find(".ui-tooltip-content").html()),i.removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:e}),e(b)):g.position(a.extend({of:c},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval((function(){g.is(":visible")&&(e(j.of),clearInterval(h))}),a.fx.interval)),this._trigger("open",b,{tooltip:g})}},_registerCloseHandlers:function(b,c){var d={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var d=a.Event(b);d.currentTarget=c[0],this.close(d,!0)}}};c[0]!==this.element[0]&&(d.remove=function(){this._removeTooltip(this._find(c).tooltip)}),b&&"mouseover"!==b.type||(d.mouseleave="close"),b&&"focusin"!==b.type||(d.focusout="close"),this._on(!0,c,d)},close:function(b){var c,d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);return f?(c=f.tooltip,void(f.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),f.hiding=!0,c.stop(!0),this._hide(c,this.options.hide,(function(){d._removeTooltip(a(this))})),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,(function(b,c){a(c.element).attr("title",c.title),delete d.parents[b]})),f.closing=!0,this._trigger("close",b,{tooltip:c}),f.hiding||(f.closing=!1)))):void e.removeData("ui-tooltip-open")},_tooltip:function(b){var c=a("<div>").attr("role","tooltip"),d=a("<div>").appendTo(c),e=c.uniqueId().attr("id");return this._addClass(d,"ui-tooltip-content"),this._addClass(c,"ui-tooltip","ui-widget ui-widget-content"),c.appendTo(this._appendTo(b)),this.tooltips[e]={element:b,tooltip:c}},_find:function(a){var b=a.data("ui-tooltip-id");return b?this.tooltips[b]:null},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_appendTo:function(a){var b=a.closest(".ui-front, dialog");return b.length||(b=this.document[0].body),b},_destroy:function(){var b=this;a.each(this.tooltips,(function(c,d){var e=a.Event("blur"),f=d.element;e.target=e.currentTarget=f[0],b.close(e,!0),a("#"+c).remove(),f.data("ui-tooltip-title")&&(f.attr("title")||f.attr("title",f.data("ui-tooltip-title")),f.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),a.uiBackCompat!==!1&&a.widget("ui.tooltip",a.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var a=this._superApply(arguments);return this.options.tooltipClass&&a.tooltip.addClass(this.options.tooltipClass),a}});a.ui.tooltip})),(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)})((function(a){var b=(function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return (function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!(function(b){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var c=r[a];delete r[a],t[a]=!0,m.apply(b,c)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||a,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{
if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[a],u):void 0,a&&(h&&h.exports!==b&&h.exports!==q[a]?q[a]=h.exports:l===b&&s||(q[a]=l))}else a&&(q[a]=d)},a=c=n=function(a,c,d,e,f){if("string"==typeof a)return p[a]?p[a](c):j(o(a,c).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(b,a,c,d):setTimeout((function(){m(b,a,c,d)}),4),n},n.config=function(a){return n(a)},a._defined=q,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},d.amd={jQuery:!0}})(),b.requirejs=a,b.require=c,b.define=d}})(),b.define("almond",(function(){})),b.define("jquery",[],(function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b})),b.define("select2/utils",["jquery"],(function(a){function b(a){var b=a.prototype,c=[];for(var d in b){var e=b[d];"function"==typeof e&&"constructor"!==d&&c.push(d)}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=(function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){var a=Array.prototype.unshift;return a.call(arguments,b),e.apply(this,arguments)}}),k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0]._type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;c<a;c++){var d=Math.floor(36*Math.random());b+=d.toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&&"visible"!==f)&&("scroll"===e||"scroll"===f||(d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth))},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,(function(a){return b[a]}))},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,(function(a){d=d.add(a)})),c=d}b.append(c)},c})),b.define("select2/results",["jquery","./utils"],(function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){var c=b.find(".select2-results");c.append(a)},c.prototype.sort=function(a){var b=this.options.get("sorter");return b(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var b=this;this.data.current((function(c){var d=a.map(c,(function(a){return a.id.toString()})),e=b.$results.find(".select2-results__option[aria-selected]");e.each((function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&a.inArray(e,d)>-1?b.attr("aria-selected","true"):b.attr("aria-selected","false")}))}))},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]);for(var e in d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group";a(h);this.template(b,h);for(var i=[],j=0;j<b.children.length;j++){var k=b.children[j],l=this.option(k);i.push(l)}var m=a("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});m.append(i),g.append(h),g.append(m)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b,c){var d=this,e=b.id+"-results";this.$results.attr("id",e),b.on("results:all",(function(a){d.clear(),d.append(a.data),b.isOpen()&&(d.setClasses(),d.highlightFirstItem())})),b.on("results:append",(function(a){d.append(a.data),b.isOpen()&&d.setClasses()})),b.on("query",(function(a){d.hideMessages(),d.showLoading(a)})),b.on("select",(function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())})),b.on("unselect",(function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())})),b.on("open",(function(){d.$results.attr("aria-expanded","true"),d.$results.attr("aria-hidden","false"),d.setClasses(),d.ensureHighlightVisible()})),b.on("close",(function(){d.$results.attr("aria-expanded","false"),d.$results.attr("aria-hidden","true"),d.$results.removeAttr("aria-activedescendant")})),b.on("results:toggle",(function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")})),b.on("results:select",(function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close",{}):d.trigger("select",{data:b})}})),b.on("results:previous",(function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var e=c-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top,h=f.offset().top,i=d.$results.scrollTop()+(h-g);0===e?d.$results.scrollTop(0):h-g<0&&d.$results.scrollTop(i)}})),b.on("results:next",(function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a),e=c+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=d.$results.scrollTop()+h-g;0===e?d.$results.scrollTop(0):h>g&&d.$results.scrollTop(i)}})),b.on("results:focus",(function(a){a.element.addClass("select2-results__option--highlighted")})),b.on("results:message",(function(a){d.displayMessage(a)})),a.fn.mousewheel&&this.$results.on("mousewheel",(function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-b+a.deltaY,e=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=d.$results.height();e?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())})),this.$results.on("mouseup",".select2-results__option[aria-selected]",(function(b){var c=a(this),e=c.data("data");return"true"===c.attr("aria-selected")?void(d.options.get("multiple")?d.trigger("unselect",{originalEvent:b,data:e}):d.trigger("close",{})):void d.trigger("select",{originalEvent:b,data:e})})),this.$results.on("mouseenter",".select2-results__option[aria-selected]",(function(b){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted"),d.trigger("results:focus",{data:c,element:a(this)})}))},c.prototype.getHighlightedResults=function(){var a=this.$results.find(".select2-results__option--highlighted");return a},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),c<=2?this.$results.scrollTop(0):(g>this.$results.outerHeight()||g<0)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c})),b.define("select2/keys",[],(function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return a})),b.define("select2/selection/base",["jquery","../utils","../keys"],(function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b,b},d.prototype.bind=function(a,b){var d=this,e=(a.id+"-container",a.id+"-results");this.container=a,this.$selection.on("focus",(function(a){d.trigger("focus",a)})),this.$selection.on("blur",(function(a){d._handleBlur(a)})),this.$selection.on("keydown",(function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()})),a.on("results:focus",(function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)})),a.on("selection:update",(function(a){d.update(a.data)})),a.on("open",(function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)})),a.on("close",(function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)})),a.on("enable",(function(){d.$selection.attr("tabindex",d._tabindex)})),a.on("disable",(function(){d.$selection.attr("tabindex","-1")}))},d.prototype._handleBlur=function(b){var c=this;window.setTimeout((function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)}),1)},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,(function(b){var c=a(b.target),d=c.closest(".select2"),e=a(".select2.select2-container--open");e.each((function(){var b=a(this);if(this!=d[0]){var c=b.data("element");c.select2("close")}}))}))},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){var c=b.find(".selection");c.append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d})),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",(function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})})),this.$selection.on("focus",(function(a){})),this.$selection.on("blur",(function(a){})),a.on("focus",(function(b){a.isOpen()||c.$selection.focus()})),a.on("selection:update",(function(a){c.update(a.data)}))},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.prop("title",b.title||b.text)},e})),b.define("select2/selection/multiple",["jquery","./base","../utils"],(function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,c){var e=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",(function(a){e.trigger("toggle",{originalEvent:a})})),this.$selection.on("click",".select2-selection__choice__remove",(function(b){if(!e.options.get("disabled")){var c=a(this),d=c.parent(),f=d.data("data");e.trigger("unselect",{originalEvent:b,data:f})}}))},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},d.prototype.selectionContainer=function(){var b=a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return b},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.prop("title",e.title||e.text),f.data("data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d})),b.define("select2/selection/placeholder",["../utils"],(function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id,d=b.length>1;if(d||c)return a.call(this,b);this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},b})),b.define("select2/selection/allowClear",["jquery","../keys"],(function(a,b){function c(){}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(a){d._handleClear(a)})),b.on("keypress",(function(a){d._handleKeyboardClear(a,b)}))},c.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var c=this.$selection.find(".select2-selection__clear");if(0!==c.length){b.stopPropagation();for(var d=c.data("data"),e=0;e<d.length;e++){var f={data:d[e]};if(this.trigger("unselect",f),f.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||c.which!=b.DELETE&&c.which!=b.BACKSPACE||this._handleClear(c)},c.prototype.update=function(b,c){if(b.call(this,c),!(this.$selection.find(".select2-selection__placeholder").length>0||0===c.length)){var d=a('<span class="select2-selection__clear">&times;</span>');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},c})),b.define("select2/selection/search",["jquery","../utils","../keys"],(function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",(function(){e.$search.trigger("focus")})),b.on("close",(function(){e.$search.val(""),e.$search.removeAttr("aria-activedescendant"),e.$search.trigger("focus")})),b.on("enable",(function(){e.$search.prop("disabled",!1),e._transferTabIndex()})),b.on("disable",(function(){e.$search.prop("disabled",!0)})),b.on("focus",(function(a){e.$search.trigger("focus")})),b.on("results:focus",(function(a){e.$search.attr("aria-activedescendant",a.id)})),this.$selection.on("focusin",".select2-search--inline",(function(a){e.trigger("focus",a)})),this.$selection.on("focusout",".select2-search--inline",(function(a){e._handleBlur(a)})),this.$selection.on("keydown",".select2-search--inline",(function(a){a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented();var b=a.which;if(b===c.BACKSPACE&&""===e.$search.val()){var d=e.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var f=d.data("data");e.searchRemoveChoice(f),a.preventDefault()}}}));var f=document.documentMode,g=f&&f<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(a){return g?void e.$selection.off("input.search input.searchcheck"):void e.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(a){if(g&&"input"===a.type)return void e.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&e.handleSearch(a)}))},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{var b=this.$search.val().length+1;a=.75*b+"em"}this.$search.css("width",a)},d})),b.define("select2/selection/eventRelay",["jquery"],(function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",(function(b,c){if(a.inArray(b,f)!==-1){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),a.inArray(b,g)!==-1&&(c.prevented=d.isDefaultPrevented())}}))},b})),b.define("select2/translation",["jquery","require"],(function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c})),b.define("select2/diacritics",[],(function(){var a={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return a})),b.define("select2/data/base",["../utils"],(function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),d+=null!=c.id?"-"+c.id.toString():"-"+a.generateChars(4)},b})),b.define("select2/data/select",["./base","../utils","jquery"],(function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each((function(){var a=c(this),e=d.item(a);b.push(e)})),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current((function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;c.inArray(g,e)===-1&&e.push(g)}b.$element.val(e),b.$element.trigger("change")}));else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple"))return a.selected=!1,c(a.element).is("option")?(a.element.selected=!1,void this.$element.trigger("change")):void this.current((function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&c.inArray(g,e)===-1&&e.push(g)}b.$element.val(e),b.$element.trigger("change")}))},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",(function(a){c.select(a.data)})),a.on("unselect",(function(a){c.unselect(a.data)}))},d.prototype.destroy=function(){this.$element.find("*").each((function(){c.removeData(this,"data")}))},d.prototype.query=function(a,b){var d=[],e=this,f=this.$element.children();f.each((function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}})),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup"),b.label=a.text):(b=document.createElement("option"),void 0!==b.textContent?b.textContent=a.text:b.innerText=a.text),a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(b=c.data(a[0],"data"),null!=b)return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return b=this._normalizeItem(b),b.element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){
var c=this.options.get("matcher");return c(a,b)},d})),b.define("select2/data/array",["./select","../utils","jquery"],(function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter((function(b,c){return c.value==a.id.toString()}));0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map((function(){return e.item(c(this)).id})).get(),h=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,g)>=0){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d})),b.define("select2/data/ajax",["./array","../utils","jquery"],(function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,(function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)}),(function(){d.status&&"0"===d.status||e.trigger("results:message",{message:"errorLoading"})}));e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d})),b.define("select2/data/tags",["jquery"],(function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0),k=i.text===b.term;if(k||j)return!f&&(a.data=g,void c(a))}if(f)return!0;var l=e.createTag(b);if(null!=l){var m=e.option(l);m.attr("data-select2-tag",!0),e.addOptions([m]),e.insertTag(g,l)}a.results=g,c(a)}var e=this;return this._removeOldTags(),null==b.term||null!=b.page?void a.call(this,b,c):void a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){var c=(this._lastTag,this.$element.find("option[data-select2-tag]"));c.each((function(){this.selected||a(this).remove()}))},b})),b.define("select2/data/tokenizer",["jquery"],(function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){function e(b){var c=g._normalizeItem(b),d=g.$element.find("option").filter((function(){return a(this).val()===c.id}));if(!d.length){var e=g.option(c);e.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([e])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(a.inArray(j,f)!==-1){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b})),b.define("select2/data/minimumInputLength",[],(function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",b.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a})),b.define("select2/data/maximumInputLength",[],(function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a})),b.define("select2/data/maximumSelectionLength",[],(function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current((function(e){var f=null!=e?e.length:0;return d.maximumSelectionLength>0&&f>=d.maximumSelectionLength?void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}):void a.call(d,b,c)}))},a})),b.define("select2/dropdown",["jquery","./utils"],(function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c})),b.define("select2/dropdown/search",["jquery","../utils"],(function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",(function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()})),this.$search.on("input",(function(b){a(this).off("keyup")})),this.$search.on("keyup input",(function(a){e.handleSearch(a)})),c.on("open",(function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout((function(){e.$search.focus()}),0)})),c.on("close",(function(){e.$search.attr("tabindex",-1),e.$search.val("")})),c.on("focus",(function(){c.isOpen()&&e.$search.focus()})),c.on("results:all",(function(a){if(null==a.query.term||""===a.query.term){var b=e.showSearch(a);b?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}}))},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c})),b.define("select2/dropdown/hidePlaceholder",[],(function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a})),b.define("select2/dropdown/infiniteScroll",["jquery"],(function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",(function(a){e.lastParams=a,e.loading=!0})),c.on("query:append",(function(a){e.lastParams=a,e.loading=!0})),this.$results.on("scroll",(function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){var c=e.$results.offset().top+e.$results.outerHeight(!1),d=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1);c+50>=d&&e.loadMore()}}))},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b})),b.define("select2/dropdown/attachBody",["jquery","../utils"],(function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",(function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",(function(){d._positionDropdown(),d._resizeDropdown()})),b.on("results:append",(function(){d._positionDropdown(),d._resizeDropdown()})))})),b.on("close",(function(){d._hideDropdown(),d._detachPositioningHandler(b)})),this.$dropdownContainer.on("mousedown",(function(a){a.stopPropagation()}))},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each((function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})})),i.on(f,(function(b){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)})),a(window).on(f+" "+g+" "+h,(function(a){e._positionDropdown(),e._resizeDropdown()}))},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id,h=this.$container.parents().filter(b.hasScroll);h.off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c})),b.define("select2/dropdown/minimumResultsForSearch",[],(function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(a(c.data.results)<this.minimumResultsForSearch)&&b.call(this,c)},b})),b.define("select2/dropdown/selectOnClose",[],(function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",(function(a){d._handleSelectOnClose(a)}))},a.prototype._handleSelectOnClose=function(a,b){if(b&&null!=b.originalSelect2Event){var c=b.originalSelect2Event;if("select"===c._type||"unselect"===c._type)return}var d=this.getHighlightedResults();if(!(d.length<1)){var e=d.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},a})),b.define("select2/dropdown/closeOnSelect",[],(function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",(function(a){d._selectTriggered(a)})),b.on("unselect",(function(a){d._selectTriggered(a)}))},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a})),b.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){var b=a.minimum-a.input.length,c="Please enter "+b+" or more characters";return c},loadingMore:function(){return"Loading more results"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching"}}})),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(O){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(P){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var Q=k.loadPath(this.defaults.amdLanguageBase+"en"),R=new k(l.language);R.extend(Q),l.translations=R}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){var h=e.children[g],i=c(d,h);null==i&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var j=b(e.text).toUpperCase(),k=b(d.term).toUpperCase();return j.indexOf(k)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(this.defaults,f)};var E=new D;return E})),b.define("select2/options",["require","jquery","./defaults","./utils"],(function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),a.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.data("data",a.data("select2Tags")),a.data("tags",!0)),a.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),a.data("ajax--url",a.data("ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,a.data()):a.data();var f=b.extend(!0,{},e);f=d._convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e})),b.define("select2/core",["jquery","./options","./utils","./keys"],(function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(a){k.trigger("selection:update",{data:a})})),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e<=0?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h<i;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",(function(){b.dataAdapter.current((function(a){b.trigger("selection:update",{data:a})}))})),this.$element.on("focus.select2",(function(a){b.trigger("focus",a)})),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",(function(b,c){a.trigger(b,c)}))},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",(function(){b.toggleDropdown()})),this.selection.on("focus",(function(a){b.focus(a)})),this.selection.on("*",(function(d,e){a.inArray(d,c)===-1&&b.trigger(d,e)}))},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",(function(b,c){a.trigger(b,c)}))},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",(function(b,c){a.trigger(b,c)}))},e.prototype._registerEvents=function(){var a=this;this.on("open",(function(){a.$container.addClass("select2-container--open")})),this.on("close",(function(){a.$container.removeClass("select2-container--open")})),this.on("enable",(function(){a.$container.removeClass("select2-container--disabled")})),this.on("disable",(function(){a.$container.addClass("select2-container--disabled")})),this.on("blur",(function(){a.$container.removeClass("select2-container--focus")})),this.on("query",(function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,(function(c){a.trigger("results:all",{data:c,query:b})}))})),this.on("query:append",(function(b){this.dataAdapter.query(b,(function(c){a.trigger("results:append",{data:c,query:b})}))})),this.on("keypress",(function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())}))},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current((function(a){d.trigger("selection:update",{data:a})}))}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=a&&0!==a.length||(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current((function(b){a=b})),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,(function(a){return a.toString()}))),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b},e})),b.define("jquery-mousewheel",["jquery"],(function(a){return a})),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],(function(a,b,c,d){if(null==a.fn.select2){var e=["open","close","destroy"];a.fn.select2=function(b){if(b=b||{},"object"==typeof b)return this.each((function(){var d=a.extend(!0,{},b);new c(a(this),d)})),this;if("string"==typeof b){var d,f=Array.prototype.slice.call(arguments,1);return this.each((function(){var c=a(this).data("select2");null==c&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=c[b].apply(c,f)})),a.inArray(b,e)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c})),{define:b.define,require:b.require}})(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c})),(function(a){"function"==typeof define&&define.amd?define(["jquery"],(function(b){return a(b,window,document)})):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c||(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,b,b.document)}:a(jQuery,window,document)})((function(a,b,c,d){function e(b){var c,d,f={};a.each(b,(function(a){(c=a.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(c[1]+" ")&&(d=a.replace(c[0],c[2].toLowerCase()),f[d]=a,"o"===c[1]&&e(b[a]))})),b._hungarianMap=f}function f(b,c,g){b._hungarianMap||e(b);var h;a.each(c,(function(e){h=b._hungarianMap[e],h===d||!g&&c[h]!==d||("o"===h.charAt(0)?(c[h]||(c[h]={}),a.extend(!0,c[h],c[e]),f(b[h],c[h],g)):c[h]=c[e])}))}function g(a){var b=Ua.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&c&&"No data available in table"===b.sEmptyTable&&Fa(a,a,"sZeroRecords","sEmptyTable"),!a.sLoadingRecords&&c&&"Loading..."===b.sLoadingRecords&&Fa(a,a,"sZeroRecords","sLoadingRecords"),a.sInfoThousands&&(a.sThousands=a.sInfoThousands),(a=a.sDecimal)&&Oa(a)}function h(a){if(kb(a,"ordering","bSort"),kb(a,"orderMulti","bSortMulti"),kb(a,"orderClasses","bSortClasses"),
kb(a,"orderCellsTop","bSortCellsTop"),kb(a,"order","aaSorting"),kb(a,"orderFixed","aaSortingFixed"),kb(a,"paging","bPaginate"),kb(a,"pagingType","sPaginationType"),kb(a,"pageLength","iDisplayLength"),kb(a,"searching","bFilter"),"boolean"==typeof a.sScrollX&&(a.sScrollX=a.sScrollX?"100%":""),"boolean"==typeof a.scrollX&&(a.scrollX=a.scrollX?"100%":""),a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&f(Ua.models.oSearch,a[b])}function i(b){kb(b,"orderable","bSortable"),kb(b,"orderData","aDataSort"),kb(b,"orderSequence","asSorting"),kb(b,"orderDataType","sortDataType");var c=b.aDataSort;c&&!a.isArray(c)&&(b.aDataSort=[c])}function j(b){if(!Ua.__browser){var c={};Ua.__browser=c;var d=a("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(a("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(a("<div/>").css({width:"100%",height:10}))).appendTo("body"),e=d.children(),f=e.children();c.barWidth=e[0].offsetWidth-e[0].clientWidth,c.bScrollOversize=100===f[0].offsetWidth&&100!==e[0].clientWidth,c.bScrollbarLeft=1!==Math.round(f.offset().left),c.bBounding=!!d[0].getBoundingClientRect().width,d.remove()}a.extend(b.oBrowser,Ua.__browser),b.oScroll.iBarWidth=Ua.__browser.barWidth}function k(a,b,c,e,f,g){var h,i=!1;for(c!==d&&(h=c,i=!0);e!==f;)a.hasOwnProperty(e)&&(h=i?b(h,a[e],e,a):a[e],i=!0,e+=g);return h}function l(b,d){var e=Ua.defaults.column,f=b.aoColumns.length,e=a.extend({},Ua.models.oColumn,e,{nTh:d?d:c.createElement("th"),sTitle:e.sTitle?e.sTitle:d?d.innerHTML:"",aDataSort:e.aDataSort?e.aDataSort:[f],mData:e.mData?e.mData:f,idx:f});b.aoColumns.push(e),e=b.aoPreSearchCols,e[f]=a.extend({},Ua.models.oSearch,e[f]),m(b,f,a(d).data())}function m(b,c,e){var c=b.aoColumns[c],g=b.oClasses,h=a(c.nTh);if(!c.sWidthOrig){c.sWidthOrig=h.attr("width")||null;var j=(h.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);j&&(c.sWidthOrig=j[1])}e!==d&&null!==e&&(i(e),f(Ua.defaults.column,e),e.mDataProp!==d&&!e.mData&&(e.mData=e.mDataProp),e.sType&&(c._sManualType=e.sType),e.className&&!e.sClass&&(e.sClass=e.className),a.extend(c,e),Fa(c,e,"sWidth","sWidthOrig"),e.iDataSort!==d&&(c.aDataSort=[e.iDataSort]),Fa(c,e,"aDataSort"));var k=c.mData,l=z(k),m=c.mRender?z(c.mRender):null,e=function(a){return"string"==typeof a&&-1!==a.indexOf("@")};c._bAttrSrc=a.isPlainObject(k)&&(e(k.sort)||e(k.type)||e(k.filter)),c._setter=null,c.fnGetData=function(a,b,c){var e=l(a,b,d,c);return m&&b?m(e,b,a,c):e},c.fnSetData=function(a,b,c){return A(k)(a,b,c)},"number"!=typeof k&&(b._rowReadObject=!0),b.oFeatures.bSort||(c.bSortable=!1,h.addClass(g.sSortableNone)),b=-1!==a.inArray("asc",c.asSorting),e=-1!==a.inArray("desc",c.asSorting),c.bSortable&&(b||e)?b&&!e?(c.sSortingClass=g.sSortableAsc,c.sSortingClassJUI=g.sSortJUIAscAllowed):!b&&e?(c.sSortingClass=g.sSortableDesc,c.sSortingClassJUI=g.sSortJUIDescAllowed):(c.sSortingClass=g.sSortable,c.sSortingClassJUI=g.sSortJUI):(c.sSortingClass=g.sSortableNone,c.sSortingClassJUI="")}function n(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;pa(a);for(var c=0,d=b.length;c<d;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll,(""!==b.sY||""!==b.sX)&&na(a),Ja(a,null,"column-sizing",[a])}function o(a,b){var c=r(a,"bVisible");return"number"==typeof c[b]?c[b]:null}function p(b,c){var d=r(b,"bVisible"),d=a.inArray(c,d);return-1!==d?d:null}function q(b){var c=0;return a.each(b.aoColumns,(function(b,d){d.bVisible&&"none"!==a(d.nTh).css("display")&&c++})),c}function r(b,c){var d=[];return a.map(b.aoColumns,(function(a,b){a[c]&&d.push(b)})),d}function s(a){var b,c,e,f,g,h,i,j,k,l=a.aoColumns,m=a.aoData,n=Ua.ext.type.detect;for(b=0,c=l.length;b<c;b++)if(i=l[b],k=[],!i.sType&&i._sManualType)i.sType=i._sManualType;else if(!i.sType){for(e=0,f=n.length;e<f;e++){for(g=0,h=m.length;g<h&&(k[g]===d&&(k[g]=w(a,g,b,"type")),j=n[e](k[g],a),j||e===n.length-1)&&"html"!==j;g++);if(j){i.sType=j;break}}i.sType||(i.sType="string")}}function t(b,c,e,f){var g,h,i,j,k,m,n=b.aoColumns;if(c)for(g=c.length-1;0<=g;g--){m=c[g];var o=m.targets!==d?m.targets:m.aTargets;for(a.isArray(o)||(o=[o]),h=0,i=o.length;h<i;h++)if("number"==typeof o[h]&&0<=o[h]){for(;n.length<=o[h];)l(b);f(o[h],m)}else if("number"==typeof o[h]&&0>o[h])f(n.length+o[h],m);else if("string"==typeof o[h])for(j=0,k=n.length;j<k;j++)("_all"==o[h]||a(n[j].nTh).hasClass(o[h]))&&f(j,m)}if(e)for(g=0,b=e.length;g<b;g++)f(g,e[g])}function u(b,c,e,f){var g=b.aoData.length,h=a.extend(!0,{},Ua.models.oRow,{src:e?"dom":"data",idx:g});h._aData=c,b.aoData.push(h);for(var i=b.aoColumns,j=0,k=i.length;j<k;j++)i[j].sType=null;return b.aiDisplayMaster.push(g),c=b.rowIdFn(c),c!==d&&(b.aIds[c]=h),(e||!b.oFeatures.bDeferRender)&&G(b,g,e,f),g}function v(b,c){var d;return c instanceof a||(c=a(c)),c.map((function(a,c){return d=F(b,c),u(b,d.data,c,d.cells)}))}function w(a,b,c,e){var f=a.iDraw,g=a.aoColumns[c],h=a.aoData[b]._aData,i=g.sDefaultContent,j=g.fnGetData(h,e,{settings:a,row:b,col:c});if(j===d)return a.iDrawError!=f&&null===i&&(Ea(a,0,"Requested unknown parameter "+("function"==typeof g.mData?"{function}":"'"+g.mData+"'")+" for row "+b+", column "+c,4),a.iDrawError=f),i;if(j!==h&&null!==j||null===i||e===d){if("function"==typeof j)return j.call(h)}else j=i;return null===j&&"display"==e?"":j}function x(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d,{settings:a,row:b,col:c})}function y(b){return a.map(b.match(/(\\.|[^\.])+/g)||[""],(function(a){return a.replace(/\\./g,".")}))}function z(b){if(a.isPlainObject(b)){var c={};return a.each(b,(function(a,b){b&&(c[a]=z(b))})),function(a,b,e,f){var g=c[b]||c._;return g!==d?g(a,b,e,f):a}}if(null===b)return function(a){return a};if("function"==typeof b)return function(a,c,d,e){return b(a,c,d,e)};if("string"==typeof b&&(-1!==b.indexOf(".")||-1!==b.indexOf("[")||-1!==b.indexOf("("))){var e=function(b,c,f){var g,h;if(""!==f){h=y(f);for(var i=0,j=h.length;i<j;i++){if(f=h[i].match(lb),g=h[i].match(mb),f){if(h[i]=h[i].replace(lb,""),""!==h[i]&&(b=b[h[i]]),g=[],h.splice(0,i+1),h=h.join("."),a.isArray(b))for(i=0,j=b.length;i<j;i++)g.push(e(b[i],c,h));b=f[0].substring(1,f[0].length-1),b=""===b?g:g.join(b);break}if(g)h[i]=h[i].replace(mb,""),b=b[h[i]]();else{if(null===b||b[h[i]]===d)return d;b=b[h[i]]}}}return b};return function(a,c){return e(a,c,b)}}return function(a){return a[b]}}function A(b){if(a.isPlainObject(b))return A(b._);if(null===b)return function(){};if("function"==typeof b)return function(a,c,d){b(a,"set",c,d)};if("string"==typeof b&&(-1!==b.indexOf(".")||-1!==b.indexOf("[")||-1!==b.indexOf("("))){var c=function(b,e,f){var g,f=y(f);g=f[f.length-1];for(var h,i,j=0,k=f.length-1;j<k;j++){if(h=f[j].match(lb),i=f[j].match(mb),h){if(f[j]=f[j].replace(lb,""),b[f[j]]=[],g=f.slice(),g.splice(0,j+1),h=g.join("."),a.isArray(e))for(i=0,k=e.length;i<k;i++)g={},c(g,e[i],h),b[f[j]].push(g);else b[f[j]]=e;return}i&&(f[j]=f[j].replace(mb,""),b=b[f[j]](e)),null!==b[f[j]]&&b[f[j]]!==d||(b[f[j]]={}),b=b[f[j]]}g.match(mb)?b[g.replace(mb,"")](e):b[g.replace(lb,"")]=e};return function(a,d){return c(a,d,b)}}return function(a,c){a[b]=c}}function B(a){return fb(a.aoData,"_aData")}function C(a){a.aoData.length=0,a.aiDisplayMaster.length=0,a.aiDisplay.length=0,a.aIds={}}function D(a,b,c){for(var e=-1,f=0,g=a.length;f<g;f++)a[f]==b?e=f:a[f]>b&&a[f]--;-1!=e&&c===d&&a.splice(e,1)}function E(a,b,c,e){var f,g=a.aoData[b],h=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=w(a,b,d,"display")};if("dom"!==c&&(c&&"auto"!==c||"dom"!==g.src)){var i=g.anCells;if(i)if(e!==d)h(i[e],e);else for(c=0,f=i.length;c<f;c++)h(i[c],c)}else g._aData=F(a,g,e,e===d?d:g._aData).data;if(g._aSortData=null,g._aFilterData=null,h=a.aoColumns,e!==d)h[e].sType=null;else{for(c=0,f=h.length;c<f;c++)h[c].sType=null;H(a,g)}}function F(b,c,e,f){var g,h,i,j=[],k=c.firstChild,l=0,m=b.aoColumns,n=b._rowReadObject,f=f!==d?f:n?{}:[],o=function(a,b){if("string"==typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),A(a)(f,b.getAttribute(c)))}},p=function(b){e!==d&&e!==l||(h=m[l],i=a.trim(b.innerHTML),h&&h._bAttrSrc?(A(h.mData._)(f,i),o(h.mData.sort,b),o(h.mData.type,b),o(h.mData.filter,b)):n?(h._setter||(h._setter=A(h.mData)),h._setter(f,i)):f[l]=i),l++};if(k)for(;k;)g=k.nodeName.toUpperCase(),"TD"!=g&&"TH"!=g||(p(k),j.push(k)),k=k.nextSibling;else for(j=c.anCells,k=0,g=j.length;k<g;k++)p(j[k]);return(c=c.firstChild?c:c.nTr)&&(c=c.getAttribute("id"))&&A(b.rowId)(f,c),{data:f,cells:j}}function G(b,d,e,f){var g,h,i,j,k,l=b.aoData[d],m=l._aData,n=[];if(null===l.nTr){for(g=e||c.createElement("tr"),l.nTr=g,l.anCells=n,g._DT_RowIndex=d,H(b,l),j=0,k=b.aoColumns.length;j<k;j++)i=b.aoColumns[j],h=e?f[j]:c.createElement(i.sCellType),h._DT_CellIndex={row:d,column:j},n.push(h),e&&!i.mRender&&i.mData===j||a.isPlainObject(i.mData)&&i.mData._===j+".display"||(h.innerHTML=w(b,d,j,"display")),i.sClass&&(h.className+=" "+i.sClass),i.bVisible&&!e?g.appendChild(h):!i.bVisible&&e&&h.parentNode.removeChild(h),i.fnCreatedCell&&i.fnCreatedCell.call(b.oInstance,h,w(b,d,j),m,d,j);Ja(b,"aoRowCreatedCallback",null,[g,m,d])}l.nTr.setAttribute("role","row")}function H(b,c){var d=c.nTr,e=c._aData;if(d){var f=b.rowIdFn(e);f&&(d.id=f),e.DT_RowClass&&(f=e.DT_RowClass.split(" "),c.__rowc=c.__rowc?jb(c.__rowc.concat(f)):f,a(d).removeClass(c.__rowc.join(" ")).addClass(e.DT_RowClass)),e.DT_RowAttr&&a(d).attr(e.DT_RowAttr),e.DT_RowData&&a(d).data(e.DT_RowData)}}function I(b){var c,d,e,f,g,h=b.nTHead,i=b.nTFoot,j=0===a("th, td",h).length,k=b.oClasses,l=b.aoColumns;for(j&&(f=a("<tr/>").appendTo(h)),c=0,d=l.length;c<d;c++)g=l[c],e=a(g.nTh).addClass(g.sClass),j&&e.appendTo(f),b.oFeatures.bSort&&(e.addClass(g.sSortingClass),!1!==g.bSortable&&(e.attr("tabindex",b.iTabIndex).attr("aria-controls",b.sTableId),ya(b,g.nTh,c))),g.sTitle!=e[0].innerHTML&&e.html(g.sTitle),La(b,"header")(b,e,g,k);if(j&&N(b.aoHeader,h),a(h).find(">tr").attr("role","row"),a(h).find(">tr>th, >tr>td").addClass(k.sHeaderTH),a(i).find(">tr>th, >tr>td").addClass(k.sFooterTH),null!==i)for(b=b.aoFooter[0],c=0,d=b.length;c<d;c++)g=l[c],g.nTf=b[c].cell,g.sClass&&a(g.nTf).addClass(g.sClass)}function J(b,c,e){var f,g,h,i,j=[],k=[],l=b.aoColumns.length;if(c){for(e===d&&(e=!1),f=0,g=c.length;f<g;f++){for(j[f]=c[f].slice(),j[f].nTr=c[f].nTr,h=l-1;0<=h;h--)!b.aoColumns[h].bVisible&&!e&&j[f].splice(h,1);k.push([])}for(f=0,g=j.length;f<g;f++){if(b=j[f].nTr)for(;h=b.firstChild;)b.removeChild(h);for(h=0,c=j[f].length;h<c;h++)if(i=l=1,k[f][h]===d){for(b.appendChild(j[f][h].cell),k[f][h]=1;j[f+l]!==d&&j[f][h].cell==j[f+l][h].cell;)k[f+l][h]=1,l++;for(;j[f][h+i]!==d&&j[f][h].cell==j[f][h+i].cell;){for(e=0;e<l;e++)k[f+e][h+i]=1;i++}a(j[f][h].cell).attr("rowspan",l).attr("colspan",i)}}}}function K(b){var c=Ja(b,"aoPreDrawCallback","preDraw",[b]);if(-1!==a.inArray(!1,c))la(b,!1);else{var c=[],e=0,f=b.asStripeClasses,g=f.length,h=b.oLanguage,i=b.iInitDisplayStart,j="ssp"==Ma(b),k=b.aiDisplay;b.bDrawing=!0,i!==d&&-1!==i&&(b._iDisplayStart=j?i:i>=b.fnRecordsDisplay()?0:i,b.iInitDisplayStart=-1);var i=b._iDisplayStart,l=b.fnDisplayEnd();if(b.bDeferLoading)b.bDeferLoading=!1,b.iDraw++,la(b,!1);else if(j){if(!b.bDestroying&&!Q(b))return}else b.iDraw++;if(0!==k.length)for(h=j?b.aoData.length:l,j=j?0:i;j<h;j++){var m=k[j],n=b.aoData[m];if(null===n.nTr&&G(b,m),m=n.nTr,0!==g){var o=f[e%g];n._sRowStripe!=o&&(a(m).removeClass(n._sRowStripe).addClass(o),n._sRowStripe=o)}Ja(b,"aoRowCallback",null,[m,n._aData,e,j]),c.push(m),e++}else e=h.sZeroRecords,1==b.iDraw&&"ajax"==Ma(b)?e=h.sLoadingRecords:h.sEmptyTable&&0===b.fnRecordsTotal()&&(e=h.sEmptyTable),c[0]=a("<tr/>",{"class":g?f[0]:""}).append(a("<td />",{valign:"top",colSpan:q(b),"class":b.oClasses.sRowEmpty}).html(e))[0];Ja(b,"aoHeaderCallback","header",[a(b.nTHead).children("tr")[0],B(b),i,l,k]),Ja(b,"aoFooterCallback","footer",[a(b.nTFoot).children("tr")[0],B(b),i,l,k]),f=a(b.nTBody),f.children().detach(),f.append(a(c)),Ja(b,"aoDrawCallback","draw",[b]),b.bSorted=!1,b.bFiltered=!1,b.bDrawing=!1}}function L(a,b){var c=a.oFeatures,d=c.bFilter;c.bSort&&va(a),d?V(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice(),!0!==b&&(a._iDisplayStart=0),a._drawHold=b,K(a),a._drawHold=!1}function M(b){var c=b.oClasses,d=a(b.nTable),d=a("<div/>").insertBefore(d),e=b.oFeatures,f=a("<div/>",{id:b.sTableId+"_wrapper","class":c.sWrapper+(b.nTFoot?"":" "+c.sNoFooter)});b.nHolding=d[0],b.nTableWrapper=f[0],b.nTableReinsertBefore=b.nTable.nextSibling;for(var g,h,i,j,k,l,m=b.sDom.split(""),n=0;n<m.length;n++){if(g=null,h=m[n],"<"==h){if(i=a("<div/>")[0],j=m[n+1],"'"==j||'"'==j){for(k="",l=2;m[n+l]!=j;)k+=m[n+l],l++;"H"==k?k=c.sJUIHeader:"F"==k&&(k=c.sJUIFooter),-1!=k.indexOf(".")?(j=k.split("."),i.id=j[0].substr(1,j[0].length-1),i.className=j[1]):"#"==k.charAt(0)?i.id=k.substr(1,k.length-1):i.className=k,n+=l}f.append(i),f=a(i)}else if(">"==h)f=f.parent();else if("l"==h&&e.bPaginate&&e.bLengthChange)g=ha(b);else if("f"==h&&e.bFilter)g=U(b);else if("r"==h&&e.bProcessing)g=ka(b);else if("t"==h)g=ma(b);else if("i"==h&&e.bInfo)g=ba(b);else if("p"==h&&e.bPaginate)g=ia(b);else if(0!==Ua.ext.feature.length)for(i=Ua.ext.feature,l=0,j=i.length;l<j;l++)if(h==i[l].cFeature){g=i[l].fnInit(b);break}g&&(i=b.aanFeatures,i[h]||(i[h]=[]),i[h].push(g),f.append(g))}d.replaceWith(f),b.nHolding=null}function N(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(c).children("tr");for(b.splice(0,b.length),f=0,i=n.length;f<i;f++)b.push([]);for(f=0,i=n.length;f<i;f++)for(d=n[f],e=d.firstChild;e;){if("TD"==e.nodeName.toUpperCase()||"TH"==e.nodeName.toUpperCase()){for(k=1*e.getAttribute("colspan"),l=1*e.getAttribute("rowspan"),k=k&&0!==k&&1!==k?k:1,l=l&&0!==l&&1!==l?l:1,g=0,h=b[f];h[g];)g++;for(j=g,m=1===k,h=0;h<k;h++)for(g=0;g<l;g++)b[f+g][j+h]={cell:e,unique:m},b[f+g].nTr=d}e=e.nextSibling}}function O(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],N(c,b)));for(var b=0,e=c.length;b<e;b++)for(var f=0,g=c[b].length;f<g;f++)!c[b][f].unique||d[f]&&a.bSortCellsTop||(d[f]=c[b][f].cell);return d}function P(b,c,d){if(Ja(b,"aoServerParams","serverParams",[c]),c&&a.isArray(c)){var e={},f=/(.*?)\[\]$/;a.each(c,(function(a,b){var c=b.name.match(f);c?(c=c[0],e[c]||(e[c]=[]),e[c].push(b.value)):e[b.name]=b.value})),c=e}var g,h=b.ajax,i=b.oInstance,j=function(a){Ja(b,null,"xhr",[b,a,b.jqXHR]),d(a)};if(a.isPlainObject(h)&&h.data){g=h.data;var k=a.isFunction(g)?g(c,b):g,c=a.isFunction(g)&&k?k:a.extend(!0,c,k);delete h.data}k={data:c,success:function(a){var c=a.error||a.sError;c&&Ea(b,0,c),b.json=a,j(a)},dataType:"json",cache:!1,type:b.sServerMethod,error:function(c,d){var e=Ja(b,null,"xhr",[b,null,b.jqXHR]);-1===a.inArray(!0,e)&&("parsererror"==d?Ea(b,0,"Invalid JSON response",1):4===c.readyState&&Ea(b,0,"Ajax error",7)),la(b,!1)}},b.oAjaxData=c,Ja(b,null,"preXhr",[b,c]),b.fnServerData?b.fnServerData.call(i,b.sAjaxSource,a.map(c,(function(a,b){return{name:b,value:a}})),j,b):b.sAjaxSource||"string"==typeof h?b.jqXHR=a.ajax(a.extend(k,{url:h||b.sAjaxSource})):a.isFunction(h)?b.jqXHR=h.call(i,c,j,b):(b.jqXHR=a.ajax(a.extend(k,h)),h.data=g)}function Q(a){return!a.bAjaxDataGet||(a.iDraw++,la(a,!0),P(a,R(a),(function(b){S(a,b)})),!1)}function R(b){var c,d,e,f,g=b.aoColumns,h=g.length,i=b.oFeatures,j=b.oPreviousSearch,k=b.aoPreSearchCols,l=[],m=ua(b);c=b._iDisplayStart,d=!1!==i.bPaginate?b._iDisplayLength:-1;var n=function(a,b){l.push({name:a,value:b})};n("sEcho",b.iDraw),n("iColumns",h),n("sColumns",fb(g,"sName").join(",")),n("iDisplayStart",c),n("iDisplayLength",d);var o={draw:b.iDraw,columns:[],order:[],start:c,length:d,search:{value:j.sSearch,regex:j.bRegex}};for(c=0;c<h;c++)e=g[c],f=k[c],d="function"==typeof e.mData?"function":e.mData,o.columns.push({data:d,name:e.sName,searchable:e.bSearchable,orderable:e.bSortable,search:{value:f.sSearch,regex:f.bRegex}}),n("mDataProp_"+c,d),i.bFilter&&(n("sSearch_"+c,f.sSearch),n("bRegex_"+c,f.bRegex),n("bSearchable_"+c,e.bSearchable)),i.bSort&&n("bSortable_"+c,e.bSortable);return i.bFilter&&(n("sSearch",j.sSearch),n("bRegex",j.bRegex)),i.bSort&&(a.each(m,(function(a,b){o.order.push({column:b.col,dir:b.dir}),n("iSortCol_"+a,b.col),n("sSortDir_"+a,b.dir)})),n("iSortingCols",m.length)),g=Ua.ext.legacy.ajax,null===g?b.sAjaxSource?l:o:g?l:o}function S(a,b){var c=T(a,b),e=b.sEcho!==d?b.sEcho:b.draw,f=b.iTotalRecords!==d?b.iTotalRecords:b.recordsTotal,g=b.iTotalDisplayRecords!==d?b.iTotalDisplayRecords:b.recordsFiltered;if(e){if(1*e<a.iDraw)return;a.iDraw=1*e}for(C(a),a._iRecordsTotal=parseInt(f,10),a._iRecordsDisplay=parseInt(g,10),e=0,f=c.length;e<f;e++)u(a,c[e]);a.aiDisplay=a.aiDisplayMaster.slice(),a.bAjaxDataGet=!1,K(a),a._bInitComplete||fa(a,b),a.bAjaxDataGet=!0,la(a,!1)}function T(b,c){var e=a.isPlainObject(b.ajax)&&b.ajax.dataSrc!==d?b.ajax.dataSrc:b.sAjaxDataProp;return"data"===e?c.aaData||c[e]:""!==e?z(e)(c):c}function U(b){var d=b.oClasses,e=b.sTableId,f=b.oLanguage,g=b.oPreviousSearch,h=b.aanFeatures,i='<input type="search" class="'+d.sFilterInput+'"/>',j=f.sSearch,j=j.match(/_INPUT_/)?j.replace("_INPUT_",i):j+i,d=a("<div/>",{id:h.f?null:e+"_filter","class":d.sFilter}).append(a("<label/>").append(j)),h=function(){var a=this.value?this.value:"";a!=g.sSearch&&(V(b,{sSearch:a,bRegex:g.bRegex,bSmart:g.bSmart,bCaseInsensitive:g.bCaseInsensitive}),b._iDisplayStart=0,K(b))},i=null!==b.searchDelay?b.searchDelay:"ssp"===Ma(b)?400:0,k=a("input",d).val(g.sSearch).attr("placeholder",f.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",i?rb(h,i):h).bind("keypress.DT",(function(a){if(13==a.keyCode)return!1})).attr("aria-controls",e);return a(b.nTable).on("search.dt.DT",(function(a,d){if(b===d)try{k[0]!==c.activeElement&&k.val(g.sSearch)}catch(e){}})),d[0]}function V(a,b,c){var e=a.oPreviousSearch,f=a.aoPreSearchCols,g=function(a){e.sSearch=a.sSearch,e.bRegex=a.bRegex,e.bSmart=a.bSmart,e.bCaseInsensitive=a.bCaseInsensitive};if(s(a),"ssp"!=Ma(a)){for(Y(a,b.sSearch,c,b.bEscapeRegex!==d?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive),g(b),b=0;b<f.length;b++)X(a,f[b].sSearch,b,f[b].bEscapeRegex!==d?!f[b].bEscapeRegex:f[b].bRegex,f[b].bSmart,f[b].bCaseInsensitive);W(a)}else g(b);a.bFiltered=!0,Ja(a,null,"search",[a])}function W(b){for(var c,d,e=Ua.ext.search,f=b.aiDisplay,g=0,h=e.length;g<h;g++){for(var i=[],j=0,k=f.length;j<k;j++)d=f[j],c=b.aoData[d],e[g](b,c._aFilterData,d,c._aData,j)&&i.push(d);f.length=0,a.merge(f,i)}}function X(a,b,c,d,e,f){if(""!==b)for(var g=a.aiDisplay,d=Z(b,d,e,f),e=g.length-1;0<=e;e--)b=a.aoData[g[e]]._aFilterData[c],d.test(b)||g.splice(e,1)}function Y(a,b,c,d,e,f){var g,d=Z(b,d,e,f),e=a.oPreviousSearch.sSearch,f=a.aiDisplayMaster;if(0!==Ua.ext.search.length&&(c=!0),g=$(a),0>=b.length)a.aiDisplay=f.slice();else for((g||c||e.length>b.length||0!==b.indexOf(e)||a.bSorted)&&(a.aiDisplay=f.slice()),b=a.aiDisplay,c=b.length-1;0<=c;c--)d.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}function Z(b,c,d,e){return b=c?b:nb(b),d&&(b="^(?=.*?"+a.map(b.match(/"[^"]+"|[^ ]+/g)||[""],(function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")})).join(")(?=.*?")+").*$"),RegExp(b,e?"i":"")}function $(a){var b,c,d,e,f,g,h,i,j=a.aoColumns,k=Ua.ext.type.search;for(b=!1,c=0,e=a.aoData.length;c<e;c++)if(i=a.aoData[c],!i._aFilterData){for(g=[],d=0,f=j.length;d<f;d++)b=j[d],b.bSearchable?(h=w(a,c,d,"filter"),k[b.sType]&&(h=k[b.sType](h)),null===h&&(h=""),"string"!=typeof h&&h.toString&&(h=h.toString())):h="",h.indexOf&&-1!==h.indexOf("&")&&(ob.innerHTML=h,h=pb?ob.textContent:ob.innerText),h.replace&&(h=h.replace(/[\r\n]/g,"")),g.push(h);i._aFilterData=g,i._sFilterRow=g.join("  "),b=!0}return b}function _(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function aa(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function ba(b){var c=b.sTableId,d=b.aanFeatures.i,e=a("<div/>",{"class":b.oClasses.sInfo,id:d?null:c+"_info"});return d||(b.aoDrawCallback.push({fn:ca,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),a(b.nTable).attr("aria-describedby",c+"_info")),e[0]}function ca(b){var c=b.aanFeatures.i;if(0!==c.length){var d=b.oLanguage,e=b._iDisplayStart+1,f=b.fnDisplayEnd(),g=b.fnRecordsTotal(),h=b.fnRecordsDisplay(),i=h?d.sInfo:d.sInfoEmpty;h!==g&&(i+=" "+d.sInfoFiltered),i+=d.sInfoPostFix,i=da(b,i),d=d.fnInfoCallback,null!==d&&(i=d.call(b.oInstance,b,e,f,g,h,i)),a(c).html(i)}}function da(a,b){var c=a.fnFormatNumber,d=a._iDisplayStart+1,e=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===e;return b.replace(/_START_/g,c.call(a,d)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(d/e))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/e)))}function ea(a){var b,c,d,e=a.iInitDisplayStart,f=a.aoColumns;c=a.oFeatures;var g=a.bDeferLoading;if(a.bInitialised){for(M(a),I(a),J(a,a.aoHeader),J(a,a.aoFooter),la(a,!0),c.bAutoWidth&&pa(a),b=0,c=f.length;b<c;b++)d=f[b],d.sWidth&&(d.nTh.style.width=ta(d.sWidth));Ja(a,null,"preInit",[a]),L(a),f=Ma(a),("ssp"!=f||g)&&("ajax"==f?P(a,[],(function(c){var d=T(a,c);for(b=0;b<d.length;b++)u(a,d[b]);a.iInitDisplayStart=e,L(a),la(a,!1),fa(a,c)}),a):(la(a,!1),fa(a)))}else setTimeout((function(){ea(a)}),200)}function fa(a,b){a._bInitComplete=!0,(b||a.oInit.aaData)&&n(a),Ja(a,null,"plugin-init",[a,b]),Ja(a,"aoInitComplete","init",[a,b])}function ga(a,b){var c=parseInt(b,10);a._iDisplayLength=c,Ka(a),Ja(a,null,"length",[a,c])}function ha(b){for(var c=b.oClasses,d=b.sTableId,e=b.aLengthMenu,f=a.isArray(e[0]),g=f?e[0]:e,e=f?e[1]:e,f=a("<select/>",{name:d+"_length","aria-controls":d,"class":c.sLengthSelect}),h=0,i=g.length;h<i;h++)f[0][h]=new Option(e[h],g[h]);var j=a("<div><label/></div>").addClass(c.sLength);return b.aanFeatures.l||(j[0].id=d+"_length"),j.children().append(b.oLanguage.sLengthMenu.replace("_MENU_",f[0].outerHTML)),a("select",j).val(b._iDisplayLength).bind("change.DT",(function(){ga(b,a(this).val()),K(b)})),a(b.nTable).bind("length.dt.DT",(function(c,d,e){b===d&&a("select",j).val(e)})),j[0]}function ia(b){var c=b.sPaginationType,d=Ua.ext.pager[c],e="function"==typeof d,f=function(a){K(a)},c=a("<div/>").addClass(b.oClasses.sPaging+c)[0],g=b.aanFeatures;return e||d.fnInit(b,c,f),g.p||(c.id=b.sTableId+"_paginate",b.aoDrawCallback.push({fn:function(a){if(e){var b,c=a._iDisplayStart,h=a._iDisplayLength,i=a.fnRecordsDisplay(),j=-1===h,c=j?0:Math.ceil(c/h),h=j?1:Math.ceil(i/h),i=d(c,h),j=0;for(b=g.p.length;j<b;j++)La(a,"pageButton")(a,g.p[j],j,i,c,h)}else d.fnUpdate(a,f)},sName:"pagination"})),c}function ja(a,b,c){var d=a._iDisplayStart,e=a._iDisplayLength,f=a.fnRecordsDisplay();return 0===f||-1===e?d=0:"number"==typeof b?(d=b*e,d>f&&(d=0)):"first"==b?d=0:"previous"==b?(d=0<=e?d-e:0,0>d&&(d=0)):"next"==b?d+e<f&&(d+=e):"last"==b?d=Math.floor((f-1)/e)*e:Ea(a,0,"Unknown paging action: "+b,5),b=a._iDisplayStart!==d,a._iDisplayStart=d,b&&(Ja(a,null,"page",[a]),c&&K(a)),b}function ka(b){return a("<div/>",{id:b.aanFeatures.r?null:b.sTableId+"_processing","class":b.oClasses.sProcessing}).html(b.oLanguage.sProcessing).insertBefore(b.nTable)[0]}function la(b,c){b.oFeatures.bProcessing&&a(b.aanFeatures.r).css("display",c?"block":"none"),Ja(b,null,"processing",[b,c])}function ma(b){var c=a(b.nTable);c.attr("role","grid");var d=b.oScroll;if(""===d.sX&&""===d.sY)return b.nTable;var e=d.sX,f=d.sY,g=b.oClasses,h=c.children("caption"),i=h.length?h[0]._captionSide:null,j=a(c[0].cloneNode(!1)),k=a(c[0].cloneNode(!1)),l=c.children("tfoot");l.length||(l=null),j=a("<div/>",{"class":g.sScrollWrapper}).append(a("<div/>",{"class":g.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:e?e?ta(e):null:"100%"}).append(a("<div/>",{"class":g.sScrollHeadInner}).css({"box-sizing":"content-box",width:d.sXInner||"100%"}).append(j.removeAttr("id").css("margin-left",0).append("top"===i?h:null).append(c.children("thead"))))).append(a("<div/>",{"class":g.sScrollBody}).css({position:"relative",overflow:"auto",width:e?ta(e):null}).append(c)),l&&j.append(a("<div/>",{"class":g.sScrollFoot}).css({overflow:"hidden",border:0,width:e?e?ta(e):null:"100%"}).append(a("<div/>",{"class":g.sScrollFootInner}).append(k.removeAttr("id").css("margin-left",0).append("bottom"===i?h:null).append(c.children("tfoot")))));var c=j.children(),m=c[0],g=c[1],n=l?c[2]:null;return e&&a(g).on("scroll.DT",(function(){var a=this.scrollLeft;m.scrollLeft=a,l&&(n.scrollLeft=a)})),a(g).css(f&&d.bCollapse?"max-height":"height",f),b.nScrollHead=m,b.nScrollBody=g,b.nScrollFoot=n,b.aoDrawCallback.push({fn:na,sName:"scrolling"}),j[0]}function na(b){var c,e,f,g,h,i=b.oScroll,j=i.sX,k=i.sXInner,l=i.sY,i=i.iBarWidth,m=a(b.nScrollHead),p=m[0].style,q=m.children("div"),r=q[0].style,s=q.children("table"),q=b.nScrollBody,t=a(q),u=q.style,v=a(b.nScrollFoot).children("div"),w=v.children("table"),x=a(b.nTHead),y=a(b.nTable),z=y[0],A=z.style,B=b.nTFoot?a(b.nTFoot):null,C=b.oBrowser,D=C.bScrollOversize,E=fb(b.aoColumns,"nTh"),F=[],G=[],H=[],I=[],J=function(a){a=a.style,a.paddingTop="0",a.paddingBottom="0",a.borderTopWidth="0",a.borderBottomWidth="0",a.height=0};e=q.scrollHeight>q.clientHeight,b.scrollBarVis!==e&&b.scrollBarVis!==d?(b.scrollBarVis=e,n(b)):(b.scrollBarVis=e,y.children("thead, tfoot").remove(),B&&(f=B.clone().prependTo(y),c=B.find("tr"),f=f.find("tr")),g=x.clone().prependTo(y),x=x.find("tr"),e=g.find("tr"),g.find("th, td").removeAttr("tabindex"),j||(u.width="100%",m[0].style.width="100%"),a.each(O(b,g),(function(a,c){h=o(b,a),c.style.width=b.aoColumns[h].sWidth})),B&&oa((function(a){a.style.width=""}),f),m=y.outerWidth(),""===j?(A.width="100%",D&&(y.find("tbody").height()>q.offsetHeight||"scroll"==t.css("overflow-y"))&&(A.width=ta(y.outerWidth()-i)),m=y.outerWidth()):""!==k&&(A.width=ta(k),m=y.outerWidth()),oa(J,e),oa((function(b){H.push(b.innerHTML),F.push(ta(a(b).css("width")))}),e),oa((function(b,c){a.inArray(b,E)!==-1&&(b.style.width=F[c])}),x),a(e).height(0),B&&(oa(J,f),oa((function(b){I.push(b.innerHTML),G.push(ta(a(b).css("width")))}),f),oa((function(a,b){a.style.width=G[b]}),c),a(f).height(0)),oa((function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+H[b]+"</div>",a.style.width=F[b]}),e),B&&oa((function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+I[b]+"</div>",a.style.width=G[b]}),f),y.outerWidth()<m?(c=q.scrollHeight>q.offsetHeight||"scroll"==t.css("overflow-y")?m+i:m,D&&(q.scrollHeight>q.offsetHeight||"scroll"==t.css("overflow-y"))&&(A.width=ta(c-i)),(""===j||""!==k)&&Ea(b,1,"Possible column misalignment",6)):c="100%",u.width=ta(c),p.width=ta(c),B&&(b.nScrollFoot.style.width=ta(c)),!l&&D&&(u.height=ta(z.offsetHeight+i)),j=y.outerWidth(),s[0].style.width=ta(j),r.width=ta(j),k=y.height()>q.clientHeight||"scroll"==t.css("overflow-y"),l="padding"+(C.bScrollbarLeft?"Left":"Right"),r[l]=k?i+"px":"0px",B&&(w[0].style.width=ta(j),v[0].style.width=ta(j),v[0].style[l]=k?i+"px":"0px"),y.children("colgroup").insertBefore(y.children("thead")),t.scroll(),!b.bSorted&&!b.bFiltered||b._drawHold||(q.scrollTop=0))}function oa(a,b,c){for(var d,e,f=0,g=0,h=b.length;g<h;){for(d=b[g].firstChild,e=c?c[g].firstChild:null;d;)1===d.nodeType&&(c?a(d,e,f):a(d,f),f++),d=d.nextSibling,e=c?e.nextSibling:null;g++}}function pa(c){var d,e,f=c.nTable,g=c.aoColumns,h=c.oScroll,i=h.sY,j=h.sX,k=h.sXInner,l=g.length,m=r(c,"bVisible"),p=a("th",c.nTHead),s=f.getAttribute("width"),t=f.parentNode,u=!1,v=c.oBrowser,h=v.bScrollOversize;for((d=f.style.width)&&-1!==d.indexOf("%")&&(s=d),d=0;d<m.length;d++)e=g[m[d]],null!==e.sWidth&&(e.sWidth=qa(e.sWidthOrig,t),u=!0);if(h||!u&&!j&&!i&&l==q(c)&&l==p.length)for(d=0;d<l;d++)m=o(c,d),null!==m&&(g[m].sWidth=ta(p.eq(d).width()));else{l=a(f).clone().css("visibility","hidden").removeAttr("id"),l.find("tbody tr").remove();var w=a("<tr/>").appendTo(l.find("tbody"));for(l.find("thead, tfoot").remove(),l.append(a(c.nTHead).clone()).append(a(c.nTFoot).clone()),l.find("tfoot th, tfoot td").css("width",""),p=O(c,l.find("thead")[0]),d=0;d<m.length;d++)e=g[m[d]],p[d].style.width=null!==e.sWidthOrig&&""!==e.sWidthOrig?ta(e.sWidthOrig):"",e.sWidthOrig&&j&&a(p[d]).append(a("<div/>").css({width:e.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(c.aoData.length)for(d=0;d<m.length;d++)u=m[d],e=g[u],a(ra(c,u)).clone(!1).append(e.sContentPadding).appendTo(w);for(a("[name]",l).removeAttr("name"),e=a("<div/>").css(j||i?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(l).appendTo(t),j&&k?l.width(k):j?(l.css("width","auto"),l.removeAttr("width"),l.width()<t.clientWidth&&s&&l.width(t.clientWidth)):i?l.width(t.clientWidth):s&&l.width(s),d=i=0;d<m.length;d++)t=a(p[d]),k=t.outerWidth()-t.width(),t=v.bBounding?Math.ceil(p[d].getBoundingClientRect().width):t.outerWidth(),i+=t,g[m[d]].sWidth=ta(t-k);f.style.width=ta(i),e.remove()}s&&(f.style.width=ta(s)),!s&&!j||c._reszEvt||(f=function(){a(b).bind("resize.DT-"+c.sInstance,rb((function(){n(c)})))},h?setTimeout(f,1e3):f(),c._reszEvt=!0)}function qa(b,d){if(!b)return 0;var e=a("<div/>").css("width",ta(b)).appendTo(d||c.body),f=e[0].offsetWidth;return e.remove(),f}function ra(b,c){var d=sa(b,c);if(0>d)return null;var e=b.aoData[d];return e.nTr?e.anCells[c]:a("<td/>").html(w(b,d,c,"display"))[0]}function sa(a,b){for(var c,d=-1,e=-1,f=0,g=a.aoData.length;f<g;f++)c=w(a,f,b,"display")+"",c=c.replace(qb,""),c=c.replace(/&nbsp;/g," "),c.length>d&&(d=c.length,e=f);return e}function ta(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function ua(b){var c,e,f,g,h,i,j=[],k=b.aoColumns;c=b.aaSortingFixed,e=a.isPlainObject(c);var l=[];for(f=function(b){b.length&&!a.isArray(b[0])?l.push(b):a.merge(l,b)},a.isArray(c)&&f(c),e&&c.pre&&f(c.pre),f(b.aaSorting),e&&c.post&&f(c.post),b=0;b<l.length;b++)for(i=l[b][0],f=k[i].aDataSort,c=0,e=f.length;c<e;c++)g=f[c],h=k[g].sType||"string",l[b]._idx===d&&(l[b]._idx=a.inArray(l[b][1],k[g].asSorting)),j.push({src:i,col:g,dir:l[b][1],index:l[b]._idx,type:h,formatter:Ua.ext.type.order[h+"-pre"]});return j}function va(a){var b,c,d,e,f=[],g=Ua.ext.type.order,h=a.aoData,i=0,j=a.aiDisplayMaster;for(s(a),e=ua(a),b=0,c=e.length;b<c;b++)d=e[b],d.formatter&&i++,Aa(a,d.col);if("ssp"!=Ma(a)&&0!==e.length){for(b=0,c=j.length;b<c;b++)f[j[b]]=b;i===e.length?j.sort((function(a,b){var c,d,g,i,j=e.length,k=h[a]._aSortData,l=h[b]._aSortData;for(g=0;g<j;g++)if(i=e[g],c=k[i.col],d=l[i.col],c=c<d?-1:c>d?1:0,0!==c)return"asc"===i.dir?c:-c;return c=f[a],d=f[b],c<d?-1:c>d?1:0})):j.sort((function(a,b){var c,d,i,j,k=e.length,l=h[a]._aSortData,m=h[b]._aSortData;for(i=0;i<k;i++)if(j=e[i],c=l[j.col],d=m[j.col],j=g[j.type+"-"+j.dir]||g["string-"+j.dir],c=j(c,d),0!==c)return c;return c=f[a],d=f[b],c<d?-1:c>d?1:0}))}a.bSorted=!0}function wa(a){for(var b,c,d=a.aoColumns,e=ua(a),a=a.oLanguage.oAria,f=0,g=d.length;f<g;f++){c=d[f];var h=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var i=c.nTh;i.removeAttribute("aria-sort"),c.bSortable&&(0<e.length&&e[0].col==f?(i.setAttribute("aria-sort","asc"==e[0].dir?"ascending":"descending"),c=h[e[0].index+1]||h[0]):c=h[0],b+="asc"===c?a.sSortAscending:a.sSortDescending),i.setAttribute("aria-label",b)}}function xa(b,c,e,f){var g=b.aaSorting,h=b.aoColumns[c].asSorting,i=function(b,c){var e=b._idx;return e===d&&(e=a.inArray(b[1],h)),e+1<h.length?e+1:c?null:0};"number"==typeof g[0]&&(g=b.aaSorting=[g]),e&&b.oFeatures.bSortMulti?(e=a.inArray(c,fb(g,"0")),-1!==e?(c=i(g[e],!0),null===c&&1===g.length&&(c=0),null===c?g.splice(e,1):(g[e][1]=h[c],g[e]._idx=c)):(g.push([c,h[0],0]),g[g.length-1]._idx=0)):g.length&&g[0][0]==c?(c=i(g[0]),g.length=1,g[0][1]=h[c],g[0]._idx=c):(g.length=0,g.push([c,h[0]]),g[0]._idx=0),L(b),"function"==typeof f&&f(b)}function ya(a,b,c,d){var e=a.aoColumns[c];Ha(b,{},(function(b){!1!==e.bSortable&&(a.oFeatures.bProcessing?(la(a,!0),setTimeout((function(){xa(a,c,b.shiftKey,d),"ssp"!==Ma(a)&&la(a,!1)}),0)):xa(a,c,b.shiftKey,d))}))}function za(b){var c,d,e=b.aLastSort,f=b.oClasses.sSortColumn,g=ua(b),h=b.oFeatures;if(h.bSort&&h.bSortClasses){for(h=0,c=e.length;h<c;h++)d=e[h].src,a(fb(b.aoData,"anCells",d)).removeClass(f+(2>h?h+1:3));
for(h=0,c=g.length;h<c;h++)d=g[h].src,a(fb(b.aoData,"anCells",d)).addClass(f+(2>h?h+1:3))}b.aLastSort=g}function Aa(a,b){var c,d=a.aoColumns[b],e=Ua.ext.order[d.sSortDataType];e&&(c=e.call(a.oInstance,a,b,p(a,b)));for(var f,g=Ua.ext.type.order[d.sType+"-pre"],h=0,i=a.aoData.length;h<i;h++)d=a.aoData[h],d._aSortData||(d._aSortData=[]),(!d._aSortData[b]||e)&&(f=e?c[h]:w(a,h,b,"sort"),d._aSortData[b]=g?g(f):f)}function Ba(b){if(b.oFeatures.bStateSave&&!b.bDestroying){var c={time:+new Date,start:b._iDisplayStart,length:b._iDisplayLength,order:a.extend(!0,[],b.aaSorting),search:_(b.oPreviousSearch),columns:a.map(b.aoColumns,(function(a,c){return{visible:a.bVisible,search:_(b.aoPreSearchCols[c])}}))};Ja(b,"aoStateSaveParams","stateSaveParams",[b,c]),b.oSavedState=c,b.fnStateSaveCallback.call(b.oInstance,b,c)}}function Ca(b){var c,e,f=b.aoColumns;if(b.oFeatures.bStateSave){var g=b.fnStateLoadCallback.call(b.oInstance,b);if(g&&g.time&&(c=Ja(b,"aoStateLoadParams","stateLoadParams",[b,g]),-1===a.inArray(!1,c)&&(c=b.iStateDuration,!(0<c&&g.time<+new Date-1e3*c)&&f.length===g.columns.length))){for(b.oLoadedState=a.extend(!0,{},g),g.start!==d&&(b._iDisplayStart=g.start,b.iInitDisplayStart=g.start),g.length!==d&&(b._iDisplayLength=g.length),g.order!==d&&(b.aaSorting=[],a.each(g.order,(function(a,c){b.aaSorting.push(c[0]>=f.length?[0,c[1]]:c)}))),g.search!==d&&a.extend(b.oPreviousSearch,aa(g.search)),c=0,e=g.columns.length;c<e;c++){var h=g.columns[c];h.visible!==d&&(f[c].bVisible=h.visible),h.search!==d&&a.extend(b.aoPreSearchCols[c],aa(h.search))}Ja(b,"aoStateLoaded","stateLoaded",[b,g])}}}function Da(b){var c=Ua.settings,b=a.inArray(b,fb(c,"nTable"));return-1!==b?c[b]:null}function Ea(a,c,d,e){if(d="DataTables warning: "+(a?"table id="+a.sTableId+" - ":"")+d,e&&(d+=". For more information about this error, please see http://datatables.net/tn/"+e),c)b.console&&console.log&&console.log(d);else if(c=Ua.ext,c=c.sErrMode||c.errMode,a&&Ja(a,null,"error",[a,e,d]),"alert"==c)alert(d);else{if("throw"==c)throw Error(d);"function"==typeof c&&c(a,e,d)}}function Fa(b,c,e,f){a.isArray(e)?a.each(e,(function(d,e){a.isArray(e)?Fa(b,c,e[0],e[1]):Fa(b,c,e)})):(f===d&&(f=e),c[e]!==d&&(b[f]=c[e]))}function Ga(b,c,d){var e,f;for(f in c)c.hasOwnProperty(f)&&(e=c[f],a.isPlainObject(e)?(a.isPlainObject(b[f])||(b[f]={}),a.extend(!0,b[f],e)):b[f]=d&&"data"!==f&&"aaData"!==f&&a.isArray(e)?e.slice():e);return b}function Ha(b,c,d){a(b).bind("click.DT",c,(function(a){b.blur(),d(a)})).bind("keypress.DT",c,(function(a){13===a.which&&(a.preventDefault(),d(a))})).bind("selectstart.DT",(function(){return!1}))}function Ia(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function Ja(b,c,d,e){var f=[];return c&&(f=a.map(b[c].slice().reverse(),(function(a){return a.fn.apply(b.oInstance,e)}))),null!==d&&(c=a.Event(d+".dt"),a(b.nTable).trigger(c,e),f.push(c.result)),f}function Ka(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),d=a._iDisplayLength;b>=c&&(b=c-d),b-=b%d,(-1===d||0>b)&&(b=0),a._iDisplayStart=b}function La(b,c){var d=b.renderer,e=Ua.ext.renderer[c];return a.isPlainObject(d)&&d[c]?e[d[c]]||e._:"string"==typeof d?e[d]||e._:e._}function Ma(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Na(a,b){var c=[],c=Ib.numbers_length,d=Math.floor(c/2);return b<=c?c=hb(0,b):a<=d?(c=hb(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-d?c=hb(b-(c-2),b):(c=hb(a-d+2,a+d-1),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0)),c.DT_el="span",c}function Oa(b){a.each({num:function(a){return Jb(a,b)},"num-fmt":function(a){return Jb(a,b,_a)},"html-num":function(a){return Jb(a,b,Xa)},"html-num-fmt":function(a){return Jb(a,b,Xa,_a)}},(function(a,c){Qa.type.order[a+b+"-pre"]=c,a.match(/^html\-/)&&(Qa.type.search[a+b]=Qa.type.search.html)}))}function Pa(a){return function(){var b=[Da(this[Ua.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ua.ext.internal[a].apply(this,b)}}var Qa,Ra,Sa,Ta,Ua=function(b){this.$=function(a,b){return this.api(!0).$(a,b)},this._=function(a,b){return this.api(!0).rows(a,b).data()},this.api=function(a){return new Ra(a?Da(this[Qa.iApiIndex]):this)},this.fnAddData=function(b,c){var e=this.api(!0),f=a.isArray(b)&&(a.isArray(b[0])||a.isPlainObject(b[0]))?e.rows.add(b):e.row.add(b);return(c===d||c)&&e.draw(),f.flatten().toArray()},this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],e=c.oScroll;a===d||a?b.draw(!1):(""!==e.sX||""!==e.sY)&&na(c)},this.fnClearTable=function(a){var b=this.api(!0).clear();(a===d||a)&&b.draw()},this.fnClose=function(a){this.api(!0).row(a).child.hide()},this.fnDeleteRow=function(a,b,c){var e=this.api(!0),a=e.rows(a),f=a.settings()[0],g=f.aoData[a[0][0]];return a.remove(),b&&b.call(this,f,g),(c===d||c)&&e.draw(),g},this.fnDestroy=function(a){this.api(!0).destroy(a)},this.fnDraw=function(a){this.api(!0).draw(a)},this.fnFilter=function(a,b,c,e,f,g){f=this.api(!0),null===b||b===d?f.search(a,c,e,g):f.column(b).search(a,c,e,g),f.draw()},this.fnGetData=function(a,b){var c=this.api(!0);if(a!==d){var e=a.nodeName?a.nodeName.toLowerCase():"";return b!==d||"td"==e||"th"==e?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()},this.fnGetNodes=function(a){var b=this.api(!0);return a!==d?b.row(a).node():b.rows().nodes().flatten().toArray()},this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null},this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()},this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]},this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===d||b)&&c.draw(!1)},this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b),(c===d||c)&&a.columns.adjust().draw()},this.fnSettings=function(){return Da(this[Qa.iApiIndex])},this.fnSort=function(a){this.api(!0).order(a).draw()},this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)},this.fnUpdate=function(a,b,c,e,f){var g=this.api(!0);return c===d||null===c?g.row(b).data(a):g.cell(b,c).data(a),(f===d||f)&&g.columns.adjust(),(e===d||e)&&g.draw(),0},this.fnVersionCheck=Qa.fnVersionCheck;var c=this,e=b===d,k=this.length;e&&(b={}),this.oApi=this.internal=Qa.internal;for(var n in Ua.ext.internal)n&&(this[n]=Pa(n));return this.each((function(){var n,o={},o=1<k?Ga(o,b,!0):b,p=0,q=this.getAttribute("id"),r=!1,s=Ua.defaults,w=a(this);if("table"!=this.nodeName.toLowerCase())Ea(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{h(s),i(s.column),f(s,s,!0),f(s.column,s.column,!0),f(s,a.extend(o,w.data()));var x=Ua.settings,p=0;for(n=x.length;p<n;p++){var y=x[p];if(y.nTable==this||y.nTHead.parentNode==this||y.nTFoot&&y.nTFoot.parentNode==this){if(p=o.bRetrieve!==d?o.bRetrieve:s.bRetrieve,e||p)return y.oInstance;if(o.bDestroy!==d?o.bDestroy:s.bDestroy){y.oInstance.fnDestroy();break}return void Ea(y,0,"Cannot reinitialise DataTable",3)}if(y.sTableId==this.id){x.splice(p,1);break}}null!==q&&""!==q||(this.id=q="DataTables_Table_"+Ua.ext._unique++);var A=a.extend(!0,{},Ua.models.oSettings,{sDestroyWidth:w[0].style.width,sInstance:q,sTableId:q});A.nTable=this,A.oApi=c.internal,A.oInit=o,x.push(A),A.oInstance=1===c.length?c:w.dataTable(),h(o),o.oLanguage&&g(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=a.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=Ga(a.extend(!0,{},s),o),Fa(A.oFeatures,o,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Fa(A,o,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Fa(A.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Fa(A.oLanguage,o,"fnInfoCallback"),Ia(A,"aoDrawCallback",o.fnDrawCallback,"user"),Ia(A,"aoServerParams",o.fnServerParams,"user"),Ia(A,"aoStateSaveParams",o.fnStateSaveParams,"user"),Ia(A,"aoStateLoadParams",o.fnStateLoadParams,"user"),Ia(A,"aoStateLoaded",o.fnStateLoaded,"user"),Ia(A,"aoRowCallback",o.fnRowCallback,"user"),Ia(A,"aoRowCreatedCallback",o.fnCreatedRow,"user"),Ia(A,"aoHeaderCallback",o.fnHeaderCallback,"user"),Ia(A,"aoFooterCallback",o.fnFooterCallback,"user"),Ia(A,"aoInitComplete",o.fnInitComplete,"user"),Ia(A,"aoPreDrawCallback",o.fnPreDrawCallback,"user"),A.rowIdFn=z(o.rowId),j(A),q=A.oClasses,o.bJQueryUI?(a.extend(q,Ua.ext.oJUIClasses,o.oClasses),o.sDom===s.sDom&&"lfrtip"===s.sDom&&(A.sDom='<"H"lfr>t<"F"ip>'),A.renderer?a.isPlainObject(A.renderer)&&!A.renderer.header&&(A.renderer.header="jqueryui"):A.renderer="jqueryui"):a.extend(q,Ua.ext.classes,o.oClasses),w.addClass(q.sTable),A.iInitDisplayStart===d&&(A.iInitDisplayStart=o.iDisplayStart,A._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading&&(A.bDeferLoading=!0,p=a.isArray(o.iDeferLoading),A._iRecordsDisplay=p?o.iDeferLoading[0]:o.iDeferLoading,A._iRecordsTotal=p?o.iDeferLoading[1]:o.iDeferLoading);var B=A.oLanguage;a.extend(!0,B,o.oLanguage),""!==B.sUrl&&(a.ajax({dataType:"json",url:B.sUrl,success:function(b){g(b),f(s.oLanguage,b),a.extend(!0,B,b),ea(A)},error:function(){ea(A)}}),r=!0),null===o.asStripeClasses&&(A.asStripeClasses=[q.sStripeOdd,q.sStripeEven]);var p=A.asStripeClasses,C=w.children("tbody").find("tr").eq(0);if(-1!==a.inArray(!0,a.map(p,(function(a){return C.hasClass(a)})))&&(a("tbody tr",this).removeClass(p.join(" ")),A.asDestroyStripes=p.slice()),x=[],p=this.getElementsByTagName("thead"),0!==p.length&&(N(A.aoHeader,p[0]),x=O(A)),null===o.aoColumns)for(y=[],p=0,n=x.length;p<n;p++)y.push(null);else y=o.aoColumns;for(p=0,n=y.length;p<n;p++)l(A,x?x[p]:null);if(t(A,o.aoColumnDefs,y,(function(a,b){m(A,a,b)})),C.length){var D=function(a,b){return null!==a.getAttribute("data-"+b)?b:null};a(C[0]).children("th, td").each((function(a,b){var c=A.aoColumns[a];if(c.mData===a){var e=D(b,"sort")||D(b,"order"),f=D(b,"filter")||D(b,"search");null===e&&null===f||(c.mData={_:a+".display",sort:null!==e?a+".@data-"+e:d,type:null!==e?a+".@data-"+e:d,filter:null!==f?a+".@data-"+f:d},m(A,a))}}))}var E=A.oFeatures;if(o.bStateSave&&(E.bStateSave=!0,Ca(A,o),Ia(A,"aoDrawCallback",Ba,"state_save")),o.aaSorting===d)for(x=A.aaSorting,p=0,n=x.length;p<n;p++)x[p][1]=A.aoColumns[p].asSorting[0];if(za(A),E.bSort&&Ia(A,"aoDrawCallback",(function(){if(A.bSorted){var b=ua(A),c={};a.each(b,(function(a,b){c[b.src]=b.dir})),Ja(A,null,"order",[A,b,c]),wa(A)}})),Ia(A,"aoDrawCallback",(function(){(A.bSorted||"ssp"===Ma(A)||E.bDeferRender)&&za(A)}),"sc"),p=w.children("caption").each((function(){this._captionSide=w.css("caption-side")})),n=w.children("thead"),0===n.length&&(n=a("<thead/>").appendTo(this)),A.nTHead=n[0],n=w.children("tbody"),0===n.length&&(n=a("<tbody/>").appendTo(this)),A.nTBody=n[0],n=w.children("tfoot"),0===n.length&&0<p.length&&(""!==A.oScroll.sX||""!==A.oScroll.sY)&&(n=a("<tfoot/>").appendTo(this)),0===n.length||0===n.children().length?w.addClass(q.sNoFooter):0<n.length&&(A.nTFoot=n[0],N(A.aoFooter,A.nTFoot)),o.aaData)for(p=0;p<o.aaData.length;p++)u(A,o.aaData[p]);else(A.bDeferLoading||"dom"==Ma(A))&&v(A,a(A.nTBody).children("tr"));A.aiDisplay=A.aiDisplayMaster.slice(),A.bInitialised=!0,!1===r&&ea(A)}})),c=null,this},Va={},Wa=/[\r\n]/g,Xa=/<.*?>/g,Ya=/^[\w\+\-]/,Za=/[\w\+\-]$/,$a=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),_a=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ab=function(a){return!a||!0===a||"-"===a},bb=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},cb=function(a,b){return Va[b]||(Va[b]=RegExp(nb(b),"g")),"string"==typeof a&&"."!==b?a.replace(/\./g,"").replace(Va[b],"."):a},db=function(a,b,c){var d="string"==typeof a;return!!ab(a)||(b&&d&&(a=cb(a,b)),c&&d&&(a=a.replace(_a,"")),!isNaN(parseFloat(a))&&isFinite(a))},eb=function(a,b,c){return!!ab(a)||(ab(a)||"string"==typeof a?!!db(a.replace(Xa,""),b,c)||null:null)},fb=function(a,b,c){var e=[],f=0,g=a.length;if(c!==d)for(;f<g;f++)a[f]&&a[f][b]&&e.push(a[f][b][c]);else for(;f<g;f++)a[f]&&e.push(a[f][b]);return e},gb=function(a,b,c,e){var f=[],g=0,h=b.length;if(e!==d)for(;g<h;g++)a[b[g]][c]&&f.push(a[b[g]][c][e]);else for(;g<h;g++)f.push(a[b[g]][c]);return f},hb=function(a,b){var c,e=[];b===d?(b=0,c=a):(c=b,b=a);for(var f=b;f<c;f++)e.push(f);return e},ib=function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);return b},jb=function(a){var b,c,d,e=[],f=a.length,g=0;c=0;a:for(;c<f;c++){for(b=a[c],d=0;d<g;d++)if(e[d]===b)continue a;e.push(b),g++}return e};Ua.util={throttle:function(a,b){var c,e,f=b!==d?b:200;return function(){var b=this,g=+new Date,h=arguments;c&&g<c+f?(clearTimeout(e),e=setTimeout((function(){c=d,a.apply(b,h)}),f)):(c=g,a.apply(b,h))}},escapeRegex:function(a){return a.replace($a,"\\$1")}};var kb=function(a,b,c){a[b]!==d&&(a[c]=a[b])},lb=/\[.*?\]$/,mb=/\(\)$/,nb=Ua.util.escapeRegex,ob=a("<div>")[0],pb=ob.textContent!==d,qb=/<.*?>/g,rb=Ua.util.throttle,sb=[],tb=Array.prototype,ub=function(b){var c,d,e=Ua.settings,f=a.map(e,(function(a){return a.nTable}));return b?b.nTable&&b.oApi?[b]:b.nodeName&&"table"===b.nodeName.toLowerCase()?(c=a.inArray(b,f),-1!==c?[e[c]]:null):b&&"function"==typeof b.settings?b.settings().toArray():("string"==typeof b?d=a(b):b instanceof a&&(d=b),d?d.map((function(){return c=a.inArray(this,f),-1!==c?e[c]:null})).toArray():void 0):[]};Ra=function(b,c){if(!(this instanceof Ra))return new Ra(b,c);var d=[],e=function(a){(a=ub(a))&&(d=d.concat(a))};if(a.isArray(b))for(var f=0,g=b.length;f<g;f++)e(b[f]);else e(b);this.context=jb(d),c&&a.merge(this,c),this.selector={rows:null,cols:null,opts:null},Ra.extend(this,this,sb)},Ua.Api=Ra,a.extend(Ra.prototype,{any:function(){return 0!==this.count()},concat:tb.concat,context:[],count:function(){return this.flatten().length},each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new Ra(b[a],this[a]):null},filter:function(a){var b=[];if(tb.filter)b=tb.filter.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new Ra(this.context,b)},flatten:function(){var a=[];return new Ra(this.context,a.concat.apply(a,this.toArray()))},join:tb.join,indexOf:tb.indexOf||function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,e){var f,g,h,i,j,k,l,m=[],n=this.context,o=this.selector;for("string"==typeof a&&(e=c,c=b,b=a,a=!1),g=0,h=n.length;g<h;g++){var p=new Ra(n[g]);if("table"===b)f=c.call(p,n[g],g),f!==d&&m.push(f);else if("columns"===b||"rows"===b)f=c.call(p,n[g],this[g],g),f!==d&&m.push(f);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b)for(l=this[g],"column-rows"===b&&(k=zb(n[g],o.opts)),i=0,j=l.length;i<j;i++)f=l[i],f="cell"===b?c.call(p,n[g],f.row,f.column,g,i):c.call(p,n[g],f,g,i,k),f!==d&&m.push(f)}return m.length||e?(a=new Ra(n,a?m.concat.apply([],m):m),b=a.selector,b.rows=o.rows,b.cols=o.cols,b.opts=o.opts,a):this},lastIndexOf:tb.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(tb.map)b=tb.map.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)b.push(a.call(this,this[c],c));return new Ra(this.context,b)},pluck:function(a){return this.map((function(b){return b[a]}))},pop:tb.pop,push:tb.push,reduce:tb.reduce||function(a,b){return k(this,a,b,0,this.length,1)},reduceRight:tb.reduceRight||function(a,b){return k(this,a,b,this.length-1,-1,-1)},reverse:tb.reverse,selector:null,shift:tb.shift,sort:tb.sort,splice:tb.splice,toArray:function(){return tb.slice.call(this)},to$:function(){return a(this)},toJQuery:function(){return a(this)},unique:function(){return new Ra(this.context,jb(this))},unshift:tb.unshift}),Ra.extend=function(b,c,d){if(d.length&&c&&(c instanceof Ra||c.__dt_wrapper)){var e,f,g,h=function(a,b,c){return function(){var d=b.apply(a,arguments);return Ra.extend(d,d,c.methodExt),d}};for(e=0,f=d.length;e<f;e++)g=d[e],c[g.name]="function"==typeof g.val?h(b,g.val,g):a.isPlainObject(g.val)?{}:g.val,c[g.name].__dt_wrapper=!0,Ra.extend(b,c[g.name],g.propExt)}},Ra.register=Sa=function(b,c){if(a.isArray(b))for(var d=0,e=b.length;d<e;d++)Ra.register(b[d],c);else for(var f,g,h=b.split("."),i=sb,d=0,e=h.length;d<e;d++){f=(g=-1!==h[d].indexOf("()"))?h[d].replace("()",""):h[d];var j;a:{j=0;for(var k=i.length;j<k;j++)if(i[j].name===f){j=i[j];break a}j=null}j||(j={name:f,val:{},methodExt:[],propExt:[]},i.push(j)),d===e-1?j.val=c:i=g?j.methodExt:j.propExt}},Ra.registerPlural=Ta=function(b,c,e){Ra.register(b,e),Ra.register(c,(function(){var b=e.apply(this,arguments);return b===this?this:b instanceof Ra?b.length?a.isArray(b[0])?new Ra(b.context,b[0]):b[0]:d:b}))},Sa("tables()",(function(b){var c;if(b){c=Ra;var d=this.context;if("number"==typeof b)b=[d[b]];else var e=a.map(d,(function(a){return a.nTable})),b=a(e).filter(b).map((function(){var b=a.inArray(this,e);return d[b]})).toArray();c=new c(b)}else c=this;return c})),Sa("table()",(function(a){var a=this.tables(a),b=a.context;return b.length?new Ra(b[0]):a})),Ta("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(a){return a.nTable}),1)})),Ta("tables().body()","table().body()",(function(){return this.iterator("table",(function(a){return a.nTBody}),1)})),Ta("tables().header()","table().header()",(function(){return this.iterator("table",(function(a){return a.nTHead}),1)})),Ta("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(a){return a.nTFoot}),1)})),Ta("tables().containers()","table().container()",(function(){return this.iterator("table",(function(a){return a.nTableWrapper}),1)})),Sa("draw()",(function(a){return this.iterator("table",(function(b){"page"===a?K(b):("string"==typeof a&&(a="full-hold"!==a),L(b,!1===a))}))})),Sa("page()",(function(a){return a===d?this.page.info().page:this.iterator("table",(function(b){ja(b,a)}))})),Sa("page.info()",(function(){if(0===this.context.length)return d;var a=this.context[0],b=a._iDisplayStart,c=a.oFeatures.bPaginate?a._iDisplayLength:-1,e=a.fnRecordsDisplay(),f=-1===c;return{page:f?0:Math.floor(b/c),pages:f?1:Math.ceil(e/c),start:b,end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:e,serverSide:"ssp"===Ma(a)}})),Sa("page.len()",(function(a){return a===d?0!==this.context.length?this.context[0]._iDisplayLength:d:this.iterator("table",(function(b){ga(b,a)}))}));var vb=function(a,b,c){if(c){var d=new Ra(a);d.one("draw",(function(){c(d.ajax.json())}))}if("ssp"==Ma(a))L(a,b);else{la(a,!0);var e=a.jqXHR;e&&4!==e.readyState&&e.abort(),P(a,[],(function(c){C(a);for(var c=T(a,c),d=0,e=c.length;d<e;d++)u(a,c[d]);L(a,b),la(a,!1)}))}};Sa("ajax.json()",(function(){var a=this.context;if(0<a.length)return a[0].json})),Sa("ajax.params()",(function(){var a=this.context;if(0<a.length)return a[0].oAjaxData})),Sa("ajax.reload()",(function(a,b){return this.iterator("table",(function(c){vb(c,!1===b,a)}))})),Sa("ajax.url()",(function(b){var c=this.context;return b===d?0===c.length?d:(c=c[0],c.ajax?a.isPlainObject(c.ajax)?c.ajax.url:c.ajax:c.sAjaxSource):this.iterator("table",(function(c){a.isPlainObject(c.ajax)?c.ajax.url=b:c.ajax=b}))})),Sa("ajax.url().load()",(function(a,b){return this.iterator("table",(function(c){vb(c,!1===b,a)}))}));var wb=function(b,c,e,f,g){var h,i,j,k,l,m,n=[];for(j=typeof c,c&&"string"!==j&&"function"!==j&&c.length!==d||(c=[c]),j=0,k=c.length;j<k;j++)for(i=c[j]&&c[j].split?c[j].split(","):[c[j]],l=0,m=i.length;l<m;l++)(h=e("string"==typeof i[l]?a.trim(i[l]):i[l]))&&h.length&&(n=n.concat(h));if(b=Qa.selector[b],b.length)for(j=0,k=b.length;j<k;j++)n=b[j](f,g,n);return jb(n)},xb=function(b){return b||(b={}),b.filter&&b.search===d&&(b.search=b.filter),a.extend({search:"none",order:"current",page:"all"},b)},yb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=a[b],a[0].length=1,a.length=1,a.context=[a.context[b]],a;return a.length=0,a},zb=function(b,c){var d,e,f,g=[],h=b.aiDisplay;d=b.aiDisplayMaster;var i=c.search;if(e=c.order,f=c.page,"ssp"==Ma(b))return"removed"===i?[]:hb(0,d.length);if("current"==f)for(d=b._iDisplayStart,e=b.fnDisplayEnd();d<e;d++)g.push(h[d]);else if("current"==e||"applied"==e)g="none"==i?d.slice():"applied"==i?h.slice():a.map(d,(function(b){return-1===a.inArray(b,h)?b:null}));else if("index"==e||"original"==e)for(d=0,e=b.aoData.length;d<e;d++)"none"==i?g.push(d):(f=a.inArray(d,h),(-1===f&&"removed"==i||0<=f&&"applied"==i)&&g.push(d));return g};Sa("rows()",(function(b,c){b===d?b="":a.isPlainObject(b)&&(c=b,b="");var c=xb(c),e=this.iterator("table",(function(e){var f=c;return wb("row",b,(function(b){var c=bb(b);if(null!==c&&!f)return[c];var g=zb(e,f);return null!==c&&a.inArray(c,g)!==-1?[c]:b?"function"==typeof b?a.map(g,(function(a){var c=e.aoData[a];return b(a,c._aData,c.nTr)?a:null})):(c=ib(gb(e.aoData,g,"nTr")),b.nodeName?b._DT_RowIndex!==d?[b._DT_RowIndex]:b._DT_CellIndex?[b._DT_CellIndex.row]:(c=a(b).closest("*[data-dt-row]"),c.length?[c.data("dt-row")]:[]):"string"==typeof b&&"#"===b.charAt(0)&&(g=e.aIds[b.replace(/^#/,"")],g!==d)?[g.idx]:a(c).filter(b).map((function(){return this._DT_RowIndex})).toArray()):g}),e,f)}),1);return e.selector.rows=b,e.selector.opts=c,e})),Sa("rows().nodes()",(function(){return this.iterator("row",(function(a,b){return a.aoData[b].nTr||d}),1)})),Sa("rows().data()",(function(){return this.iterator(!0,"rows",(function(a,b){return gb(a.aoData,b,"_aData")}),1)})),Ta("rows().cache()","row().cache()",(function(a){return this.iterator("row",(function(b,c){var d=b.aoData[c];return"search"===a?d._aFilterData:d._aSortData}),1)})),Ta("rows().invalidate()","row().invalidate()",(function(a){return this.iterator("row",(function(b,c){E(b,c,a)}))})),Ta("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(a,b){return b}),1)})),Ta("rows().ids()","row().id()",(function(a){for(var b=[],c=this.context,d=0,e=c.length;d<e;d++)for(var f=0,g=this[d].length;f<g;f++){var h=c[d].rowIdFn(c[d].aoData[this[d][f]]._aData);b.push((!0===a?"#":"")+h)}return new Ra(c,b)})),Ta("rows().remove()","row().remove()",(function(){var a=this;return this.iterator("row",(function(b,c,e){var f,g,h,i,j,k=b.aoData,l=k[c];for(k.splice(c,1),f=0,g=k.length;f<g;f++)if(h=k[f],j=h.anCells,null!==h.nTr&&(h.nTr._DT_RowIndex=f),null!==j)for(h=0,i=j.length;h<i;h++)j[h]._DT_CellIndex.row=f;D(b.aiDisplayMaster,c),D(b.aiDisplay,c),D(a[e],c,!1),Ka(b),c=b.rowIdFn(l._aData),c!==d&&delete b.aIds[c]})),this.iterator("table",(function(a){for(var b=0,c=a.aoData.length;b<c;b++)a.aoData[b].idx=b})),this})),Sa("rows.add()",(function(b){var c=this.iterator("table",(function(a){var c,d,e,f=[];for(d=0,e=b.length;d<e;d++)c=b[d],c.nodeName&&"TR"===c.nodeName.toUpperCase()?f.push(v(a,c)[0]):f.push(u(a,c));return f}),1),d=this.rows(-1);return d.pop(),a.merge(d,c),d})),Sa("row()",(function(a,b){return yb(this.rows(a,b))})),Sa("row().data()",(function(a){var b=this.context;return a===d?b.length&&this.length?b[0].aoData[this[0]]._aData:d:(b[0].aoData[this[0]]._aData=a,E(b[0],this[0],"data"),this)})),Sa("row().node()",(function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null})),Sa("row.add()",(function(b){b instanceof a&&b.length&&(b=b[0]);var c=this.iterator("table",(function(a){return b.nodeName&&"TR"===b.nodeName.toUpperCase()?v(a,b)[0]:u(a,b)}));return this.row(c[0])}));var Ab=function(a,b){var c=a.context;c.length&&(c=c[0].aoData[b!==d?b:a[0]])&&c._details&&(c._details.remove(),c._detailsShow=d,c._details=d)},Bb=function(a,b){var c=a.context;if(c.length&&a.length){var d=c[0].aoData[a[0]];if(d._details){(d._detailsShow=b)?d._details.insertAfter(d.nTr):d._details.detach();var e=c[0],f=new Ra(e),g=e.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<fb(g,"_details").length&&(f.on("draw.dt.DT_details",(function(a,b){e===b&&f.rows({page:"current"}).eq(0).each((function(a){a=g[a],a._detailsShow&&a._details.insertAfter(a.nTr)}))})),f.on("column-visibility.dt.DT_details",(function(a,b){if(e===b)for(var c,d=q(b),f=0,h=g.length;f<h;f++)c=g[f],c._details&&c._details.children("td[colspan]").attr("colspan",d)})),f.on("destroy.dt.DT_details",(function(a,b){if(e===b)for(var c=0,d=g.length;c<d;c++)g[c]._details&&Ab(f,c)})))}}};Sa("row().child()",(function(b,c){var e=this.context;if(b===d)return e.length&&this.length?e[0].aoData[this[0]]._details:d;if(!0===b)this.child.show();else if(!1===b)Ab(this);else if(e.length&&this.length){var f=e[0],e=e[0].aoData[this[0]],g=[],h=function(b,c){if(a.isArray(b)||b instanceof a)for(var d=0,e=b.length;d<e;d++)h(b[d],c);else b.nodeName&&"tr"===b.nodeName.toLowerCase()?g.push(b):(d=a("<tr><td/></tr>").addClass(c),a("td",d).addClass(c).html(b)[0].colSpan=q(f),g.push(d[0]))};h(b,c),e._details&&e._details.remove(),e._details=a(g),e._detailsShow&&e._details.insertAfter(e.nTr)}return this})),Sa(["row().child.show()","row().child().show()"],(function(){return Bb(this,!0),this})),Sa(["row().child.hide()","row().child().hide()"],(function(){return Bb(this,!1),this})),Sa(["row().child.remove()","row().child().remove()"],(function(){return Ab(this),this})),Sa("row().child.isShown()",(function(){var a=this.context;return!(!a.length||!this.length)&&(a[0].aoData[this[0]]._detailsShow||!1)}));var Cb=/^(.+):(name|visIdx|visible)$/,Db=function(a,b,c,d,e){for(var c=[],d=0,f=e.length;d<f;d++)c.push(w(a,e[d],b));return c};Sa("columns()",(function(b,c){b===d?b="":a.isPlainObject(b)&&(c=b,b="");var c=xb(c),e=this.iterator("table",(function(d){var e=b,f=c,g=d.aoColumns,h=fb(g,"sName"),i=fb(g,"nTh");return wb("column",e,(function(b){var c=bb(b);if(""===b)return hb(g.length);if(null!==c)return[c>=0?c:g.length+c];if("function"==typeof b){var e=zb(d,f);return a.map(g,(function(a,c){return b(c,Db(d,c,0,0,e),i[c])?c:null}))}var j="string"==typeof b?b.match(Cb):"";if(j)switch(j[2]){case"visIdx":case"visible":if(c=parseInt(j[1],10),c<0){var k=a.map(g,(function(a,b){return a.bVisible?b:null}));return[k[k.length+c]]}return[o(d,c)];case"name":return a.map(h,(function(a,b){return a===j[1]?b:null}));default:return[]}return b.nodeName&&b._DT_CellIndex?[b._DT_CellIndex.column]:(c=a(i).filter(b).map((function(){return a.inArray(this,i)})).toArray(),c.length||!b.nodeName?c:(c=a(b).closest("*[data-dt-column]"),c.length?[c.data("dt-column")]:[]))}),d,f)}),1);return e.selector.cols=b,e.selector.opts=c,e})),Ta("columns().header()","column().header()",(function(){return this.iterator("column",(function(a,b){return a.aoColumns[b].nTh}),1)})),Ta("columns().footer()","column().footer()",(function(){return this.iterator("column",(function(a,b){return a.aoColumns[b].nTf}),1)})),Ta("columns().data()","column().data()",(function(){return this.iterator("column-rows",Db,1)})),Ta("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(a,b){return a.aoColumns[b].mData}),1)})),Ta("columns().cache()","column().cache()",(function(a){return this.iterator("column-rows",(function(b,c,d,e,f){return gb(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)}),1)})),Ta("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(a,b,c,d,e){return gb(a.aoData,e,"anCells",b)}),1)})),Ta("columns().visible()","column().visible()",(function(b,c){var e=this.iterator("column",(function(c,e){if(b===d)return c.aoColumns[e].bVisible;var f,g,h,i=c.aoColumns,j=i[e],k=c.aoData;if(b!==d&&j.bVisible!==b){if(b){var l=a.inArray(!0,fb(i,"bVisible"),e+1);for(f=0,g=k.length;f<g;f++)h=k[f].nTr,i=k[f].anCells,h&&h.insertBefore(i[e],i[l]||null)}else a(fb(c.aoData,"anCells",e)).detach();j.bVisible=b,J(c,c.aoHeader),J(c,c.aoFooter),Ba(c)}}));return b!==d&&(this.iterator("column",(function(a,d){Ja(a,null,"column-visibility",[a,d,b,c])})),(c===d||c)&&this.columns.adjust()),e})),Ta("columns().indexes()","column().index()",(function(a){return this.iterator("column",(function(b,c){return"visible"===a?p(b,c):c}),1)})),Sa("columns.adjust()",(function(){return this.iterator("table",(function(a){n(a)}),1)})),Sa("column.index()",(function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return o(c,b);if("fromData"===a||"toVisible"===a)return p(c,b)}})),Sa("column()",(function(a,b){return yb(this.columns(a,b))})),Sa("cells()",(function(b,c,e){if(a.isPlainObject(b)&&(b.row===d?(e=b,b=null):(e=c,c=null)),a.isPlainObject(c)&&(e=c,c=null),null===c||c===d)return this.iterator("table",(function(c){var f,g,h,i,j,k,l,m=b,n=xb(e),o=c.aoData,p=zb(c,n),q=ib(gb(o,p,"anCells")),r=a([].concat.apply([],q)),s=c.aoColumns.length;return wb("cell",m,(function(b){var e="function"==typeof b;if(null===b||b===d||e){for(g=[],h=0,i=p.length;h<i;h++)for(f=p[h],j=0;j<s;j++)k={row:f,column:j},e?(l=o[f],b(k,w(c,f,j),l.anCells?l.anCells[j]:null)&&g.push(k)):g.push(k);return g}return a.isPlainObject(b)?[b]:(e=r.filter(b).map((function(a,b){return{row:b._DT_CellIndex.row,column:b._DT_CellIndex.column}})).toArray(),e.length||!b.nodeName?e:(l=a(b).closest("*[data-dt-row]"),l.length?[{row:l.data("dt-row"),column:l.data("dt-column")}]:[]))}),c,n)}));var f,g,h,i,j,k=this.columns(c,e),l=this.rows(b,e),m=this.iterator("table",(function(a,b){for(f=[],g=0,h=l[b].length;g<h;g++)for(i=0,j=k[b].length;i<j;i++)f.push({row:l[b][g],column:k[b][i]});return f}),1);return a.extend(m.selector,{cols:c,rows:b,opts:e}),m})),Ta("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(a,b,c){return(a=a.aoData[b])&&a.anCells?a.anCells[c]:d}),1)})),Sa("cells().data()",(function(){return this.iterator("cell",(function(a,b,c){return w(a,b,c)}),1)})),Ta("cells().cache()","cell().cache()",(function(a){return a="search"===a?"_aFilterData":"_aSortData",this.iterator("cell",(function(b,c,d){return b.aoData[c][a][d]}),1)})),Ta("cells().render()","cell().render()",(function(a){return this.iterator("cell",(function(b,c,d){return w(b,c,d,a)}),1)})),Ta("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(a,b,c){return{row:b,column:c,columnVisible:p(a,c)}}),1)})),Ta("cells().invalidate()","cell().invalidate()",(function(a){return this.iterator("cell",(function(b,c,d){E(b,c,a,d)}))})),Sa("cell()",(function(a,b,c){return yb(this.cells(a,b,c))})),Sa("cell().data()",(function(a){var b=this.context,c=this[0];return a===d?b.length&&c.length?w(b[0],c[0].row,c[0].column):d:(x(b[0],c[0].row,c[0].column,a),E(b[0],c[0].row,"data",c[0].column),this)})),Sa("order()",(function(b,c){var e=this.context;return b===d?0!==e.length?e[0].aaSorting:d:("number"==typeof b?b=[[b,c]]:b.length&&!a.isArray(b[0])&&(b=Array.prototype.slice.call(arguments)),this.iterator("table",(function(a){a.aaSorting=b.slice()})))})),Sa("order.listener()",(function(a,b,c){return this.iterator("table",(function(d){ya(d,a,b,c)}))})),Sa("order.fixed()",(function(b){if(!b){var c=this.context,c=c.length?c[0].aaSortingFixed:d;return a.isArray(c)?{pre:c}:c}return this.iterator("table",(function(c){c.aaSortingFixed=a.extend(!0,{},b)}))})),Sa(["columns().order()","column().order()"],(function(b){var c=this;return this.iterator("table",(function(d,e){var f=[];a.each(c[e],(function(a,c){f.push([c,b])})),d.aaSorting=f}))})),Sa("search()",(function(b,c,e,f){var g=this.context;return b===d?0!==g.length?g[0].oPreviousSearch.sSearch:d:this.iterator("table",(function(d){d.oFeatures.bFilter&&V(d,a.extend({},d.oPreviousSearch,{sSearch:b+"",bRegex:null!==c&&c,bSmart:null===e||e,bCaseInsensitive:null===f||f}),1)}))})),Ta("columns().search()","column().search()",(function(b,c,e,f){return this.iterator("column",(function(g,h){var i=g.aoPreSearchCols;return b===d?i[h].sSearch:void(g.oFeatures.bFilter&&(a.extend(i[h],{sSearch:b+"",bRegex:null!==c&&c,bSmart:null===e||e,bCaseInsensitive:null===f||f}),V(g,g.oPreviousSearch,1)))}))})),Sa("state()",(function(){
return this.context.length?this.context[0].oSavedState:null})),Sa("state.clear()",(function(){return this.iterator("table",(function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})}))})),Sa("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),Sa("state.save()",(function(){return this.iterator("table",(function(a){Ba(a)}))})),Ua.versionCheck=Ua.fnVersionCheck=function(a){for(var b,c,d=Ua.version.split("."),a=a.split("."),e=0,f=a.length;e<f;e++)if(b=parseInt(d[e],10)||0,c=parseInt(a[e],10)||0,b!==c)return b>c;return!0},Ua.isDataTable=Ua.fnIsDataTable=function(b){var c=a(b).get(0),d=!1;return a.each(Ua.settings,(function(b,e){var f=e.nScrollHead?a("table",e.nScrollHead)[0]:null,g=e.nScrollFoot?a("table",e.nScrollFoot)[0]:null;e.nTable!==c&&f!==c&&g!==c||(d=!0)})),d},Ua.tables=Ua.fnTables=function(b){var c=!1;a.isPlainObject(b)&&(c=b.api,b=b.visible);var d=a.map(Ua.settings,(function(c){if(!b||b&&a(c.nTable).is(":visible"))return c.nTable}));return c?new Ra(d):d},Ua.camelToHungarian=f,Sa("$()",(function(b,c){var d=this.rows(c).nodes(),d=a(d);return a([].concat(d.filter(b).toArray(),d.find(b).toArray()))})),a.each(["on","one","off"],(function(b,c){Sa(c+"()",(function(){var b=Array.prototype.slice.call(arguments);b[0].match(/\.dt\b/)||(b[0]+=".dt");var d=a(this.tables().nodes());return d[c].apply(d,b),this}))})),Sa("clear()",(function(){return this.iterator("table",(function(a){C(a)}))})),Sa("settings()",(function(){return new Ra(this.context,this.context)})),Sa("init()",(function(){var a=this.context;return a.length?a[0].oInit:null})),Sa("data()",(function(){return this.iterator("table",(function(a){return fb(a.aoData,"_aData")})).flatten()})),Sa("destroy()",(function(c){return c=c||!1,this.iterator("table",(function(d){var e,f=d.nTableWrapper.parentNode,g=d.oClasses,h=d.nTable,i=d.nTBody,j=d.nTHead,k=d.nTFoot,l=a(h),i=a(i),m=a(d.nTableWrapper),n=a.map(d.aoData,(function(a){return a.nTr}));d.bDestroying=!0,Ja(d,"aoDestroyCallback","destroy",[d]),c||new Ra(d).columns().visible(!0),m.unbind(".DT").find(":not(tbody *)").unbind(".DT"),a(b).unbind(".DT-"+d.sInstance),h!=j.parentNode&&(l.children("thead").detach(),l.append(j)),k&&h!=k.parentNode&&(l.children("tfoot").detach(),l.append(k)),d.aaSorting=[],d.aaSortingFixed=[],za(d),a(n).removeClass(d.asStripeClasses.join(" ")),a("th, td",j).removeClass(g.sSortable+" "+g.sSortableAsc+" "+g.sSortableDesc+" "+g.sSortableNone),d.bJUI&&(a("th span."+g.sSortIcon+", td span."+g.sSortIcon,j).detach(),a("th, td",j).each((function(){var b=a("div."+g.sSortJUIWrapper,this);a(this).append(b.contents()),b.detach()}))),i.children().detach(),i.append(n),j=c?"remove":"detach",l[j](),m[j](),!c&&f&&(f.insertBefore(h,d.nTableReinsertBefore),l.css("width",d.sDestroyWidth).removeClass(g.sTable),(e=d.asDestroyStripes.length)&&i.children().each((function(b){a(this).addClass(d.asDestroyStripes[b%e])}))),f=a.inArray(d,Ua.settings),-1!==f&&Ua.settings.splice(f,1)}))})),a.each(["column","row","cell"],(function(a,b){Sa(b+"s().every()",(function(a){var c=this.selector.opts,e=this;return this.iterator(b,(function(f,g,h,i,j){a.call(e[b](g,"cell"===b?h:c,"cell"===b?c:d),g,h,i,j)}))}))})),Sa("i18n()",(function(b,c,e){var f=this.context[0],b=z(b)(f.oLanguage);return b===d&&(b=c),e!==d&&a.isPlainObject(b)&&(b=b[e]!==d?b[e]:b._),b.replace("%d",e)})),Ua.version="1.10.12",Ua.settings=[],Ua.models={},Ua.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ua.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ua.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ua.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:a.extend({},Ua.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},e(Ua.defaults),Ua.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},e(Ua.defaults.column),Ua.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:d,oAjaxData:d,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ma(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ma(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,d=this.aiDisplay.length,e=this.oFeatures,f=e.bPaginate;return e.bServerSide?!1===f||-1===a?b+d:Math.min(b+a,this._iRecordsDisplay):!f||c>d||-1===a?d:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ua.ext=Qa={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ua.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ua.version},a.extend(Qa,{afnFiltering:Qa.search,aTypes:Qa.type.detect,ofnSearch:Qa.type.search,oSort:Qa.type.order,afnSortData:Qa.order,aoFeatures:Qa.feature,oApi:Qa.internal,oStdClasses:Qa.classes,oPagination:Qa.pager}),a.extend(Ua.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Eb="",Eb="",Fb=Eb+"ui-state-default",Gb=Eb+"css_right ui-icon ui-icon-",Hb=Eb+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";a.extend(Ua.ext.oJUIClasses,Ua.ext.classes,{sPageButton:"fg-button ui-button "+Fb,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Fb+" sorting_asc",sSortDesc:Fb+" sorting_desc",sSortable:Fb+" sorting",sSortableAsc:Fb+" sorting_asc_disabled",sSortableDesc:Fb+" sorting_desc_disabled",sSortableNone:Fb+" sorting_disabled",sSortJUIAsc:Gb+"triangle-1-n",sSortJUIDesc:Gb+"triangle-1-s",sSortJUI:Gb+"carat-2-n-s",sSortJUIAscAllowed:Gb+"carat-1-n",sSortJUIDescAllowed:Gb+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Fb,sScrollFoot:"dataTables_scrollFoot "+Fb,sHeaderTH:Fb,sFooterTH:Fb,sJUIHeader:Hb+" ui-corner-tl ui-corner-tr",sJUIFooter:Hb+" ui-corner-bl ui-corner-br"});var Ib=Ua.ext.pager;a.extend(Ib,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(a,b){return[Na(a,b)]},simple_numbers:function(a,b){return["previous",Na(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Na(a,b),"next","last"]},_numbers:Na,numbers_length:7}),a.extend(!0,Ua.ext.renderer,{pageButton:{_:function(b,d,e,f,g,h){var i,j,k,l=b.oClasses,m=b.oLanguage.oPaginate,n=b.oLanguage.oAria.paginate||{},o=0,p=function(c,d){var f,k,q,r,s=function(a){ja(b,a.data.action,!0)};for(f=0,k=d.length;f<k;f++)if(r=d[f],a.isArray(r))q=a("<"+(r.DT_el||"div")+"/>").appendTo(c),p(q,r);else{switch(i=null,j="",r){case"ellipsis":c.append('<span class="ellipsis">&#x2026;</span>');break;case"first":i=m.sFirst,j=r+(g>0?"":" "+l.sPageButtonDisabled);break;case"previous":i=m.sPrevious,j=r+(g>0?"":" "+l.sPageButtonDisabled);break;case"next":i=m.sNext,j=r+(g<h-1?"":" "+l.sPageButtonDisabled);break;case"last":i=m.sLast,j=r+(g<h-1?"":" "+l.sPageButtonDisabled);break;default:i=r+1,j=g===r?l.sPageButtonActive:""}null!==i&&(q=a("<a>",{"class":l.sPageButton+" "+j,"aria-controls":b.sTableId,"aria-label":n[r],"data-dt-idx":o,tabindex:b.iTabIndex,id:0===e&&"string"==typeof r?b.sTableId+"_"+r:null}).html(i).appendTo(c),Ha(q,{action:r},s),o++)}};try{k=a(d).find(c.activeElement).data("dt-idx")}catch(q){}p(a(d).empty(),f),k&&a(d).find("[data-dt-idx="+k+"]").focus()}}}),a.extend(Ua.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return db(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&(!Ya.test(a)||!Za.test(a)))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||ab(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return db(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return eb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return eb(a,c,!0)?"html-num-fmt"+c:null},function(a){return ab(a)||"string"==typeof a&&-1!==a.indexOf("<")?"html":null}]),a.extend(Ua.ext.type.search,{html:function(a){return ab(a)?a:"string"==typeof a?a.replace(Wa," ").replace(Xa,""):""},string:function(a){return ab(a)?a:"string"==typeof a?a.replace(Wa," "):a}});var Jb=function(a,b,c,d){return 0===a||a&&"-"!==a?(b&&(a=cb(a,b)),a.replace&&(c&&(a=a.replace(c,"")),d&&(a=a.replace(d,""))),1*a):-(1/0)};a.extend(Qa.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return ab(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return ab(a)?"":"string"==typeof a?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}}),Oa(""),a.extend(!0,Ua.ext.renderer,{header:{_:function(b,c,d,e){a(b.nTable).on("order.dt.DT",(function(a,f,g,h){b===f&&(a=d.idx,c.removeClass(d.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[a]?e.sSortAsc:"desc"==h[a]?e.sSortDesc:d.sSortingClass))}))},jqueryui:function(b,c,d,e){a("<div/>").addClass(e.sSortJUIWrapper).append(c.contents()).append(a("<span/>").addClass(e.sSortIcon+" "+d.sSortingClassJUI)).appendTo(c),a(b.nTable).on("order.dt.DT",(function(a,f,g,h){b===f&&(a=d.idx,c.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[a]?e.sSortAsc:"desc"==h[a]?e.sSortDesc:d.sSortingClass),c.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass("asc"==h[a]?e.sSortJUIAsc:"desc"==h[a]?e.sSortJUIDesc:d.sSortingClassJUI))}))}}});var Kb=function(a){return"string"==typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):a};return Ua.render={number:function(a,b,c,d,e){return{display:function(f){if("number"!=typeof f&&"string"!=typeof f)return f;var g=0>f?"-":"",h=parseFloat(f);return isNaN(h)?Kb(f):(f=Math.abs(h),h=parseInt(f,10),f=c?b+(f-h).toFixed(c).substring(2):"",g+(d||"")+h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+f+(e||""))}}},text:function(){return{display:Kb}}},a.extend(Ua.ext.internal,{_fnExternApiFunc:Pa,_fnBuildAjax:P,_fnAjaxUpdate:Q,_fnAjaxParameters:R,_fnAjaxUpdateDraw:S,_fnAjaxDataSrc:T,_fnAddColumn:l,_fnColumnOptions:m,_fnAdjustColumnSizing:n,_fnVisibleToColumnIndex:o,_fnColumnIndexToVisible:p,_fnVisbleColumns:q,_fnGetColumns:r,_fnColumnTypes:s,_fnApplyColumnDefs:t,_fnHungarianMap:e,_fnCamelToHungarian:f,_fnLanguageCompat:g,_fnBrowserDetect:j,_fnAddData:u,_fnAddTr:v,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==d?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(b,c,d){return a.inArray(d,b.aoData[c].anCells)},_fnGetCellData:w,_fnSetCellData:x,_fnSplitObjNotation:y,_fnGetObjectDataFn:z,_fnSetObjectDataFn:A,_fnGetDataMaster:B,_fnClearTable:C,_fnDeleteIndex:D,_fnInvalidate:E,_fnGetRowElements:F,_fnCreateTr:G,_fnBuildHead:I,_fnDrawHead:J,_fnDraw:K,_fnReDraw:L,_fnAddOptionsHtml:M,_fnDetectHeader:N,_fnGetUniqueThs:O,_fnFeatureHtmlFilter:U,_fnFilterComplete:V,_fnFilterCustom:W,_fnFilterColumn:X,_fnFilter:Y,_fnFilterCreateSearch:Z,_fnEscapeRegex:nb,_fnFilterData:$,_fnFeatureHtmlInfo:ba,_fnUpdateInfo:ca,_fnInfoMacros:da,_fnInitialise:ea,_fnInitComplete:fa,_fnLengthChange:ga,_fnFeatureHtmlLength:ha,_fnFeatureHtmlPaginate:ia,_fnPageChange:ja,_fnFeatureHtmlProcessing:ka,_fnProcessingDisplay:la,_fnFeatureHtmlTable:ma,_fnScrollDraw:na,_fnApplyToChildren:oa,_fnCalculateColumnWidths:pa,_fnThrottle:rb,_fnConvertToWidth:qa,_fnGetWidestNode:ra,_fnGetMaxLenString:sa,_fnStringToCss:ta,_fnSortFlatten:ua,_fnSort:va,_fnSortAria:wa,_fnSortListener:xa,_fnSortAttachListener:ya,_fnSortingClasses:za,_fnSortData:Aa,_fnSaveState:Ba,_fnLoadState:Ca,_fnSettingsFromNode:Da,_fnLog:Ea,_fnMap:Fa,_fnBindAction:Ha,_fnCallbackReg:Ia,_fnCallbackFire:Ja,_fnLengthOverflow:Ka,_fnRenderer:La,_fnDataSource:Ma,_fnRowAttributes:H,_fnCalculateEnd:function(){}}),a.fn.dataTable=Ua,Ua.$=a,a.fn.dataTableSettings=Ua.settings,a.fn.dataTableExt=Ua.ext,a.fn.DataTable=function(b){return a(this).dataTable(b).api()},a.each(Ua,(function(b,c){a.fn.DataTable[b]=c})),a.fn.dataTable})),(function(a){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(b){return a(b,window,document)})):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c&&c.fn.dataTable||(c=require("datatables.net")(b,c).$),a(c,b,b.document)}:a(jQuery,window,document)})((function(a,b,c,d){function e(a){for(var b=[],c=0,d=a.length;c<d;c++)b[a[c]]=c;return b}function f(a,b,c){b=a.splice(b,1)[0],a.splice(c,0,b)}function g(a,b,c){for(var d=[],e=0,f=a.childNodes.length;e<f;e++)1==a.childNodes[e].nodeType&&d.push(a.childNodes[e]);b=d[b],null!==c?a.insertBefore(b,d[c]):a.appendChild(b)}var h=a.fn.dataTable;a.fn.dataTableExt.oApi.fnColReorder=function(b,c,h,i,j){var k,l,m,n,o,p,q=b.aoColumns.length;if(o=function(a,b,c){if(a[b]&&"function"!=typeof a[b]){var d=a[b].split("."),e=d.shift();isNaN(1*e)||(a[b]=c[1*e]+"."+d.join("."))}},c!=h)if(0>c||c>=q)this.oApi._fnLog(b,1,"ColReorder 'from' index is out of bounds: "+c);else if(0>h||h>=q)this.oApi._fnLog(b,1,"ColReorder 'to' index is out of bounds: "+h);else{for(m=[],k=0,l=q;k<l;k++)m[k]=k;f(m,c,h);var r=e(m);for(k=0,l=b.aaSorting.length;k<l;k++)b.aaSorting[k][0]=r[b.aaSorting[k][0]];if(null!==b.aaSortingFixed)for(k=0,l=b.aaSortingFixed.length;k<l;k++)b.aaSortingFixed[k][0]=r[b.aaSortingFixed[k][0]];for(k=0,l=q;k<l;k++){for(p=b.aoColumns[k],m=0,n=p.aDataSort.length;m<n;m++)p.aDataSort[m]=r[p.aDataSort[m]];p.idx=r[p.idx]}for(a.each(b.aLastSort,(function(a,c){b.aLastSort[a].src=r[c.src]})),k=0,l=q;k<l;k++)p=b.aoColumns[k],"number"==typeof p.mData?p.mData=r[p.mData]:a.isPlainObject(p.mData)&&(o(p.mData,"_",r),o(p.mData,"filter",r),o(p.mData,"sort",r),o(p.mData,"type",r));if(b.aoColumns[c].bVisible){for(o=this.oApi._fnColumnIndexToVisible(b,c),n=null,k=h<c?h:h+1;null===n&&k<q;)n=this.oApi._fnColumnIndexToVisible(b,k),k++;for(m=b.nTHead.getElementsByTagName("tr"),k=0,l=m.length;k<l;k++)g(m[k],o,n);if(null!==b.nTFoot)for(m=b.nTFoot.getElementsByTagName("tr"),k=0,l=m.length;k<l;k++)g(m[k],o,n);for(k=0,l=b.aoData.length;k<l;k++)null!==b.aoData[k].nTr&&g(b.aoData[k].nTr,o,n)}for(f(b.aoColumns,c,h),k=0,l=q;k<l;k++)b.oApi._fnColumnOptions(b,k,{});for(f(b.aoPreSearchCols,c,h),k=0,l=b.aoData.length;k<l;k++){if(n=b.aoData[k],p=n.anCells)for(f(p,c,h),m=0,o=p.length;m<o;m++)p[m]&&p[m]._DT_CellIndex&&(p[m]._DT_CellIndex.column=m);"dom"!==n.src&&a.isArray(n._aData)&&f(n._aData,c,h)}for(k=0,l=b.aoHeader.length;k<l;k++)f(b.aoHeader[k],c,h);if(null!==b.aoFooter)for(k=0,l=b.aoFooter.length;k<l;k++)f(b.aoFooter[k],c,h);for((j||j===d)&&a.fn.dataTable.Api(b).rows().invalidate(),k=0,l=q;k<l;k++)a(b.aoColumns[k].nTh).off("click.DT"),this.oApi._fnSortAttachListener(b,b.aoColumns[k].nTh,k);a(b.oInstance).trigger("column-reorder.dt",[b,{from:c,to:h,mapping:r,drop:i,iFrom:c,iTo:h,aiInvertMapping:r}])}};var i=function(b,c){var d=new a.fn.dataTable.Api(b).settings()[0];if(d._colReorder)return d._colReorder;!0===c&&(c={});var e=a.fn.dataTable.camelToHungarian;return e&&(e(i.defaults,i.defaults,!0),e(i.defaults,c||{})),this.s={dt:null,init:a.extend(!0,{},i.defaults,c),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]},this.dom={drag:null,pointer:null},this.s.dt=d,this.s.dt._colReorder=this,this._fnConstruct(),this};return a.extend(i.prototype,{fnReset:function(){return this._fnOrderColumns(this.fnOrder()),this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(b,c){var f,g,h=[],i=this.s.dt.aoColumns;if(b===d){for(f=0,g=i.length;f<g;f++)h.push(i[f]._ColReorder_iOrigCol);return h}if(c){for(i=this.fnOrder(),f=0,g=b.length;f<g;f++)h.push(a.inArray(b[f],i));b=h}return this._fnOrderColumns(e(b)),this},fnTranspose:function(b,c){c||(c="toCurrent");var d=this.fnOrder(),e=this.s.dt.aoColumns;return"toCurrent"===c?a.isArray(b)?a.map(b,(function(b){return a.inArray(b,d)})):a.inArray(b,d):a.isArray(b)?a.map(b,(function(a){return e[a]._ColReorder_iOrigCol})):e[b]._ColReorder_iOrigCol},_fnConstruct:function(){var b,c=this,d=this.s.dt.aoColumns.length,f=this.s.dt.nTable;for(this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns),this.s.init.iFixedColumnsLeft&&(this.s.fixed=this.s.init.iFixedColumnsLeft),this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0,this.s.init.fnReorderCallback&&(this.s.reorderCallback=this.s.init.fnReorderCallback),b=0;b<d;b++)b>this.s.fixed-1&&b<d-this.s.fixedRight&&this._fnMouseListener(b,this.s.dt.aoColumns[b].nTh),this.s.dt.aoColumns[b]._ColReorder_iOrigCol=b;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",(function(a,b){c._fnStateSave.call(c,b)}),"ColReorder_State");var g=null;if(this.s.init.aiOrder&&(g=this.s.init.aiOrder.slice()),this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(g=this.s.dt.oLoadedState.ColReorder),g)if(c.s.dt._bInitComplete)d=e(g),c._fnOrderColumns.call(c,d);else{var h=!1;a(f).on("draw.dt.colReorder",(function(){if(!c.s.dt._bInitComplete&&!h){h=!0;var a=e(g);c._fnOrderColumns.call(c,a)}}))}else this._fnSetColumnIndexes();a(f).on("destroy.dt.colReorder",(function(){a(f).off("destroy.dt.colReorder draw.dt.colReorder"),a(c.s.dt.nTHead).find("*").off(".ColReorder"),a.each(c.s.dt.aoColumns,(function(b,c){a(c.nTh).removeAttr("data-column-index")})),c.s.dt._colReorder=null,c.s=null}))},_fnOrderColumns:function(b){var c=!1;if(b.length!=this.s.dt.aoColumns.length)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.");else{for(var d=0,e=b.length;d<e;d++){var g=a.inArray(d,b);d!=g&&(f(b,g,d),this.s.dt.oInstance.fnColReorder(g,d,!0,!1),c=!0)}a.fn.dataTable.Api(this.s.dt).rows().invalidate(),this._fnSetColumnIndexes(),c&&((""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))}},_fnStateSave:function(b){var c,d,e,f=this.s.dt.aoColumns;if(b.ColReorder=[],b.aaSorting){for(c=0;c<b.aaSorting.length;c++)b.aaSorting[c][0]=f[b.aaSorting[c][0]]._ColReorder_iOrigCol;var g=a.extend(!0,[],b.aoSearchCols);for(c=0,d=f.length;c<d;c++)e=f[c]._ColReorder_iOrigCol,b.aoSearchCols[e]=g[c],b.abVisCols[e]=f[c].bVisible,b.ColReorder.push(e)}else if(b.order){for(c=0;c<b.order.length;c++)b.order[c][0]=f[b.order[c][0]]._ColReorder_iOrigCol;for(g=a.extend(!0,[],b.columns),c=0,d=f.length;c<d;c++)e=f[c]._ColReorder_iOrigCol,b.columns[e]=g[c],b.ColReorder.push(e)}},_fnMouseListener:function(b,c){var d=this;a(c).on("mousedown.ColReorder",(function(a){a.preventDefault(),d._fnMouseDown.call(d,a,c)}))},_fnMouseDown:function(b,e){var f=this,g=a(b.target).closest("th, td").offset(),h=parseInt(a(e).attr("data-column-index"),10);h!==d&&(this.s.mouse.startX=b.pageX,this.s.mouse.startY=b.pageY,this.s.mouse.offsetX=b.pageX-g.left,this.s.mouse.offsetY=b.pageY-g.top,this.s.mouse.target=this.s.dt.aoColumns[h].nTh,this.s.mouse.targetIndex=h,this.s.mouse.fromIndex=h,this._fnRegions(),a(c).on("mousemove.ColReorder",(function(a){f._fnMouseMove.call(f,a)})).on("mouseup.ColReorder",(function(a){f._fnMouseUp.call(f,a)})))},_fnMouseMove:function(a){if(null===this.dom.drag){if(5>Math.pow(Math.pow(a.pageX-this.s.mouse.startX,2)+Math.pow(a.pageY-this.s.mouse.startY,2),.5))return;this._fnCreateDragNode()}this.dom.drag.css({left:a.pageX-this.s.mouse.offsetX,top:a.pageY-this.s.mouse.offsetY});for(var b=!1,c=this.s.mouse.toIndex,d=1,e=this.s.aoTargets.length;d<e;d++)if(a.pageX<this.s.aoTargets[d-1].x+(this.s.aoTargets[d].x-this.s.aoTargets[d-1].x)/2){this.dom.pointer.css("left",this.s.aoTargets[d-1].x),this.s.mouse.toIndex=this.s.aoTargets[d-1].to,b=!0;break}b||(this.dom.pointer.css("left",this.s.aoTargets[this.s.aoTargets.length-1].x),this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to),this.s.init.bRealtime&&c!==this.s.mouse.toIndex&&(this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!1),this.s.mouse.fromIndex=this.s.mouse.toIndex,this._fnRegions())},_fnMouseUp:function(){a(c).off("mousemove.ColReorder mouseup.ColReorder"),null!==this.dom.drag&&(this.dom.drag.remove(),this.dom.pointer.remove(),this.dom.drag=null,this.dom.pointer=null,this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!0),this._fnSetColumnIndexes(),(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))},_fnRegions:function(){var b=this.s.dt.aoColumns;this.s.aoTargets.splice(0,this.s.aoTargets.length),this.s.aoTargets.push({x:a(this.s.dt.nTable).offset().left,to:0});for(var c=0,d=this.s.aoTargets[0].x,e=0,f=b.length;e<f;e++)e!=this.s.mouse.fromIndex&&c++,b[e].bVisible&&"none"!==b[e].nTh.style.display&&(d+=a(b[e].nTh).outerWidth(),this.s.aoTargets.push({x:d,to:c}));0!==this.s.fixedRight&&this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight),0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed)},_fnCreateDragNode:function(){var b=""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY,c=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh,d=c.parentNode,e=d.parentNode,f=e.parentNode,g=a(c).clone();this.dom.drag=a(f.cloneNode(!1)).addClass("DTCR_clonedTable").append(a(e.cloneNode(!1)).append(a(d.cloneNode(!1)).append(g[0]))).css({position:"absolute",top:0,left:0,width:a(c).outerWidth(),height:a(c).outerHeight()}).appendTo("body"),this.dom.pointer=a("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:b?a("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:a(this.s.dt.nTable).offset().top,height:b?a("div.dataTables_scroll",this.s.dt.nTableWrapper).height():a(this.s.dt.nTable).height()}).appendTo("body")},_fnSetColumnIndexes:function(){a.each(this.s.dt.aoColumns,(function(b,c){a(c.nTh).attr("data-column-index",b)}))}}),i.defaults={aiOrder:null,bRealtime:!0,iFixedColumnsLeft:0,iFixedColumnsRight:0,fnReorderCallback:null},i.version="1.3.2",a.fn.dataTable.ColReorder=i,a.fn.DataTable.ColReorder=i,"function"==typeof a.fn.dataTable&&"function"==typeof a.fn.dataTableExt.fnVersionCheck&&a.fn.dataTableExt.fnVersionCheck("1.10.8")?a.fn.dataTableExt.aoFeatures.push({fnInit:function(a){var b=a.oInstance;return a._colReorder?b.oApi._fnLog(a,1,"ColReorder attempted to initialise twice. Ignoring second"):(b=a.oInit,new i(a,b.colReorder||b.oColReorder||{})),null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download"),a(c).on("preInit.dt.colReorder",(function(b,c){if("dt"===b.namespace){var d=c.oInit.colReorder,e=h.defaults.colReorder;(d||e)&&(e=a.extend({},d,e),!1!==d&&new i(c,e))}})),a.fn.dataTable.Api.register("colReorder.reset()",(function(){return this.iterator("table",(function(a){a._colReorder.fnReset()}))})),a.fn.dataTable.Api.register("colReorder.order()",(function(a,b){return a?this.iterator("table",(function(c){c._colReorder.fnOrder(a,b)})):this.context.length?this.context[0]._colReorder.fnOrder():null})),a.fn.dataTable.Api.register("colReorder.transpose()",(function(a,b){return this.context.length&&this.context[0]._colReorder?this.context[0]._colReorder.fnTranspose(a,b):a})),i})),(function(a){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(b){return a(b,window,document)})):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c&&c.fn.dataTable||(c=require("datatables.net")(b,c).$),a(c,b,b.document)}:a(jQuery,window,document)})((function(a,b,c,d){var e,f=a.fn.dataTable,g=function(b,c){var e=this;if(this instanceof g){c!==d&&!0!==c||(c={});var f=a.fn.dataTable.camelToHungarian;if(f&&(f(g.defaults,g.defaults,!0),f(g.defaults,c)),f=new a.fn.dataTable.Api(b).settings()[0],this.s={dt:f,iTableColumns:f.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===a(f.nTable).css("direction")},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},f._oFixedColumns)throw"FixedColumns already initialised on this table";f._oFixedColumns=this,f._bInitComplete?this._fnConstruct(c):f.oApi._fnCallbackReg(f,"aoInitComplete",(function(){e._fnConstruct(c)}),"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};return a.extend(g.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(a){delete a._DTTC_iHeight,a.style.height="auto"},fnSetRowHeight:function(a,b){a.style.height=b+"px"},fnGetPosition:function(b){var c=this.s.dt.oInstance;if(a(b).parents(".DTFC_Cloned").length){if("tr"===b.nodeName.toLowerCase())return b=a(b).index(),c.fnGetPosition(a("tr",this.s.dt.nTBody)[b]);var d=a(b).index(),b=a(b.parentNode).index();return[c.fnGetPosition(a("tr",this.s.dt.nTBody)[b]),d,c.oApi._fnVisibleToColumnIndex(this.s.dt,d)]}return c.fnGetPosition(b)},_fnConstruct:function(e){var f=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+g.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=a.extend(!0,this.s,g.defaults,e),e=this.s.dt.oClasses,this.dom.grid.dt=a(this.s.dt.nTable).parents("div."+e.sScrollWrapper)[0],this.dom.scroller=a("div."+e.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var h,i=!1;a(this.s.dt.nTableWrapper).on("mousedown.DTFC",(function(){i=!0,a(c).one("mouseup",(function(){i=!1}))})),a(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",(function(){i||(h="main")})).on("scroll.DTFC",(function(a){!h&&a.originalEvent&&(h="main"),"main"===h&&(0<f.s.iLeftColumns&&(f.dom.grid.left.liner.scrollTop=f.dom.scroller.scrollTop),0<f.s.iRightColumns)&&(f.dom.grid.right.liner.scrollTop=f.dom.scroller.scrollTop)}));var j="onwheel"in c.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";0<f.s.iLeftColumns&&a(f.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",(function(){i||(h="left")})).on("scroll.DTFC",(function(a){!h&&a.originalEvent&&(h="left"),"left"===h&&(f.dom.scroller.scrollTop=f.dom.grid.left.liner.scrollTop,0<f.s.iRightColumns&&(f.dom.grid.right.liner.scrollTop=f.dom.grid.left.liner.scrollTop))})).on(j,(function(a){f.dom.scroller.scrollLeft-="wheel"===a.type?-a.originalEvent.deltaX:a.originalEvent.wheelDeltaX})),0<f.s.iRightColumns&&a(f.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",(function(){
i||(h="right")})).on("scroll.DTFC",(function(a){!h&&a.originalEvent&&(h="right"),"right"===h&&(f.dom.scroller.scrollTop=f.dom.grid.right.liner.scrollTop,0<f.s.iLeftColumns&&(f.dom.grid.left.liner.scrollTop=f.dom.grid.right.liner.scrollTop))})).on(j,(function(a){f.dom.scroller.scrollLeft-="wheel"===a.type?-a.originalEvent.deltaX:a.originalEvent.wheelDeltaX})),a(b).on("resize.DTFC",(function(){f._fnGridLayout.call(f)}));var k=!0,l=a(this.s.dt.nTable);l.on("draw.dt.DTFC",(function(){f._fnColCalc(),f._fnDraw.call(f,k),k=!1})).on("column-sizing.dt.DTFC",(function(){f._fnColCalc(),f._fnGridLayout(f)})).on("column-visibility.dt.DTFC",(function(a,b,c,e,g){(g===d||g)&&(f._fnColCalc(),f._fnGridLayout(f),f._fnDraw(!0))})).on("select.dt.DTFC deselect.dt.DTFC",(function(a){"dt"===a.namespace&&f._fnDraw(!1)})).on("destroy.dt.DTFC",(function(){l.off(".DTFC"),a(f.dom.scroller).off(".DTFC"),a(b).off(".DTFC"),a(f.s.dt.nTableWrapper).off(".DTFC"),a(f.dom.grid.left.liner).off(".DTFC "+j),a(f.dom.grid.left.wrapper).remove(),a(f.dom.grid.right.liner).off(".DTFC "+j),a(f.dom.grid.right.wrapper).remove()})),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)}},_fnColCalc:function(){var b=this,c=0,d=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],a.each(this.s.dt.aoColumns,(function(e,f){var g,h=a(f.nTh);if(h.filter(":visible").length){var i=h.outerWidth();0===b.s.aiOuterWidths.length&&(g=a(b.s.dt.nTable).css("border-left-width"),i+="string"==typeof g?1:parseInt(g,10)),b.s.aiOuterWidths.length===b.s.dt.aoColumns.length-1&&(g=a(b.s.dt.nTable).css("border-right-width"),i+="string"==typeof g?1:parseInt(g,10)),b.s.aiOuterWidths.push(i),b.s.aiInnerWidths.push(h.width()),e<b.s.iLeftColumns&&(c+=i),b.s.iTableColumns-b.s.iRightColumns<=e&&(d+=i)}else b.s.aiInnerWidths.push(0),b.s.aiOuterWidths.push(0)})),this.s.iLeftWidth=c,this.s.iRightWidth=d},_fnGridSetup:function(){var b,c=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var d=a('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],e=d.childNodes[0],f=d.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(d,this.dom.grid.dt),d.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=d,0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=e,this.dom.grid.left.head=e.childNodes[0],this.dom.grid.left.body=e.childNodes[1],this.dom.grid.left.liner=a("div.DTFC_LeftBodyLiner",d)[0],d.appendChild(e)),0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=f,this.dom.grid.right.head=f.childNodes[0],this.dom.grid.right.body=f.childNodes[1],this.dom.grid.right.liner=a("div.DTFC_RightBodyLiner",d)[0],f.style.right=c.bar+"px",b=a("div.DTFC_RightHeadBlocker",d)[0],b.style.width=c.bar+"px",b.style.right=-c.bar+"px",this.dom.grid.right.headBlock=b,b=a("div.DTFC_RightFootBlocker",d)[0],b.style.width=c.bar+"px",b.style.right=-c.bar+"px",this.dom.grid.right.footBlock=b,d.appendChild(f)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=e.childNodes[2]),0<this.s.iRightColumns)&&(this.dom.grid.right.foot=f.childNodes[2]),this.s.rtl&&a("div.DTFC_RightHeadBlocker",d).css({left:-c.bar+"px",right:""})},_fnGridLayout:function(){var b=this,c=this.dom.grid;a(c.wrapper).width();var d=a(this.s.dt.nTable.parentNode).outerHeight(),e=a(this.s.dt.nTable.parentNode.parentNode).outerHeight(),f=this._fnDTOverflow(),g=this.s.iLeftWidth,h=this.s.iRightWidth,i="rtl"===a(this.dom.body).css("direction"),j=function(c,d){f.bar?b._firefoxScrollError()?34<a(c).height()&&(c.style.width=d+f.bar+"px"):c.style.width=d+f.bar+"px":(c.style.width=d+20+"px",c.style.paddingRight="20px",c.style.boxSizing="border-box")};f.x&&(d-=f.bar),c.wrapper.style.height=e+"px",0<this.s.iLeftColumns&&(e=c.left.wrapper,e.style.width=g+"px",e.style.height="1px",i?(e.style.left="",e.style.right=0):(e.style.left=0,e.style.right=""),c.left.body.style.height=d+"px",c.left.foot&&(c.left.foot.style.top=(f.x?f.bar:0)+"px"),j(c.left.liner,g),c.left.liner.style.height=d+"px"),0<this.s.iRightColumns&&(e=c.right.wrapper,e.style.width=h+"px",e.style.height="1px",this.s.rtl?(e.style.left=f.y?f.bar+"px":0,e.style.right=""):(e.style.left="",e.style.right=f.y?f.bar+"px":0),c.right.body.style.height=d+"px",c.right.foot&&(c.right.foot.style.top=(f.x?f.bar:0)+"px"),j(c.right.liner,h),c.right.liner.style.height=d+"px",c.right.headBlock.style.display=f.y?"block":"none",c.right.footBlock.style.display=f.y?"block":"none")},_fnDTOverflow:function(){var a=this.s.dt.nTable,b=a.parentNode,c={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return a.offsetWidth>b.clientWidth&&(c.x=!0),a.offsetHeight>b.clientHeight&&(c.y=!0),c},_fnDraw:function(b){this._fnGridLayout(),this._fnCloneLeft(b),this._fnCloneRight(b),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),a(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(a){if(!(0>=this.s.iRightColumns)){var b,c=[];for(b=this.s.iTableColumns-this.s.iRightColumns;b<this.s.iTableColumns;b++)this.s.dt.aoColumns[b].bVisible&&c.push(b);this._fnClone(this.dom.clone.right,this.dom.grid.right,c,a)}},_fnCloneLeft:function(a){if(!(0>=this.s.iLeftColumns)){var b,c=[];for(b=0;b<this.s.iLeftColumns;b++)this.s.dt.aoColumns[b].bVisible&&c.push(b);this._fnClone(this.dom.clone.left,this.dom.grid.left,c,a)}},_fnCopyLayout:function(b,c,d){for(var e=[],f=[],g=[],h=0,i=b.length;h<i;h++){var j=[];j.nTr=a(b[h].nTr).clone(d,!1)[0];for(var k=0,l=this.s.iTableColumns;k<l;k++)if(-1!==a.inArray(k,c)){var m=a.inArray(b[h][k].cell,g);-1===m?(m=a(b[h][k].cell).clone(d,!1)[0],f.push(m),g.push(b[h][k].cell),j.push({cell:m,unique:b[h][k].unique})):j.push({cell:f[m],unique:b[h][k].unique})}e.push(j)}return e},_fnClone:function(b,c,e,f){var g,h,i,j,k,l,m,n,o,p=this,q=this.s.dt;if(f){for(a(b.header).remove(),b.header=a(this.dom.header).clone(!0,!1)[0],b.header.className+=" DTFC_Cloned",b.header.style.width="100%",c.head.appendChild(b.header),n=this._fnCopyLayout(q.aoHeader,e,!0),j=a(">thead",b.header),j.empty(),g=0,h=n.length;g<h;g++)j[0].appendChild(n[g].nTr);q.oApi._fnDrawHead(q,n,!0)}else for(n=this._fnCopyLayout(q.aoHeader,e,!1),o=[],q.oApi._fnDetectHeader(o,a(">thead",b.header)[0]),g=0,h=n.length;g<h;g++)for(i=0,j=n[g].length;i<j;i++)o[g][i].cell.className=n[g][i].cell.className,a("span.DataTables_sort_icon",o[g][i].cell).each((function(){this.className=a("span.DataTables_sort_icon",n[g][i].cell)[0].className}));this._fnEqualiseHeights("thead",this.dom.header,b.header),"auto"==this.s.sHeightMatch&&a(">tbody>tr",p.dom.body).css("height","auto"),null!==b.body&&(a(b.body).remove(),b.body=null),b.body=a(this.dom.body).clone(!0)[0],b.body.className+=" DTFC_Cloned",b.body.style.paddingBottom=q.oScroll.iBarWidth+"px",b.body.style.marginBottom=2*q.oScroll.iBarWidth+"px",null!==b.body.getAttribute("id")&&b.body.removeAttribute("id"),a(">thead>tr",b.body).empty(),a(">tfoot",b.body).remove();var r=a("tbody",b.body)[0];if(a(r).empty(),0<q.aiDisplay.length){for(h=a(">thead>tr",b.body)[0],m=0;m<e.length;m++)k=e[m],l=a(q.aoColumns[k].nTh).clone(!0)[0],l.innerHTML="",j=l.style,j.paddingTop="0",j.paddingBottom="0",j.borderTopWidth="0",j.borderBottomWidth="0",j.height=0,j.width=p.s.aiInnerWidths[k]+"px",h.appendChild(l);a(">tbody>tr",p.dom.body).each((function(b){var b=p.s.dt.oFeatures.bServerSide===!1?p.s.dt.aiDisplay[p.s.dt._iDisplayStart+b]:b,c=p.s.dt.aoData[b].anCells||a(this).children("td, th"),d=this.cloneNode(!1);for(d.removeAttribute("id"),d.setAttribute("data-dt-row",b),m=0;m<e.length;m++)k=e[m],c.length>0&&(l=a(c[k]).clone(!0,!0)[0],l.setAttribute("data-dt-row",b),l.setAttribute("data-dt-column",m),d.appendChild(l));r.appendChild(d)}))}else a(">tbody>tr",p.dom.body).each((function(){l=this.cloneNode(!0),l.className=l.className+" DTFC_NoData",a("td",l).html(""),r.appendChild(l)}));if(b.body.style.width="100%",b.body.style.margin="0",b.body.style.padding="0",q.oScroller!==d&&(h=q.oScroller.dom.force,c.forcer?c.forcer.style.height=h.style.height:(c.forcer=h.cloneNode(!0),c.liner.appendChild(c.forcer))),c.liner.appendChild(b.body),this._fnEqualiseHeights("tbody",p.dom.body,b.body),null!==q.nTFoot){if(f){for(null!==b.footer&&b.footer.parentNode.removeChild(b.footer),b.footer=a(this.dom.footer).clone(!0,!0)[0],b.footer.className+=" DTFC_Cloned",b.footer.style.width="100%",c.foot.appendChild(b.footer),n=this._fnCopyLayout(q.aoFooter,e,!0),c=a(">tfoot",b.footer),c.empty(),g=0,h=n.length;g<h;g++)c[0].appendChild(n[g].nTr);q.oApi._fnDrawHead(q,n,!0)}else for(n=this._fnCopyLayout(q.aoFooter,e,!1),c=[],q.oApi._fnDetectHeader(c,a(">tfoot",b.footer)[0]),g=0,h=n.length;g<h;g++)for(i=0,j=n[g].length;i<j;i++)c[g][i].cell.className=n[g][i].cell.className;this._fnEqualiseHeights("tfoot",this.dom.footer,b.footer)}c=q.oApi._fnGetUniqueThs(q,a(">thead",b.header)[0]),a(c).each((function(a){k=e[a],this.style.width=p.s.aiInnerWidths[k]+"px"})),null!==p.s.dt.nTFoot&&(c=q.oApi._fnGetUniqueThs(q,a(">tfoot",b.footer)[0]),a(c).each((function(a){k=e[a],this.style.width=p.s.aiInnerWidths[k]+"px"})))},_fnGetTrNodes:function(a){for(var b=[],c=0,d=a.childNodes.length;c<d;c++)"TR"==a.childNodes[c].nodeName.toUpperCase()&&b.push(a.childNodes[c]);return b},_fnEqualiseHeights:function(b,c,d){if("none"!=this.s.sHeightMatch||"thead"===b||"tfoot"===b){var e,f,g=c.getElementsByTagName(b)[0],d=d.getElementsByTagName(b)[0],b=a(">"+b+">tr:eq(0)",c).children(":first");b.outerHeight(),b.height();for(var g=this._fnGetTrNodes(g),c=this._fnGetTrNodes(d),h=[],d=0,b=c.length;d<b;d++)e=g[d].offsetHeight,f=c[d].offsetHeight,e=f>e?f:e,"semiauto"==this.s.sHeightMatch&&(g[d]._DTTC_iHeight=e),h.push(e);for(d=0,b=c.length;d<b;d++)c[d].style.height=h[d]+"px",g[d].style.height=h[d]+"px"}},_firefoxScrollError:function(){if(e===d){var b=a("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body");e=b[0].clientWidth===b[0].offsetWidth&&0!==this._fnDTOverflow().bar,b.remove()}return e}}),g.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},g.version="3.2.2",f.Api.register("fixedColumns()",(function(){return this})),f.Api.register("fixedColumns().update()",(function(){return this.iterator("table",(function(a){a._oFixedColumns&&a._oFixedColumns.fnUpdate()}))})),f.Api.register("fixedColumns().relayout()",(function(){return this.iterator("table",(function(a){a._oFixedColumns&&a._oFixedColumns.fnRedrawLayout()}))})),f.Api.register("rows().recalcHeight()",(function(){return this.iterator("row",(function(a,b){a._oFixedColumns&&a._oFixedColumns.fnRecalculateHeight(this.row(b).node())}))})),f.Api.register("fixedColumns().rowIndex()",(function(b){return b=a(b),b.parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[b.index()]:this.row(b).index()})),f.Api.register("fixedColumns().cellIndex()",(function(b){if(b=a(b),b.parents(".DTFC_Cloned").length){var c=b.parent().index(),c=this.rows({page:"current"}).indexes()[c],b=b.parents(".DTFC_LeftWrapper").length?b.index():this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+b.index();return{row:c,column:this.column.index("toData",b),columnVisible:b}}return this.cell(b).index()})),a(c).on("init.dt.fixedColumns",(function(b,c){if("dt"===b.namespace){var d=c.oInit.fixedColumns,e=f.defaults.fixedColumns;(d||e)&&(e=a.extend({},d,e),!1!==d&&new g(c,e))}})),a.fn.dataTable.FixedColumns=g,a.fn.DataTable.FixedColumns=g})),(function(a){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(b){return a(b,window,document)})):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c&&c.fn.dataTable||(c=require("datatables.net")(b,c).$),a(c,b,b.document)}:a(jQuery,window,document)})((function(a,b,c,d){var e=a.fn.dataTable,f=0,g=function(c,d){if(!(this instanceof g))throw"FixedHeader must be initialised with the 'new' keyword.";!0===d&&(d={}),c=new e.Api(c),this.c=a.extend(!0,{},g.defaults,d),this.s={dt:c,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:a(b).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:c.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+f++,scrollLeft:{header:-1,footer:-1},enable:!0},this.dom={floatingHeader:null,thead:a(c.table().header()),tbody:a(c.table().body()),tfoot:a(c.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var h=c.settings()[0];if(h._fixedHeader)throw"FixedHeader already initialised on table "+h.nTable.id;h._fixedHeader=this,this._constructor()};return a.extend(g.prototype,{enable:function(a){this.s.enable=a,this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&this.dom.tfoot.length&&this._modeChange("in-place","footer",!0),this.update()},headerOffset:function(a){return a!==d&&(this.c.headerOffset=a,this.update()),this.c.headerOffset},footerOffset:function(a){return a!==d&&(this.c.footerOffset=a,this.update()),this.c.footerOffset},update:function(){this._positions(),this._scroll(!0)},_constructor:function(){var c=this,d=this.s.dt;a(b).on("scroll"+this.s.namespace,(function(){c._scroll()})).on("resize"+this.s.namespace,(function(){c.s.position.windowHeight=a(b).height(),c.update()}));var e=a(".fh-fixedHeader");!this.c.headerOffset&&e.length&&(this.c.headerOffset=e.outerHeight()),e=a(".fh-fixedFooter"),!this.c.footerOffset&&e.length&&(this.c.footerOffset=e.outerHeight()),d.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc",(function(){c.update()})),d.on("destroy.dtfc",(function(){d.off(".dtfc"),a(b).off(c.s.namespace)})),this._positions(),this._scroll()},_clone:function(b,c){var d=this.s.dt,e=this.dom[b],f="header"===b?this.dom.thead:this.dom.tfoot;!c&&e.floating?e.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(e.floating&&(e.placeholder.remove(),this._unsize(b),e.floating.children().detach(),e.floating.remove()),e.floating=a(d.table().node().cloneNode(!1)).css("table-layout","fixed").removeAttr("id").append(f).appendTo("body"),e.placeholder=f.clone(!1),e.host.prepend(e.placeholder),this._matchWidths(e.placeholder,e.floating))},_matchWidths:function(b,c){var d=function(c){return a(c,b).map((function(){return a(this).width()})).toArray()},e=function(b,d){a(b,c).each((function(b){a(this).css({width:d[b],minWidth:d[b]})}))},f=d("th"),d=d("td");e("th",f),e("td",d)},_unsize:function(b){var c=this.dom[b].floating;c&&("footer"===b||"header"===b&&!this.s.autoWidth)?a("th, td",c).css({width:"",minWidth:""}):c&&"header"===b&&a("th, td",c).css("min-width","")},_horizontal:function(a,b){var c=this.dom[a],d=this.s.position,e=this.s.scrollLeft;c.floating&&e[a]!==b&&(c.floating.css("left",d.left-b),e[a]=b)},_modeChange:function(b,d,e){var f=this.dom[d],g=this.s.position,h=a.contains(this.dom["footer"===d?"tfoot":"thead"][0],c.activeElement)?c.activeElement:null;"in-place"===b?(f.placeholder&&(f.placeholder.remove(),f.placeholder=null),this._unsize(d),"header"===d?f.host.prepend(this.dom.thead):f.host.append(this.dom.tfoot),f.floating&&(f.floating.remove(),f.floating=null)):"in"===b?(this._clone(d,e),f.floating.addClass("fixedHeader-floating").css("header"===d?"top":"bottom",this.c[d+"Offset"]).css("left",g.left+"px").css("width",g.width+"px"),"footer"===d&&f.floating.css("top","")):"below"===b?(this._clone(d,e),f.floating.addClass("fixedHeader-locked").css("top",g.tfootTop-g.theadHeight).css("left",g.left+"px").css("width",g.width+"px")):"above"===b&&(this._clone(d,e),f.floating.addClass("fixedHeader-locked").css("top",g.tbodyTop).css("left",g.left+"px").css("width",g.width+"px")),h&&h!==c.activeElement&&h.focus(),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[d+"Mode"]=b},_positions:function(){var b=this.s.dt.table(),c=this.s.position,d=this.dom,b=a(b.node()),e=b.children("thead"),f=b.children("tfoot"),d=d.tbody;c.visible=b.is(":visible"),c.width=b.outerWidth(),c.left=b.offset().left,c.theadTop=e.offset().top,c.tbodyTop=d.offset().top,c.theadHeight=c.tbodyTop-c.theadTop,f.length?(c.tfootTop=f.offset().top,c.tfootBottom=c.tfootTop+f.outerHeight(),c.tfootHeight=c.tfootBottom-c.tfootTop):(c.tfootTop=c.tbodyTop+d.outerHeight(),c.tfootBottom=c.tfootTop,c.tfootHeight=c.tfootTop)},_scroll:function(b){var d,e=a(c).scrollTop(),f=a(c).scrollLeft(),g=this.s.position;this.s.enable&&(this.c.header&&(d=!g.visible||e<=g.theadTop-this.c.headerOffset?"in-place":e<=g.tfootTop-g.theadHeight-this.c.headerOffset?"in":"below",(b||d!==this.s.headerMode)&&this._modeChange(d,"header",b),this._horizontal("header",f)),this.c.footer&&this.dom.tfoot.length)&&(e=!g.visible||e+g.windowHeight>=g.tfootBottom+this.c.footerOffset?"in-place":g.windowHeight+e>g.tbodyTop+g.tfootHeight+this.c.footerOffset?"in":"above",(b||e!==this.s.footerMode)&&this._modeChange(e,"footer",b),this._horizontal("footer",f))}}),g.version="3.1.2",g.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},a.fn.dataTable.FixedHeader=g,a.fn.DataTable.FixedHeader=g,a(c).on("init.dt.dtfh",(function(b,c){if("dt"===b.namespace){var d=c.oInit.fixedHeader,f=e.defaults.fixedHeader;!d&&!f||c._fixedHeader||(f=a.extend({},f,d),!1!==d&&new g(c,f))}})),e.Api.register("fixedHeader()",(function(){})),e.Api.register("fixedHeader.adjust()",(function(){return this.iterator("table",(function(a){(a=a._fixedHeader)&&a.update()}))})),e.Api.register("fixedHeader.enable()",(function(a){return this.iterator("table",(function(b){(b=b._fixedHeader)&&b.enable(a===d||a)}))})),e.Api.register("fixedHeader.disable()",(function(){return this.iterator("table",(function(a){(a=a._fixedHeader)&&a.enable(!1)}))})),a.each(["header","footer"],(function(a,b){e.Api.register("fixedHeader."+b+"Offset()",(function(a){var c=this.context;return a===d?c.length&&c[0]._fixedHeader?c[0]._fixedHeader[b+"Offset"]():d:this.iterator("table",(function(c){(c=c._fixedHeader)&&c[b+"Offset"](a)}))}))})),g})),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+(function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,(function(){c=!0}));var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a((function(){a.support.transition=b()}))})(jQuery),+(function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each((function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)}))},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)})(jQuery),+(function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout((function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)}),0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var b=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===b.prop("type")&&a.find(".active").removeClass("active")}this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each((function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)}))},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()}))})(jQuery),+(function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();if(!(b>this.$items.length-1||b<0))return this.sliding?this.$element.one("slid",(function(){c.to(b)})):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){if(!this.sliding)return this.slide("next")},b.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",(function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")}))),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,(function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout((function(){i.$element.trigger("slid")}),0)})).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each((function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()}))},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",(function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()})),a(window).on("load",(function(){a('[data-ride="carousel"]').each((function(){var b=a(this);b.carousel(b.data())}))}))})(jQuery),+(function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each((function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()}))},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",(function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)}))})(jQuery),+(function(a){"use strict";function b(){a(d).remove(),a(e).each((function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each((function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)}))},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",(function(a){a.stopPropagation()})).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)})(jQuery),+(function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop((function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,(function(){c.$element.focus().trigger(e)})).emulateTransitionEnd(300):c.$element.focus().trigger(e)})))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy((function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()}),this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy((function(a){27==a.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop((function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")}))},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null;
},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy((function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each((function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)}))},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",(function(){c.is(":visible")&&c.focus()}))})),a(document).on("show.bs.modal",".modal",(function(){a(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){a(document.body).removeClass("modal-open")}))})(jQuery),+(function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,(function(a,d){c[a]!=d&&(b[a]=d)})),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout((function(){"in"==c.hoverState&&c.show()}),c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout((function(){"out"==c.hoverState&&c.hide()}),c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=a.left*-2,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each((function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()}))},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}})(jQuery),+(function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each((function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()}))},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}})(jQuery),+(function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map((function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null})).sort((function(a,b){return a[0]-b[0]})).each((function(){c.offsets.push(this[0]),c.targets.push(this[1])}))},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each((function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()}))},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",(function(){a('[data-spy="scroll"]').each((function(){var b=a(this);b.scrollspy(b.data())}))}))})(jQuery),+(function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),(function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})}))}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each((function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()}))},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',(function(b){b.preventDefault(),a(this).tab("show")}))})(jQuery),+(function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=!(null!=this.unpin&&d+this.unpin<=e.top)&&(null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&d<=g&&"top");this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each((function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()}))},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",(function(){a('[data-spy="affix"]').each((function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)}))}))})(jQuery),(function(a,b){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a.Mustache={},b(a.Mustache))})(this,(function(a){function b(a){return"function"==typeof a}function c(a){return p(a)?"array":typeof a}function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function e(a,b){return null!=a&&"object"==typeof a&&b in a}function f(a,b){return q.call(a,b)}function g(a){return!f(r,a)}function h(a){return String(a).replace(/[&<>"'`=\/]/g,(function(a){return s[a]}))}function i(b,c){function e(){if(r&&!s)for(;q.length;)delete o[q.pop()];else q=[];r=!1,s=!1}function f(a){if("string"==typeof a&&(a=a.split(u,2)),!p(a)||2!==a.length)throw new Error("Invalid tags: "+a);h=new RegExp(d(a[0])+"\\s*"),i=new RegExp("\\s*"+d(a[1])),m=new RegExp("\\s*"+d("}"+a[1]))}if(!b)return[];var h,i,m,n=[],o=[],q=[],r=!1,s=!1;f(c||a.tags);for(var y,z,A,B,C,D,E=new l(b);!E.eos();){if(y=E.pos,A=E.scanUntil(h))for(var F=0,G=A.length;F<G;++F)B=A.charAt(F),g(B)?q.push(o.length):s=!0,o.push(["text",B,y,y+1]),y+=1,"\n"===B&&e();if(!E.scan(h))break;if(r=!0,z=E.scan(x)||"name",E.scan(t),"="===z?(A=E.scanUntil(v),E.scan(v),E.scanUntil(i)):"{"===z?(A=E.scanUntil(m),E.scan(w),E.scanUntil(i),z="&"):A=E.scanUntil(i),!E.scan(i))throw new Error("Unclosed tag at "+E.pos);if(C=[z,A,y,E.pos],o.push(C),"#"===z||"^"===z)n.push(C);else if("/"===z){if(D=n.pop(),!D)throw new Error('Unopened section "'+A+'" at '+y);if(D[1]!==A)throw new Error('Unclosed section "'+D[1]+'" at '+y)}else"name"===z||"{"===z||"&"===z?s=!0:"="===z&&f(A)}if(D=n.pop())throw new Error('Unclosed section "'+D[1]+'" at '+E.pos);return k(j(o))}function j(a){for(var b,c,d=[],e=0,f=a.length;e<f;++e)b=a[e],b&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(d.push(b),c=b));return d}function k(a){for(var b,c,d=[],e=d,f=[],g=0,h=a.length;g<h;++g)switch(b=a[g],b[0]){case"#":case"^":e.push(b),f.push(b),e=b[4]=[];break;case"/":c=f.pop(),c[5]=b[2],e=f.length>0?f[f.length-1][4]:d;break;default:e.push(b)}return d}function l(a){this.string=a,this.tail=a,this.pos=0}function m(a,b){this.view=a,this.cache={".":this.view},this.parent=b}function n(){this.cache={}}var o=Object.prototype.toString,p=Array.isArray||function(a){return"[object Array]"===o.call(a)},q=RegExp.prototype.test,r=/\S/,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},t=/\s*/,u=/\s+/,v=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(a){var b=this.tail.match(a);if(!b||0!==b.index)return"";var c=b[0];return this.tail=this.tail.substring(c.length),this.pos+=c.length,c},l.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=b.length,b},m.prototype.push=function(a){return new m(a,this)},m.prototype.lookup=function(a){var c,d=this.cache;if(d.hasOwnProperty(a))c=d[a];else{for(var f,g,h=this,i=!1;h;){if(a.indexOf(".")>0)for(c=h.view,f=a.split("."),g=0;null!=c&&g<f.length;)g===f.length-1&&(i=e(c,f[g])),c=c[f[g++]];else c=h.view[a],i=e(h.view,a);if(i)break;h=h.parent}d[a]=c}return b(c)&&(c=c.call(this.view)),c},n.prototype.clearCache=function(){this.cache={}},n.prototype.parse=function(a,b){var c=this.cache,d=c[a];return null==d&&(d=c[a]=i(a,b)),d},n.prototype.render=function(a,b,c){var d=this.parse(a),e=b instanceof m?b:new m(b);return this.renderTokens(d,e,c,a)},n.prototype.renderTokens=function(a,b,c,d){for(var e,f,g,h="",i=0,j=a.length;i<j;++i)g=void 0,e=a[i],f=e[0],"#"===f?g=this.renderSection(e,b,c,d):"^"===f?g=this.renderInverted(e,b,c,d):">"===f?g=this.renderPartial(e,b,c,d):"&"===f?g=this.unescapedValue(e,b):"name"===f?g=this.escapedValue(e,b):"text"===f&&(g=this.rawValue(e)),void 0!==g&&(h+=g);return h},n.prototype.renderSection=function(a,c,d,e){function f(a){return g.render(a,c,d)}var g=this,h="",i=c.lookup(a[1]);if(i){if(p(i))for(var j=0,k=i.length;j<k;++j)h+=this.renderTokens(a[4],c.push(i[j]),d,e);else if("object"==typeof i||"string"==typeof i||"number"==typeof i)h+=this.renderTokens(a[4],c.push(i),d,e);else if(b(i)){if("string"!=typeof e)throw new Error("Cannot use higher-order sections without the original template");i=i.call(c.view,e.slice(a[3],a[5]),f),null!=i&&(h+=i)}else h+=this.renderTokens(a[4],c,d,e);return h}},n.prototype.renderInverted=function(a,b,c,d){var e=b.lookup(a[1]);if(!e||p(e)&&0===e.length)return this.renderTokens(a[4],b,c,d)},n.prototype.renderPartial=function(a,c,d){if(d){var e=b(d)?d(a[1]):d[a[1]];return null!=e?this.renderTokens(this.parse(e),c,d,e):void 0}},n.prototype.unescapedValue=function(a,b){var c=b.lookup(a[1]);if(null!=c)return c},n.prototype.escapedValue=function(b,c){var d=c.lookup(b[1]);if(null!=d)return a.escape(d)},n.prototype.rawValue=function(a){return a[1]},a.name="mustache.js",a.version="2.2.1",a.tags=["{{","}}"];var y=new n;a.clearCache=function(){return y.clearCache()},a.parse=function(a,b){return y.parse(a,b)},a.render=function(a,b,d){if("string"!=typeof a)throw new TypeError('Invalid template! Template should be a "string" but "'+c(a)+'" was given as the first argument for mustache#render(template, view, partials)');return y.render(a,b,d)},a.to_html=function(c,d,e,f){var g=a.render(c,d,e);return b(f)?void f(g):g},a.escape=h,a.Scanner=l,a.Context=m,a.Writer=n}));(function(a,b){if(typeof exports==="object"){module.exports=b()}else if(typeof define==="function"&&define.amd){define([],b)}else{a.ol=b()}})(this,(function(){var OPENLAYERS={};var goog=this.goog={};this.CLOSURE_NO_DEPS=true;var COMPILED=false;var goog=goog||{};goog.global=this;goog.global.CLOSURE_UNCOMPILED_DEFINES;goog.global.CLOSURE_DEFINES;goog.isDef=function(a){return a!==void 0};goog.exportPath_=function(a,b,c){var d=a.split(".");var e=c||goog.global;if(!(d[0]in e)&&e.execScript){e.execScript("var "+d[0])}for(var f;d.length&&(f=d.shift());){if(!d.length&&goog.isDef(b)){e[f]=b}else if(e[f]){e=e[f]}else{e=e[f]={}}}};goog.define=function(a,b){var c=b;if(!COMPILED){if(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)){c=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]}else if(goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)){c=goog.global.CLOSURE_DEFINES[a]}}goog.exportPath_(a,c)};goog.define("goog.DEBUG",true);goog.define("goog.LOCALE","en");goog.define("goog.TRUSTED_SITE",true);goog.define("goog.STRICT_MODE_COMPATIBLE",false);goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG);goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",false);goog.provide=function(a){if(goog.isInModuleLoader_()){throw Error("goog.provide can not be used within a goog.module.")}if(!COMPILED){if(goog.isProvided_(a)){throw Error('Namespace "'+a+'" already declared.')}}goog.constructNamespace_(a)};goog.constructNamespace_=function(a,b){if(!COMPILED){delete goog.implicitNamespaces_[a];var c=a;while(c=c.substring(0,c.lastIndexOf("."))){if(goog.getObjectByName(c)){break}goog.implicitNamespaces_[c]=true}}goog.exportPath_(a,b)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(a){if(!goog.isString(a)||!a||a.search(goog.VALID_MODULE_RE_)==-1){throw Error("Invalid module identifier")}if(!goog.isInModuleLoader_()){throw Error("Module "+a+" has been loaded incorrectly.")}if(goog.moduleLoaderState_.moduleName){throw Error("goog.module may only be called once per module.")}goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a)){throw Error('Namespace "'+a+'" already declared.')}delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED){if(goog.isProvided_(a)){return a in goog.loadedModules_?goog.loadedModules_[a]:goog.getObjectByName(a)}else{return null}}};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_()){throw new Error("goog.module.declareLegacyNamespace must be called from "+"within a goog.module")}if(!COMPILED&&!goog.moduleLoaderState_.moduleName){throw Error("goog.module must be called prior to "+"goog.module.declareLegacyNamespace.")}goog.moduleLoaderState_.declareLegacyNamespace=true};goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE){a=a||"";throw Error("Importing test-only code into non-debug environment"+(a?": "+a:"."))}};goog.forwardDeclare=function(a){};goog.forwardDeclare("Document");goog.forwardDeclare("HTMLScriptElement");goog.forwardDeclare("XMLHttpRequest");if(!COMPILED){goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))};goog.implicitNamespaces_={"goog.module":true}}goog.getObjectByName=function(a,b){var c=a.split(".");var d=b||goog.global;for(var e;e=c.shift();){if(goog.isDefAndNotNull(d[e])){d=d[e]}else{return null}}return d};goog.globalize=function(a,b){var c=b||goog.global;for(var d in a){c[d]=a[d]}};goog.addDependency=function(a,b,c,d){if(goog.DEPENDENCIES_ENABLED){var e,f;var g=a.replace(/\\/g,"/");var h=goog.dependencies_;if(!d||typeof d==="boolean"){d=d?{module:"goog"}:{}}for(var i=0;e=b[i];i++){h.nameToPath[e]=g;h.loadFlags[g]=d}for(var j=0;f=c[j];j++){if(!(g in h.requires)){h.requires[g]={}}h.requires[g][f]=true}}};goog.define("goog.ENABLE_DEBUG_LOADER",true);goog.logToConsole_=function(a){if(goog.global.console){goog.global.console["error"](a)}};goog.require=function(a){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_){goog.maybeProcessDeferredDep_(a)}if(goog.isProvided_(a)){if(goog.isInModuleLoader_()){return goog.module.getInternal_(a)}else{return null}}if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b){goog.writeScripts_(b);return null}}var c="goog.require could not find: "+a;goog.logToConsole_(c);throw Error(c)}};goog.basePath="";goog.global.CLOSURE_BASE_PATH;goog.global.CLOSURE_NO_DEPS;goog.global.CLOSURE_IMPORT_SCRIPT;goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_){return a.instance_}if(goog.DEBUG){goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a}return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.define("goog.LOAD_MODULE_USING_EVAL",true);goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG);goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.define("goog.TRANSPILE","detect");goog.define("goog.TRANSPILER","transpile.js");if(goog.DEPENDENCIES_ENABLED){goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}};goog.inHtmlDocument_=function(){var a=goog.global.document;return a!=null&&"write"in a};goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)){goog.basePath=goog.global.CLOSURE_BASE_PATH;return}else if(!goog.inHtmlDocument_()){return}var a=goog.global.document;var b=a.getElementsByTagName("SCRIPT");for(var c=b.length-1;c>=0;--c){var d=b[c];var e=d.src;var f=e.lastIndexOf("?");var g=f==-1?e.length:f;if(e.substr(g-7,7)=="base.js"){goog.basePath=e.substr(0,g-7);return}}};goog.importScript_=function(a,b){var c=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;if(c(a,b)){goog.dependencies_.written[a]=true}};goog.IS_OLD_IE_=!!(!goog.global.atob&&goog.global.document&&goog.global.document.all);goog.importProcessedScript_=function(a,b,c){var d='goog.retrieveAndExec_("'+a+'", '+b+", "+c+");";goog.importScript_("",d)};goog.queuedModules_=[];goog.wrapModule_=function(a,b){if(!goog.LOAD_MODULE_USING_EVAL||!goog.isDef(goog.global.JSON)){return""+"goog.loadModule(function(exports) {"+'"use strict";'+b+"\n"+";return exports"+"});"+"\n//# sourceURL="+a+"\n"}else{return""+"goog.loadModule("+goog.global.JSON.stringify(b+"\n//# sourceURL="+a+"\n")+");"}};goog.loadQueuedModules_=function(){var a=goog.queuedModules_.length;if(a>0){var b=goog.queuedModules_;goog.queuedModules_=[];for(var c=0;c<a;c++){var d=b[c];goog.maybeProcessDeferredPath_(d)}}};goog.maybeProcessDeferredDep_=function(a){if(goog.isDeferredModule_(a)&&goog.allDepsAreAvailable_(a)){var b=goog.getPathFromDeps_(a);goog.maybeProcessDeferredPath_(goog.basePath+b)}};goog.isDeferredModule_=function(a){var b=goog.getPathFromDeps_(a);var c=b&&goog.dependencies_.loadFlags[b]||{};if(b&&(c["module"]=="goog"||goog.needsTranspile_(c["lang"]))){var d=goog.basePath+b;return d in goog.dependencies_.deferred}return false};goog.allDepsAreAvailable_=function(a){var b=goog.getPathFromDeps_(a);if(b&&b in goog.dependencies_.requires){for(var c in goog.dependencies_.requires[b]){if(!goog.isProvided_(c)&&!goog.isDeferredModule_(c)){return false}}}return true};goog.maybeProcessDeferredPath_=function(a){if(a in goog.dependencies_.deferred){var b=goog.dependencies_.deferred[a];delete goog.dependencies_.deferred[a];goog.globalEval(b)}};goog.loadModuleFromUrl=function(a){goog.retrieveAndExec_(a,true,false)};goog.writeScriptSrcNode_=function(a){goog.global.document.write('<script type="text/javascript" src="'+a+'"></'+"script>")};goog.appendScriptSrcNode_=function(a){var b=goog.global.document;var c=b.createElement("script");c.type="text/javascript";c.src=a;c.defer=false;c.async=false;b.head.appendChild(c)};goog.writeScriptTag_=function(a,b){if(goog.inHtmlDocument_()){var c=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&c.readyState=="complete"){var d=/\bdeps.js$/.test(a);if(d){return false}else{throw Error('Cannot write "'+a+'" after document load')}}if(b===undefined){if(!goog.IS_OLD_IE_){if(goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){goog.appendScriptSrcNode_(a)}else{goog.writeScriptSrcNode_(a)}}else{var e=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";c.write('<script type="text/javascript" src="'+a+'"'+e+"></"+"script>")}}else{c.write('<script type="text/javascript">'+b+"</"+"script>")}return true}else{return false}};goog.needsTranspile_=function(lang){if(goog.TRANSPILE=="always"){return true}else if(goog.TRANSPILE=="never"){return false}else if(!goog.transpiledLanguages_){goog.transpiledLanguages_={es5:true,es6:true,"es6-impl":true};try{goog.transpiledLanguages_["es5"]=eval("[1,].length!=1");var es6implTest="let a={};const X=class{constructor(){}x(z){return new Map(["+"...arguments]).get(z[0])==3}};return new X().x([a,3])";var es6fullTest="class X{constructor(){if(new.target!=String)throw 1;this.x=42}}"+"let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof "+"String))throw 1;for(const a of[2,3]){if(a==2)continue;function "+"f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()"+"==3}";if(eval('(()=>{"use strict";'+es6implTest+"})()")){goog.transpiledLanguages_["es6-impl"]=false}if(eval('(()=>{"use strict";'+es6fullTest+"})()")){goog.transpiledLanguages_["es6"]=false}}catch(err){}}return!!goog.transpiledLanguages_[lang]};goog.transpiledLanguages_=null;goog.lastNonModuleScriptIndex_=0;goog.onScriptLoad_=function(a,b){if(a.readyState=="complete"&&goog.lastNonModuleScriptIndex_==b){goog.loadQueuedModules_()}return true};goog.writeScripts_=function(a){var b=[];var c={};var d=goog.dependencies_;function e(a){if(a in d.written){return}if(a in d.visited){return}d.visited[a]=true;if(a in d.requires){for(var f in d.requires[a]){if(!goog.isProvided_(f)){if(f in d.nameToPath){e(d.nameToPath[f])}else{throw Error("Undefined nameToPath for "+f)}}}}if(!(a in c)){c[a]=true;b.push(a)}}e(a);for(var f=0;f<b.length;f++){var g=b[f];goog.dependencies_.written[g]=true}var h=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var f=0;f<b.length;f++){var g=b[f];if(g){var i=d.loadFlags[g]||{};var j=goog.needsTranspile_(i["lang"]);if(i["module"]=="goog"||j){goog.importProcessedScript_(goog.basePath+g,i["module"]=="goog",j)}else{goog.importScript_(goog.basePath+g)}}else{goog.moduleLoaderState_=h;throw Error("Undefined script input")}}goog.moduleLoaderState_=h};goog.getPathFromDeps_=function(a){if(a in goog.dependencies_.nameToPath){return goog.dependencies_.nameToPath[a]}else{return null}};goog.findBasePath_();if(!goog.global.CLOSURE_NO_DEPS){goog.importScript_(goog.basePath+"deps.js")}}goog.loadModule=function(a){var b=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:undefined,declareLegacyNamespace:false};var c;if(goog.isFunction(a)){c=a.call(undefined,{})}else if(goog.isString(a)){c=goog.loadModuleFromSource_.call(undefined,a)}else{throw Error("Invalid module definition")}var d=goog.moduleLoaderState_.moduleName;if(!goog.isString(d)||!d){throw Error('Invalid module name "'+d+'"')}if(goog.moduleLoaderState_.declareLegacyNamespace){goog.constructNamespace_(d,c)}else if(goog.SEAL_MODULE_EXPORTS&&Object.seal){Object.seal(c)}goog.loadedModules_[d]=c}finally{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=function(){"use strict";var exports={};eval(arguments[0]);return exports};goog.normalizePath_=function(a){var b=a.split("/");var c=0;while(c<b.length){if(b[c]=="."){b.splice(c,1)}else if(c&&b[c]==".."&&b[c-1]&&b[c-1]!=".."){b.splice(--c,2)}else{c++}}return b.join("/")};goog.loadFileSync_=function(a){
if(goog.global.CLOSURE_LOAD_FILE_SYNC){return goog.global.CLOSURE_LOAD_FILE_SYNC(a)}else{try{var b=new goog.global["XMLHttpRequest"];b.open("get",a,false);b.send();return b.status==0||b.status==200?b.responseText:null}catch(c){return null}}};goog.retrieveAndExec_=function(a,b,c){if(!COMPILED){var d=a;a=goog.normalizePath_(a);var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;var f=goog.loadFileSync_(a);if(f==null){throw new Error('Load of "'+a+'" failed')}if(c){f=goog.transpile_.call(goog.global,f,a)}if(b){f=goog.wrapModule_(a,f)}else{f+="\n//# sourceURL="+a}var g=goog.IS_OLD_IE_;if(g){goog.dependencies_.deferred[d]=f;goog.queuedModules_.push(d)}else{e(a,f)}}};goog.transpile_=function(code,path){var jscomp=goog.global["$jscomp"];if(!jscomp){goog.global["$jscomp"]=jscomp={}}var transpile=jscomp.transpile;if(!transpile){var transpilerPath=goog.basePath+goog.TRANSPILER;var transpilerCode=goog.loadFileSync_(transpilerPath);if(transpilerCode){eval(transpilerCode+"\n//# sourceURL="+transpilerPath);jscomp=goog.global["$jscomp"];transpile=jscomp.transpile}}if(!transpile){var suffix=" requires transpilation but no transpiler was found.";transpile=jscomp.transpile=function(a,b){goog.logToConsole_(b+suffix);return a}}return transpile(code,path)};goog.typeOf=function(a){var b=typeof a;if(b=="object"){if(a){if(a instanceof Array){return"array"}else if(a instanceof Object){return b}var c=Object.prototype.toString.call(a);if(c=="[object Window]"){return"object"}if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice")){return"array"}if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")){return"function"}}else{return"null"}}else if(b=="function"&&typeof a.call=="undefined"){return"object"}return b};goog.isNull=function(a){return a===null};goog.isDefAndNotNull=function(a){return a!=null};goog.isArray=function(a){return goog.typeOf(a)=="array"};goog.isArrayLike=function(a){var b=goog.typeOf(a);return b=="array"||b=="object"&&typeof a.length=="number"};goog.isDateLike=function(a){return goog.isObject(a)&&typeof a.getFullYear=="function"};goog.isString=function(a){return typeof a=="string"};goog.isBoolean=function(a){return typeof a=="boolean"};goog.isNumber=function(a){return typeof a=="number"};goog.isFunction=function(a){return goog.typeOf(a)=="function"};goog.isObject=function(a){var b=typeof a;return b=="object"&&a!=null||b=="function"};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){if(a!==null&&"removeAttribute"in a){a.removeAttribute(goog.UID_PROPERTY_)}try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_="closure_uid_"+(Math.random()*1e9>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if(b=="object"||b=="array"){if(a.clone){return a.clone()}var c=b=="array"?[]:{};for(var d in a){c[d]=goog.cloneObject(a[d])}return c}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};goog.bindJs_=function(a,b,c){if(!a){throw new Error}if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else{return function(){return a.apply(b,arguments)}}};goog.bind=function(a,b,c){if(Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1){goog.bind=goog.bindNative_}else{goog.bind=goog.bindJs_}return goog.bind.apply(null,arguments)};goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b){a[c]=b[c]}};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(a){if(goog.global.execScript){goog.global.execScript(a,"JavaScript")}else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval("var _evalTest_ = 1;");if(typeof goog.global["_evalTest_"]!="undefined"){try{delete goog.global["_evalTest_"]}catch(b){}goog.evalWorksForGlobals_=true}else{goog.evalWorksForGlobals_=false}}if(goog.evalWorksForGlobals_){goog.global.eval(a)}else{var c=goog.global.document;var d=c.createElement("SCRIPT");d.type="text/javascript";d.defer=false;d.appendChild(c.createTextNode(a));c.body.appendChild(d);c.body.removeChild(d)}}else{throw Error("goog.globalEval not available")}};goog.evalWorksForGlobals_=null;goog.cssNameMapping_;goog.cssNameMappingStyle_;goog.getCssName=function(a,b){var c=function(a){return goog.cssNameMapping_[a]||a};var d=function(a){var b=a.split("-");var d=[];for(var e=0;e<b.length;e++){d.push(c(b[e]))}return d.join("-")};var e;if(goog.cssNameMapping_){e=goog.cssNameMappingStyle_=="BY_WHOLE"?c:d}else{e=function(a){return a}}if(b){return a+"-"+e(b)}else{return e(a)}};goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};goog.global.CLOSURE_CSS_NAME_MAPPING;if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING){goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING}goog.getMsg=function(a,b){if(b){a=a.replace(/\{\$([^}]+)}/g,(function(a,c){return b!=null&&c in b?b[c]:a}))}return a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,d){var e=new Array(arguments.length-2);for(var f=2;f<arguments.length;f++){e[f-2]=arguments[f]}return b.prototype[c].apply(a,e)}};goog.base=function(a,b,c){var d=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d){throw Error("arguments.caller not defined.  goog.base() cannot be used "+"with strict mode code. See "+"http://www.ecma-international.org/ecma-262/5.1/#sec-C")}if(d.superClass_){var e=new Array(arguments.length-1);for(var f=1;f<arguments.length;f++){e[f-1]=arguments[f]}return d.superClass_.constructor.apply(a,e)}var g=new Array(arguments.length-2);for(var f=2;f<arguments.length;f++){g[f-2]=arguments[f]}var h=false;for(var i=a.constructor;i;i=i.superClass_&&i.superClass_.constructor){if(i.prototype[b]===d){h=true}else if(h){return i.prototype[b].apply(a,g)}}if(a[b]===d){return a.constructor.prototype[b].apply(a,g)}else{throw Error("goog.base called from a method of one name "+"to a method of a different name")}};goog.scope=function(a){if(goog.isInModuleLoader_()){throw Error("goog.scope is not supported within a goog.module.")}a.call(goog.global)};if(!COMPILED){goog.global["COMPILED"]=COMPILED}goog.defineClass=function(a,b){var c=b.constructor;var d=b.statics;if(!c||c==Object.prototype.constructor){c=function(){throw Error("cannot instantiate an interface (no constructor defined).")}}var e=goog.defineClass.createSealingConstructor_(c,a);if(a){goog.inherits(e,a)}delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(e.prototype,b);if(d!=null){if(d instanceof Function){d(e)}else{goog.defineClass.applyProperties_(e,d)}}return e};goog.defineClass.ClassDescriptor;goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG);goog.defineClass.createSealingConstructor_=function(a,b){if(!goog.defineClass.SEAL_CLASS_INSTANCES){return a}var c=!goog.defineClass.isUnsealable_(b);var d=function(){var b=a.apply(this,arguments)||this;b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_];if(this.constructor===d&&c&&Object.seal instanceof Function){Object.seal(b)}return b};return d};goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.defineClass.applyProperties_=function(a,b){var c;for(c in b){if(Object.prototype.hasOwnProperty.call(b,c)){a[c]=b[c]}}for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++){c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d];if(Object.prototype.hasOwnProperty.call(b,c)){a[c]=b[c]}}};goog.tagUnsealableClass=function(a){if(!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES){a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=true}};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.provide("ol");ol.ASSUME_TOUCH=false;ol.DEFAULT_MAX_ZOOM=42;ol.DEFAULT_MIN_ZOOM=0;ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=.5;ol.DEFAULT_TILE_SIZE=256;ol.DEFAULT_WMS_VERSION="1.3.0";ol.DRAG_BOX_HYSTERESIS_PIXELS=8;ol.ENABLE_CANVAS=true;ol.ENABLE_DOM=true;ol.ENABLE_IMAGE=true;ol.ENABLE_PROJ4JS=true;ol.ENABLE_RASTER_REPROJECTION=true;ol.ENABLE_TILE=true;ol.ENABLE_VECTOR=true;ol.ENABLE_VECTOR_TILE=true;ol.ENABLE_WEBGL=true;ol.INITIAL_ATLAS_SIZE=256;ol.MAX_ATLAS_SIZE=-1;ol.MOUSEWHEELZOOM_MAXDELTA=1;ol.MOUSEWHEELZOOM_TIMEOUT_DURATION=80;ol.OVERVIEWMAP_MAX_RATIO=.75;ol.OVERVIEWMAP_MIN_RATIO=.1;ol.RASTER_REPROJECTION_MAX_SOURCE_TILES=100;ol.RASTER_REPROJECTION_MAX_SUBDIVISION=10;ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=.25;ol.SIMPLIFY_TOLERANCE=.5;ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024;ol.VERSION="";ol.WEBGL_MAX_TEXTURE_SIZE;ol.WEBGL_EXTENSIONS;ol.inherits=function(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a};ol.nullFunction=function(){};ol.getUid=function(a){return a.ol_uid||(a.ol_uid=++ol.uidCounter_)};ol.uidCounter_=0;if(typeof window!=="undefined"){ol.global=window}else if(typeof global!=="undefined"){ol.global=global}else if(typeof self!=="undefined"){ol.global=self}goog.provide("ol.AssertionError");goog.require("ol");ol.AssertionError=function(a){this.message="Assertion failed. See "+(ol.VERSION?"http://openlayers.org/en/"+ol.VERSION.split("-")[0]:"")+"/doc/errors/#"+a+" for details.";this.code=a;this.name="AssertionError"};ol.inherits(ol.AssertionError,Error);goog.provide("ol.asserts");goog.require("ol");goog.require("ol.AssertionError");ol.asserts.assert=function(a,b){if(!a){throw new ol.AssertionError(b)}};goog.provide("ol.math");goog.require("ol.asserts");ol.math.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)};ol.math.cosh=(function(){var a;if("cosh"in Math){a=Math.cosh}else{a=function(a){var b=Math.exp(a);return(b+1/b)/2}}return a})();ol.math.roundUpToPowerOfTwo=function(a){ol.asserts.assert(0<a,29);return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))};ol.math.squaredSegmentDistance=function(a,b,c,d,e,f){var g=e-c;var h=f-d;if(g!==0||h!==0){var i=((a-c)*g+(b-d)*h)/(g*g+h*h);if(i>1){c=e;d=f}else if(i>0){c+=g*i;d+=h*i}}return ol.math.squaredDistance(a,b,c,d)};ol.math.squaredDistance=function(a,b,c,d){var e=c-a;var f=d-b;return e*e+f*f};ol.math.solveLinearSystem=function(a){var b=a.length;if(goog.DEBUG){for(var c=0;c<b;c++){console.assert(a[c].length==b+1,"every row should have correct number of columns")}}for(var d=0;d<b;d++){var e=d;var f=Math.abs(a[d][d]);for(var g=d+1;g<b;g++){var h=Math.abs(a[g][d]);if(h>f){f=h;e=g}}if(f===0){return null}var i=a[e];a[e]=a[d];a[d]=i;for(var j=d+1;j<b;j++){var k=-a[j][d]/a[d][d];for(var l=d;l<b+1;l++){if(d==l){a[j][l]=0}else{a[j][l]+=k*a[d][l]}}}}var m=new Array(b);for(var n=b-1;n>=0;n--){m[n]=a[n][b]/a[n][n];for(var o=n-1;o>=0;o--){a[o][b]-=a[o][n]*m[n]}}return m};ol.math.toDegrees=function(a){return a*180/Math.PI};ol.math.toRadians=function(a){return a*Math.PI/180};ol.math.modulo=function(a,b){var c=a%b;return c*b<0?c+b:c};ol.math.lerp=function(a,b,c){return a+c*(b-a)};goog.provide("ol.CenterConstraint");goog.require("ol.math");ol.CenterConstraint.createExtent=function(a){return function(b){if(b){return[ol.math.clamp(b[0],a[0],a[2]),ol.math.clamp(b[1],a[1],a[3])]}else{return undefined}}};ol.CenterConstraint.none=function(a){return a};goog.provide("ol.Constraints");ol.Constraints=function(a,b,c){this.center=a;this.resolution=b;this.rotation=c};goog.provide("ol.obj");ol.obj.assign=typeof Object.assign==="function"?Object.assign:function(a,b){if(a===undefined||a===null){throw new TypeError("Cannot convert undefined or null to object")}var c=Object(a);for(var d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(f!==undefined&&f!==null){for(var g in f){if(f.hasOwnProperty(g)){c[g]=f[g]}}}}return c};ol.obj.clear=function(a){for(var b in a){delete a[b]}};ol.obj.getValues=function(a){var b=[];for(var c in a){b.push(a[c])}return b};ol.obj.isEmpty=function(a){var b;for(b in a){return false}return!b};goog.provide("ol.events");goog.require("ol.obj");ol.events.bindListener_=function(a){var b=function(b){var c=a.listener;var d=a.bindTo||a.target;if(a.callOnce){ol.events.unlistenByKey(a)}return c.call(d,b)};a.boundListener=b;return b};ol.events.findListener_=function(a,b,c,d){var e;for(var f=0,g=a.length;f<g;++f){e=a[f];if(e.listener===b&&e.bindTo===c){if(d){e.deleteIndex=f}return e}}return undefined};ol.events.getListeners=function(a,b){var c=a.ol_lm;return c?c[b]:undefined};ol.events.getListenerMap_=function(a){var b=a.ol_lm;if(!b){b=a.ol_lm={}}return b};ol.events.removeListeners_=function(a,b){var c=ol.events.getListeners(a,b);if(c){for(var d=0,e=c.length;d<e;++d){a.removeEventListener(b,c[d].boundListener);ol.obj.clear(c[d])}c.length=0;var f=a.ol_lm;if(f){delete f[b];if(Object.keys(f).length===0){delete a.ol_lm}}}};ol.events.listen=function(a,b,c,d,e){var f=ol.events.getListenerMap_(a);var g=f[b];if(!g){g=f[b]=[]}var h=ol.events.findListener_(g,c,d,false);if(h){if(!e){h.callOnce=false}}else{h={bindTo:d,callOnce:!!e,listener:c,target:a,type:b};a.addEventListener(b,ol.events.bindListener_(h));g.push(h)}return h};ol.events.listenOnce=function(a,b,c,d){return ol.events.listen(a,b,c,d,true)};ol.events.unlisten=function(a,b,c,d){var e=ol.events.getListeners(a,b);if(e){var f=ol.events.findListener_(e,c,d,true);if(f){ol.events.unlistenByKey(f)}}};ol.events.unlistenByKey=function(a){if(a&&a.target){a.target.removeEventListener(a.type,a.boundListener);var b=ol.events.getListeners(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);if(c!==-1){b.splice(c,1)}if(b.length===0){ol.events.removeListeners_(a.target,a.type)}}ol.obj.clear(a)}};ol.events.unlistenAll=function(a){var b=ol.events.getListenerMap_(a);for(var c in b){ol.events.removeListeners_(a,c)}};goog.provide("ol.Disposable");goog.require("ol");ol.Disposable=function(){};ol.Disposable.prototype.disposed_=false;ol.Disposable.prototype.dispose=function(){if(!this.disposed_){this.disposed_=true;this.disposeInternal()}};ol.Disposable.prototype.disposeInternal=ol.nullFunction;goog.provide("ol.events.Event");ol.events.Event=function(a){this.propagationStopped;this.type=a;this.target=null};ol.events.Event.prototype.preventDefault=ol.events.Event.prototype.stopPropagation=function(){this.propagationStopped=true};ol.events.Event.stopPropagation=function(a){a.stopPropagation()};ol.events.Event.preventDefault=function(a){a.preventDefault()};goog.provide("ol.events.EventTarget");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.events");goog.require("ol.events.Event");ol.events.EventTarget=function(){ol.Disposable.call(this);this.pendingRemovals_={};this.dispatching_={};this.listeners_={}};ol.inherits(ol.events.EventTarget,ol.Disposable);ol.events.EventTarget.prototype.addEventListener=function(a,b){var c=this.listeners_[a];if(!c){c=this.listeners_[a]=[]}if(c.indexOf(b)===-1){c.push(b)}};ol.events.EventTarget.prototype.dispatchEvent=function(a){var b=typeof a==="string"?new ol.events.Event(a):a;var c=b.type;b.target=this;var d=this.listeners_[c];var e;if(d){if(!(c in this.dispatching_)){this.dispatching_[c]=0;this.pendingRemovals_[c]=0}++this.dispatching_[c];for(var f=0,g=d.length;f<g;++f){if(d[f].call(this,b)===false||b.propagationStopped){e=false;break}}--this.dispatching_[c];if(this.dispatching_[c]===0){var h=this.pendingRemovals_[c];delete this.pendingRemovals_[c];while(h--){this.removeEventListener(c,ol.nullFunction)}delete this.dispatching_[c]}return e}};ol.events.EventTarget.prototype.disposeInternal=function(){ol.events.unlistenAll(this)};ol.events.EventTarget.prototype.getListeners=function(a){return this.listeners_[a]};ol.events.EventTarget.prototype.hasListener=function(a){return a?a in this.listeners_:Object.keys(this.listeners_).length>0};ol.events.EventTarget.prototype.removeEventListener=function(a,b){var c=this.listeners_[a];if(c){var d=c.indexOf(b);goog.DEBUG&&console.assert(d!=-1,"listener not found");if(a in this.pendingRemovals_){c[d]=ol.nullFunction;++this.pendingRemovals_[a]}else{c.splice(d,1);if(c.length===0){delete this.listeners_[a]}}}};goog.provide("ol.events.EventType");ol.events.EventType={CHANGE:"change",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"mspointerdown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};goog.provide("ol.Observable");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.Observable=function(){ol.events.EventTarget.call(this);this.revision_=0};ol.inherits(ol.Observable,ol.events.EventTarget);ol.Observable.unByKey=function(a){if(Array.isArray(a)){for(var b=0,c=a.length;b<c;++b){ol.events.unlistenByKey(a[b])}}else{ol.events.unlistenByKey(a)}};ol.Observable.prototype.changed=function(){++this.revision_;this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Observable.prototype.dispatchEvent;ol.Observable.prototype.getRevision=function(){return this.revision_};ol.Observable.prototype.on=function(a,b,c){if(Array.isArray(a)){var d=a.length;var e=new Array(d);for(var f=0;f<d;++f){e[f]=ol.events.listen(this,a[f],b,c)}return e}else{return ol.events.listen(this,a,b,c)}};ol.Observable.prototype.once=function(a,b,c){if(Array.isArray(a)){var d=a.length;var e=new Array(d);for(var f=0;f<d;++f){e[f]=ol.events.listenOnce(this,a[f],b,c)}return e}else{return ol.events.listenOnce(this,a,b,c)}};ol.Observable.prototype.un=function(a,b,c){if(Array.isArray(a)){for(var d=0,e=a.length;d<e;++d){ol.events.unlisten(this,a[d],b,c)}return}else{ol.events.unlisten(this,a,b,c)}};ol.Observable.prototype.unByKey=ol.Observable.unByKey;goog.provide("ol.Object");goog.provide("ol.ObjectEvent");goog.provide("ol.ObjectEventType");goog.require("ol");goog.require("ol.Observable");goog.require("ol.events.Event");goog.require("ol.obj");ol.ObjectEventType={PROPERTYCHANGE:"propertychange"};ol.ObjectEvent=function(a,b,c){ol.events.Event.call(this,a);this.key=b;this.oldValue=c};ol.inherits(ol.ObjectEvent,ol.events.Event);ol.Object=function(a){ol.Observable.call(this);ol.getUid(this);this.values_={};if(a!==undefined){this.setProperties(a)}};ol.inherits(ol.Object,ol.Observable);ol.Object.changeEventTypeCache_={};ol.Object.getChangeEventType=function(a){return ol.Object.changeEventTypeCache_.hasOwnProperty(a)?ol.Object.changeEventTypeCache_[a]:ol.Object.changeEventTypeCache_[a]="change:"+a};ol.Object.prototype.get=function(a){var b;if(this.values_.hasOwnProperty(a)){b=this.values_[a]}return b};ol.Object.prototype.getKeys=function(){return Object.keys(this.values_)};ol.Object.prototype.getProperties=function(){return ol.obj.assign({},this.values_)};ol.Object.prototype.notify=function(a,b){var c;c=ol.Object.getChangeEventType(a);this.dispatchEvent(new ol.ObjectEvent(c,a,b));c=ol.ObjectEventType.PROPERTYCHANGE;this.dispatchEvent(new ol.ObjectEvent(c,a,b))};ol.Object.prototype.set=function(a,b,c){if(c){this.values_[a]=b}else{var d=this.values_[a];this.values_[a]=b;if(d!==b){this.notify(a,d)}}};ol.Object.prototype.setProperties=function(a,b){var c;for(c in a){this.set(c,a[c],b)}};ol.Object.prototype.unset=function(a,b){if(a in this.values_){var c=this.values_[a];delete this.values_[a];if(!b){this.notify(a,c)}}};goog.provide("ol.array");ol.array.binarySearch=function(a,b,c){var d,e;var f=c||ol.array.numberSafeCompareFunction;var g=0;var h=a.length;var i=false;while(g<h){d=g+(h-g>>1);e=+f(a[d],b);if(e<0){g=d+1}else{h=d;i=!e}}return i?g:~g};ol.array.binaryFindNearest=function(a,b){var c=ol.array.binarySearch(a,b,(function(a,b){return b-a}));if(c>=0){return c}else if(c==-1){return 0}else if(c==-a.length-1){return a.length-1}else{var d=-c-2;var e=-c-1;if(a[d]-b<b-a[e]){return d}else{return e}}};ol.array.numberSafeCompareFunction=function(a,b){return a>b?1:a<b?-1:0};ol.array.includes=function(a,b){return a.indexOf(b)>=0};ol.array.linearFindNearest=function(a,b,c){var d=a.length;if(a[0]<=b){return 0}else if(b<=a[d-1]){return d-1}else{var e;if(c>0){for(e=1;e<d;++e){if(a[e]<b){return e-1}}}else if(c<0){for(e=1;e<d;++e){if(a[e]<=b){return e}}}else{for(e=1;e<d;++e){if(a[e]==b){return e}else if(a[e]<b){if(a[e-1]-b<b-a[e]){return e-1}else{return e}}}}return d-1}};ol.array.reverseSubArray=function(a,b,c){goog.DEBUG&&console.assert(b>=0,"Array begin index should be equal to or greater than 0");goog.DEBUG&&console.assert(c<a.length,"Array end index should be less than the array length");while(b<c){var d=a[b];a[b]=a[c];a[c]=d;++b;--c}};ol.array.flatten=function(a){var b=a.reduce((function(a,b){if(Array.isArray(b)){return a.concat(ol.array.flatten(b))}else{return a.concat(b)}}),[]);return b};ol.array.extend=function(a,b){var c;var d=Array.isArray(b)?b:[b];var e=d.length;for(c=0;c<e;c++){a[a.length]=d[c]}};ol.array.remove=function(a,b){var c=a.indexOf(b);var d=c>-1;if(d){a.splice(c,1)}return d};ol.array.find=function(a,b){var c=a.length>>>0;var d;for(var e=0;e<c;e++){d=a[e];if(b(d,e,a)){return d}}return null};ol.array.equals=function(a,b){var c=a.length;if(c!==b.length){return false}for(var d=0;d<c;d++){if(a[d]!==b[d]){return false}}return true};ol.array.stableSort=function(a,b){var c=a.length;var d=Array(a.length);var e;for(e=0;e<c;e++){d[e]={index:e,value:a[e]}}d.sort((function(a,c){return b(a.value,c.value)||a.index-c.index}));for(e=0;e<a.length;e++){a[e]=d[e].value}};ol.array.findIndex=function(a,b){var c;var d=!a.every((function(d,e){c=e;return!b(d,e,a)}));return d?c:-1};ol.array.isSorted=function(a,b,c){var d=b||ol.array.numberSafeCompareFunction;return a.every((function(b,e){if(e===0){return true}var f=d(a[e-1],b);return!(f>0||c&&f===0)}))};goog.provide("ol.ResolutionConstraint");goog.require("ol.array");goog.require("ol.math");ol.ResolutionConstraint.createSnapToResolutions=function(a){return function(b,c,d){if(b!==undefined){var e=ol.array.linearFindNearest(a,b,d);e=ol.math.clamp(e+c,0,a.length-1);var f=Math.floor(e);if(e!=f&&f<a.length-1){var g=a[f]/a[f+1];return a[f]/Math.pow(g,e-f)}else{return a[f]}}else{return undefined}}};ol.ResolutionConstraint.createSnapToPower=function(a,b,c){return function(d,e,f){if(d!==undefined){var g=-f/2+.5;var h=Math.floor(Math.log(b/d)/Math.log(a)+g);var i=Math.max(h+e,0);if(c!==undefined){i=Math.min(i,c)}return b/Math.pow(a,i)}else{return undefined}}};goog.provide("ol.RotationConstraint");goog.require("ol.math");ol.RotationConstraint.disable=function(a,b){if(a!==undefined){return 0}else{return undefined}};ol.RotationConstraint.none=function(a,b){if(a!==undefined){return a+b}else{return undefined}};ol.RotationConstraint.createSnapToN=function(a){var b=2*Math.PI/a;return function(a,c){if(a!==undefined){a=Math.floor((a+c)/b+.5)*b;return a}else{return undefined}}};ol.RotationConstraint.createSnapToZero=function(a){var b=a||ol.math.toRadians(5);return function(a,c){if(a!==undefined){if(Math.abs(a+c)<=b){return 0}else{return a+c}}else{return undefined}}};goog.provide("ol.string");ol.string.padNumber=function(a,b,c){var d=c!==undefined?a.toFixed(c):""+a;var e=d.indexOf(".");e=e===-1?d.length:e;return e>b?d:new Array(1+b-e).join("0")+d};ol.string.compareVersions=function(a,b){var c=(""+a).split(".");var d=(""+b).split(".");for(var e=0;e<Math.max(c.length,d.length);e++){var f=parseInt(c[e]||"0",10);var g=parseInt(d[e]||"0",10);if(f>g)return 1;if(g>f)return-1}return 0};goog.provide("ol.coordinate");goog.require("ol.math");goog.require("ol.string");ol.coordinate.add=function(a,b){a[0]+=b[0];a[1]+=b[1];return a};ol.coordinate.closestOnSegment=function(a,b){var c=a[0];var d=a[1];var e=b[0];var f=b[1];var g=e[0];var h=e[1];var i=f[0];var j=f[1];var k=i-g;var l=j-h;var m=k===0&&l===0?0:(k*(c-g)+l*(d-h))/(k*k+l*l||0);var n,o;if(m<=0){n=g;o=h}else if(m>=1){n=i;o=j}else{n=g+m*k;o=h+m*l}return[n,o]};ol.coordinate.createStringXY=function(a){return function(b){return ol.coordinate.toStringXY(b,a)}};ol.coordinate.degreesToStringHDMS_=function(a,b,c){var d=ol.math.modulo(a+180,360)-180;var e=Math.abs(3600*d);var f=c||0;return Math.floor(e/3600)+" "+ol.string.padNumber(Math.floor(e/60%60),2)+" "+ol.string.padNumber(e%60,2,f)+" "+b.charAt(d<0?1:0)};ol.coordinate.format=function(a,b,c){if(a){return b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c))}else{return""}};ol.coordinate.equals=function(a,b){var c=true;for(var d=a.length-1;d>=0;--d){if(a[d]!=b[d]){c=false;break}}return c};ol.coordinate.rotate=function(a,b){var c=Math.cos(b);var d=Math.sin(b);var e=a[0]*c-a[1]*d;var f=a[1]*c+a[0]*d;a[0]=e;a[1]=f;return a};ol.coordinate.scale=function(a,b){a[0]*=b;a[1]*=b;return a};ol.coordinate.sub=function(a,b){a[0]-=b[0];a[1]-=b[1];return a};ol.coordinate.squaredDistance=function(a,b){var c=a[0]-b[0];var d=a[1]-b[1];return c*c+d*d};ol.coordinate.squaredDistanceToSegment=function(a,b){return ol.coordinate.squaredDistance(a,ol.coordinate.closestOnSegment(a,b))};ol.coordinate.toStringHDMS=function(a,b){if(a){return ol.coordinate.degreesToStringHDMS_(a[1],"NS",b)+" "+ol.coordinate.degreesToStringHDMS_(a[0],"EW",b)}else{return""}};ol.coordinate.toStringXY=function(a,b){return ol.coordinate.format(a,"{x}, {y}",b)};ol.coordinate.fromProjectedArray=function(a,b){var c=b.charAt(0);if(c==="n"||c==="s"){return[a[1],a[0]]}else{return a}};goog.provide("ol.extent");goog.provide("ol.extent.Corner");goog.provide("ol.extent.Relationship");goog.require("ol.asserts");ol.extent.Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};ol.extent.boundingExtent=function(a){var b=ol.extent.createEmpty();for(var c=0,d=a.length;c<d;++c){ol.extent.extendCoordinate(b,a[c])}return b};ol.extent.boundingExtentXYs_=function(a,b,c){goog.DEBUG&&console.assert(a.length>0,"xs length should be larger than 0");goog.DEBUG&&console.assert(b.length>0,"ys length should be larger than 0");var d=Math.min.apply(null,a);var e=Math.min.apply(null,b);var f=Math.max.apply(null,a);var g=Math.max.apply(null,b);return ol.extent.createOrUpdate(d,e,f,g,c)};ol.extent.buffer=function(a,b,c){if(c){c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]+b;c[3]=a[3]+b;return c}else{return[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}};ol.extent.clone=function(a,b){if(b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b}else{return a.slice()}};ol.extent.closestSquaredDistanceXY=function(a,b,c){var d,e;if(b<a[0]){d=a[0]-b}else if(a[2]<b){d=b-a[2]}else{d=0}if(c<a[1]){e=a[1]-c}else if(a[3]<c){e=c-a[3]}else{e=0}return d*d+e*e};ol.extent.containsCoordinate=function(a,b){return ol.extent.containsXY(a,b[0],b[1])};ol.extent.containsExtent=function(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]};ol.extent.containsXY=function(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]};ol.extent.coordinateRelationship=function(a,b){var c=a[0];var d=a[1];var e=a[2];var f=a[3];var g=b[0];var h=b[1];var i=ol.extent.Relationship.UNKNOWN;if(g<c){i=i|ol.extent.Relationship.LEFT}else if(g>e){i=i|ol.extent.Relationship.RIGHT}if(h<d){i=i|ol.extent.Relationship.BELOW}else if(h>f){i=i|ol.extent.Relationship.ABOVE}if(i===ol.extent.Relationship.UNKNOWN){i=ol.extent.Relationship.INTERSECTING}return i};ol.extent.createEmpty=function(){return[Infinity,Infinity,-Infinity,-Infinity]};ol.extent.createOrUpdate=function(a,b,c,d,e){if(e){e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e}else{return[a,b,c,d]}};ol.extent.createOrUpdateEmpty=function(a){return ol.extent.createOrUpdate(Infinity,Infinity,-Infinity,-Infinity,a)};ol.extent.createOrUpdateFromCoordinate=function(a,b){var c=a[0];var d=a[1];return ol.extent.createOrUpdate(c,d,c,d,b)};ol.extent.createOrUpdateFromCoordinates=function(a,b){var c=ol.extent.createOrUpdateEmpty(b);return ol.extent.extendCoordinates(c,a)};ol.extent.createOrUpdateFromFlatCoordinates=function(a,b,c,d,e){var f=ol.extent.createOrUpdateEmpty(e);return ol.extent.extendFlatCoordinates(f,a,b,c,d)};ol.extent.createOrUpdateFromRings=function(a,b){var c=ol.extent.createOrUpdateEmpty(b);return ol.extent.extendRings(c,a)};ol.extent.empty=function(a){a[0]=a[1]=Infinity;a[2]=a[3]=-Infinity;return a};ol.extent.equals=function(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]};ol.extent.extend=function(a,b){if(b[0]<a[0]){a[0]=b[0]}if(b[2]>a[2]){a[2]=b[2]}if(b[1]<a[1]){a[1]=b[1]}if(b[3]>a[3]){a[3]=b[3]}return a};ol.extent.extendCoordinate=function(a,b){if(b[0]<a[0]){a[0]=b[0]}if(b[0]>a[2]){a[2]=b[0]}if(b[1]<a[1]){a[1]=b[1]}if(b[1]>a[3]){a[3]=b[1]}};ol.extent.extendCoordinates=function(a,b){var c,d;for(c=0,d=b.length;c<d;++c){ol.extent.extendCoordinate(a,b[c])}return a};ol.extent.extendFlatCoordinates=function(a,b,c,d,e){for(;c<d;c+=e){ol.extent.extendXY(a,b[c],b[c+1])}return a};ol.extent.extendRings=function(a,b){var c,d;for(c=0,d=b.length;c<d;++c){ol.extent.extendCoordinates(a,b[c])}return a};ol.extent.extendXY=function(a,b,c){a[0]=Math.min(a[0],b);a[1]=Math.min(a[1],c);a[2]=Math.max(a[2],b);a[3]=Math.max(a[3],c)};ol.extent.forEachCorner=function(a,b,c){var d;d=b.call(c,ol.extent.getBottomLeft(a));if(d){return d}d=b.call(c,ol.extent.getBottomRight(a));if(d){return d}d=b.call(c,ol.extent.getTopRight(a));if(d){return d}d=b.call(c,ol.extent.getTopLeft(a));if(d){return d}return false};ol.extent.getArea=function(a){var b=0;if(!ol.extent.isEmpty(a)){b=ol.extent.getWidth(a)*ol.extent.getHeight(a)}return b};ol.extent.getBottomLeft=function(a){return[a[0],a[1]]};ol.extent.getBottomRight=function(a){return[a[2],a[1]]};ol.extent.getCenter=function(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]};ol.extent.getCorner=function(a,b){var c;if(b===ol.extent.Corner.BOTTOM_LEFT){c=ol.extent.getBottomLeft(a)}else if(b===ol.extent.Corner.BOTTOM_RIGHT){c=ol.extent.getBottomRight(a)}else if(b===ol.extent.Corner.TOP_LEFT){c=ol.extent.getTopLeft(a)}else if(b===ol.extent.Corner.TOP_RIGHT){c=ol.extent.getTopRight(a)}else{ol.asserts.assert(false,13)}return c};ol.extent.getEnlargedArea=function(a,b){var c=Math.min(a[0],b[0]);var d=Math.min(a[1],b[1]);var e=Math.max(a[2],b[2]);var f=Math.max(a[3],b[3]);return(e-c)*(f-d)};ol.extent.getForViewAndSize=function(a,b,c,d,e){var f=b*d[0]/2;var g=b*d[1]/2;var h=Math.cos(c);var i=Math.sin(c);var j=f*h;var k=f*i;var l=g*h;var m=g*i;var n=a[0];var o=a[1];var p=n-j+m;var q=n-j-m;var r=n+j-m;var s=n+j+m;var t=o-k-l;var u=o-k+l;var v=o+k+l;var w=o+k-l;return ol.extent.createOrUpdate(Math.min(p,q,r,s),Math.min(t,u,v,w),Math.max(p,q,r,s),Math.max(t,u,v,w),e)};ol.extent.getHeight=function(a){return a[3]-a[1]};ol.extent.getIntersectionArea=function(a,b){var c=ol.extent.getIntersection(a,b);return ol.extent.getArea(c)};ol.extent.getIntersection=function(a,b,c){var d=c?c:ol.extent.createEmpty();if(ol.extent.intersects(a,b)){if(a[0]>b[0]){d[0]=a[0]}else{d[0]=b[0]}if(a[1]>b[1]){d[1]=a[1]}else{d[1]=b[1]}if(a[2]<b[2]){d[2]=a[2]}else{d[2]=b[2]}if(a[3]<b[3]){d[3]=a[3]}else{d[3]=b[3]}}return d};ol.extent.getMargin=function(a){return ol.extent.getWidth(a)+ol.extent.getHeight(a)};ol.extent.getSize=function(a){return[a[2]-a[0],a[3]-a[1]]};ol.extent.getTopLeft=function(a){return[a[0],a[3]]};ol.extent.getTopRight=function(a){return[a[2],a[3]]};ol.extent.getWidth=function(a){return a[2]-a[0]};ol.extent.intersects=function(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};ol.extent.isEmpty=function(a){
return a[2]<a[0]||a[3]<a[1]};ol.extent.isInfinite=function(a){return a[0]==-Infinity||a[1]==-Infinity||a[2]==Infinity||a[3]==Infinity};ol.extent.normalize=function(a,b){return[(b[0]-a[0])/(a[2]-a[0]),(b[1]-a[1])/(a[3]-a[1])]};ol.extent.returnOrUpdate=function(a,b){if(b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b}else{return a}};ol.extent.scaleFromCenter=function(a,b){var c=(a[2]-a[0])/2*(b-1);var d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d};ol.extent.intersectsSegment=function(a,b,c){var d=false;var e=ol.extent.coordinateRelationship(a,b);var f=ol.extent.coordinateRelationship(a,c);if(e===ol.extent.Relationship.INTERSECTING||f===ol.extent.Relationship.INTERSECTING){d=true}else{var g=a[0];var h=a[1];var i=a[2];var j=a[3];var k=b[0];var l=b[1];var m=c[0];var n=c[1];var o=(n-l)/(m-k);var p,q;if(!!(f&ol.extent.Relationship.ABOVE)&&!(e&ol.extent.Relationship.ABOVE)){p=m-(n-j)/o;d=p>=g&&p<=i}if(!d&&!!(f&ol.extent.Relationship.RIGHT)&&!(e&ol.extent.Relationship.RIGHT)){q=n-(m-i)*o;d=q>=h&&q<=j}if(!d&&!!(f&ol.extent.Relationship.BELOW)&&!(e&ol.extent.Relationship.BELOW)){p=m-(n-h)/o;d=p>=g&&p<=i}if(!d&&!!(f&ol.extent.Relationship.LEFT)&&!(e&ol.extent.Relationship.LEFT)){q=n-(m-g)*o;d=q>=h&&q<=j}}return d};ol.extent.touches=function(a,b){var c=ol.extent.intersects(a,b);return c&&(a[0]==b[2]||a[2]==b[0]||a[1]==b[3]||a[3]==b[1])};ol.extent.applyTransform=function(a,b,c){var d=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(d,d,2);var e=[d[0],d[2],d[4],d[6]];var f=[d[1],d[3],d[5],d[7]];return ol.extent.boundingExtentXYs_(e,f,c)};goog.provide("ol.functions");ol.functions.TRUE=function(){return true};ol.functions.FALSE=function(){return false};goog.provide("ol.Sphere");goog.require("ol.math");ol.Sphere=function(a){this.radius=a};ol.Sphere.prototype.geodesicArea=function(a){var b=0,c=a.length;var d=a[c-1][0];var e=a[c-1][1];for(var f=0;f<c;f++){var g=a[f][0],h=a[f][1];b+=ol.math.toRadians(g-d)*(2+Math.sin(ol.math.toRadians(e))+Math.sin(ol.math.toRadians(h)));d=g;e=h}return b*this.radius*this.radius/2};ol.Sphere.prototype.haversineDistance=function(a,b){var c=ol.math.toRadians(a[1]);var d=ol.math.toRadians(b[1]);var e=(d-c)/2;var f=ol.math.toRadians(b[0]-a[0])/2;var g=Math.sin(e)*Math.sin(e)+Math.sin(f)*Math.sin(f)*Math.cos(c)*Math.cos(d);return 2*this.radius*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))};ol.Sphere.prototype.offset=function(a,b,c){var d=ol.math.toRadians(a[1]);var e=ol.math.toRadians(a[0]);var f=b/this.radius;var g=Math.asin(Math.sin(d)*Math.cos(f)+Math.cos(d)*Math.sin(f)*Math.cos(c));var h=e+Math.atan2(Math.sin(c)*Math.sin(f)*Math.cos(d),Math.cos(f)-Math.sin(d)*Math.sin(g));return[ol.math.toDegrees(h),ol.math.toDegrees(g)]};goog.provide("ol.sphere.NORMAL");goog.require("ol.Sphere");ol.sphere.NORMAL=new ol.Sphere(6370997);goog.provide("ol.proj");goog.provide("ol.proj.METERS_PER_UNIT");goog.provide("ol.proj.Projection");goog.provide("ol.proj.Units");goog.require("ol");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.sphere.NORMAL");ol.proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};ol.proj.METERS_PER_UNIT={};ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]=2*Math.PI*ol.sphere.NORMAL.radius/360;ol.proj.METERS_PER_UNIT[ol.proj.Units.FEET]=.3048;ol.proj.METERS_PER_UNIT[ol.proj.Units.METERS]=1;ol.proj.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937;ol.proj.Projection=function(a){this.code_=a.code;this.units_=a.units;this.extent_=a.extent!==undefined?a.extent:null;this.worldExtent_=a.worldExtent!==undefined?a.worldExtent:null;this.axisOrientation_=a.axisOrientation!==undefined?a.axisOrientation:"enu";this.global_=a.global!==undefined?a.global:false;this.canWrapX_=!!(this.global_&&this.extent_);this.getPointResolutionFunc_=a.getPointResolution!==undefined?a.getPointResolution:this.getPointResolution_;this.defaultTileGrid_=null;this.metersPerUnit_=a.metersPerUnit;var b=ol.proj.projections_;var c=a.code;goog.DEBUG&&console.assert(c!==undefined,'Option "code" is required for constructing instance');if(ol.ENABLE_PROJ4JS){var d=ol.proj.proj4_||ol.global["proj4"];if(typeof d=="function"&&b[c]===undefined){var e=d.defs(c);if(e!==undefined){if(e.axis!==undefined&&a.axisOrientation===undefined){this.axisOrientation_=e.axis}if(a.metersPerUnit===undefined){this.metersPerUnit_=e.to_meter}if(a.units===undefined){this.units_=e.units}var f,g,h,i;for(f in b){g=d.defs(f);if(g!==undefined){h=ol.proj.get(f);if(g===e){ol.proj.addEquivalentProjections([h,this])}else{i=d(f,c);ol.proj.addCoordinateTransforms(h,this,i.forward,i.inverse)}}}}}}};ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_};ol.proj.Projection.prototype.getCode=function(){return this.code_};ol.proj.Projection.prototype.getExtent=function(){return this.extent_};ol.proj.Projection.prototype.getUnits=function(){return this.units_};ol.proj.Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ol.proj.METERS_PER_UNIT[this.units_]};ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_};ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_};ol.proj.Projection.prototype.isGlobal=function(){return this.global_};ol.proj.Projection.prototype.setGlobal=function(a){this.global_=a;this.canWrapX_=!!(a&&this.extent_)};ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};ol.proj.Projection.prototype.setDefaultTileGrid=function(a){this.defaultTileGrid_=a};ol.proj.Projection.prototype.setExtent=function(a){this.extent_=a;this.canWrapX_=!!(this.global_&&a)};ol.proj.Projection.prototype.setWorldExtent=function(a){this.worldExtent_=a};ol.proj.Projection.prototype.setGetPointResolution=function(a){this.getPointResolutionFunc_=a};ol.proj.Projection.prototype.getPointResolution_=function(a,b){var c=this.getUnits();if(c==ol.proj.Units.DEGREES){return a}else{var d=ol.proj.getTransformFromProjections(this,ol.proj.get("EPSG:4326"));var e=[b[0]-a/2,b[1],b[0]+a/2,b[1],b[0],b[1]-a/2,b[0],b[1]+a/2];e=d(e,e,2);var f=ol.sphere.NORMAL.haversineDistance(e.slice(0,2),e.slice(2,4));var g=ol.sphere.NORMAL.haversineDistance(e.slice(4,6),e.slice(6,8));var h=(f+g)/2;var i=this.getMetersPerUnit();if(i!==undefined){h/=i}return h}};ol.proj.Projection.prototype.getPointResolution=function(a,b){return this.getPointResolutionFunc_(a,b)};ol.proj.projections_={};ol.proj.transforms_={};ol.proj.proj4_=null;if(ol.ENABLE_PROJ4JS){ol.proj.setProj4=function(a){goog.DEBUG&&console.assert(typeof a=="function","proj4 argument should be a function");ol.proj.proj4_=a}}ol.proj.addEquivalentProjections=function(a){ol.proj.addProjections(a);a.forEach((function(b){a.forEach((function(a){if(b!==a){ol.proj.addTransform(b,a,ol.proj.cloneTransform)}}))}))};ol.proj.addEquivalentTransforms=function(a,b,c,d){a.forEach((function(a){b.forEach((function(b){ol.proj.addTransform(a,b,c);ol.proj.addTransform(b,a,d)}))}))};ol.proj.addProjection=function(a){ol.proj.projections_[a.getCode()]=a;ol.proj.addTransform(a,a,ol.proj.cloneTransform)};ol.proj.addProjections=function(a){var b=[];a.forEach((function(a){b.push(ol.proj.addProjection(a))}))};ol.proj.clearAllProjections=function(){ol.proj.projections_={};ol.proj.transforms_={}};ol.proj.createProjection=function(a,b){if(!a){return ol.proj.get(b)}else if(typeof a==="string"){return ol.proj.get(a)}else{return a}};ol.proj.addTransform=function(a,b,c){var d=a.getCode();var e=b.getCode();var f=ol.proj.transforms_;if(!(d in f)){f[d]={}}f[d][e]=c};ol.proj.addCoordinateTransforms=function(a,b,c,d){var e=ol.proj.get(a);var f=ol.proj.get(b);ol.proj.addTransform(e,f,ol.proj.createTransformFromCoordinateTransform(c));ol.proj.addTransform(f,e,ol.proj.createTransformFromCoordinateTransform(d))};ol.proj.createTransformFromCoordinateTransform=function(a){return function(b,c,d){var e=b.length;var f=d!==undefined?d:2;var g=c!==undefined?c:new Array(e);var h,i,j;for(i=0;i<e;i+=f){h=a([b[i],b[i+1]]);g[i]=h[0];g[i+1]=h[1];for(j=f-1;j>=2;--j){g[i+j]=b[i+j]}}return g}};ol.proj.removeTransform=function(a,b){var c=a.getCode();var d=b.getCode();var e=ol.proj.transforms_;goog.DEBUG&&console.assert(c in e,"sourceCode should be in transforms");goog.DEBUG&&console.assert(d in e[c],"destinationCode should be in transforms of sourceCode");var f=e[c][d];delete e[c][d];if(ol.obj.isEmpty(e[c])){delete e[c]}return f};ol.proj.fromLonLat=function(a,b){return ol.proj.transform(a,"EPSG:4326",b!==undefined?b:"EPSG:3857")};ol.proj.toLonLat=function(a,b){return ol.proj.transform(a,b!==undefined?b:"EPSG:3857","EPSG:4326")};ol.proj.get=function(a){var b;if(a instanceof ol.proj.Projection){b=a}else if(typeof a==="string"){var c=a;b=ol.proj.projections_[c];if(ol.ENABLE_PROJ4JS){var d=ol.proj.proj4_||ol.global["proj4"];if(b===undefined&&typeof d=="function"&&d.defs(c)!==undefined){b=new ol.proj.Projection({code:c});ol.proj.addProjection(b)}}}return b||null};ol.proj.equivalent=function(a,b){if(a===b){return true}var c=a.getUnits()===b.getUnits();if(a.getCode()===b.getCode()){return c}else{var d=ol.proj.getTransformFromProjections(a,b);return d===ol.proj.cloneTransform&&c}};ol.proj.getTransform=function(a,b){var c=ol.proj.get(a);var d=ol.proj.get(b);return ol.proj.getTransformFromProjections(c,d)};ol.proj.getTransformFromProjections=function(a,b){var c=ol.proj.transforms_;var d=a.getCode();var e=b.getCode();var f;if(d in c&&e in c[d]){f=c[d][e]}if(f===undefined){goog.DEBUG&&console.assert(f!==undefined,"transform should be defined");f=ol.proj.identityTransform}return f};ol.proj.identityTransform=function(a,b,c){if(b!==undefined&&a!==b){goog.DEBUG&&console.assert(false,"This should not be used internally.");for(var d=0,e=a.length;d<e;++d){b[d]=a[d]}a=b}return a};ol.proj.cloneTransform=function(a,b,c){var d;if(b!==undefined){for(var e=0,f=a.length;e<f;++e){b[e]=a[e]}d=b}else{d=a.slice()}return d};ol.proj.transform=function(a,b,c){var d=ol.proj.getTransform(b,c);return d(a,undefined,a.length)};ol.proj.transformExtent=function(a,b,c){var d=ol.proj.getTransform(b,c);return ol.extent.applyTransform(a,d)};ol.proj.transformWithProjections=function(a,b,c){var d=ol.proj.getTransformFromProjections(b,c);return d(a)};goog.provide("ol.geom.Geometry");goog.provide("ol.geom.GeometryLayout");goog.provide("ol.geom.GeometryType");goog.require("ol");goog.require("ol.functions");goog.require("ol.Object");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.proj.Units");ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};ol.geom.GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};ol.geom.Geometry=function(){ol.Object.call(this);this.extent_=ol.extent.createEmpty();this.extentRevision_=-1;this.simplifiedGeometryCache={};this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=0};ol.inherits(ol.geom.Geometry,ol.Object);ol.geom.Geometry.prototype.clone=function(){};ol.geom.Geometry.prototype.closestPointXY=function(a,b,c,d){};ol.geom.Geometry.prototype.getClosestPoint=function(a,b){var c=b?b:[NaN,NaN];this.closestPointXY(a[0],a[1],c,Infinity);return c};ol.geom.Geometry.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};ol.geom.Geometry.prototype.computeExtent=function(a){};ol.geom.Geometry.prototype.containsXY=ol.functions.FALSE;ol.geom.Geometry.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){this.extent_=this.computeExtent(this.extent_);this.extentRevision_=this.getRevision()}return ol.extent.returnOrUpdate(this.extent_,a)};ol.geom.Geometry.prototype.rotate=function(a,b){};ol.geom.Geometry.prototype.scale=function(a,b,c){};ol.geom.Geometry.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};ol.geom.Geometry.prototype.getSimplifiedGeometry=function(a){};ol.geom.Geometry.prototype.getType=function(){};ol.geom.Geometry.prototype.applyTransform=function(a){};ol.geom.Geometry.prototype.intersectsExtent=function(a){};ol.geom.Geometry.prototype.translate=function(a,b){};ol.geom.Geometry.prototype.transform=function(a,b){goog.DEBUG&&console.assert(ol.proj.get(a).getUnits()!==ol.proj.Units.TILE_PIXELS&&ol.proj.get(b).getUnits()!==ol.proj.Units.TILE_PIXELS,"cannot transform geometries with TILE_PIXELS units");this.applyTransform(ol.proj.getTransform(a,b));return this};goog.provide("ol.geom.flat.transform");ol.geom.flat.transform.transform2D=function(a,b,c,d,e,f){var g=f?f:[];var h=0;var i;for(i=b;i<c;i+=d){var j=a[i];var k=a[i+1];g[h++]=e[0]*j+e[2]*k+e[4];g[h++]=e[1]*j+e[3]*k+e[5]}if(f&&g.length!=h){g.length=h}return g};ol.geom.flat.transform.rotate=function(a,b,c,d,e,f,g){var h=g?g:[];var i=Math.cos(e);var j=Math.sin(e);var k=f[0];var l=f[1];var m=0;for(var n=b;n<c;n+=d){var o=a[n]-k;var p=a[n+1]-l;h[m++]=k+o*i-p*j;h[m++]=l+o*j+p*i;for(var q=n+2;q<n+d;++q){h[m++]=a[q]}}if(g&&h.length!=m){h.length=m}return h};ol.geom.flat.transform.scale=function(a,b,c,d,e,f,g,h){var i=h?h:[];var j=g[0];var k=g[1];var l=0;for(var m=b;m<c;m+=d){var n=a[m]-j;var o=a[m+1]-k;i[l++]=j+e*n;i[l++]=k+f*o;for(var p=m+2;p<m+d;++p){i[l++]=a[p]}}if(h&&i.length!=l){i.length=l}return i};ol.geom.flat.transform.translate=function(a,b,c,d,e,f,g){var h=g?g:[];var i=0;var j,k;for(j=b;j<c;j+=d){h[i++]=a[j]+e;h[i++]=a[j+1]+f;for(k=j+2;k<j+d;++k){h[i++]=a[k]}}if(g&&h.length!=i){h.length=i}return h};goog.provide("ol.geom.SimpleGeometry");goog.require("ol");goog.require("ol.functions");goog.require("ol.extent");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.flat.transform");goog.require("ol.obj");ol.geom.SimpleGeometry=function(){ol.geom.Geometry.call(this);this.layout=ol.geom.GeometryLayout.XY;this.stride=2;this.flatCoordinates=null};ol.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry);ol.geom.SimpleGeometry.getLayoutForStride_=function(a){var b;if(a==2){b=ol.geom.GeometryLayout.XY}else if(a==3){b=ol.geom.GeometryLayout.XYZ}else if(a==4){b=ol.geom.GeometryLayout.XYZM}goog.DEBUG&&console.assert(b,"unsupported stride: "+a);return b};ol.geom.SimpleGeometry.getStrideForLayout=function(a){var b;if(a==ol.geom.GeometryLayout.XY){b=2}else if(a==ol.geom.GeometryLayout.XYZ||a==ol.geom.GeometryLayout.XYM){b=3}else if(a==ol.geom.GeometryLayout.XYZM){b=4}goog.DEBUG&&console.assert(b,"unsupported layout: "+a);return b};ol.geom.SimpleGeometry.prototype.containsXY=ol.functions.FALSE;ol.geom.SimpleGeometry.prototype.computeExtent=function(a){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a)};ol.geom.SimpleGeometry.prototype.getCoordinates=function(){};ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates};ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(a){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(a<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&a<=this.simplifiedGeometryMaxMinSquaredTolerance){return this}var b=a.toString();if(this.simplifiedGeometryCache.hasOwnProperty(b)){return this.simplifiedGeometryCache[b]}else{var c=this.getSimplifiedGeometryInternal(a);var d=c.getFlatCoordinates();if(d.length<this.flatCoordinates.length){this.simplifiedGeometryCache[b]=c;return c}else{this.simplifiedGeometryMaxMinSquaredTolerance=a;return this}}};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(a){return this};ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride};ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(a,b){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(a);this.layout=a;this.flatCoordinates=b};ol.geom.SimpleGeometry.prototype.setCoordinates=function(a,b){};ol.geom.SimpleGeometry.prototype.setLayout=function(a,b,c){var d;if(a){d=ol.geom.SimpleGeometry.getStrideForLayout(a)}else{var e;for(e=0;e<c;++e){if(b.length===0){this.layout=ol.geom.GeometryLayout.XY;this.stride=2;return}else{b=b[0]}}d=b.length;a=ol.geom.SimpleGeometry.getLayoutForStride_(d)}this.layout=a;this.stride=d};ol.geom.SimpleGeometry.prototype.applyTransform=function(a){if(this.flatCoordinates){a(this.flatCoordinates,this.flatCoordinates,this.stride);this.changed()}};ol.geom.SimpleGeometry.prototype.rotate=function(a,b){var c=this.getFlatCoordinates();if(c){var d=this.getStride();ol.geom.flat.transform.rotate(c,0,c.length,d,a,b,c);this.changed()}};ol.geom.SimpleGeometry.prototype.scale=function(a,b,c){var d=b;if(d===undefined){d=a}var e=c;if(!e){e=ol.extent.getCenter(this.getExtent())}var f=this.getFlatCoordinates();if(f){var g=this.getStride();ol.geom.flat.transform.scale(f,0,f.length,g,a,d,e,f);this.changed()}};ol.geom.SimpleGeometry.prototype.translate=function(a,b){var c=this.getFlatCoordinates();if(c){var d=this.getStride();ol.geom.flat.transform.translate(c,0,c.length,d,a,b,c);this.changed()}};ol.geom.SimpleGeometry.transform2D=function(a,b,c){var d=a.getFlatCoordinates();if(!d){return null}else{var e=a.getStride();return ol.geom.flat.transform.transform2D(d,0,d.length,e,b,c)}};goog.provide("ol.geom.flat.area");ol.geom.flat.area.linearRing=function(a,b,c,d){var e=0;var f=a[c-d];var g=a[c-d+1];for(;b<c;b+=d){var h=a[b];var i=a[b+1];e+=g*h-f*i;f=h;g=i}return e/2};ol.geom.flat.area.linearRings=function(a,b,c,d){var e=0;var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];e+=ol.geom.flat.area.linearRing(a,b,h,d);b=h}return e};ol.geom.flat.area.linearRingss=function(a,b,c,d){var e=0;var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];e+=ol.geom.flat.area.linearRings(a,b,h,d);b=h[h.length-1]}return e};goog.provide("ol.geom.flat.closest");goog.require("ol.math");ol.geom.flat.closest.point=function(a,b,c,d,e,f,g){var h=a[b];var i=a[b+1];var j=a[c]-h;var k=a[c+1]-i;var l,m;if(j===0&&k===0){m=b}else{var n=((e-h)*j+(f-i)*k)/(j*j+k*k);if(n>1){m=c}else if(n>0){for(l=0;l<d;++l){g[l]=ol.math.lerp(a[b+l],a[c+l],n)}g.length=d;return}else{m=b}}for(l=0;l<d;++l){g[l]=a[m+l]}g.length=d};ol.geom.flat.closest.getMaxSquaredDelta=function(a,b,c,d,e){var f=a[b];var g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b];var i=a[b+1];var j=ol.math.squaredDistance(f,g,h,i);if(j>e){e=j}f=h;g=i}return e};ol.geom.flat.closest.getsMaxSquaredDelta=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];e=ol.geom.flat.closest.getMaxSquaredDelta(a,b,h,d,e);b=h}return e};ol.geom.flat.closest.getssMaxSquaredDelta=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];e=ol.geom.flat.closest.getsMaxSquaredDelta(a,b,h,d,e);b=h[h.length-1]}return e};ol.geom.flat.closest.getClosestPoint=function(a,b,c,d,e,f,g,h,i,j,k){if(b==c){return j}var l,m;if(e===0){m=ol.math.squaredDistance(g,h,a[b],a[b+1]);if(m<j){for(l=0;l<d;++l){i[l]=a[b+l]}i.length=d;return m}else{return j}}goog.DEBUG&&console.assert(e>0,"maxDelta should be larger than 0");var n=k?k:[NaN,NaN];var o=b+d;while(o<c){ol.geom.flat.closest.point(a,o-d,o,d,g,h,n);m=ol.math.squaredDistance(g,h,n[0],n[1]);if(m<j){j=m;for(l=0;l<d;++l){i[l]=n[l]}i.length=d;o+=d}else{o+=d*Math.max((Math.sqrt(m)-Math.sqrt(j))/e|0,1)}}if(f){ol.geom.flat.closest.point(a,c-d,b,d,g,h,n);m=ol.math.squaredDistance(g,h,n[0],n[1]);if(m<j){j=m;for(l=0;l<d;++l){i[l]=n[l]}i.length=d}}return j};ol.geom.flat.closest.getsClosestPoint=function(a,b,c,d,e,f,g,h,i,j,k){var l=k?k:[NaN,NaN];var m,n;for(m=0,n=c.length;m<n;++m){var o=c[m];j=ol.geom.flat.closest.getClosestPoint(a,b,o,d,e,f,g,h,i,j,l);b=o}return j};ol.geom.flat.closest.getssClosestPoint=function(a,b,c,d,e,f,g,h,i,j,k){var l=k?k:[NaN,NaN];var m,n;for(m=0,n=c.length;m<n;++m){var o=c[m];j=ol.geom.flat.closest.getsClosestPoint(a,b,o,d,e,f,g,h,i,j,l);b=o[o.length-1]}return j};goog.provide("ol.geom.flat.deflate");ol.geom.flat.deflate.coordinate=function(a,b,c,d){goog.DEBUG&&console.assert(c.length==d,"length of the coordinate array should match stride");var e,f;for(e=0,f=c.length;e<f;++e){a[b++]=c[e]}return b};ol.geom.flat.deflate.coordinates=function(a,b,c,d){var e,f;for(e=0,f=c.length;e<f;++e){var g=c[e];goog.DEBUG&&console.assert(g.length==d,"length of coordinate array should match stride");var h;for(h=0;h<d;++h){a[b++]=g[h]}}return b};ol.geom.flat.deflate.coordinatess=function(a,b,c,d,e){var f=e?e:[];var g=0;var h,i;for(h=0,i=c.length;h<i;++h){var j=ol.geom.flat.deflate.coordinates(a,b,c[h],d);f[g++]=j;b=j}f.length=g;return f};ol.geom.flat.deflate.coordinatesss=function(a,b,c,d,e){var f=e?e:[];var g=0;var h,i;for(h=0,i=c.length;h<i;++h){var j=ol.geom.flat.deflate.coordinatess(a,b,c[h],d,f[g]);f[g++]=j;b=j[j.length-1]}f.length=g;return f};goog.provide("ol.geom.flat.inflate");ol.geom.flat.inflate.coordinates=function(a,b,c,d,e){var f=e!==undefined?e:[];var g=0;var h;for(h=b;h<c;h+=d){f[g++]=a.slice(h,h+d)}f.length=g;return f};ol.geom.flat.inflate.coordinatess=function(a,b,c,d,e){var f=e!==undefined?e:[];var g=0;var h,i;for(h=0,i=c.length;h<i;++h){var j=c[h];f[g++]=ol.geom.flat.inflate.coordinates(a,b,j,d,f[g]);b=j}f.length=g;return f};ol.geom.flat.inflate.coordinatesss=function(a,b,c,d,e){var f=e!==undefined?e:[];var g=0;var h,i;for(h=0,i=c.length;h<i;++h){var j=c[h];f[g++]=ol.geom.flat.inflate.coordinatess(a,b,j,d,f[g]);b=j[j.length-1]}f.length=g;return f};goog.provide("ol.geom.flat.simplify");goog.require("ol.math");ol.geom.flat.simplify.lineString=function(a,b,c,d,e,f,g){var h=g!==undefined?g:[];if(!f){c=ol.geom.flat.simplify.radialDistance(a,b,c,d,e,h,0);a=h;b=0;d=2}h.length=ol.geom.flat.simplify.douglasPeucker(a,b,c,d,e,h,0);return h};ol.geom.flat.simplify.douglasPeucker=function(a,b,c,d,e,f,g){var h=(c-b)/d;if(h<3){for(;b<c;b+=d){f[g++]=a[b];f[g++]=a[b+1]}return g}var i=new Array(h);i[0]=1;i[h-1]=1;var j=[b,c-d];var k=0;var l;while(j.length>0){var m=j.pop();var n=j.pop();var o=0;var p=a[n];var q=a[n+1];var r=a[m];var s=a[m+1];for(l=n+d;l<m;l+=d){var t=a[l];var u=a[l+1];var v=ol.math.squaredSegmentDistance(t,u,p,q,r,s);if(v>o){k=l;o=v}}if(o>e){i[(k-b)/d]=1;if(n+d<k){j.push(n,k)}if(k+d<m){j.push(k,m)}}}for(l=0;l<h;++l){if(i[l]){f[g++]=a[b+l*d];f[g++]=a[b+l*d+1]}}return g};ol.geom.flat.simplify.douglasPeuckers=function(a,b,c,d,e,f,g,h){var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i];g=ol.geom.flat.simplify.douglasPeucker(a,b,k,d,e,f,g);h.push(g);b=k}return g};ol.geom.flat.simplify.douglasPeuckerss=function(a,b,c,d,e,f,g,h){var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i];var l=[];g=ol.geom.flat.simplify.douglasPeuckers(a,b,k,d,e,f,g,l);h.push(l);b=k[k.length-1]}return g};ol.geom.flat.simplify.radialDistance=function(a,b,c,d,e,f,g){if(c<=b+d){for(;b<c;b+=d){f[g++]=a[b];f[g++]=a[b+1]}return g}var h=a[b];var i=a[b+1];f[g++]=h;f[g++]=i;var j=h;var k=i;for(b+=d;b<c;b+=d){j=a[b];k=a[b+1];if(ol.math.squaredDistance(h,i,j,k)>e){f[g++]=j;f[g++]=k;h=j;i=k}}if(j!=h||k!=i){f[g++]=j;f[g++]=k}return g};ol.geom.flat.simplify.snap=function(a,b){return b*Math.round(a/b)};ol.geom.flat.simplify.quantize=function(a,b,c,d,e,f,g){if(b==c){return g}var h=ol.geom.flat.simplify.snap(a[b],e);var i=ol.geom.flat.simplify.snap(a[b+1],e);b+=d;f[g++]=h;f[g++]=i;var j,k;do{j=ol.geom.flat.simplify.snap(a[b],e);k=ol.geom.flat.simplify.snap(a[b+1],e);b+=d;if(b==c){f[g++]=j;f[g++]=k;return g}}while(j==h&&k==i);while(b<c){var l,m;l=ol.geom.flat.simplify.snap(a[b],e);m=ol.geom.flat.simplify.snap(a[b+1],e);b+=d;if(l==j&&m==k){continue}var n=j-h;var o=k-i;var p=l-h;var q=m-i;if(n*q==o*p&&(n<0&&p<n||n==p||n>0&&p>n)&&(o<0&&q<o||o==q||o>0&&q>o)){j=l;k=m;continue}f[g++]=j;f[g++]=k;h=j;i=k;j=l;k=m}f[g++]=j;f[g++]=k;return g};ol.geom.flat.simplify.quantizes=function(a,b,c,d,e,f,g,h){var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i];g=ol.geom.flat.simplify.quantize(a,b,k,d,e,f,g);h.push(g);b=k}return g};ol.geom.flat.simplify.quantizess=function(a,b,c,d,e,f,g,h){var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i];var l=[];g=ol.geom.flat.simplify.quantizes(a,b,k,d,e,f,g,l);h.push(l);b=k[k.length-1]}return g};goog.provide("ol.geom.LinearRing");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.simplify");ol.geom.LinearRing=function(a,b){ol.geom.SimpleGeometry.call(this);this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(a,b)};ol.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry);ol.geom.LinearRing.prototype.clone=function(){var a=new ol.geom.LinearRing(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.LinearRing.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)){return d}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,true,a,b,c,d)};ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(a){var b=[];b.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b,0);var c=new ol.geom.LinearRing(null);c.setFlatCoordinates(ol.geom.GeometryLayout.XY,b);return c};ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING};ol.geom.LinearRing.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(b,a,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride);this.changed()}};ol.geom.LinearRing.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};goog.provide("ol.geom.Point");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");goog.require("ol.math");ol.geom.Point=function(a,b){ol.geom.SimpleGeometry.call(this);this.setCoordinates(a,b)};ol.inherits(ol.geom.Point,ol.geom.SimpleGeometry);ol.geom.Point.prototype.clone=function(){var a=new ol.geom.Point(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.Point.prototype.closestPointXY=function(a,b,c,d){var e=this.flatCoordinates;var f=ol.math.squaredDistance(a,b,e[0],e[1]);if(f<d){var g=this.stride;var h;for(h=0;h<g;++h){c[h]=e[h]}c.length=g;return f}else{return d}};ol.geom.Point.prototype.getCoordinates=function(){return!this.flatCoordinates?[]:this.flatCoordinates.slice()};ol.geom.Point.prototype.computeExtent=function(a){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,a)};ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT};ol.geom.Point.prototype.intersectsExtent=function(a){return ol.extent.containsXY(a,this.flatCoordinates[0],this.flatCoordinates[1])};ol.geom.Point.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(b,a,0);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,a,this.stride);this.changed()}};ol.geom.Point.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};goog.provide("ol.geom.flat.contains");goog.require("ol.extent");ol.geom.flat.contains.linearRingContainsExtent=function(a,b,c,d,e){var f=ol.extent.forEachCorner(e,(function(e){return!ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[0],e[1])}));return!f};ol.geom.flat.contains.linearRingContainsXY=function(a,b,c,d,e,f){var g=false;var h=a[c-d];var i=a[c-d+1];for(;b<c;b+=d){var j=a[b];var k=a[b+1];var l=i>f!=k>f&&e<(j-h)*(f-i)/(k-i)+h;if(l){g=!g}h=j;i=k}return g};ol.geom.flat.contains.linearRingsContainsXY=function(a,b,c,d,e,f){goog.DEBUG&&console.assert(c.length>0,"ends should not be an empty array");if(c.length===0){return false}if(!ol.geom.flat.contains.linearRingContainsXY(a,b,c[0],d,e,f)){return false}var g,h;for(g=1,h=c.length;g<h;++g){if(ol.geom.flat.contains.linearRingContainsXY(a,c[g-1],c[g],d,e,f)){return false}}return true};ol.geom.flat.contains.linearRingssContainsXY=function(a,b,c,d,e,f){goog.DEBUG&&console.assert(c.length>0,"endss should not be an empty array");if(c.length===0){return false}var g,h;for(g=0,h=c.length;g<h;++g){var i=c[g];if(ol.geom.flat.contains.linearRingsContainsXY(a,b,i,d,e,f)){return true}b=i[i.length-1]}return false};goog.provide("ol.geom.flat.interiorpoint");goog.require("ol.array");goog.require("ol.geom.flat.contains");ol.geom.flat.interiorpoint.linearRings=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;var o=e[f+1];var p=[];var q=c[0];k=a[q-d];m=a[q-d+1];for(h=b;h<q;h+=d){l=a[h];n=a[h+1];if(o<=m&&n<=o||m<=o&&o<=n){j=(o-m)/(n-m)*(l-k)+k;p.push(j)}k=l;m=n}var r=NaN;var s=-Infinity;p.sort(ol.array.numberSafeCompareFunction);k=p[0];for(h=1,i=p.length;h<i;++h){l=p[h];var t=Math.abs(l-k);if(t>s){j=(k+l)/2;if(ol.geom.flat.contains.linearRingsContainsXY(a,b,c,d,j,o)){r=j;s=t}}k=l}if(isNaN(r)){r=e[f]}if(g){g.push(r,o);return g}else{return[r,o]}};ol.geom.flat.interiorpoint.linearRingss=function(a,b,c,d,e){goog.DEBUG&&console.assert(2*c.length==e.length,"endss.length times 2 should be flatCenters.length");var f=[];var g,h;for(g=0,h=c.length;g<h;++g){var i=c[g];f=ol.geom.flat.interiorpoint.linearRings(a,b,i,d,e,2*g,f);b=i[i.length-1]}return f};goog.provide("ol.geom.flat.segments");ol.geom.flat.segments.forEach=function(a,b,c,d,e,f){var g=[a[b],a[b+1]];var h=[];var i;for(;b+d<c;b+=d){h[0]=a[b+d];h[1]=a[b+d+1];i=e.call(f,g,h);if(i){return i}g[0]=h[0];g[1]=h[1]}return false};goog.provide("ol.geom.flat.intersectsextent");goog.require("ol.extent");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.segments");ol.geom.flat.intersectsextent.lineString=function(a,b,c,d,e){var f=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),a,b,c,d);if(!ol.extent.intersects(e,f)){return false}if(ol.extent.containsExtent(e,f)){return true}if(f[0]>=e[0]&&f[2]<=e[2]){return true}if(f[1]>=e[1]&&f[3]<=e[3]){return true}return ol.geom.flat.segments.forEach(a,b,c,d,(function(a,b){return ol.extent.intersectsSegment(e,a,b)}))};ol.geom.flat.intersectsextent.lineStrings=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){if(ol.geom.flat.intersectsextent.lineString(a,b,c[f],d,e)){return true}b=c[f]}return false};ol.geom.flat.intersectsextent.linearRing=function(a,b,c,d,e){if(ol.geom.flat.intersectsextent.lineString(a,b,c,d,e)){return true}if(ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[0],e[1])){return true}if(ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[0],e[3])){return true}if(ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[2],e[1])){return true}if(ol.geom.flat.contains.linearRingContainsXY(a,b,c,d,e[2],e[3])){return true}return false};ol.geom.flat.intersectsextent.linearRings=function(a,b,c,d,e){goog.DEBUG&&console.assert(c.length>0,"ends should not be an empty array");if(!ol.geom.flat.intersectsextent.linearRing(a,b,c[0],d,e)){return false;
}if(c.length===1){return true}var f,g;for(f=1,g=c.length;f<g;++f){if(ol.geom.flat.contains.linearRingContainsExtent(a,c[f-1],c[f],d,e)){return false}}return true};ol.geom.flat.intersectsextent.linearRingss=function(a,b,c,d,e){goog.DEBUG&&console.assert(c.length>0,"endss should not be an empty array");var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];if(ol.geom.flat.intersectsextent.linearRings(a,b,h,d,e)){return true}b=h[h.length-1]}return false};goog.provide("ol.geom.flat.reverse");ol.geom.flat.reverse.coordinates=function(a,b,c,d){while(b<c-d){var e;for(e=0;e<d;++e){var f=a[b+e];a[b+e]=a[c-d+e];a[c-d+e]=f}b+=d;c-=d}};goog.provide("ol.geom.flat.orient");goog.require("ol");goog.require("ol.geom.flat.reverse");ol.geom.flat.orient.linearRingIsClockwise=function(a,b,c,d){var e=0;var f=a[c-d];var g=a[c-d+1];for(;b<c;b+=d){var h=a[b];var i=a[b+1];e+=(h-f)*(i+g);f=h;g=i}return e>0};ol.geom.flat.orient.linearRingsAreOriented=function(a,b,c,d,e){var f=e!==undefined?e:false;var g,h;for(g=0,h=c.length;g<h;++g){var i=c[g];var j=ol.geom.flat.orient.linearRingIsClockwise(a,b,i,d);if(g===0){if(f&&j||!f&&!j){return false}}else{if(f&&!j||!f&&j){return false}}b=i}return true};ol.geom.flat.orient.linearRingssAreOriented=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){if(!ol.geom.flat.orient.linearRingsAreOriented(a,b,c[f],d,e)){return false}}return true};ol.geom.flat.orient.orientLinearRings=function(a,b,c,d,e){var f=e!==undefined?e:false;var g,h;for(g=0,h=c.length;g<h;++g){var i=c[g];var j=ol.geom.flat.orient.linearRingIsClockwise(a,b,i,d);var k=g===0?f&&j||!f&&!j:f&&!j||!f&&j;if(k){ol.geom.flat.reverse.coordinates(a,b,i,d)}b=i}return b};ol.geom.flat.orient.orientLinearRingss=function(a,b,c,d,e){var f,g;for(f=0,g=c.length;f<g;++f){b=ol.geom.flat.orient.orientLinearRings(a,b,c[f],d,e)}return b};goog.provide("ol.geom.Polygon");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LinearRing");goog.require("ol.geom.Point");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.simplify");goog.require("ol.math");ol.geom.Polygon=function(a,b){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(a,b)};ol.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry);ol.geom.Polygon.prototype.appendLinearRing=function(a){goog.DEBUG&&console.assert(a.getLayout()==this.layout,"layout of linearRing should match layout");if(!this.flatCoordinates){this.flatCoordinates=a.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,a.getFlatCoordinates())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.Polygon.prototype.clone=function(){var a=new ol.geom.Polygon(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return a};ol.geom.Polygon.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)){return d}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,true,a,b,c,d)};ol.geom.Polygon.prototype.containsXY=function(a,b){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a,b)};ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getCoordinates=function(a){var b;if(a!==undefined){b=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRings(b,0,this.ends_,this.stride,a)}else{b=this.flatCoordinates}return ol.geom.flat.inflate.coordinatess(b,0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getEnds=function(){return this.ends_};ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var a=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint())};ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length};ol.geom.Polygon.prototype.getLinearRing=function(a){goog.DEBUG&&console.assert(0<=a&&a<this.ends_.length,"index should be in between 0 and and length of this.ends_");if(a<0||this.ends_.length<=a){return null}var b=new ol.geom.LinearRing(null);b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(a===0?0:this.ends_[a-1],this.ends_[a]));return b};ol.geom.Polygon.prototype.getLinearRings=function(){var a=this.layout;var b=this.flatCoordinates;var c=this.ends_;var d=[];var e=0;var f,g;for(f=0,g=c.length;f<g;++f){var h=c[f];var i=new ol.geom.LinearRing(null);i.setFlatCoordinates(a,b.slice(e,h));d.push(i);e=h}return d};ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var a=this.flatCoordinates;if(ol.geom.flat.orient.linearRingsAreOriented(a,0,this.ends_,this.stride)){this.orientedFlatCoordinates_=a}else{this.orientedFlatCoordinates_=a.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(a){var b=[];var c=[];b.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(a),b,0,c);var d=new ol.geom.Polygon(null);d.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,c);return d};ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON};ol.geom.Polygon.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a)};ol.geom.Polygon.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else{this.setLayout(b,a,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var c=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,a,this.stride,this.ends_);this.flatCoordinates.length=c.length===0?0:c[c.length-1];this.changed()}};ol.geom.Polygon.prototype.setFlatCoordinates=function(a,b,c){if(!b){goog.DEBUG&&console.assert(c&&c.length===0,"ends must be an empty array")}else if(c.length===0){goog.DEBUG&&console.assert(b.length===0,"flatCoordinates should be an empty array")}else{goog.DEBUG&&console.assert(b.length==c[c.length-1],"the length of flatCoordinates should be the last entry of ends")}this.setFlatCoordinatesInternal(a,b);this.ends_=c;this.changed()};ol.geom.Polygon.circular=function(a,b,c,d){var e=d?d:32;var f=[];var g;for(g=0;g<e;++g){ol.array.extend(f,a.offset(b,c,2*Math.PI*g/e))}f.push(f[0],f[1]);var h=new ol.geom.Polygon(null);h.setFlatCoordinates(ol.geom.GeometryLayout.XY,f,[f.length]);return h};ol.geom.Polygon.fromExtent=function(a){var b=a[0];var c=a[1];var d=a[2];var e=a[3];var f=[b,c,b,e,d,e,d,c,b,c];var g=new ol.geom.Polygon(null);g.setFlatCoordinates(ol.geom.GeometryLayout.XY,f,[f.length]);return g};ol.geom.Polygon.fromCircle=function(a,b,c){var d=b?b:32;var e=a.getStride();var f=a.getLayout();var g=new ol.geom.Polygon(null,f);var h=e*(d+1);var i=new Array(h);for(var j=0;j<h;j++){i[j]=0}var k=[i.length];g.setFlatCoordinates(f,i,k);ol.geom.Polygon.makeRegular(g,a.getCenter(),a.getRadius(),c);return g};ol.geom.Polygon.makeRegular=function(a,b,c,d){var e=a.getFlatCoordinates();var f=a.getLayout();var g=a.getStride();var h=a.getEnds();goog.DEBUG&&console.assert(h.length===1,"only 1 ring is supported");var i=e.length/g-1;var j=d?d:0;var k,l;for(var m=0;m<=i;++m){l=m*g;k=j+ol.math.modulo(m,i)*2*Math.PI/i;e[l]=b[0]+c*Math.cos(k);e[l+1]=b[1]+c*Math.sin(k)}a.setFlatCoordinates(f,e,h)};goog.provide("ol.View");goog.require("ol");goog.require("ol.CenterConstraint");goog.require("ol.Constraints");goog.require("ol.Object");goog.require("ol.ResolutionConstraint");goog.require("ol.RotationConstraint");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.coordinate");goog.require("ol.extent");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.proj");goog.require("ol.proj.METERS_PER_UNIT");goog.require("ol.proj.Units");ol.View=function(a){ol.Object.call(this);var b=a||{};this.hints_=[0,0];var c={};c[ol.View.Property.CENTER]=b.center!==undefined?b.center:null;this.projection_=ol.proj.createProjection(b.projection,"EPSG:3857");var d=ol.View.createResolutionConstraint_(b);this.maxResolution_=d.maxResolution;this.minResolution_=d.minResolution;this.zoomFactor_=d.zoomFactor;this.resolutions_=b.resolutions;this.minZoom_=d.minZoom;var e=ol.View.createCenterConstraint_(b);var f=d.constraint;var g=ol.View.createRotationConstraint_(b);this.constraints_=new ol.Constraints(e,f,g);if(b.resolution!==undefined){c[ol.View.Property.RESOLUTION]=b.resolution}else if(b.zoom!==undefined){c[ol.View.Property.RESOLUTION]=this.constrainResolution(this.maxResolution_,b.zoom-this.minZoom_)}c[ol.View.Property.ROTATION]=b.rotation!==undefined?b.rotation:0;this.setProperties(c)};ol.inherits(ol.View,ol.Object);ol.View.prototype.calculateCenterRotate=function(a,b){var c;var d=this.getCenter();if(d!==undefined){c=[d[0]-b[0],d[1]-b[1]];ol.coordinate.rotate(c,a-this.getRotation());ol.coordinate.add(c,b)}return c};ol.View.prototype.calculateCenterZoom=function(a,b){var c;var d=this.getCenter();var e=this.getResolution();if(d!==undefined&&e!==undefined){var f=b[0]-a*(b[0]-d[0])/e;var g=b[1]-a*(b[1]-d[1])/e;c=[f,g]}return c};ol.View.prototype.constrainCenter=function(a){return this.constraints_.center(a)};ol.View.prototype.constrainResolution=function(a,b,c){var d=b||0;var e=c||0;return this.constraints_.resolution(a,d,e)};ol.View.prototype.constrainRotation=function(a,b){var c=b||0;return this.constraints_.rotation(a,c)};ol.View.prototype.getCenter=function(){return this.get(ol.View.Property.CENTER)};ol.View.prototype.getHints=function(a){if(a!==undefined){a[0]=this.hints_[0];a[1]=this.hints_[1];return a}else{return this.hints_.slice()}};ol.View.prototype.calculateExtent=function(a){var b=this.getCenter();ol.asserts.assert(b,1);var c=this.getResolution();ol.asserts.assert(c!==undefined,2);var d=this.getRotation();ol.asserts.assert(d!==undefined,3);return ol.extent.getForViewAndSize(b,c,d,a)};ol.View.prototype.getMaxResolution=function(){return this.maxResolution_};ol.View.prototype.getMinResolution=function(){return this.minResolution_};ol.View.prototype.getProjection=function(){return this.projection_};ol.View.prototype.getResolution=function(){return this.get(ol.View.Property.RESOLUTION)};ol.View.prototype.getResolutions=function(){return this.resolutions_};ol.View.prototype.getResolutionForExtent=function(a,b){var c=ol.extent.getWidth(a)/b[0];var d=ol.extent.getHeight(a)/b[1];return Math.max(c,d)};ol.View.prototype.getResolutionForValueFunction=function(a){var b=a||2;var c=this.maxResolution_;var d=this.minResolution_;var e=Math.log(c/d)/Math.log(b);return function(a){var f=c/Math.pow(b,a*e);goog.DEBUG&&console.assert(f>=d&&f<=c,"calculated resolution outside allowed bounds (%s <= %s <= %s)",d,f,c);return f}};ol.View.prototype.getRotation=function(){return this.get(ol.View.Property.ROTATION)};ol.View.prototype.getValueForResolutionFunction=function(a){var b=a||2;var c=this.maxResolution_;var d=this.minResolution_;var e=Math.log(c/d)/Math.log(b);return function(a){var d=Math.log(c/a)/Math.log(b)/e;goog.DEBUG&&console.assert(d>=0&&d<=1,"calculated value (%s) ouside allowed range (0-1)",d);return d}};ol.View.prototype.getState=function(){goog.DEBUG&&console.assert(this.isDef(),"the view was not defined (had no center and/or resolution)");var a=this.getCenter();var b=this.getProjection();var c=this.getResolution();var d=this.getRotation();return{center:a.slice(),projection:b!==undefined?b:null,resolution:c,rotation:d}};ol.View.prototype.getZoom=function(){var a;var b=this.getResolution();if(b!==undefined&&b>=this.minResolution_&&b<=this.maxResolution_){var c=this.minZoom_||0;var d,e;if(this.resolutions_){var f=ol.array.linearFindNearest(this.resolutions_,b,1);c+=f;if(f==this.resolutions_.length-1){return c}d=this.resolutions_[f];e=d/this.resolutions_[f+1]}else{d=this.maxResolution_;e=this.zoomFactor_}a=c+Math.log(d/b)/Math.log(e)}return a};ol.View.prototype.fit=function(a,b,c){if(!(a instanceof ol.geom.SimpleGeometry)){ol.asserts.assert(Array.isArray(a),24);ol.asserts.assert(!ol.extent.isEmpty(a),25);a=ol.geom.Polygon.fromExtent(a)}var d=c||{};var e=d.padding!==undefined?d.padding:[0,0,0,0];var f=d.constrainResolution!==undefined?d.constrainResolution:true;var g=d.nearest!==undefined?d.nearest:false;var h;if(d.minResolution!==undefined){h=d.minResolution}else if(d.maxZoom!==undefined){h=this.constrainResolution(this.maxResolution_,d.maxZoom-this.minZoom_,0)}else{h=0}var i=a.getFlatCoordinates();var j=this.getRotation();goog.DEBUG&&console.assert(j!==undefined,"rotation was not defined");var k=Math.cos(-j);var l=Math.sin(-j);var m=+Infinity;var n=+Infinity;var o=-Infinity;var p=-Infinity;var q=a.getStride();for(var r=0,s=i.length;r<s;r+=q){var t=i[r]*k-i[r+1]*l;var u=i[r]*l+i[r+1]*k;m=Math.min(m,t);n=Math.min(n,u);o=Math.max(o,t);p=Math.max(p,u)}var v=this.getResolutionForExtent([m,n,o,p],[b[0]-e[1]-e[3],b[1]-e[0]-e[2]]);v=isNaN(v)?h:Math.max(v,h);if(f){var w=this.constrainResolution(v,0,0);if(!g&&w<v){w=this.constrainResolution(w,-1,0)}v=w}this.setResolution(v);l=-l;var x=(m+o)/2;var y=(n+p)/2;x+=(e[1]-e[3])/2*v;y+=(e[0]-e[2])/2*v;var z=x*k-y*l;var A=y*k+x*l;this.setCenter([z,A])};ol.View.prototype.centerOn=function(a,b,c){var d=this.getRotation();var e=Math.cos(-d);var f=Math.sin(-d);var g=a[0]*e-a[1]*f;var h=a[1]*e+a[0]*f;var i=this.getResolution();g+=(b[0]/2-c[0])*i;h+=(c[1]-b[1]/2)*i;f=-f;var j=g*e-h*f;var k=h*e+g*f;this.setCenter([j,k])};ol.View.prototype.isDef=function(){return!!this.getCenter()&&this.getResolution()!==undefined};ol.View.prototype.rotate=function(a,b){if(b!==undefined){var c=this.calculateCenterRotate(a,b);this.setCenter(c)}this.setRotation(a)};ol.View.prototype.setCenter=function(a){this.set(ol.View.Property.CENTER,a)};ol.View.prototype.setHint=function(a,b){goog.DEBUG&&console.assert(0<=a&&a<this.hints_.length,"illegal hint (%s), must be between 0 and %s",a,this.hints_.length);this.hints_[a]+=b;goog.DEBUG&&console.assert(this.hints_[a]>=0,"Hint at %s must be positive, was %s",a,this.hints_[a]);return this.hints_[a]};ol.View.prototype.setResolution=function(a){this.set(ol.View.Property.RESOLUTION,a)};ol.View.prototype.setRotation=function(a){this.set(ol.View.Property.ROTATION,a)};ol.View.prototype.setZoom=function(a){var b=this.constrainResolution(this.maxResolution_,a-this.minZoom_,0);this.setResolution(b)};ol.View.createCenterConstraint_=function(a){if(a.extent!==undefined){return ol.CenterConstraint.createExtent(a.extent)}else{return ol.CenterConstraint.none}};ol.View.createResolutionConstraint_=function(a){var b;var c;var d;var e=28;var f=2;var g=a.minZoom!==undefined?a.minZoom:ol.DEFAULT_MIN_ZOOM;var h=a.maxZoom!==undefined?a.maxZoom:e;var i=a.zoomFactor!==undefined?a.zoomFactor:f;if(a.resolutions!==undefined){var j=a.resolutions;c=j[0];d=j[j.length-1];b=ol.ResolutionConstraint.createSnapToResolutions(j)}else{var k=ol.proj.createProjection(a.projection,"EPSG:3857");var l=k.getExtent();var m=!l?360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/k.getMetersPerUnit():Math.max(ol.extent.getWidth(l),ol.extent.getHeight(l));var n=m/ol.DEFAULT_TILE_SIZE/Math.pow(f,ol.DEFAULT_MIN_ZOOM);var o=n/Math.pow(f,e-ol.DEFAULT_MIN_ZOOM);c=a.maxResolution;if(c!==undefined){g=0}else{c=n/Math.pow(i,g)}d=a.minResolution;if(d===undefined){if(a.maxZoom!==undefined){if(a.maxResolution!==undefined){d=c/Math.pow(i,h)}else{d=n/Math.pow(i,h)}}else{d=o}}h=g+Math.floor(Math.log(c/d)/Math.log(i));d=c/Math.pow(i,h-g);b=ol.ResolutionConstraint.createSnapToPower(i,c,h-g)}return{constraint:b,maxResolution:c,minResolution:d,minZoom:g,zoomFactor:i}};ol.View.createRotationConstraint_=function(a){var b=a.enableRotation!==undefined?a.enableRotation:true;if(b){var c=a.constrainRotation;if(c===undefined||c===true){return ol.RotationConstraint.createSnapToZero()}else if(c===false){return ol.RotationConstraint.none}else if(typeof c==="number"){return ol.RotationConstraint.createSnapToN(c)}else{goog.DEBUG&&console.assert(false,"illegal option for constrainRotation (%s)",c);return ol.RotationConstraint.none}}else{return ol.RotationConstraint.disable}};ol.View.Property={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};ol.View.Hint={ANIMATING:0,INTERACTING:1};goog.provide("ol.easing");ol.easing.easeIn=function(a){return Math.pow(a,3)};ol.easing.easeOut=function(a){return 1-ol.easing.easeIn(1-a)};ol.easing.inAndOut=function(a){return 3*a*a-2*a*a*a};ol.easing.linear=function(a){return a};ol.easing.upAndDown=function(a){if(a<.5){return ol.easing.inAndOut(2*a)}else{return 1-ol.easing.inAndOut(2*(a-.5))}};goog.provide("ol.animation");goog.require("ol");goog.require("ol.View");goog.require("ol.coordinate");goog.require("ol.easing");ol.animation.bounce=function(a){var b=a.resolution;var c=a.start?a.start:Date.now();var d=a.duration!==undefined?a.duration:1e3;var e=a.easing?a.easing:ol.easing.upAndDown;return function(a,f){if(f.time<c){f.animate=true;f.viewHints[ol.View.Hint.ANIMATING]+=1;return true}else if(f.time<c+d){var g=e((f.time-c)/d);var h=b-f.viewState.resolution;f.animate=true;f.viewState.resolution+=g*h;f.viewHints[ol.View.Hint.ANIMATING]+=1;return true}else{return false}}};ol.animation.pan=function(a){var b=a.source;var c=a.start?a.start:Date.now();var d=b[0];var e=b[1];var f=a.duration!==undefined?a.duration:1e3;var g=a.easing?a.easing:ol.easing.inAndOut;return function(a,b){if(b.time<c){b.animate=true;b.viewHints[ol.View.Hint.ANIMATING]+=1;return true}else if(b.time<c+f){var h=1-g((b.time-c)/f);var i=d-b.viewState.center[0];var j=e-b.viewState.center[1];b.animate=true;b.viewState.center[0]+=h*i;b.viewState.center[1]+=h*j;b.viewHints[ol.View.Hint.ANIMATING]+=1;return true}else{return false}}};ol.animation.rotate=function(a){var b=a.rotation?a.rotation:0;var c=a.start?a.start:Date.now();var d=a.duration!==undefined?a.duration:1e3;var e=a.easing?a.easing:ol.easing.inAndOut;var f=a.anchor?a.anchor:null;return function(a,g){if(g.time<c){g.animate=true;g.viewHints[ol.View.Hint.ANIMATING]+=1;return true}else if(g.time<c+d){var h=1-e((g.time-c)/d);var i=(b-g.viewState.rotation)*h;g.animate=true;g.viewState.rotation+=i;if(f){var j=g.viewState.center;ol.coordinate.sub(j,f);ol.coordinate.rotate(j,i);ol.coordinate.add(j,f)}g.viewHints[ol.View.Hint.ANIMATING]+=1;return true}else{return false}}};ol.animation.zoom=function(a){var b=a.resolution;var c=a.start?a.start:Date.now();var d=a.duration!==undefined?a.duration:1e3;var e=a.easing?a.easing:ol.easing.inAndOut;return function(a,f){if(f.time<c){f.animate=true;f.viewHints[ol.View.Hint.ANIMATING]+=1;return true}else if(f.time<c+d){var g=1-e((f.time-c)/d);var h=b-f.viewState.resolution;f.animate=true;f.viewState.resolution+=g*h;f.viewHints[ol.View.Hint.ANIMATING]+=1;return true}else{return false}}};goog.provide("ol.TileRange");goog.require("ol.asserts");ol.TileRange=function(a,b,c,d){this.minX=a;this.maxX=b;this.minY=c;this.maxY=d};ol.TileRange.boundingTileRange=function(a){var b=arguments[0];var c=b[0];var d=b[1];var e=b[2];var f=new ol.TileRange(d,d,e,e);var g,h,i,j,k,l;for(g=1,h=arguments.length;g<h;++g){i=arguments[g];l=i[0];j=i[1];k=i[2];ol.asserts.assert(l==c,23);f.minX=Math.min(f.minX,j);f.maxX=Math.max(f.maxX,j);f.minY=Math.min(f.minY,k);f.maxY=Math.max(f.maxY,k)}return f};ol.TileRange.createOrUpdate=function(a,b,c,d,e){if(e!==undefined){e.minX=a;e.maxX=b;e.minY=c;e.maxY=d;return e}else{return new ol.TileRange(a,b,c,d)}};ol.TileRange.prototype.contains=function(a){return this.containsXY(a[1],a[2])};ol.TileRange.prototype.containsTileRange=function(a){return this.minX<=a.minX&&a.maxX<=this.maxX&&this.minY<=a.minY&&a.maxY<=this.maxY};ol.TileRange.prototype.containsXY=function(a,b){return this.minX<=a&&a<=this.maxX&&this.minY<=b&&b<=this.maxY};ol.TileRange.prototype.equals=function(a){return this.minX==a.minX&&this.minY==a.minY&&this.maxX==a.maxX&&this.maxY==a.maxY};ol.TileRange.prototype.extend=function(a){if(a.minX<this.minX){this.minX=a.minX}if(a.maxX>this.maxX){this.maxX=a.maxX}if(a.minY<this.minY){this.minY=a.minY}if(a.maxY>this.maxY){this.maxY=a.maxY}};ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1};ol.TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1};ol.TileRange.prototype.intersects=function(a){return this.minX<=a.maxX&&this.maxX>=a.minX&&this.minY<=a.maxY&&this.maxY>=a.minY};goog.provide("ol.size");ol.size.buffer=function(a,b,c){if(c===undefined){c=[0,0]}c[0]=a[0]+2*b;c[1]=a[1]+2*b;return c};ol.size.equals=function(a,b){return a[0]==b[0]&&a[1]==b[1]};ol.size.hasArea=function(a){return a[0]>0&&a[1]>0};ol.size.scale=function(a,b,c){if(c===undefined){c=[0,0]}c[0]=a[0]*b+.5|0;c[1]=a[1]*b+.5|0;return c};ol.size.toSize=function(a,b){if(Array.isArray(a)){return a}else{if(b===undefined){b=[a,a]}else{b[0]=b[1]=a}return b}};goog.provide("ol.tilecoord");ol.QuadKeyCharCode={ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0)};ol.tilecoord.createFromString=function(a){var b=a.split("/");goog.DEBUG&&console.assert(b.length===3,'must provide a string in "z/x/y" format, got "%s"',a);return b.map((function(a){return parseInt(a,10)}))};ol.tilecoord.createOrUpdate=function(a,b,c,d){if(d!==undefined){d[0]=a;d[1]=b;d[2]=c;return d}else{return[a,b,c]}};ol.tilecoord.getKeyZXY=function(a,b,c){return a+"/"+b+"/"+c};ol.tilecoord.hash=function(a){return(a[1]<<a[0])+a[2]};ol.tilecoord.quadKey=function(a){var b=a[0];var c=new Array(b);var d=1<<b-1;var e,f;for(e=0;e<b;++e){f=ol.QuadKeyCharCode.ZERO;if(a[1]&d){f+=1}if(a[2]&d){f+=2}c[e]=String.fromCharCode(f);d>>=1}return c.join("")};ol.tilecoord.withinExtentAndZ=function(a,b){var c=a[0];var d=a[1];var e=a[2];if(b.getMinZoom()>c||c>b.getMaxZoom()){return false}var f=b.getExtent();var g;if(!f){g=b.getFullTileRange(c)}else{g=b.getTileRangeForExtentAndZ(f,c)}if(!g){return true}else{return g.containsXY(d,e)}};goog.provide("ol.tilegrid.TileGrid");goog.require("ol");goog.require("ol.asserts");goog.require("ol.TileRange");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.size");goog.require("ol.tilecoord");ol.tilegrid.TileGrid=function(a){this.minZoom=a.minZoom!==undefined?a.minZoom:0;this.resolutions_=a.resolutions;ol.asserts.assert(ol.array.isSorted(this.resolutions_,(function(a,b){return b-a}),true),17);this.maxZoom=this.resolutions_.length-1;this.origin_=a.origin!==undefined?a.origin:null;this.origins_=null;if(a.origins!==undefined){this.origins_=a.origins;ol.asserts.assert(this.origins_.length==this.resolutions_.length,20)}var b=a.extent;if(b!==undefined&&!this.origin_&&!this.origins_){this.origin_=ol.extent.getTopLeft(b)}ol.asserts.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;if(a.tileSizes!==undefined){this.tileSizes_=a.tileSizes;ol.asserts.assert(this.tileSizes_.length==this.resolutions_.length,19)}this.tileSize_=a.tileSize!==undefined?a.tileSize:!this.tileSizes_?ol.DEFAULT_TILE_SIZE:null;ol.asserts.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=b!==undefined?b:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];if(a.sizes!==undefined){goog.DEBUG&&console.assert(a.sizes.length==this.resolutions_.length,"number of sizes and resolutions must be equal");this.fullTileRanges_=a.sizes.map((function(a,b){goog.DEBUG&&console.assert(a[0]!==0,"width must not be 0");goog.DEBUG&&console.assert(a[1]!==0,"height must not be 0");var c=new ol.TileRange(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));return c}),this)}else if(b){this.calculateTileRanges_(b)}};ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0];ol.tilegrid.TileGrid.prototype.forEachTileCoord=function(a,b,c){var d=this.getTileRangeForExtentAndZ(a,b);for(var e=d.minX,f=d.maxX;e<=f;++e){for(var g=d.minY,h=d.maxY;g<=h;++g){c([b,e,g])}}};ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(a,b,c,d,e){var f=this.getTileCoordExtent(a,e);var g=a[0]-1;while(g>=this.minZoom){if(b.call(c,g,this.getTileRangeForExtentAndZ(f,g,d))){return true}--g}return false};ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_};ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom};ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom};ol.tilegrid.TileGrid.prototype.getOrigin=function(a){if(this.origin_){return this.origin_}else{goog.DEBUG&&console.assert(this.minZoom<=a&&a<=this.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",this.minZoom,a,this.maxZoom);return this.origins_[a]}};ol.tilegrid.TileGrid.prototype.getResolution=function(a){goog.DEBUG&&console.assert(this.minZoom<=a&&a<=this.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",this.minZoom,a,this.maxZoom);return this.resolutions_[a]};ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_};ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(a,b,c){if(a[0]<this.maxZoom){var d=this.getTileCoordExtent(a,c);return this.getTileRangeForExtentAndZ(d,a[0]+1,b)}else{return null}};ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(a,b,c){var d=this.getOrigin(a);var e=this.getResolution(a);var f=ol.size.toSize(this.getTileSize(a),this.tmpSize_);var g=d[0]+b.minX*f[0]*e;var h=d[0]+(b.maxX+1)*f[0]*e;var i=d[1]+b.minY*f[1]*e;var j=d[1]+(b.maxY+1)*f[1]*e;return ol.extent.createOrUpdate(g,i,h,j,c)};ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndResolution=function(a,b,c){var d=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndResolution_(a[0],a[1],b,false,d);var e=d[1];var f=d[2];this.getTileCoordForXYAndResolution_(a[2],a[3],b,true,d);return ol.TileRange.createOrUpdate(e,d[1],f,d[2],c)};ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(a,b,c){var d=this.getResolution(b);return this.getTileRangeForExtentAndResolution(a,d,c)};ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(a){var b=this.getOrigin(a[0]);var c=this.getResolution(a[0]);var d=ol.size.toSize(this.getTileSize(a[0]),this.tmpSize_);return[b[0]+(a[1]+.5)*d[0]*c,b[1]+(a[2]+.5)*d[1]*c]};ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(a,b){var c=this.getOrigin(a[0]);var d=this.getResolution(a[0]);var e=ol.size.toSize(this.getTileSize(a[0]),this.tmpSize_);var f=c[0]+a[1]*e[0]*d;var g=c[1]+a[2]*e[1]*d;var h=f+e[0]*d;var i=g+e[1]*d;return ol.extent.createOrUpdate(f,g,h,i,b)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(a,b,c){return this.getTileCoordForXYAndResolution_(a[0],a[1],b,false,c)};ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(a,b,c,d,e){var f=this.getZForResolution(c);var g=c/this.getResolution(f);var h=this.getOrigin(f);var i=ol.size.toSize(this.getTileSize(f),this.tmpSize_);var j=d?.5:0;var k=d?0:.5;var l=Math.floor((a-h[0])/c+j);var m=Math.floor((b-h[1])/c+k);var n=g*l/i[0];var o=g*m/i[1];if(d){n=Math.ceil(n)-1;o=Math.ceil(o)-1}else{n=Math.floor(n);o=Math.floor(o)}return ol.tilecoord.createOrUpdate(f,n,o,e)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(a,b,c){var d=this.getResolution(b);return this.getTileCoordForXYAndResolution_(a[0],a[1],d,false,c)};ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(a){goog.DEBUG&&console.assert(this.minZoom<=a[0]&&a[0]<=this.maxZoom,"z of given tilecoord is not in allowed range (%s <= %s <= %s",this.minZoom,a[0],this.maxZoom);return this.resolutions_[a[0]]};ol.tilegrid.TileGrid.prototype.getTileSize=function(a){if(this.tileSize_){return this.tileSize_}else{goog.DEBUG&&console.assert(this.minZoom<=a&&a<=this.maxZoom,"z is not in allowed range (%s <= %s <= %s",this.minZoom,a,this.maxZoom);return this.tileSizes_[a]}};ol.tilegrid.TileGrid.prototype.getFullTileRange=function(a){if(!this.fullTileRanges_){return null}else{goog.DEBUG&&console.assert(this.minZoom<=a&&a<=this.maxZoom,"z is not in allowed range (%s <= %s <= %s",this.minZoom,a,this.maxZoom);return this.fullTileRanges_[a]}};ol.tilegrid.TileGrid.prototype.getZForResolution=function(a,b){var c=ol.array.linearFindNearest(this.resolutions_,a,b||0);return ol.math.clamp(c,this.minZoom,this.maxZoom)};ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(a){var b=this.resolutions_.length;var c=new Array(b);for(var d=this.minZoom;d<b;++d){c[d]=this.getTileRangeForExtentAndZ(a,d)}this.fullTileRanges_=c};goog.provide("ol.tilegrid");goog.require("ol");goog.require("ol.size");goog.require("ol.extent");goog.require("ol.extent.Corner");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.proj.METERS_PER_UNIT");goog.require("ol.proj.Units");goog.require("ol.tilegrid.TileGrid");ol.tilegrid.getForProjection=function(a){var b=a.getDefaultTileGrid();if(!b){b=ol.tilegrid.createForProjection(a);a.setDefaultTileGrid(b)}return b};ol.tilegrid.wrapX=function(a,b,c){var d=b[0];var e=a.getTileCoordCenter(b);var f=ol.tilegrid.extentFromProjection(c);if(!ol.extent.containsCoordinate(f,e)){var g=ol.extent.getWidth(f);var h=Math.ceil((f[0]-e[0])/g);e[0]+=g*h;return a.getTileCoordForCoordAndZ(e,d)}else{return b}};ol.tilegrid.createForExtent=function(a,b,c,d){var e=d!==undefined?d:ol.extent.Corner.TOP_LEFT;var f=ol.tilegrid.resolutionsFromExtent(a,b,c);return new ol.tilegrid.TileGrid({extent:a,origin:ol.extent.getCorner(a,e),resolutions:f,tileSize:c})};ol.tilegrid.createXYZ=function(a){var b={};ol.obj.assign(b,a!==undefined?a:{});if(b.extent===undefined){b.extent=ol.proj.get("EPSG:3857").getExtent()}b.resolutions=ol.tilegrid.resolutionsFromExtent(b.extent,b.maxZoom,b.tileSize);delete b.maxZoom;return new ol.tilegrid.TileGrid(b)};ol.tilegrid.resolutionsFromExtent=function(a,b,c){var d=b!==undefined?b:ol.DEFAULT_MAX_ZOOM;var e=ol.extent.getHeight(a);var f=ol.extent.getWidth(a);var g=ol.size.toSize(c!==undefined?c:ol.DEFAULT_TILE_SIZE);var h=Math.max(f/g[0],e/g[1]);var i=d+1;var j=new Array(i);for(var k=0;k<i;++k){j[k]=h/Math.pow(2,k)}return j};ol.tilegrid.createForProjection=function(a,b,c,d){var e=ol.tilegrid.extentFromProjection(a);return ol.tilegrid.createForExtent(e,b,c,d)};ol.tilegrid.extentFromProjection=function(a){a=ol.proj.get(a);var b=a.getExtent();if(!b){var c=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/a.getMetersPerUnit();b=ol.extent.createOrUpdate(-c,-c,c,c)}return b};goog.provide("ol.Attribution");goog.require("ol.TileRange");goog.require("ol.math");goog.require("ol.tilegrid");ol.Attribution=function(a){this.html_=a.html;this.tileRanges_=a.tileRanges?a.tileRanges:null};ol.Attribution.prototype.getHTML=function(){return this.html_};ol.Attribution.prototype.intersectsAnyTileRange=function(a,b,c){if(!this.tileRanges_){return true}var d,e,f,g;for(g in a){if(!(g in this.tileRanges_)){continue}f=a[g];var h;for(d=0,e=this.tileRanges_[g].length;d<e;++d){
h=this.tileRanges_[g][d];if(h.intersects(f)){return true}var i=b.getTileRangeForExtentAndZ(ol.tilegrid.extentFromProjection(c),parseInt(g,10));var j=i.getWidth();if(f.minX<i.minX||f.maxX>i.maxX){if(h.intersects(new ol.TileRange(ol.math.modulo(f.minX,j),ol.math.modulo(f.maxX,j),f.minY,f.maxY))){return true}if(f.getWidth()>j&&h.intersects(i)){return true}}}}return false};goog.provide("ol.Collection");goog.require("ol");goog.require("ol.events.Event");goog.require("ol.Object");ol.CollectionProperty={LENGTH:"length"};ol.Collection=function(a){ol.Object.call(this);this.array_=a?a:[];this.updateLength_()};ol.inherits(ol.Collection,ol.Object);ol.Collection.prototype.clear=function(){while(this.getLength()>0){this.pop()}};ol.Collection.prototype.extend=function(a){var b,c;for(b=0,c=a.length;b<c;++b){this.push(a[b])}return this};ol.Collection.prototype.forEach=function(a,b){this.array_.forEach(a,b)};ol.Collection.prototype.getArray=function(){return this.array_};ol.Collection.prototype.item=function(a){return this.array_[a]};ol.Collection.prototype.getLength=function(){return this.get(ol.CollectionProperty.LENGTH)};ol.Collection.prototype.insertAt=function(a,b){this.array_.splice(a,0,b);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.Collection.EventType.ADD,b))};ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)};ol.Collection.prototype.push=function(a){var b=this.array_.length;this.insertAt(b,a);return b};ol.Collection.prototype.remove=function(a){var b=this.array_;var c,d;for(c=0,d=b.length;c<d;++c){if(b[c]===a){return this.removeAt(c)}}return undefined};ol.Collection.prototype.removeAt=function(a){var b=this.array_[a];this.array_.splice(a,1);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.Collection.EventType.REMOVE,b));return b};ol.Collection.prototype.setAt=function(a,b){var c=this.getLength();if(a<c){var d=this.array_[a];this.array_[a]=b;this.dispatchEvent(new ol.Collection.Event(ol.Collection.EventType.REMOVE,d));this.dispatchEvent(new ol.Collection.Event(ol.Collection.EventType.ADD,b))}else{var e;for(e=c;e<a;++e){this.insertAt(e,undefined)}this.insertAt(a,b)}};ol.Collection.prototype.updateLength_=function(){this.set(ol.CollectionProperty.LENGTH,this.array_.length)};ol.Collection.EventType={ADD:"add",REMOVE:"remove"};ol.Collection.Event=function(a,b){ol.events.Event.call(this,a);this.element=b};ol.inherits(ol.Collection.Event,ol.events.Event);goog.provide("ol.color");goog.require("ol");goog.require("ol.asserts");goog.require("ol.math");ol.color.hexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i;ol.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;ol.color.rgbaColorRe_=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i;ol.color.namedColorRe_=/^([a-z]*)$/i;ol.color.asArray=function(a){if(Array.isArray(a)){return a}else{return ol.color.fromString(a)}};ol.color.asString=function(a){if(typeof a==="string"){return a}else{return ol.color.toString(a)}};ol.color.fromNamed=function(a){var b=document.createElement("div");b.style.color=a;document.body.appendChild(b);var c=window.getComputedStyle(b).color;document.body.removeChild(b);return c};ol.color.fromString=(function(){var a=1024;var b={};var c=0;return function(d){var e;if(b.hasOwnProperty(d)){e=b[d]}else{if(c>=a){var f=0;var g;for(g in b){if((f++&3)===0){delete b[g];--c}}}e=ol.color.fromStringInternal_(d);b[d]=e;++c}return e}})();ol.color.fromStringInternal_=function(a){var b,c,d,e,f,g;if(ol.color.namedColorRe_.exec(a)){a=ol.color.fromNamed(a)}if(ol.color.hexColorRe_.exec(a)){var h=a.length-1;ol.asserts.assert(h==3||h==6,54);var i=h==3?1:2;b=parseInt(a.substr(1+0*i,i),16);c=parseInt(a.substr(1+1*i,i),16);d=parseInt(a.substr(1+2*i,i),16);if(i==1){b=(b<<4)+b;c=(c<<4)+c;d=(d<<4)+d}e=1;f=[b,c,d,e]}else if(g=ol.color.rgbaColorRe_.exec(a)){b=Number(g[1]);c=Number(g[2]);d=Number(g[3]);e=Number(g[4]);f=ol.color.normalize([b,c,d,e])}else if(g=ol.color.rgbColorRe_.exec(a)){b=Number(g[1]);c=Number(g[2]);d=Number(g[3]);f=ol.color.normalize([b,c,d,1])}else{ol.asserts.assert(false,14)}return f};ol.color.isValid=function(a){return 0<=a[0]&&a[0]<256&&0<=a[1]&&a[1]<256&&0<=a[2]&&a[2]<256&&0<=a[3]&&a[3]<=1};ol.color.normalize=function(a,b){var c=b||[];c[0]=ol.math.clamp(a[0]+.5|0,0,255);c[1]=ol.math.clamp(a[1]+.5|0,0,255);c[2]=ol.math.clamp(a[2]+.5|0,0,255);c[3]=ol.math.clamp(a[3],0,1);return c};ol.color.toString=function(a){var b=a[0];if(b!=(b|0)){b=b+.5|0}var c=a[1];if(c!=(c|0)){c=c+.5|0}var d=a[2];if(d!=(d|0)){d=d+.5|0}var e=a[3]===undefined?1:a[3];return"rgba("+b+","+c+","+d+","+e+")"};goog.provide("ol.colorlike");goog.require("ol.color");ol.colorlike.asColorLike=function(a){if(ol.colorlike.isColorLike(a)){return a}else{return ol.color.asString(a)}};ol.colorlike.isColorLike=function(a){return typeof a==="string"||a instanceof CanvasPattern||a instanceof CanvasGradient};goog.provide("goog.debug.Error");goog.debug.Error=function(a){if(Error.captureStackTrace){Error.captureStackTrace(this,goog.debug.Error)}else{var b=(new Error).stack;if(b){this.stack=b}}if(a){this.message=String(a)}this.reportErrorToServer=true};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.provide("goog.dom.NodeType");goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.provide("goog.string");goog.provide("goog.string.Unicode");goog.define("goog.string.DETECT_DOUBLE_ESCAPING",false);goog.define("goog.string.FORCE_NON_DOM_HTML_UNESCAPING",false);goog.string.Unicode={NBSP:""};goog.string.startsWith=function(a,b){return a.lastIndexOf(b,0)==0};goog.string.endsWith=function(a,b){var c=a.length-b.length;return c>=0&&a.indexOf(b,c)==c};goog.string.caseInsensitiveStartsWith=function(a,b){return goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))==0};goog.string.caseInsensitiveEndsWith=function(a,b){return goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))==0};goog.string.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()};goog.string.subs=function(a,b){var c=a.split("%s");var d="";var e=Array.prototype.slice.call(arguments,1);while(e.length&&c.length>1){d+=c.shift()+e.shift()}return d+c.join("%s")};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmptyOrWhitespace=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptyString=function(a){return a.length==0};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(a){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return a==" "};goog.string.isUnicodeChar=function(a){return a.length==1&&a>=" "&&a<="~"||a>=""&&a<=""};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(a,b){var c=String(a).toLowerCase();var d=String(b).toLowerCase();if(c<d){return-1}else if(c==d){return 0}else{return 1}};goog.string.numberAwareCompare_=function(a,b,c){if(a==b){return 0}if(!a){return-1}if(!b){return 1}var d=a.toLowerCase().match(c);var e=b.toLowerCase().match(c);var f=Math.min(d.length,e.length);for(var g=0;g<f;g++){var h=d[g];var i=e[g];if(h!=i){var j=parseInt(h,10);if(!isNaN(j)){var k=parseInt(i,10);if(!isNaN(k)&&j-k){return j-k}}return h<i?-1:1}}if(d.length!=e.length){return d.length-e.length}return a<b?-1:1};goog.string.intAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\D+/g)};goog.string.floatAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};goog.string.htmlEscape=function(a,b){if(b){a=a.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;");if(goog.string.DETECT_DOUBLE_ESCAPING){a=a.replace(goog.string.E_RE_,"&#101;")}return a}else{if(!goog.string.ALL_RE_.test(a))return a;if(a.indexOf("&")!=-1){a=a.replace(goog.string.AMP_RE_,"&amp;")}if(a.indexOf("<")!=-1){a=a.replace(goog.string.LT_RE_,"&lt;")}if(a.indexOf(">")!=-1){a=a.replace(goog.string.GT_RE_,"&gt;")}if(a.indexOf('"')!=-1){a=a.replace(goog.string.QUOT_RE_,"&quot;")}if(a.indexOf("'")!=-1){a=a.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")}if(a.indexOf("\0")!=-1){a=a.replace(goog.string.NULL_RE_,"&#0;")}if(goog.string.DETECT_DOUBLE_ESCAPING&&a.indexOf("e")!=-1){a=a.replace(goog.string.E_RE_,"&#101;")}return a}};goog.string.AMP_RE_=/&/g;goog.string.LT_RE_=/</g;goog.string.GT_RE_=/>/g;goog.string.QUOT_RE_=/"/g;goog.string.SINGLE_QUOTE_RE_=/'/g;goog.string.NULL_RE_=/\x00/g;goog.string.E_RE_=/e/g;goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/;goog.string.unescapeEntities=function(a){if(goog.string.contains(a,"&")){if(!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global){return goog.string.unescapeEntitiesUsingDom_(a)}else{return goog.string.unescapePureXmlEntities_(a)}}return a};goog.string.unescapeEntitiesWithDocument=function(a,b){if(goog.string.contains(a,"&")){return goog.string.unescapeEntitiesUsingDom_(a,b)}return a};goog.string.unescapeEntitiesUsingDom_=function(a,b){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d;if(b){d=b.createElement("div")}else{d=goog.global.document.createElement("div")}return a.replace(goog.string.HTML_ENTITY_PATTERN_,(function(a,b){var e=c[a];if(e){return e}if(b.charAt(0)=="#"){var f=Number("0"+b.substr(1));if(!isNaN(f)){e=String.fromCharCode(f)}}if(!e){d.innerHTML=a+" ";e=d.firstChild.nodeValue.slice(0,-1)}return c[a]=e}))};goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,(function(a,b){switch(b){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if(b.charAt(0)=="#"){var c=Number("0"+b.substr(1));if(!isNaN(c)){return String.fromCharCode(c)}}return a}}))};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)};goog.string.preserveSpaces=function(a){return a.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(a,b){var c=b.length;for(var d=0;d<c;d++){var e=c==1?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e){return a.substring(1,a.length-1)}}return a};goog.string.truncate=function(a,b,c){if(c){a=goog.string.unescapeEntities(a)}if(a.length>b){a=a.substring(0,b-3)+"..."}if(c){a=goog.string.htmlEscape(a)}return a};goog.string.truncateMiddle=function(a,b,c,d){if(c){a=goog.string.unescapeEntities(a)}if(d&&a.length>b){if(d>b){d=b}var e=a.length-d;var f=b-d;a=a.substring(0,f)+"..."+a.substring(e)}else if(a.length>b){var g=Math.floor(b/2);var h=a.length-g;g+=b%2;a=a.substring(0,g)+"..."+a.substring(h)}if(c){a=goog.string.htmlEscape(a)}return a};goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"};goog.string.jsEscapeCache_={"'":"\\'"};goog.string.quote=function(a){a=String(a);var b=['"'];for(var c=0;c<a.length;c++){var d=a.charAt(c);var e=d.charCodeAt(0);b[c+1]=goog.string.specialEscapeChars_[d]||(e>31&&e<127?d:goog.string.escapeChar(d))}b.push('"');return b.join("")};goog.string.escapeString=function(a){var b=[];for(var c=0;c<a.length;c++){b[c]=goog.string.escapeChar(a.charAt(c))}return b.join("")};goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_){return goog.string.jsEscapeCache_[a]}if(a in goog.string.specialEscapeChars_){return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a]}var b=a;var c=a.charCodeAt(0);if(c>31&&c<127){b=a}else{if(c<256){b="\\x";if(c<16||c>256){b+="0"}}else{b="\\u";if(c<4096){b+="0"}}b+=c.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=b};goog.string.contains=function(a,b){return a.indexOf(b)!=-1};goog.string.caseInsensitiveContains=function(a,b){return goog.string.contains(a.toLowerCase(),b.toLowerCase())};goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;if(b>=0&&b<a.length&&c>0){d=a.substr(0,b)+a.substr(b+c,a.length-b-c)}return d};goog.string.remove=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"");return a.replace(c,"")};goog.string.removeAll=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(c,"")};goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return new Array(b+1).join(a)};goog.string.padNumber=function(a,b,c){var d=goog.isDef(c)?a.toFixed(c):String(a);var e=d.indexOf(".");if(e==-1){e=d.length}return goog.string.repeat("0",Math.max(0,b-e))+d};goog.string.makeSafe=function(a){return a==null?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){var a=2147483648;return Math.floor(Math.random()*a).toString(36)+Math.abs(Math.floor(Math.random()*a)^goog.now()).toString(36)};goog.string.compareVersions=function(a,b){var c=0;var d=goog.string.trim(String(a)).split(".");var e=goog.string.trim(String(b)).split(".");var f=Math.max(d.length,e.length);for(var g=0;c==0&&g<f;g++){var h=d[g]||"";var i=e[g]||"";var j=new RegExp("(\\d*)(\\D*)","g");var k=new RegExp("(\\d*)(\\D*)","g");do{var l=j.exec(h)||["","",""];var m=k.exec(i)||["","",""];if(l[0].length==0&&m[0].length==0){break}var n=l[1].length==0?0:parseInt(l[1],10);var o=m[1].length==0?0:parseInt(m[1],10);c=goog.string.compareElements_(n,o)||goog.string.compareElements_(l[2].length==0,m[2].length==0)||goog.string.compareElements_(l[2],m[2])}while(c==0)}return c};goog.string.compareElements_=function(a,b){if(a<b){return-1}else if(a>b){return 1}return 0};goog.string.hashCode=function(a){var b=0;for(var c=0;c<a.length;++c){b=31*b+a.charCodeAt(c)>>>0}return b};goog.string.uniqueStringCounter_=Math.random()*2147483648|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};goog.string.toNumber=function(a){var b=Number(a);if(b==0&&goog.string.isEmptyOrWhitespace(a)){return NaN}return b};goog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,(function(a,b){return b.toUpperCase()}))};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(a,b){var c=goog.isString(b)?goog.string.regExpEscape(b):"\\s";c=c?"|["+c+"]+":"";var d=new RegExp("(^"+c+")([a-z])","g");return a.replace(d,(function(a,b,c){return b+c.toUpperCase()}))};goog.string.capitalize=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};goog.string.parseInt=function(a){if(isFinite(a)){a=String(a)}if(goog.isString(a)){return/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10)}return NaN};goog.string.splitLimit=function(a,b,c){var d=a.split(b);var e=[];while(c>0&&d.length){e.push(d.shift());c--}if(d.length){e.push(d.join(b))}return e};goog.string.lastComponent=function(a,b){if(!b){return a}else if(typeof b=="string"){b=[b]}var c=-1;for(var d=0;d<b.length;d++){if(b[d]==""){continue}var e=a.lastIndexOf(b[d]);if(e>c){c=e}}if(c==-1){return a}return a.slice(c+1)};goog.string.editDistance=function(a,b){var c=[];var d=[];if(a==b){return 0}if(!a.length||!b.length){return Math.max(a.length,b.length)}for(var e=0;e<b.length+1;e++){c[e]=e}for(var e=0;e<a.length;e++){d[0]=e+1;for(var f=0;f<b.length;f++){var g=Number(a[e]!=b[f]);d[f+1]=Math.min(d[f]+1,c[f+1]+1,c[f]+g)}for(var f=0;f<c.length;f++){c[f]=d[f]}}return d[b.length]};goog.provide("goog.asserts");goog.provide("goog.asserts.AssertionError");goog.require("goog.debug.Error");goog.require("goog.dom.NodeType");goog.require("goog.string");goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG);goog.asserts.AssertionError=function(a,b){b.unshift(a);goog.debug.Error.call(this,goog.string.subs.apply(null,b));b.shift();this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(a){throw a};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;goog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else if(a){e+=": "+a;f=b}var g=new goog.asserts.AssertionError(""+e,f||[]);goog.asserts.errorHandler_(g)};goog.asserts.setErrorHandler=function(a){if(goog.asserts.ENABLE_ASSERTS){goog.asserts.errorHandler_=a}};goog.asserts.assert=function(a,b,c){if(goog.asserts.ENABLE_ASSERTS&&!a){goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2))}return a};goog.asserts.fail=function(a,b){if(goog.asserts.ENABLE_ASSERTS){goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))}};goog.asserts.assertNumber=function(a,b,c){if(goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)){goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2))}return a};goog.asserts.assertString=function(a,b,c){if(goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)){goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2))}return a};goog.asserts.assertFunction=function(a,b,c){if(goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)){goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2))}return a};goog.asserts.assertObject=function(a,b,c){if(goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)){goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2))}return a};goog.asserts.assertArray=function(a,b,c){if(goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)){goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2))}return a};goog.asserts.assertBoolean=function(a,b,c){if(goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)){goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2))}return a};goog.asserts.assertElement=function(a,b,c){if(goog.asserts.ENABLE_ASSERTS&&(!goog.isObject(a)||a.nodeType!=goog.dom.NodeType.ELEMENT)){goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2))}return a};goog.asserts.assertInstanceof=function(a,b,c,d){if(goog.asserts.ENABLE_ASSERTS&&!(a instanceof b)){goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(b),goog.asserts.getType_(a)],c,Array.prototype.slice.call(arguments,3))}return a};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var a in Object.prototype){goog.asserts.fail(a+" should not be enumerable in Object.prototype.")}};goog.asserts.getType_=function(a){if(a instanceof Function){return a.displayName||a.name||"unknown type name"}else if(a instanceof Object){return a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}else{return a===null?"null":typeof a}};goog.provide("goog.array");goog.require("goog.asserts");goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE);goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",false);goog.array.peek=function(a){return a[a.length-1]};goog.array.last=goog.array.peek;goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(a,b,c){goog.asserts.assert(a.length!=null);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){var d=c==null?0:c<0?Math.max(0,a.length+c):c;if(goog.isString(a)){if(!goog.isString(b)||b.length!=1){return-1}return a.indexOf(b,d)}for(var e=d;e<a.length;e++){if(e in a&&a[e]===b)return e}return-1};goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(a,b,c){goog.asserts.assert(a.length!=null);var d=c==null?a.length-1:c;return Array.prototype.lastIndexOf.call(a,b,d)}:function(a,b,c){var d=c==null?a.length-1:c;if(d<0){d=Math.max(0,a.length+d)}if(goog.isString(a)){if(!goog.isString(b)||b.length!=1){return-1}return a.lastIndexOf(b,d)}for(var e=d;e>=0;e--){if(e in a&&a[e]===b)return e}return-1};goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(a,b,c){goog.asserts.assert(a.length!=null);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){var d=a.length;var e=goog.isString(a)?a.split(""):a;for(var f=0;f<d;f++){if(f in e){b.call(c,e[f],f,a)}}};goog.array.forEachRight=function(a,b,c){var d=a.length;var e=goog.isString(a)?a.split(""):a;for(var f=d-1;f>=0;--f){if(f in e){b.call(c,e[f],f,a)}}};goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(a,b,c){goog.asserts.assert(a.length!=null);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){var d=a.length;var e=[];var f=0;var g=goog.isString(a)?a.split(""):a;for(var h=0;h<d;h++){if(h in g){var i=g[h];if(b.call(c,i,h,a)){e[f++]=i}}}return e};goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(a,b,c){goog.asserts.assert(a.length!=null);return Array.prototype.map.call(a,b,c)}:function(a,b,c){var d=a.length;var e=new Array(d);var f=goog.isString(a)?a.split(""):a;for(var g=0;g<d;g++){if(g in f){e[g]=b.call(c,f[g],g,a)}}return e};goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(a,b,c,d){goog.asserts.assert(a.length!=null);if(d){b=goog.bind(b,d)}return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEach(a,(function(c,f){e=b.call(d,e,c,f,a)}));return e};goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(a,b,c,d){goog.asserts.assert(a.length!=null);goog.asserts.assert(b!=null);if(d){b=goog.bind(b,d)}return Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEachRight(a,(function(c,f){e=b.call(d,e,c,f,a)}));return e};goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(a,b,c){goog.asserts.assert(a.length!=null);return Array.prototype.some.call(a,b,c)}:function(a,b,c){var d=a.length;var e=goog.isString(a)?a.split(""):a;for(var f=0;f<d;f++){if(f in e&&b.call(c,e[f],f,a)){return true}}return false};goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(a,b,c){goog.asserts.assert(a.length!=null);return Array.prototype.every.call(a,b,c)}:function(a,b,c){var d=a.length;var e=goog.isString(a)?a.split(""):a;for(var f=0;f<d;f++){if(f in e&&!b.call(c,e[f],f,a)){return false}}return true};goog.array.count=function(a,b,c){var d=0;goog.array.forEach(a,(function(a,e,f){if(b.call(c,a,e,f)){++d}}),c);return d};goog.array.find=function(a,b,c){var d=goog.array.findIndex(a,b,c);return d<0?null:goog.isString(a)?a.charAt(d):a[d]};goog.array.findIndex=function(a,b,c){var d=a.length;var e=goog.isString(a)?a.split(""):a;for(var f=0;f<d;f++){if(f in e&&b.call(c,e[f],f,a)){return f}}return-1};goog.array.findRight=function(a,b,c){var d=goog.array.findIndexRight(a,b,c);return d<0?null:goog.isString(a)?a.charAt(d):a[d]};goog.array.findIndexRight=function(a,b,c){var d=a.length;var e=goog.isString(a)?a.split(""):a;for(var f=d-1;f>=0;f--){if(f in e&&b.call(c,e[f],f,a)){return f}}return-1};goog.array.contains=function(a,b){return goog.array.indexOf(a,b)>=0};goog.array.isEmpty=function(a){return a.length==0};goog.array.clear=function(a){if(!goog.isArray(a)){for(var b=a.length-1;b>=0;b--){delete a[b]}}a.length=0};goog.array.insert=function(a,b){if(!goog.array.contains(a,b)){a.push(b)}};goog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)};goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)};goog.array.insertBefore=function(a,b,c){var d;if(arguments.length==2||(d=goog.array.indexOf(a,c))<0){a.push(b)}else{goog.array.insertAt(a,b,d)}};goog.array.remove=function(a,b){var c=goog.array.indexOf(a,b);var d;if(d=c>=0){goog.array.removeAt(a,c)}return d};goog.array.removeLast=function(a,b){var c=goog.array.lastIndexOf(a,b);if(c>=0){goog.array.removeAt(a,c);return true}return false};goog.array.removeAt=function(a,b){goog.asserts.assert(a.length!=null);return Array.prototype.splice.call(a,b,1).length==1};goog.array.removeIf=function(a,b,c){var d=goog.array.findIndex(a,b,c);if(d>=0){goog.array.removeAt(a,d);return true}return false};goog.array.removeAllIf=function(a,b,c){var d=0;goog.array.forEachRight(a,(function(e,f){if(b.call(c,e,f,a)){if(goog.array.removeAt(a,f)){d++}}}));return d};goog.array.concat=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)};goog.array.join=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)};goog.array.toArray=function(a){var b=a.length;if(b>0){var c=new Array(b);for(var d=0;d<b;d++){c[d]=a[d]}return c}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(goog.isArrayLike(d)){var e=a.length||0;var f=d.length||0;a.length=e+f;for(var g=0;g<f;g++){a[e+g]=d[g]}}else{a.push(d)}}};goog.array.splice=function(a,b,c,d){goog.asserts.assert(a.length!=null);return Array.prototype.splice.apply(a,goog.array.slice(arguments,1))};goog.array.slice=function(a,b,c){goog.asserts.assert(a.length!=null);if(arguments.length<=2){return Array.prototype.slice.call(a,b)}else{return Array.prototype.slice.call(a,b,c)}};goog.array.removeDuplicates=function(a,b,c){var d=b||a;var e=function(a){return goog.isObject(a)?"o"+goog.getUid(a):(typeof a).charAt(0)+a};var f=c||e;var g={},h=0,i=0;while(i<a.length){var j=a[i++];var k=f(j);if(!Object.prototype.hasOwnProperty.call(g,k)){g[k]=true;d[h++]=j}}d.length=h};goog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,false,b)};goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,true,undefined,c)};goog.array.binarySearch_=function(a,b,c,d,e){var f=0;var g=a.length;var h;while(f<g){var i=f+g>>1;var j;if(c){j=b.call(e,a[i],i,a)}else{j=b(d,a[i])}if(j>0){f=i+1}else{g=i;h=!j}}return h?f:~f};goog.array.sort=function(a,b){a.sort(b||goog.array.defaultCompare)};goog.array.stableSort=function(a,b){var c=new Array(a.length);for(var d=0;d<a.length;d++){c[d]={index:d,value:a[d]}}var e=b||goog.array.defaultCompare;function f(a,b){return e(a.value,b.value)||a.index-b.index}goog.array.sort(c,f);for(var d=0;d<a.length;d++){a[d]=c[d].value}};goog.array.sortByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,(function(a,c){return d(b(a),b(c))}))};goog.array.sortObjectsByKey=function(a,b,c){goog.array.sortByKey(a,(function(a){return a[b]}),c)};goog.array.isSorted=function(a,b,c){var d=b||goog.array.defaultCompare;for(var e=1;e<a.length;e++){var f=d(a[e-1],a[e]);if(f>0||f==0&&c){return false}}return true};goog.array.equals=function(a,b,c){if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length){return false}var d=a.length;var e=c||goog.array.defaultCompareEquality;for(var f=0;f<d;f++){if(!e(a[f],b[f])){return false}}return true};goog.array.compare3=function(a,b,c){var d=c||goog.array.defaultCompare;var e=Math.min(a.length,b.length);for(var f=0;f<e;f++){var g=d(a[f],b[f]);if(g!=0){return g}}return goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};goog.array.inverseDefaultCompare=function(a,b){return-goog.array.defaultCompare(a,b)};goog.array.defaultCompareEquality=function(a,b){return a===b};goog.array.binaryInsert=function(a,b,c){var d=goog.array.binarySearch(a,b,c);if(d<0){goog.array.insertAt(a,b,-(d+1));return true}return false};goog.array.binaryRemove=function(a,b,c){var d=goog.array.binarySearch(a,b,c);return d>=0?goog.array.removeAt(a,d):false};goog.array.bucket=function(a,b,c){var d={};for(var e=0;e<a.length;e++){var f=a[e];var g=b.call(c,f,e,a);if(goog.isDef(g)){var h=d[g]||(d[g]=[]);h.push(f)}}return d};goog.array.toObject=function(a,b,c){var d={};goog.array.forEach(a,(function(e,f){d[b.call(c,e,f,a)]=e}));return d};goog.array.range=function(a,b,c){var d=[];var e=0;var f=a;var g=c||1;if(b!==undefined){e=a;f=b}if(g*(f-e)<0){return[]}if(g>0){for(var h=e;h<f;h+=g){d.push(h)}}else{for(var h=e;h>f;h+=g){d.push(h)}}return d};goog.array.repeat=function(a,b){var c=[];for(var d=0;d<b;d++){c[d]=a}return c};goog.array.flatten=function(a){var b=8192;var c=[];for(var d=0;d<arguments.length;d++){var e=arguments[d];if(goog.isArray(e)){for(var f=0;f<e.length;f+=b){var g=goog.array.slice(e,f,f+b);var h=goog.array.flatten.apply(null,g);for(var i=0;i<h.length;i++){c.push(h[i])}}}else{c.push(e)}}return c};goog.array.rotate=function(a,b){goog.asserts.assert(a.length!=null);if(a.length){b%=a.length;if(b>0){Array.prototype.unshift.apply(a,a.splice(-b,b))}else if(b<0){Array.prototype.push.apply(a,a.splice(0,-b))}}return a};goog.array.moveItem=function(a,b,c){goog.asserts.assert(b>=0&&b<a.length);goog.asserts.assert(c>=0&&c<a.length);var d=Array.prototype.splice.call(a,b,1);Array.prototype.splice.call(a,c,0,d[0])};goog.array.zip=function(a){if(!arguments.length){return[]}var b=[];var c=arguments[0].length;for(var d=1;d<arguments.length;d++){if(arguments[d].length<c){c=arguments[d].length}}for(var d=0;d<c;d++){var e=[];for(var f=0;f<arguments.length;f++){e.push(arguments[f][d])}b.push(e)}return b};goog.array.shuffle=function(a,b){var c=b||Math.random;for(var d=a.length-1;d>0;d--){var e=Math.floor(c()*(d+1));var f=a[d];a[d]=a[e];a[e]=f}};goog.array.copyByIndex=function(a,b){var c=[];goog.array.forEach(b,(function(b){c.push(a[b])}));return c};goog.array.concatMap=function(a,b,c){return goog.array.concat.apply([],goog.array.map(a,b,c))};goog.provide("goog.labs.userAgent.util");goog.require("goog.string");goog.labs.userAgent.util.getNativeUserAgentString_=function(){var a=goog.labs.userAgent.util.getNavigator_();if(a){var b=a.userAgent;if(b){return b}}return""};goog.labs.userAgent.util.getNavigator_=function(){
return goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();goog.labs.userAgent.util.setUserAgent=function(a){goog.labs.userAgent.util.userAgent_=a||goog.labs.userAgent.util.getNativeUserAgentString_()};goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(b,a)};goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(b,a)};goog.labs.userAgent.util.extractVersionTuples=function(a){var b=new RegExp("(\\w[\\w ]+)"+"/"+"([^\\s]+)"+"\\s*"+"(?:\\((.*?)\\))?","g");var c=[];var d;while(d=b.exec(a)){c.push([d[1],d[2],d[3]||undefined])}return c};goog.provide("goog.object");goog.object.is=function(a,b){if(a===b){return a!==0||1/a===1/b}return a!==a&&b!==b};goog.object.forEach=function(a,b,c){for(var d in a){b.call(c,a[d],d,a)}};goog.object.filter=function(a,b,c){var d={};for(var e in a){if(b.call(c,a[e],e,a)){d[e]=a[e]}}return d};goog.object.map=function(a,b,c){var d={};for(var e in a){d[e]=b.call(c,a[e],e,a)}return d};goog.object.some=function(a,b,c){for(var d in a){if(b.call(c,a[d],d,a)){return true}}return false};goog.object.every=function(a,b,c){for(var d in a){if(!b.call(c,a[d],d,a)){return false}}return true};goog.object.getCount=function(a){var b=0;for(var c in a){b++}return b};goog.object.getAnyKey=function(a){for(var b in a){return b}};goog.object.getAnyValue=function(a){for(var b in a){return a[b]}};goog.object.contains=function(a,b){return goog.object.containsValue(a,b)};goog.object.getValues=function(a){var b=[];var c=0;for(var d in a){b[c++]=a[d]}return b};goog.object.getKeys=function(a){var b=[];var c=0;for(var d in a){b[c++]=d}return b};goog.object.getValueByKeys=function(a,b){var c=goog.isArrayLike(b);var d=c?b:arguments;for(var e=c?0:1;e<d.length;e++){a=a[d[e]];if(!goog.isDef(a)){break}}return a};goog.object.containsKey=function(a,b){return a!==null&&b in a};goog.object.containsValue=function(a,b){for(var c in a){if(a[c]==b){return true}}return false};goog.object.findKey=function(a,b,c){for(var d in a){if(b.call(c,a[d],d,a)){return d}}return undefined};goog.object.findValue=function(a,b,c){var d=goog.object.findKey(a,b,c);return d&&a[d]};goog.object.isEmpty=function(a){for(var b in a){return false}return true};goog.object.clear=function(a){for(var b in a){delete a[b]}};goog.object.remove=function(a,b){var c;if(c=b in a){delete a[b]}return c};goog.object.add=function(a,b,c){if(a!==null&&b in a){throw Error('The object already contains the key "'+b+'"')}goog.object.set(a,b,c)};goog.object.get=function(a,b,c){if(a!==null&&b in a){return a[b]}return c};goog.object.set=function(a,b,c){a[b]=c};goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c};goog.object.setWithReturnValueIfNotSet=function(a,b,c){if(b in a){return a[b]}var d=c();a[b]=d;return d};goog.object.equals=function(a,b){for(var c in a){if(!(c in b)||a[c]!==b[c]){return false}}for(var c in b){if(!(c in a)){return false}}return true};goog.object.clone=function(a){var b={};for(var c in a){b[c]=a[c]}return b};goog.object.unsafeClone=function(a){var b=goog.typeOf(a);if(b=="object"||b=="array"){if(goog.isFunction(a.clone)){return a.clone()}var c=b=="array"?[]:{};for(var d in a){c[d]=goog.object.unsafeClone(a[d])}return c}return a};goog.object.transpose=function(a){var b={};for(var c in a){b[a[c]]=c}return b};goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.object.extend=function(a,b){var c,d;for(var e=1;e<arguments.length;e++){d=arguments[e];for(c in d){a[c]=d[c]}for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++){c=goog.object.PROTOTYPE_FIELDS_[f];if(Object.prototype.hasOwnProperty.call(d,c)){a[c]=d[c]}}}};goog.object.create=function(a){var b=arguments.length;if(b==1&&goog.isArray(arguments[0])){return goog.object.create.apply(null,arguments[0])}if(b%2){throw Error("Uneven number of arguments")}var c={};for(var d=0;d<b;d+=2){c[arguments[d]]=arguments[d+1]}return c};goog.object.createSet=function(a){var b=arguments.length;if(b==1&&goog.isArray(arguments[0])){return goog.object.createSet.apply(null,arguments[0])}var c={};for(var d=0;d<b;d++){c[arguments[d]]=true}return c};goog.object.createImmutableView=function(a){var b=a;if(Object.isFrozen&&!Object.isFrozen(a)){b=Object.create(a);Object.freeze(b)}return b};goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)};goog.provide("goog.labs.userAgent.browser");goog.require("goog.array");goog.require("goog.labs.userAgent.util");goog.require("goog.object");goog.require("goog.string");goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")};goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")};goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))};goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")};goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")};goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdge_()};goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")};goog.labs.userAgent.browser.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE()){return goog.labs.userAgent.browser.getIEVersion_(a)}var b=goog.labs.userAgent.util.extractVersionTuples(a);var c={};goog.array.forEach(b,(function(a){var b=a[0];var d=a[1];c[b]=d}));var d=goog.partial(goog.object.containsKey,c);function e(a){var b=goog.array.find(a,d);return c[b]||""}if(goog.labs.userAgent.browser.isOpera()){return e(["Version","Opera"])}if(goog.labs.userAgent.browser.isEdge()){return e(["Edge"])}if(goog.labs.userAgent.browser.isChrome()){return e(["Chrome","CriOS"])}var f=b[2];return f&&f[1]||""};goog.labs.userAgent.browser.isVersionOrHigher=function(a){return goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),a)>=0};goog.labs.userAgent.browser.getIEVersion_=function(a){var b=/rv: *([\d\.]*)/.exec(a);if(b&&b[1]){return b[1]}var c="";var d=/MSIE +([\d\.]+)/.exec(a);if(d&&d[1]){var e=/Trident\/(\d.\d)/.exec(a);if(d[1]=="7.0"){if(e&&e[1]){switch(e[1]){case"4.0":c="8.0";break;case"5.0":c="9.0";break;case"6.0":c="10.0";break;case"7.0":c="11.0";break}}else{c="7.0"}}else{c=d[1]}}return c};goog.provide("goog.labs.userAgent.engine");goog.require("goog.array");goog.require("goog.labs.userAgent.util");goog.require("goog.string");goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")};goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent();if(a){var b=goog.labs.userAgent.util.extractVersionTuples(a);var c=goog.labs.userAgent.engine.getEngineTuple_(b);if(c){if(c[0]=="Gecko"){return goog.labs.userAgent.engine.getVersionForKey_(b,"Firefox")}return c[1]}var d=b[0];var e;if(d&&(e=d[2])){var f=/Trident\/([^\s;]+)/.exec(e);if(f){return f[1]}}}return""};goog.labs.userAgent.engine.getEngineTuple_=function(a){if(!goog.labs.userAgent.engine.isEdge()){return a[1]}for(var b=0;b<a.length;b++){var c=a[b];if(c[0]=="Edge"){return c}}};goog.labs.userAgent.engine.isVersionOrHigher=function(a){return goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),a)>=0};goog.labs.userAgent.engine.getVersionForKey_=function(a,b){var c=goog.array.find(a,(function(a){return b==a[0]}));return c&&c[1]||""};goog.provide("goog.labs.userAgent.platform");goog.require("goog.labs.userAgent.util");goog.require("goog.string");goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")};goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")};goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()};goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")};goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")};goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")};goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")};goog.labs.userAgent.platform.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent();var b="",c;if(goog.labs.userAgent.platform.isWindows()){c=/Windows (?:NT|Phone) ([0-9.]+)/;var d=c.exec(a);if(d){b=d[1]}else{b="0.0"}}else if(goog.labs.userAgent.platform.isIos()){c=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/;var d=c.exec(a);b=d&&d[1].replace(/_/g,".")}else if(goog.labs.userAgent.platform.isMacintosh()){c=/Mac OS X ([0-9_.]+)/;var d=c.exec(a);b=d?d[1].replace(/_/g,"."):"10"}else if(goog.labs.userAgent.platform.isAndroid()){c=/Android\s+([^\);]+)(\)|;)/;var d=c.exec(a);b=d&&d[1]}else if(goog.labs.userAgent.platform.isChromeOS()){c=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/;var d=c.exec(a);b=d&&d[1]}return b||""};goog.labs.userAgent.platform.isVersionOrHigher=function(a){return goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),a)>=0};goog.provide("goog.userAgent");goog.require("goog.labs.userAgent.browser");goog.require("goog.labs.userAgent.engine");goog.require("goog.labs.userAgent.platform");goog.require("goog.labs.userAgent.util");goog.require("goog.string");goog.define("goog.userAgent.ASSUME_IE",false);goog.define("goog.userAgent.ASSUME_EDGE",false);goog.define("goog.userAgent.ASSUME_GECKO",false);goog.define("goog.userAgent.ASSUME_WEBKIT",false);goog.define("goog.userAgent.ASSUME_MOBILE_WEBKIT",false);goog.define("goog.userAgent.ASSUME_OPERA",false);goog.define("goog.userAgent.ASSUME_ANY_VERSION",false);goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()};goog.userAgent.getNavigator=function(){return goog.global["navigator"]||null};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge();goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit();goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")};goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigator();return a&&a.platform||""};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.define("goog.userAgent.ASSUME_MAC",false);goog.define("goog.userAgent.ASSUME_WINDOWS",false);goog.define("goog.userAgent.ASSUME_LINUX",false);goog.define("goog.userAgent.ASSUME_X11",false);goog.define("goog.userAgent.ASSUME_ANDROID",false);goog.define("goog.userAgent.ASSUME_IPHONE",false);goog.define("goog.userAgent.ASSUME_IPAD",false);goog.define("goog.userAgent.ASSUME_IPOD",false);goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows();goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=function(){var a=goog.userAgent.getNavigator();return!!a&&goog.string.contains(a["appVersion"]||"","X11")};goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod();goog.userAgent.determineVersion_=function(){var a="";var b=goog.userAgent.getVersionRegexResult_();if(b){a=b?b[1]:""}if(goog.userAgent.IE){var c=goog.userAgent.getDocumentMode_();if(c!=null&&c>parseFloat(a)){return String(c)}}return a};goog.userAgent.getVersionRegexResult_=function(){var a=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO){return/rv\:([^\);]+)(\)|;)/.exec(a)}if(goog.userAgent.EDGE){return/Edge\/([\d\.]+)/.exec(a)}if(goog.userAgent.IE){return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a)}if(goog.userAgent.WEBKIT){return/WebKit\/(\S+)/.exec(a)}if(goog.userAgent.OPERA){return/(?:Version)[ \/]?(\S+)/.exec(a)}return undefined};goog.userAgent.getDocumentMode_=function(){var a=goog.global["document"];return a?a["documentMode"]:undefined};goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(a,b){return goog.string.compareVersions(a,b)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[a]||(goog.userAgent.isVersionOrHigherCache_[a]=goog.string.compareVersions(goog.userAgent.VERSION,a)>=0)};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;goog.userAgent.isDocumentModeOrHigher=function(a){return Number(goog.userAgent.DOCUMENT_MODE)>=a};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;goog.userAgent.DOCUMENT_MODE=(function(){var a=goog.global["document"];var b=goog.userAgent.getDocumentMode_();if(!a||!goog.userAgent.IE){return undefined}return b||(a["compatMode"]=="CSS1Compat"?parseInt(goog.userAgent.VERSION,10):5)})();goog.provide("ol.vec.Mat4");ol.vec.Mat4.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};ol.vec.Mat4.fromTransform=function(a,b){a[0]=b[0];a[1]=b[1];a[4]=b[2];a[5]=b[3];a[12]=b[4];a[13]=b[5];return a};goog.provide("ol.dom");goog.require("goog.userAgent");goog.require("ol");goog.require("ol.vec.Mat4");ol.dom.tmpMat4_=ol.vec.Mat4.create();ol.dom.createCanvasContext2D=function(a,b){var c=document.createElement("CANVAS");if(a){c.width=a}if(b){c.height=b}return c.getContext("2d")};ol.dom.canUseCssTransform=(function(){var a;return function(){if(a===undefined){var b=document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d){if(e in b.style){b.style[e]="translate(1px,1px)";c=ol.global.getComputedStyle(b).getPropertyValue(d[e])}}document.body.removeChild(b);a=c&&c!=="none"}return a}})();ol.dom.canUseCssTransform3D=(function(){var a;return function(){if(a===undefined){var b=document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d){if(e in b.style){b.style[e]="translate3d(1px,1px,1px)";c=ol.global.getComputedStyle(b).getPropertyValue(d[e])}}document.body.removeChild(b);a=c&&c!=="none"}return a}})();ol.dom.setTransform=function(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.OTransform=b;c.msTransform=b;c.transform=b;if(goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9.0")){a.style.transformOrigin="0 0"}};ol.dom.transformElement2D=function(a,b,c){var d;if(ol.dom.canUseCssTransform3D()){var e;var f=ol.vec.Mat4.fromTransform(ol.dom.tmpMat4_,b);if(c!==undefined){var g=new Array(16);for(d=0;d<16;++d){g[d]=f[d].toFixed(c)}e=g.join(",")}else{e=f.join(",")}ol.dom.setTransform(a,"matrix3d("+e+")")}else if(ol.dom.canUseCssTransform()){var h;if(c!==undefined){var i=new Array(6);for(d=0;d<6;++d){i[d]=b[d].toFixed(c)}h=i.join(",")}else{h=b.join(",")}ol.dom.setTransform(a,"matrix("+h+")")}else{a.style.left=Math.round(b[4])+"px";a.style.top=Math.round(b[5])+"px"}};ol.dom.outerWidth=function(a){var b=a.offsetWidth;var c=a.currentStyle||ol.global.getComputedStyle(a);b+=parseInt(c.marginLeft,10)+parseInt(c.marginRight,10);return b};ol.dom.outerHeight=function(a){var b=a.offsetHeight;var c=a.currentStyle||ol.global.getComputedStyle(a);b+=parseInt(c.marginTop,10)+parseInt(c.marginBottom,10);return b};ol.dom.replaceNode=function(a,b){var c=b.parentNode;if(c){c.replaceChild(a,b)}};ol.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};ol.dom.removeChildren=function(a){while(a.lastChild){a.removeChild(a.lastChild)}};goog.provide("ol.MapEvent");goog.provide("ol.MapEventType");goog.require("ol");goog.require("ol.events.Event");ol.MapEventType={POSTRENDER:"postrender",MOVEEND:"moveend"};ol.MapEvent=function(a,b,c){ol.events.Event.call(this,a);this.map=b;this.frameState=c!==undefined?c:null};ol.inherits(ol.MapEvent,ol.events.Event);goog.provide("ol.control.Control");goog.require("ol.events");goog.require("ol");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.dom");ol.control.Control=function(a){ol.Object.call(this);this.element=a.element?a.element:null;this.target_=null;this.map_=null;this.listenerKeys=[];this.render=a.render?a.render:ol.nullFunction;if(a.target){this.setTarget(a.target)}};ol.inherits(ol.control.Control,ol.Object);ol.control.Control.prototype.disposeInternal=function(){ol.dom.removeNode(this.element);ol.Object.prototype.disposeInternal.call(this)};ol.control.Control.prototype.getMap=function(){return this.map_};ol.control.Control.prototype.setMap=function(a){if(this.map_){ol.dom.removeNode(this.element)}for(var b=0,c=this.listenerKeys.length;b<c;++b){ol.events.unlistenByKey(this.listenerKeys[b])}this.listenerKeys.length=0;this.map_=a;if(this.map_){var d=this.target_?this.target_:a.getOverlayContainerStopEvent();d.appendChild(this.element);if(this.render!==ol.nullFunction){this.listenerKeys.push(ol.events.listen(a,ol.MapEventType.POSTRENDER,this.render,this))}a.render()}};ol.control.Control.prototype.setTarget=function(a){this.target_=typeof a==="string"?document.getElementById(a):a};goog.provide("ol.css");ol.css.CLASS_HIDDEN="ol-hidden";ol.css.CLASS_UNSELECTABLE="ol-unselectable";ol.css.CLASS_UNSUPPORTED="ol-unsupported";ol.css.CLASS_CONTROL="ol-control";goog.provide("ol.control.Attribution");goog.require("ol");goog.require("ol.dom");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.obj");ol.control.Attribution=function(a){var b=a?a:{};this.ulElement_=document.createElement("UL");this.logoLi_=document.createElement("LI");this.ulElement_.appendChild(this.logoLi_);this.logoLi_.style.display="none";this.collapsed_=b.collapsed!==undefined?b.collapsed:true;this.collapsible_=b.collapsible!==undefined?b.collapsible:true;if(!this.collapsible_){this.collapsed_=false}var c=b.className!==undefined?b.className:"ol-attribution";var d=b.tipLabel!==undefined?b.tipLabel:"Attributions";var e=b.collapseLabel!==undefined?b.collapseLabel:"";if(typeof e==="string"){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=e}else{this.collapseLabel_=e}var f=b.label!==undefined?b.label:"i";if(typeof f==="string"){this.label_=document.createElement("span");this.label_.textContent=f}else{this.label_=f}var g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var h=document.createElement("button");h.setAttribute("type","button");h.title=d;h.appendChild(g);ol.events.listen(h,ol.events.EventType.CLICK,this.handleClick_,this);var i=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible");var j=document.createElement("div");j.className=i;j.appendChild(this.ulElement_);j.appendChild(h);var k=b.render?b.render:ol.control.Attribution.render;ol.control.Control.call(this,{element:j,render:k,target:b.target});this.renderedVisible_=true;this.attributionElements_={};this.attributionElementRenderedVisible_={};this.logoElements_={}};ol.inherits(ol.control.Attribution,ol.control.Control);ol.control.Attribution.prototype.getSourceAttributions=function(a){var b,c,d,e,f,g,h,i,j,k;var l;var m=a.layerStatesArray;var n=ol.obj.assign({},a.attributions);var o={};var p=a.viewState.projection;for(b=0,c=m.length;b<c;b++){g=m[b].layer.getSource();if(!g){continue}k=ol.getUid(g).toString();j=g.getAttributions();if(!j){continue}for(d=0,e=j.length;d<e;d++){h=j[d];i=ol.getUid(h).toString();if(i in n){continue}f=a.usedTiles[k];if(f){var q=g.getTileGridForProjection(p);l=h.intersectsAnyTileRange(f,q,p)}else{l=false}if(l){if(i in o){delete o[i]}n[i]=h}else{o[i]=h}}}return[n,o]};ol.control.Attribution.render=function(a){this.updateElement_(a.frameState)};ol.control.Attribution.prototype.updateElement_=function(a){if(!a){if(this.renderedVisible_){this.element.style.display="none";this.renderedVisible_=false}return}var b=this.getSourceAttributions(a);var c=b[0];var d=b[1];var e,f;for(f in this.attributionElements_){if(f in c){if(!this.attributionElementRenderedVisible_[f]){this.attributionElements_[f].style.display="";this.attributionElementRenderedVisible_[f]=true}delete c[f]}else if(f in d){if(this.attributionElementRenderedVisible_[f]){this.attributionElements_[f].style.display="none";delete this.attributionElementRenderedVisible_[f]}delete d[f]}else{ol.dom.removeNode(this.attributionElements_[f]);delete this.attributionElements_[f];delete this.attributionElementRenderedVisible_[f]}}for(f in c){e=document.createElement("LI");e.innerHTML=c[f].getHTML();this.ulElement_.appendChild(e);this.attributionElements_[f]=e;this.attributionElementRenderedVisible_[f]=true}for(f in d){e=document.createElement("LI");e.innerHTML=d[f].getHTML();e.style.display="none";this.ulElement_.appendChild(e);this.attributionElements_[f]=e}var g=!ol.obj.isEmpty(this.attributionElementRenderedVisible_)||!ol.obj.isEmpty(a.logos);if(this.renderedVisible_!=g){this.element.style.display=g?"":"none";this.renderedVisible_=g}if(g&&ol.obj.isEmpty(this.attributionElementRenderedVisible_)){this.element.classList.add("ol-logo-only")}else{this.element.classList.remove("ol-logo-only")}this.insertLogos_(a)};ol.control.Attribution.prototype.insertLogos_=function(a){var b;var c=a.logos;var d=this.logoElements_;for(b in d){if(!(b in c)){ol.dom.removeNode(d[b]);delete d[b]}}var e,f,g;for(g in c){var h=c[g];if(h instanceof HTMLElement){this.logoLi_.appendChild(h);d[g]=h}if(!(g in d)){e=new Image;e.src=g;if(h===""){f=e}else{f=document.createElement("a");f.href=h;f.appendChild(e)}this.logoLi_.appendChild(f);d[g]=f}}this.logoLi_.style.display=!ol.obj.isEmpty(c)?"":"none"};ol.control.Attribution.prototype.handleClick_=function(a){a.preventDefault();this.handleToggle_()};ol.control.Attribution.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed");if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else{ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_};ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_};ol.control.Attribution.prototype.setCollapsible=function(a){if(this.collapsible_===a){return}this.collapsible_=a;this.element.classList.toggle("ol-uncollapsible");if(!a&&this.collapsed_){this.handleToggle_()}};ol.control.Attribution.prototype.setCollapsed=function(a){if(!this.collapsible_||this.collapsed_===a){return}this.handleToggle_()};ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_};goog.provide("ol.control.FullScreen");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.control.Control");goog.require("ol.dom");goog.require("ol.css");ol.control.FullScreen=function(a){var b=a?a:{};this.cssClassName_=b.className!==undefined?b.className:"ol-full-screen";var c=b.label!==undefined?b.label:"";this.labelNode_=typeof c==="string"?document.createTextNode(c):c;var d=b.labelActive!==undefined?b.labelActive:"";this.labelActiveNode_=typeof d==="string"?document.createTextNode(d):d;var e=b.tipLabel?b.tipLabel:"Toggle full-screen";var f=document.createElement("button");f.className=this.cssClassName_+"-"+ol.control.FullScreen.isFullScreen();f.setAttribute("type","button");f.title=e;f.appendChild(this.labelNode_);ol.events.listen(f,ol.events.EventType.CLICK,this.handleClick_,this);var g=this.cssClassName_+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+" "+(!ol.control.FullScreen.isFullScreenSupported()?ol.css.CLASS_UNSUPPORTED:"");var h=document.createElement("div");h.className=g;h.appendChild(f);ol.control.Control.call(this,{element:h,target:b.target});this.keys_=b.keys!==undefined?b.keys:false;this.source_=b.source};ol.inherits(ol.control.FullScreen,ol.control.Control);ol.control.FullScreen.prototype.handleClick_=function(a){a.preventDefault();this.handleFullScreen_()};ol.control.FullScreen.prototype.handleFullScreen_=function(){if(!ol.control.FullScreen.isFullScreenSupported()){return}var a=this.getMap();if(!a){return}if(ol.control.FullScreen.isFullScreen()){ol.control.FullScreen.exitFullScreen()}else{var b;if(this.source_){b=typeof this.source_==="string"?document.getElementById(this.source_):this.source_}else{b=a.getTargetElement()}if(this.keys_){ol.control.FullScreen.requestFullScreenWithKeys(b)}else{ol.control.FullScreen.requestFullScreen(b)}}};ol.control.FullScreen.prototype.handleFullScreenChange_=function(){var a=this.element.firstElementChild;var b=this.getMap();if(ol.control.FullScreen.isFullScreen()){a.className=this.cssClassName_+"-true";ol.dom.replaceNode(this.labelActiveNode_,this.labelNode_)}else{a.className=this.cssClassName_+"-false";ol.dom.replaceNode(this.labelNode_,this.labelActiveNode_)}if(b){b.updateSize()}};ol.control.FullScreen.prototype.setMap=function(a){ol.control.Control.prototype.setMap.call(this,a);if(a){this.listenerKeys.push(ol.events.listen(ol.global.document,ol.control.FullScreen.getChangeType_(),this.handleFullScreenChange_,this))}};ol.control.FullScreen.isFullScreenSupported=function(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)};ol.control.FullScreen.isFullScreen=function(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)};ol.control.FullScreen.requestFullScreen=function(a){if(a.requestFullscreen){a.requestFullscreen()}else if(a.msRequestFullscreen){a.msRequestFullscreen()}else if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else if(a.webkitRequestFullscreen){a.webkitRequestFullscreen()}};ol.control.FullScreen.requestFullScreenWithKeys=function(a){if(a.mozRequestFullScreenWithKeys){a.mozRequestFullScreenWithKeys()}else if(a.webkitRequestFullscreen){a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{ol.control.FullScreen.requestFullScreen(a)}};ol.control.FullScreen.exitFullScreen=function(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}};ol.control.FullScreen.getChangeType_=(function(){var a;return function(){if(!a){var b=document.body;if(b.webkitRequestFullscreen){a="webkitfullscreenchange"}else if(b.mozRequestFullScreen){a="mozfullscreenchange"}else if(b.msRequestFullscreen){a="MSFullscreenChange"}else if(b.requestFullscreen){a="fullscreenchange"}}return a}})();goog.provide("ol.control.Rotate");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.animation");
goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");ol.control.Rotate=function(a){var b=a?a:{};var c=b.className!==undefined?b.className:"ol-rotate";var d=b.label!==undefined?b.label:"";this.label_=null;if(typeof d==="string"){this.label_=document.createElement("span");this.label_.className="ol-compass";this.label_.textContent=d}else{this.label_=d;this.label_.classList.add("ol-compass")}var e=b.tipLabel?b.tipLabel:"Reset rotation";var f=document.createElement("button");f.className=c+"-reset";f.setAttribute("type","button");f.title=e;f.appendChild(this.label_);ol.events.listen(f,ol.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,this);var g=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;var h=document.createElement("div");h.className=g;h.appendChild(f);var i=b.render?b.render:ol.control.Rotate.render;this.callResetNorth_=b.resetNorth?b.resetNorth:undefined;ol.control.Control.call(this,{element:h,render:i,target:b.target});this.duration_=b.duration!==undefined?b.duration:250;this.autoHide_=b.autoHide!==undefined?b.autoHide:true;this.rotation_=undefined;if(this.autoHide_){this.element.classList.add(ol.css.CLASS_HIDDEN)}};ol.inherits(ol.control.Rotate,ol.control.Control);ol.control.Rotate.prototype.handleClick_=function(a){a.preventDefault();if(this.callResetNorth_!==undefined){this.callResetNorth_()}else{this.resetNorth_()}};ol.control.Rotate.prototype.resetNorth_=function(){var a=this.getMap();var b=a.getView();if(!b){return}var c=b.getRotation();if(c!==undefined){if(this.duration_>0){c=c%(2*Math.PI);if(c<-Math.PI){c+=2*Math.PI}if(c>Math.PI){c-=2*Math.PI}a.beforeRender(ol.animation.rotate({rotation:c,duration:this.duration_,easing:ol.easing.easeOut}))}b.setRotation(0)}};ol.control.Rotate.render=function(a){var b=a.frameState;if(!b){return}var c=b.viewState.rotation;if(c!=this.rotation_){var d="rotate("+c+"rad)";if(this.autoHide_){var e=this.element.classList.contains(ol.css.CLASS_HIDDEN);if(!e&&c===0){this.element.classList.add(ol.css.CLASS_HIDDEN)}else if(e&&c!==0){this.element.classList.remove(ol.css.CLASS_HIDDEN)}}this.label_.style.msTransform=d;this.label_.style.webkitTransform=d;this.label_.style.transform=d}this.rotation_=c};goog.provide("ol.control.Zoom");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.animation");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");ol.control.Zoom=function(a){var b=a?a:{};var c=b.className!==undefined?b.className:"ol-zoom";var d=b.delta!==undefined?b.delta:1;var e=b.zoomInLabel!==undefined?b.zoomInLabel:"+";var f=b.zoomOutLabel!==undefined?b.zoomOutLabel:"";var g=b.zoomInTipLabel!==undefined?b.zoomInTipLabel:"Zoom in";var h=b.zoomOutTipLabel!==undefined?b.zoomOutTipLabel:"Zoom out";var i=document.createElement("button");i.className=c+"-in";i.setAttribute("type","button");i.title=g;i.appendChild(typeof e==="string"?document.createTextNode(e):e);ol.events.listen(i,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,d));var j=document.createElement("button");j.className=c+"-out";j.setAttribute("type","button");j.title=h;j.appendChild(typeof f==="string"?document.createTextNode(f):f);ol.events.listen(j,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,-d));var k=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;var l=document.createElement("div");l.className=k;l.appendChild(i);l.appendChild(j);ol.control.Control.call(this,{element:l,target:b.target});this.duration_=b.duration!==undefined?b.duration:250};ol.inherits(ol.control.Zoom,ol.control.Control);ol.control.Zoom.prototype.handleClick_=function(a,b){b.preventDefault();this.zoomByDelta_(a)};ol.control.Zoom.prototype.zoomByDelta_=function(a){var b=this.getMap();var c=b.getView();if(!c){return}var d=c.getResolution();if(d){if(this.duration_>0){b.beforeRender(ol.animation.zoom({resolution:d,duration:this.duration_,easing:ol.easing.easeOut}))}var e=c.constrainResolution(d,a);c.setResolution(e)}};goog.provide("ol.control");goog.require("ol");goog.require("ol.Collection");goog.require("ol.control.Attribution");goog.require("ol.control.Rotate");goog.require("ol.control.Zoom");ol.control.defaults=function(a){var b=a?a:{};var c=new ol.Collection;var d=b.zoom!==undefined?b.zoom:true;if(d){c.push(new ol.control.Zoom(b.zoomOptions))}var e=b.rotate!==undefined?b.rotate:true;if(e){c.push(new ol.control.Rotate(b.rotateOptions))}var f=b.attribution!==undefined?b.attribution:true;if(f){c.push(new ol.control.Attribution(b.attributionOptions))}return c};goog.provide("ol.control.MousePosition");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.Object");goog.require("ol.control.Control");goog.require("ol.proj");ol.control.MousePositionProperty={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat"};ol.control.MousePosition=function(a){var b=a?a:{};var c=document.createElement("DIV");c.className=b.className!==undefined?b.className:"ol-mouse-position";var d=b.render?b.render:ol.control.MousePosition.render;ol.control.Control.call(this,{element:c,render:d,target:b.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePositionProperty.PROJECTION),this.handleProjectionChanged_,this);if(b.coordinateFormat){this.setCoordinateFormat(b.coordinateFormat)}if(b.projection){this.setProjection(ol.proj.get(b.projection))}this.undefinedHTML_=b.undefinedHTML!==undefined?b.undefinedHTML:"";this.renderedHTML_=c.innerHTML;this.mapProjection_=null;this.transform_=null;this.lastMouseMovePixel_=null};ol.inherits(ol.control.MousePosition,ol.control.Control);ol.control.MousePosition.render=function(a){var b=a.frameState;if(!b){this.mapProjection_=null}else{if(this.mapProjection_!=b.viewState.projection){this.mapProjection_=b.viewState.projection;this.transform_=null}}this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null};ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePositionProperty.COORDINATE_FORMAT)};ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePositionProperty.PROJECTION)};ol.control.MousePosition.prototype.handleMouseMove=function(a){var b=this.getMap();this.lastMouseMovePixel_=b.getEventPixel(a);this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleMouseOut=function(a){this.updateHTML_(null);this.lastMouseMovePixel_=null};ol.control.MousePosition.prototype.setMap=function(a){ol.control.Control.prototype.setMap.call(this,a);if(a){var b=a.getViewport();this.listenerKeys.push(ol.events.listen(b,ol.events.EventType.MOUSEMOVE,this.handleMouseMove,this),ol.events.listen(b,ol.events.EventType.MOUSEOUT,this.handleMouseOut,this))}};ol.control.MousePosition.prototype.setCoordinateFormat=function(a){this.set(ol.control.MousePositionProperty.COORDINATE_FORMAT,a)};ol.control.MousePosition.prototype.setProjection=function(a){this.set(ol.control.MousePositionProperty.PROJECTION,a)};ol.control.MousePosition.prototype.updateHTML_=function(a){var b=this.undefinedHTML_;if(a&&this.mapProjection_){if(!this.transform_){var c=this.getProjection();if(c){this.transform_=ol.proj.getTransformFromProjections(this.mapProjection_,c)}else{this.transform_=ol.proj.identityTransform}}var d=this.getMap();var e=d.getCoordinateFromPixel(a);if(e){this.transform_(e,e);var f=this.getCoordinateFormat();if(f){b=f(e)}else{b=e.toString()}}}if(!this.renderedHTML_||b!=this.renderedHTML_){this.element.innerHTML=b;this.renderedHTML_=b}};goog.provide("goog.debug.EntryPointMonitor");goog.provide("goog.debug.entryPointRegistry");goog.require("goog.asserts");goog.debug.EntryPointMonitor=function(){};goog.debug.EntryPointMonitor.prototype.wrap;goog.debug.EntryPointMonitor.prototype.unwrap;goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=false;goog.debug.entryPointRegistry.register=function(a){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=a;if(goog.debug.entryPointRegistry.monitorsMayExist_){var b=goog.debug.entryPointRegistry.monitors_;for(var c=0;c<b.length;c++){a(goog.bind(b[c].wrap,b[c]))}}};goog.debug.entryPointRegistry.monitorAll=function(a){goog.debug.entryPointRegistry.monitorsMayExist_=true;var b=goog.bind(a.wrap,a);for(var c=0;c<goog.debug.entryPointRegistry.refList_.length;c++){goog.debug.entryPointRegistry.refList_[c](b)}goog.debug.entryPointRegistry.monitors_.push(a)};goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(a){var b=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(a==b[b.length-1],"Only the most recent monitor can be unwrapped.");var c=goog.bind(a.unwrap,a);for(var d=0;d<goog.debug.entryPointRegistry.refList_.length;d++){goog.debug.entryPointRegistry.refList_[d](c)}b.length--};goog.provide("goog.dom.TagName");goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEMPLATE:"TEMPLATE",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"};goog.provide("goog.functions");goog.functions.constant=function(a){return function(){return a}};goog.functions.FALSE=goog.functions.constant(false);goog.functions.TRUE=goog.functions.constant(true);goog.functions.NULL=goog.functions.constant(null);goog.functions.identity=function(a,b){return a};goog.functions.error=function(a){return function(){throw Error(a)}};goog.functions.fail=function(a){return function(){throw a}};goog.functions.lock=function(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};goog.functions.nth=function(a){return function(){return arguments[a]}};goog.functions.partialRight=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.push.apply(b,c);return a.apply(this,b)}};goog.functions.withReturnValue=function(a,b){return goog.functions.sequence(a,goog.functions.constant(b))};goog.functions.equalTo=function(a,b){return function(c){return b?a==c:a===c}};goog.functions.compose=function(a,b){var c=arguments;var d=c.length;return function(){var a;if(d){a=c[d-1].apply(this,arguments)}for(var b=d-2;b>=0;b--){a=c[b].call(this,a)}return a}};goog.functions.sequence=function(a){var b=arguments;var c=b.length;return function(){var a;for(var d=0;d<c;d++){a=b[d].apply(this,arguments)}return a}};goog.functions.and=function(a){var b=arguments;var c=b.length;return function(){for(var a=0;a<c;a++){if(!b[a].apply(this,arguments)){return false}}return true}};goog.functions.or=function(a){var b=arguments;var c=b.length;return function(){for(var a=0;a<c;a++){if(b[a].apply(this,arguments)){return true}}return false}};goog.functions.not=function(a){return function(){return!a.apply(this,arguments)}};goog.functions.create=function(a,b){var c=function(){};c.prototype=a.prototype;var d=new c;a.apply(d,Array.prototype.slice.call(arguments,1));return d};goog.define("goog.functions.CACHE_RETURN_VALUE",true);goog.functions.cacheReturnValue=function(a){var b=false;var c;return function(){if(!goog.functions.CACHE_RETURN_VALUE){return a()}if(!b){c=a();b=true}return c}};goog.functions.once=function(a){var b=a;return function(){if(b){var a=b;b=null;a()}}};goog.functions.debounce=function(a,b,c){if(c){a=goog.bind(a,c)}var d=null;return function(c){goog.global.clearTimeout(d);var e=arguments;d=goog.global.setTimeout((function(){a.apply(null,e)}),b)}};goog.functions.throttle=function(a,b,c){if(c){a=goog.bind(a,c)}var d=null;var e=false;var f=[];var g=function(){d=null;if(e){e=false;h()}};var h=function(){d=goog.global.setTimeout(g,b);a.apply(null,f)};return function(a){f=arguments;if(!d){h()}else{e=true}}};goog.provide("goog.async.nextTick");goog.provide("goog.async.throwException");goog.require("goog.debug.entryPointRegistry");goog.require("goog.dom.TagName");goog.require("goog.functions");goog.require("goog.labs.userAgent.browser");goog.require("goog.labs.userAgent.engine");goog.async.throwException=function(a){goog.global.setTimeout((function(){throw a}),0)};goog.async.nextTick=function(a,b,c){var d=a;if(b){d=goog.bind(a,b)}d=goog.async.nextTick.wrapCallback_(d);if(goog.isFunction(goog.global.setImmediate)&&(c||goog.async.nextTick.useSetImmediate_())){goog.global.setImmediate(d);return}if(!goog.async.nextTick.setImmediate_){goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()}goog.async.nextTick.setImmediate_(d)};goog.async.nextTick.useSetImmediate_=function(){if(!goog.global.Window||!goog.global.Window.prototype){return true}if(goog.labs.userAgent.browser.isEdge()||goog.global.Window.prototype.setImmediate!=goog.global.setImmediate){return true}return false};goog.async.nextTick.setImmediate_;goog.async.nextTick.getSetImmediateEmulator_=function(){var a=goog.global["MessageChannel"];if(typeof a==="undefined"&&typeof window!=="undefined"&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()){a=function(){var a=document.createElement(goog.dom.TagName.IFRAME);a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;var c=b.document;c.open();c.write("");c.close();var d="callImmediate"+Math.random();var e=b.location.protocol=="file:"?"*":b.location.protocol+"//"+b.location.host;var f=goog.bind((function(a){if(e!="*"&&a.origin!=e||a.data!=d){return}this["port1"].onmessage()}),this);b.addEventListener("message",f,false);this["port1"]={};this["port2"]={postMessage:function(){b.postMessage(d,e)}}}}if(typeof a!=="undefined"&&!goog.labs.userAgent.browser.isIE()){var b=new a;var c={};var d=c;b["port1"].onmessage=function(){if(goog.isDef(c.next)){c=c.next;var a=c.cb;c.cb=null;a()}};return function(a){d.next={cb:a};d=d.next;b["port2"].postMessage(0)}}if(typeof document!=="undefined"&&"onreadystatechange"in document.createElement(goog.dom.TagName.SCRIPT)){return function(a){var b=document.createElement(goog.dom.TagName.SCRIPT);b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}}return function(a){goog.global.setTimeout(a,0)}};goog.async.nextTick.wrapCallback_=goog.functions.identity;goog.debug.entryPointRegistry.register((function(a){goog.async.nextTick.wrapCallback_=a}));goog.provide("ol.webgl");ol.webgl.ONE=1;ol.webgl.SRC_ALPHA=770;ol.webgl.COLOR_ATTACHMENT0=36064;ol.webgl.COLOR_BUFFER_BIT=16384;ol.webgl.TRIANGLES=4;ol.webgl.TRIANGLE_STRIP=5;ol.webgl.ONE_MINUS_SRC_ALPHA=771;ol.webgl.ARRAY_BUFFER=34962;ol.webgl.ELEMENT_ARRAY_BUFFER=34963;ol.webgl.STREAM_DRAW=35040;ol.webgl.STATIC_DRAW=35044;ol.webgl.DYNAMIC_DRAW=35048;ol.webgl.CULL_FACE=2884;ol.webgl.BLEND=3042;ol.webgl.STENCIL_TEST=2960;ol.webgl.DEPTH_TEST=2929;ol.webgl.SCISSOR_TEST=3089;ol.webgl.UNSIGNED_BYTE=5121;ol.webgl.UNSIGNED_SHORT=5123;ol.webgl.UNSIGNED_INT=5125;ol.webgl.FLOAT=5126;ol.webgl.RGBA=6408;ol.webgl.FRAGMENT_SHADER=35632;ol.webgl.VERTEX_SHADER=35633;ol.webgl.LINK_STATUS=35714;ol.webgl.LINEAR=9729;ol.webgl.TEXTURE_MAG_FILTER=10240;ol.webgl.TEXTURE_MIN_FILTER=10241;ol.webgl.TEXTURE_WRAP_S=10242;ol.webgl.TEXTURE_WRAP_T=10243;ol.webgl.TEXTURE_2D=3553;ol.webgl.TEXTURE0=33984;ol.webgl.CLAMP_TO_EDGE=33071;ol.webgl.COMPILE_STATUS=35713;ol.webgl.FRAMEBUFFER=36160;ol.webgl.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"];ol.webgl.getContext=function(a,b){var c,d,e=ol.webgl.CONTEXT_IDS_.length;for(d=0;d<e;++d){try{c=a.getContext(ol.webgl.CONTEXT_IDS_[d],b);if(c){return c}}catch(f){}}return null};goog.provide("ol.has");goog.require("ol");goog.require("ol.dom");goog.require("ol.webgl");var ua=typeof navigator!=="undefined"?navigator.userAgent.toLowerCase():"";ol.has.FIREFOX=ua.indexOf("firefox")!==-1;ol.has.SAFARI=ua.indexOf("safari")!==-1&&ua.indexOf("chrom")===-1;ol.has.MAC=ua.indexOf("macintosh")!==-1;ol.has.DEVICE_PIXEL_RATIO=ol.global.devicePixelRatio||1;ol.has.CANVAS_LINE_DASH=false;ol.has.CANVAS=ol.ENABLE_CANVAS&&(function(){if(!("HTMLCanvasElement"in ol.global)){return false}try{var a=ol.dom.createCanvasContext2D();if(!a){return false}else{if(a.setLineDash!==undefined){ol.has.CANVAS_LINE_DASH=true}return true}}catch(b){return false}})();ol.has.DEVICE_ORIENTATION="DeviceOrientationEvent"in ol.global;ol.has.DOM=ol.ENABLE_DOM;ol.has.GEOLOCATION="geolocation"in ol.global.navigator;ol.has.TOUCH=ol.ASSUME_TOUCH||"ontouchstart"in ol.global;ol.has.POINTER="PointerEvent"in ol.global;ol.has.MSPOINTER=!!ol.global.navigator.msPointerEnabled;ol.has.WEBGL;(function(){if(ol.ENABLE_WEBGL){var a=false;var b;var c=[];if("WebGLRenderingContext"in ol.global){try{var d=document.createElement("CANVAS");var e=ol.webgl.getContext(d,{failIfMajorPerformanceCaveat:true});if(e){a=true;b=e.getParameter(e.MAX_TEXTURE_SIZE);c=e.getSupportedExtensions()}}catch(f){}}ol.has.WEBGL=a;ol.WEBGL_EXTENSIONS=c;ol.WEBGL_MAX_TEXTURE_SIZE=b}})();goog.provide("ol.pointer.EventSource");ol.pointer.EventSource=function(a,b){this.dispatcher=a;this.mapping_=b};ol.pointer.EventSource.prototype.getEvents=function(){return Object.keys(this.mapping_)};ol.pointer.EventSource.prototype.getMapping=function(){return this.mapping_};ol.pointer.EventSource.prototype.getHandlerForEvent=function(a){return this.mapping_[a]};goog.provide("ol.pointer.MouseSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.MouseSource=function(a){var b={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};ol.pointer.EventSource.call(this,a,b);this.pointerMap=a.pointerMap;this.lastTouches=[]};ol.inherits(ol.pointer.MouseSource,ol.pointer.EventSource);ol.pointer.MouseSource.POINTER_ID=1;ol.pointer.MouseSource.POINTER_TYPE="mouse";ol.pointer.MouseSource.DEDUP_DIST=25;ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(a){var b=this.lastTouches;var c=a.clientX,d=a.clientY;for(var e=0,f=b.length,g;e<f&&(g=b[e]);e++){var h=Math.abs(c-g[0]),i=Math.abs(d-g[1]);if(h<=ol.pointer.MouseSource.DEDUP_DIST&&i<=ol.pointer.MouseSource.DEDUP_DIST){return true}}return false};ol.pointer.MouseSource.prepareEvent=function(a,b){var c=b.cloneEvent(a,a);var d=c.preventDefault;c.preventDefault=function(){a.preventDefault();d()};c.pointerId=ol.pointer.MouseSource.POINTER_ID;c.isPrimary=true;c.pointerType=ol.pointer.MouseSource.POINTER_TYPE;return c};ol.pointer.MouseSource.prototype.mousedown=function(a){if(!this.isEventSimulatedFromTouch_(a)){if(ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap){this.cancel(a)}var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=a;this.dispatcher.down(b,a)}};ol.pointer.MouseSource.prototype.mousemove=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.move(b,a)}};ol.pointer.MouseSource.prototype.mouseup=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];if(b&&b.button===a.button){var c=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.up(c,a);this.cleanupMouse()}}};ol.pointer.MouseSource.prototype.mouseover=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.enterOver(b,a)}};ol.pointer.MouseSource.prototype.mouseout=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.leaveOut(b,a)}};ol.pointer.MouseSource.prototype.cancel=function(a){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.cancel(b,a);this.cleanupMouse()};ol.pointer.MouseSource.prototype.cleanupMouse=function(){delete this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]};goog.provide("ol.pointer.MsSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.MsSource=function(a){var b={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};ol.pointer.EventSource.call(this,a,b);this.pointerMap=a.pointerMap;this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};ol.inherits(ol.pointer.MsSource,ol.pointer.EventSource);ol.pointer.MsSource.prototype.prepareEvent_=function(a){var b=a;if(typeof a.pointerType==="number"){b=this.dispatcher.cloneEvent(a,a);b.pointerType=this.POINTER_TYPES[a.pointerType]}return b};ol.pointer.MsSource.prototype.cleanup=function(a){delete this.pointerMap[a.toString()]};ol.pointer.MsSource.prototype.msPointerDown=function(a){this.pointerMap[a.pointerId.toString()]=a;var b=this.prepareEvent_(a);this.dispatcher.down(b,a)};ol.pointer.MsSource.prototype.msPointerMove=function(a){var b=this.prepareEvent_(a);this.dispatcher.move(b,a)};ol.pointer.MsSource.prototype.msPointerUp=function(a){var b=this.prepareEvent_(a);this.dispatcher.up(b,a);this.cleanup(a.pointerId)};ol.pointer.MsSource.prototype.msPointerOut=function(a){var b=this.prepareEvent_(a);this.dispatcher.leaveOut(b,a)};ol.pointer.MsSource.prototype.msPointerOver=function(a){var b=this.prepareEvent_(a);this.dispatcher.enterOver(b,a)};ol.pointer.MsSource.prototype.msPointerCancel=function(a){var b=this.prepareEvent_(a);this.dispatcher.cancel(b,a);this.cleanup(a.pointerId)};ol.pointer.MsSource.prototype.msLostPointerCapture=function(a){var b=this.dispatcher.makeEvent("lostpointercapture",a,a);this.dispatcher.dispatchEvent(b)};ol.pointer.MsSource.prototype.msGotPointerCapture=function(a){var b=this.dispatcher.makeEvent("gotpointercapture",a,a);this.dispatcher.dispatchEvent(b)};goog.provide("ol.pointer.NativeSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.NativeSource=function(a){var b={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};ol.pointer.EventSource.call(this,a,b)};ol.inherits(ol.pointer.NativeSource,ol.pointer.EventSource);ol.pointer.NativeSource.prototype.pointerDown=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerMove=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerUp=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerOut=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerOver=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerCancel=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.lostPointerCapture=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.gotPointerCapture=function(a){this.dispatcher.fireNativeEvent(a)};goog.provide("ol.pointer.PointerEvent");goog.require("ol");goog.require("ol.events.Event");ol.pointer.PointerEvent=function(a,b,c){ol.events.Event.call(this,a);this.originalEvent=b;var d=c?c:{};this.buttons=this.getButtons_(d);this.pressure=this.getPressure_(d,this.buttons);this.bubbles="bubbles"in d?d["bubbles"]:false;this.cancelable="cancelable"in d?d["cancelable"]:false;this.view="view"in d?d["view"]:null;this.detail="detail"in d?d["detail"]:null;this.screenX="screenX"in d?d["screenX"]:0;this.screenY="screenY"in d?d["screenY"]:0;this.clientX="clientX"in d?d["clientX"]:0;this.clientY="clientY"in d?d["clientY"]:0;this.ctrlKey="ctrlKey"in d?d["ctrlKey"]:false;this.altKey="altKey"in d?d["altKey"]:false;this.shiftKey="shiftKey"in d?d["shiftKey"]:false;this.metaKey="metaKey"in d?d["metaKey"]:false;this.button="button"in d?d["button"]:0;this.relatedTarget="relatedTarget"in d?d["relatedTarget"]:null;this.pointerId="pointerId"in d?d["pointerId"]:0;this.width="width"in d?d["width"]:0;this.height="height"in d?d["height"]:0;this.tiltX="tiltX"in d?d["tiltX"]:0;this.tiltY="tiltY"in d?d["tiltY"]:0;this.pointerType="pointerType"in d?d["pointerType"]:"";this.hwTimestamp="hwTimestamp"in d?d["hwTimestamp"]:0;this.isPrimary="isPrimary"in d?d["isPrimary"]:false;if(b.preventDefault){this.preventDefault=function(){b.preventDefault()}}};ol.inherits(ol.pointer.PointerEvent,ol.events.Event);ol.pointer.PointerEvent.prototype.getButtons_=function(a){var b;if(a.buttons||ol.pointer.PointerEvent.HAS_BUTTONS){b=a.buttons}else{switch(a.which){case 1:b=1;break;case 2:b=4;break;case 3:b=2;break;default:b=0}}return b};ol.pointer.PointerEvent.prototype.getPressure_=function(a,b){var c=0;if(a.pressure){c=a.pressure}else{c=b?.5:0}return c};ol.pointer.PointerEvent.HAS_BUTTONS=false;(function(){try{var a=new MouseEvent("click",{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=a.buttons===1}catch(b){}})();goog.provide("ol.pointer.TouchSource");goog.require("ol");goog.require("ol.array");goog.require("ol.pointer.EventSource");goog.require("ol.pointer.MouseSource");ol.pointer.TouchSource=function(a,b){var c={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};ol.pointer.EventSource.call(this,a,c);this.pointerMap=a.pointerMap;this.mouseSource=b;this.firstTouchId_=undefined;this.clickCount_=0;this.resetId_=undefined};ol.inherits(ol.pointer.TouchSource,ol.pointer.EventSource);ol.pointer.TouchSource.DEDUP_TIMEOUT=2500;ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200;ol.pointer.TouchSource.POINTER_TYPE="touch";ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(a){return this.firstTouchId_===a.identifier};ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(a){var b=Object.keys(this.pointerMap).length;if(b===0||b===1&&ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap){this.firstTouchId_=a.identifier;this.cancelResetClickCount_()}};ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(a){if(a.isPrimary){this.firstTouchId_=undefined;this.resetClickCount_()}};ol.pointer.TouchSource.prototype.resetClickCount_=function(){var a=ol.global;this.resetId_=a.setTimeout(this.resetClickCountHandler_.bind(this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)};ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0;this.resetId_=undefined};ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){var a=ol.global;if(this.resetId_!==undefined){a.clearTimeout(this.resetId_)}};ol.pointer.TouchSource.prototype.touchToPointer_=function(a,b){var c=this.dispatcher.cloneEvent(a,b);c.pointerId=b.identifier+2;c.bubbles=true;c.cancelable=true;c.detail=this.clickCount_;c.button=0;c.buttons=1;c.width=b.webkitRadiusX||b.radiusX||0;c.height=b.webkitRadiusY||b.radiusY||0;c.pressure=b.webkitForce||b.force||.5;c.isPrimary=this.isPrimaryTouch_(b);c.pointerType=ol.pointer.TouchSource.POINTER_TYPE;c.clientX=b.clientX;c.clientY=b.clientY;c.screenX=b.screenX;c.screenY=b.screenY;return c};ol.pointer.TouchSource.prototype.processTouches_=function(a,b){var c=Array.prototype.slice.call(a.changedTouches);var d=c.length;function e(){a.preventDefault()}var f,g;for(f=0;f<d;++f){g=this.touchToPointer_(a,c[f]);g.preventDefault=e;b.call(this,a,g)}};ol.pointer.TouchSource.prototype.findTouch_=function(a,b){var c=a.length;var d;for(var e=0;e<c;e++){d=a[e];if(d.identifier===b){return true}}return false};ol.pointer.TouchSource.prototype.vacuumTouches_=function(a){var b=a.touches;var c=Object.keys(this.pointerMap);var d=c.length;if(d>=b.length){var e=[];var f,g,h;for(f=0;f<d;++f){g=c[f];h=this.pointerMap[g];if(g!=ol.pointer.MouseSource.POINTER_ID&&!this.findTouch_(b,g-2)){e.push(h.out)}}for(f=0;f<e.length;++f){this.cancelOut_(a,e[f])}}};ol.pointer.TouchSource.prototype.touchstart=function(a){this.vacuumTouches_(a);this.setPrimaryTouch_(a.changedTouches[0]);this.dedupSynthMouse_(a);this.clickCount_++;this.processTouches_(a,this.overDown_)};ol.pointer.TouchSource.prototype.overDown_=function(a,b){this.pointerMap[b.pointerId]={target:b.target,out:b,outTarget:b.target};this.dispatcher.over(b,a);this.dispatcher.enter(b,a);this.dispatcher.down(b,a)};ol.pointer.TouchSource.prototype.touchmove=function(a){a.preventDefault();this.processTouches_(a,this.moveOverOut_)};ol.pointer.TouchSource.prototype.moveOverOut_=function(a,b){var c=b;var d=this.pointerMap[c.pointerId];if(!d){return}var e=d.out;var f=d.outTarget;this.dispatcher.move(c,a);if(e&&f!==c.target){e.relatedTarget=c.target;c.relatedTarget=f;e.target=f;if(c.target){this.dispatcher.leaveOut(e,a);this.dispatcher.enterOver(c,a)}else{c.target=f;c.relatedTarget=null;this.cancelOut_(a,c)}}d.out=c;d.outTarget=c.target};ol.pointer.TouchSource.prototype.touchend=function(a){this.dedupSynthMouse_(a);this.processTouches_(a,this.upOut_)};ol.pointer.TouchSource.prototype.upOut_=function(a,b){this.dispatcher.up(b,a);this.dispatcher.out(b,a);this.dispatcher.leave(b,a);this.cleanUpPointer_(b)};ol.pointer.TouchSource.prototype.touchcancel=function(a){this.processTouches_(a,this.cancelOut_)};ol.pointer.TouchSource.prototype.cancelOut_=function(a,b){this.dispatcher.cancel(b,a);this.dispatcher.out(b,a);this.dispatcher.leave(b,a);this.cleanUpPointer_(b)};ol.pointer.TouchSource.prototype.cleanUpPointer_=function(a){delete this.pointerMap[a.pointerId];this.removePrimaryPointer_(a)};ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(a){var b=this.mouseSource.lastTouches;var c=a.changedTouches[0];if(this.isPrimaryTouch_(c)){var d=[c.clientX,c.clientY];b.push(d);var e=ol.global;e.setTimeout((function(){ol.array.remove(b,d)}),ol.pointer.TouchSource.DEDUP_TIMEOUT)}};goog.provide("ol.pointer.PointerEventHandler");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.has");goog.require("ol.pointer.MouseSource");goog.require("ol.pointer.MsSource");goog.require("ol.pointer.NativeSource");goog.require("ol.pointer.PointerEvent");goog.require("ol.pointer.TouchSource");ol.pointer.PointerEventHandler=function(a){ol.events.EventTarget.call(this);this.element_=a;this.pointerMap={};this.eventMap_={};this.eventSourceList_=[];this.registerSources()};ol.inherits(ol.pointer.PointerEventHandler,ol.events.EventTarget);ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER){this.registerSource("native",new ol.pointer.NativeSource(this));
}else if(ol.has.MSPOINTER){this.registerSource("ms",new ol.pointer.MsSource(this))}else{var a=new ol.pointer.MouseSource(this);this.registerSource("mouse",a);if(ol.has.TOUCH){this.registerSource("touch",new ol.pointer.TouchSource(this,a))}}this.register_()};ol.pointer.PointerEventHandler.prototype.registerSource=function(a,b){var c=b;var d=c.getEvents();if(d){d.forEach((function(a){var b=c.getHandlerForEvent(a);if(b){this.eventMap_[a]=b.bind(c)}}),this);this.eventSourceList_.push(c)}};ol.pointer.PointerEventHandler.prototype.register_=function(){var a=this.eventSourceList_.length;var b;for(var c=0;c<a;c++){b=this.eventSourceList_[c];this.addEvents_(b.getEvents())}};ol.pointer.PointerEventHandler.prototype.unregister_=function(){var a=this.eventSourceList_.length;var b;for(var c=0;c<a;c++){b=this.eventSourceList_[c];this.removeEvents_(b.getEvents())}};ol.pointer.PointerEventHandler.prototype.eventHandler_=function(a){var b=a.type;var c=this.eventMap_[b];if(c){c(a)}};ol.pointer.PointerEventHandler.prototype.addEvents_=function(a){a.forEach((function(a){ol.events.listen(this.element_,a,this.eventHandler_,this)}),this)};ol.pointer.PointerEventHandler.prototype.removeEvents_=function(a){a.forEach((function(a){ol.events.unlisten(this.element_,a,this.eventHandler_,this)}),this)};ol.pointer.PointerEventHandler.prototype.cloneEvent=function(a,b){var c={},d;for(var e=0,f=ol.pointer.CLONE_PROPS.length;e<f;e++){d=ol.pointer.CLONE_PROPS[e][0];c[d]=a[d]||b[d]||ol.pointer.CLONE_PROPS[e][1]}return c};ol.pointer.PointerEventHandler.prototype.down=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERDOWN,a,b)};ol.pointer.PointerEventHandler.prototype.move=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERMOVE,a,b)};ol.pointer.PointerEventHandler.prototype.up=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERUP,a,b)};ol.pointer.PointerEventHandler.prototype.enter=function(a,b){a.bubbles=false;this.fireEvent(ol.pointer.EventType.POINTERENTER,a,b)};ol.pointer.PointerEventHandler.prototype.leave=function(a,b){a.bubbles=false;this.fireEvent(ol.pointer.EventType.POINTERLEAVE,a,b)};ol.pointer.PointerEventHandler.prototype.over=function(a,b){a.bubbles=true;this.fireEvent(ol.pointer.EventType.POINTEROVER,a,b)};ol.pointer.PointerEventHandler.prototype.out=function(a,b){a.bubbles=true;this.fireEvent(ol.pointer.EventType.POINTEROUT,a,b)};ol.pointer.PointerEventHandler.prototype.cancel=function(a,b){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,a,b)};ol.pointer.PointerEventHandler.prototype.leaveOut=function(a,b){this.out(a,b);if(!this.contains_(a.target,a.relatedTarget)){this.leave(a,b)}};ol.pointer.PointerEventHandler.prototype.enterOver=function(a,b){this.over(a,b);if(!this.contains_(a.target,a.relatedTarget)){this.enter(a,b)}};ol.pointer.PointerEventHandler.prototype.contains_=function(a,b){if(!a||!b){return false}return a.contains(b)};ol.pointer.PointerEventHandler.prototype.makeEvent=function(a,b,c){return new ol.pointer.PointerEvent(a,c,b)};ol.pointer.PointerEventHandler.prototype.fireEvent=function(a,b,c){var d=this.makeEvent(a,b,c);this.dispatchEvent(d)};ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(a){var b=this.makeEvent(a.type,a,a);this.dispatchEvent(b)};ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(a,b){var c=this.makeEvent(a,ol.pointer.MouseSource.prepareEvent(b,this),b);return c};ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_();ol.events.EventTarget.prototype.disposeInternal.call(this)};ol.pointer.EventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};ol.pointer.CLONE_PROPS=[["bubbles",false],["cancelable",false],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",false],["altKey",false],["shiftKey",false],["metaKey",false],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",false],["type",""],["target",null],["currentTarget",null],["which",0]];goog.provide("ol.MapBrowserEvent");goog.provide("ol.MapBrowserEvent.EventType");goog.provide("ol.MapBrowserEventHandler");goog.provide("ol.MapBrowserPointerEvent");goog.require("ol");goog.require("ol.MapEvent");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");goog.require("ol.pointer.PointerEventHandler");ol.MapBrowserEvent=function(a,b,c,d,e){ol.MapEvent.call(this,a,b,e);this.originalEvent=c;this.pixel=b.getEventPixel(c);this.coordinate=b.getCoordinateFromPixel(this.pixel);this.dragging=d!==undefined?d:false};ol.inherits(ol.MapBrowserEvent,ol.MapEvent);ol.MapBrowserEvent.prototype.preventDefault=function(){ol.MapEvent.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};ol.MapBrowserEvent.prototype.stopPropagation=function(){ol.MapEvent.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};ol.MapBrowserPointerEvent=function(a,b,c,d,e){ol.MapBrowserEvent.call(this,a,b,c.originalEvent,d,e);this.pointerEvent=c};ol.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent);ol.MapBrowserEventHandler=function(a){ol.events.EventTarget.call(this);this.map_=a;this.clickTimeoutId_=0;this.dragging_=false;this.dragListenerKeys_=[];this.down_=null;var b=this.map_.getViewport();this.activePointers_=0;this.trackedTouches_={};this.pointerEventHandler_=new ol.pointer.PointerEventHandler(b);this.documentPointerEventHandler_=null;this.pointerdownListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,this.handlePointerDown_,this);this.relayedListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,this)};ol.inherits(ol.MapBrowserEventHandler,ol.events.EventTarget);ol.MapBrowserEventHandler.prototype.emulateClick_=function(a){var b;b=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.CLICK,this.map_,a);this.dispatchEvent(b);if(this.clickTimeoutId_!==0){ol.global.clearTimeout(this.clickTimeoutId_);this.clickTimeoutId_=0;b=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.DBLCLICK,this.map_,a);this.dispatchEvent(b)}else{this.clickTimeoutId_=ol.global.setTimeout(function(){this.clickTimeoutId_=0;var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.SINGLECLICK,this.map_,a);this.dispatchEvent(b)}.bind(this),250)}};ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(a){var b=a;if(b.type==ol.MapBrowserEvent.EventType.POINTERUP||b.type==ol.MapBrowserEvent.EventType.POINTERCANCEL){delete this.trackedTouches_[b.pointerId]}else if(b.type==ol.MapBrowserEvent.EventType.POINTERDOWN){this.trackedTouches_[b.pointerId]=true}this.activePointers_=Object.keys(this.trackedTouches_).length};ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(a){this.updateActivePointers_(a);var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.POINTERUP,this.map_,a);this.dispatchEvent(b);if(!this.dragging_&&this.isMouseActionButton_(a)){goog.DEBUG&&console.assert(this.down_,"this.down_ must be truthy");this.emulateClick_(this.down_)}goog.DEBUG&&console.assert(this.activePointers_>=0,"this.activePointers_ should be equal to or larger than 0");if(this.activePointers_===0){this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;this.dragging_=false;this.down_=null;this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}};ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(a){return a.button===0};ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(a){this.updateActivePointers_(a);var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.POINTERDOWN,this.map_,a);this.dispatchEvent(b);this.down_=a;if(this.dragListenerKeys_.length===0){this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document);this.dragListenerKeys_.push(ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEvent.EventType.POINTERMOVE,this.handlePointerMove_,this),ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEvent.EventType.POINTERUP,this.handlePointerUp_,this),ol.events.listen(this.pointerEventHandler_,ol.MapBrowserEvent.EventType.POINTERCANCEL,this.handlePointerUp_,this))}};ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(a){if(this.isMoving_(a)){this.dragging_=true;var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEvent.EventType.POINTERDRAG,this.map_,a,this.dragging_);this.dispatchEvent(b)}a.preventDefault()};ol.MapBrowserEventHandler.prototype.relayEvent_=function(a){var b=!!(this.down_&&this.isMoving_(a));this.dispatchEvent(new ol.MapBrowserPointerEvent(a.type,this.map_,a,b))};ol.MapBrowserEventHandler.prototype.isMoving_=function(a){return a.clientX!=this.down_.clientX||a.clientY!=this.down_.clientY};ol.MapBrowserEventHandler.prototype.disposeInternal=function(){if(this.relayedListenerKey_){ol.events.unlistenByKey(this.relayedListenerKey_);this.relayedListenerKey_=null}if(this.pointerdownListenerKey_){ol.events.unlistenByKey(this.pointerdownListenerKey_);this.pointerdownListenerKey_=null}this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;if(this.documentPointerEventHandler_){this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}if(this.pointerEventHandler_){this.pointerEventHandler_.dispose();this.pointerEventHandler_=null}ol.events.EventTarget.prototype.disposeInternal.call(this)};ol.MapBrowserEvent.EventType={SINGLECLICK:"singleclick",CLICK:ol.events.EventType.CLICK,DBLCLICK:ol.events.EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};goog.provide("ol.layer.Base");goog.provide("ol.layer.LayerProperty");goog.require("ol");goog.require("ol.Object");goog.require("ol.math");goog.require("ol.obj");ol.layer.LayerProperty={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};ol.layer.Base=function(a){ol.Object.call(this);var b=ol.obj.assign({},a);b[ol.layer.LayerProperty.OPACITY]=a.opacity!==undefined?a.opacity:1;b[ol.layer.LayerProperty.VISIBLE]=a.visible!==undefined?a.visible:true;b[ol.layer.LayerProperty.Z_INDEX]=a.zIndex!==undefined?a.zIndex:0;b[ol.layer.LayerProperty.MAX_RESOLUTION]=a.maxResolution!==undefined?a.maxResolution:Infinity;b[ol.layer.LayerProperty.MIN_RESOLUTION]=a.minResolution!==undefined?a.minResolution:0;this.setProperties(b)};ol.inherits(ol.layer.Base,ol.Object);ol.layer.Base.prototype.getLayerState=function(){var a=this.getOpacity();var b=this.getSourceState();var c=this.getVisible();var d=this.getExtent();var e=this.getZIndex();var f=this.getMaxResolution();var g=this.getMinResolution();return{layer:this,opacity:ol.math.clamp(a,0,1),sourceState:b,visible:c,managed:true,extent:d,zIndex:e,maxResolution:f,minResolution:Math.max(g,0)}};ol.layer.Base.prototype.getLayersArray=function(a){};ol.layer.Base.prototype.getLayerStatesArray=function(a){};ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.LayerProperty.EXTENT)};ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.LayerProperty.MAX_RESOLUTION)};ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.LayerProperty.MIN_RESOLUTION)};ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.LayerProperty.OPACITY)};ol.layer.Base.prototype.getSourceState=function(){};ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.LayerProperty.VISIBLE)};ol.layer.Base.prototype.getZIndex=function(){return this.get(ol.layer.LayerProperty.Z_INDEX)};ol.layer.Base.prototype.setExtent=function(a){this.set(ol.layer.LayerProperty.EXTENT,a)};ol.layer.Base.prototype.setMaxResolution=function(a){this.set(ol.layer.LayerProperty.MAX_RESOLUTION,a)};ol.layer.Base.prototype.setMinResolution=function(a){this.set(ol.layer.LayerProperty.MIN_RESOLUTION,a)};ol.layer.Base.prototype.setOpacity=function(a){this.set(ol.layer.LayerProperty.OPACITY,a)};ol.layer.Base.prototype.setVisible=function(a){this.set(ol.layer.LayerProperty.VISIBLE,a)};ol.layer.Base.prototype.setZIndex=function(a){this.set(ol.layer.LayerProperty.Z_INDEX,a)};goog.provide("ol.render.Event");goog.provide("ol.render.EventType");goog.require("ol");goog.require("ol.events.Event");ol.render.EventType={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"};ol.render.Event=function(a,b,c,d,e){ol.events.Event.call(this,a);this.vectorContext=b;this.frameState=c;this.context=d;this.glContext=e};ol.inherits(ol.render.Event,ol.events.Event);goog.provide("ol.source.Source");goog.provide("ol.source.State");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.Object");goog.require("ol.proj");ol.source.State={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};ol.source.Source=function(a){ol.Object.call(this);this.projection_=ol.proj.get(a.projection);this.attributions_=ol.source.Source.toAttributionsArray_(a.attributions);this.logo_=a.logo;this.state_=a.state!==undefined?a.state:ol.source.State.READY;this.wrapX_=a.wrapX!==undefined?a.wrapX:false};ol.inherits(ol.source.Source,ol.Object);ol.source.Source.toAttributionsArray_=function(a){if(typeof a==="string"){return[new ol.Attribution({html:a})]}else if(a instanceof ol.Attribution){return[a]}else if(Array.isArray(a)){var b=a.length;var c=new Array(b);for(var d=0;d<b;d++){var e=a[d];if(typeof e==="string"){c[d]=new ol.Attribution({html:e})}else{c[d]=e}}return c}else{return null}};ol.source.Source.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.source.Source.prototype.getAttributions=function(){return this.attributions_};ol.source.Source.prototype.getLogo=function(){return this.logo_};ol.source.Source.prototype.getProjection=function(){return this.projection_};ol.source.Source.prototype.getResolutions=function(){};ol.source.Source.prototype.getState=function(){return this.state_};ol.source.Source.prototype.getWrapX=function(){return this.wrapX_};ol.source.Source.prototype.refresh=function(){this.changed()};ol.source.Source.prototype.setAttributions=function(a){this.attributions_=ol.source.Source.toAttributionsArray_(a);this.changed()};ol.source.Source.prototype.setLogo=function(a){this.logo_=a};ol.source.Source.prototype.setState=function(a){this.state_=a;this.changed()};goog.provide("ol.layer.Layer");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.Object");goog.require("ol.layer.Base");goog.require("ol.layer.LayerProperty");goog.require("ol.obj");goog.require("ol.render.EventType");goog.require("ol.source.State");ol.layer.Layer=function(a){var b=ol.obj.assign({},a);delete b.source;ol.layer.Base.call(this,b);this.mapPrecomposeKey_=null;this.mapRenderKey_=null;this.sourceChangeKey_=null;if(a.map){this.setMap(a.map)}ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.LayerProperty.SOURCE),this.handleSourcePropertyChange_,this);var c=a.source?a.source:null;this.setSource(c)};ol.inherits(ol.layer.Layer,ol.layer.Base);ol.layer.Layer.visibleAtResolution=function(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution};ol.layer.Layer.prototype.getLayersArray=function(a){var b=a?a:[];b.push(this);return b};ol.layer.Layer.prototype.getLayerStatesArray=function(a){var b=a?a:[];b.push(this.getLayerState());return b};ol.layer.Layer.prototype.getSource=function(){var a=this.get(ol.layer.LayerProperty.SOURCE);return a||null};ol.layer.Layer.prototype.getSourceState=function(){var a=this.getSource();return!a?ol.source.State.UNDEFINED:a.getState()};ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()};ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){if(this.sourceChangeKey_){ol.events.unlistenByKey(this.sourceChangeKey_);this.sourceChangeKey_=null}var a=this.getSource();if(a){this.sourceChangeKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleSourceChange_,this)}this.changed()};ol.layer.Layer.prototype.setMap=function(a){if(this.mapPrecomposeKey_){ol.events.unlistenByKey(this.mapPrecomposeKey_);this.mapPrecomposeKey_=null}if(!a){this.changed()}if(this.mapRenderKey_){ol.events.unlistenByKey(this.mapRenderKey_);this.mapRenderKey_=null}if(a){this.mapPrecomposeKey_=ol.events.listen(a,ol.render.EventType.PRECOMPOSE,(function(a){var b=this.getLayerState();b.managed=false;b.zIndex=Infinity;a.frameState.layerStatesArray.push(b);a.frameState.layerStates[ol.getUid(this)]=b}),this);this.mapRenderKey_=ol.events.listen(this,ol.events.EventType.CHANGE,a.render,a);this.changed()}};ol.layer.Layer.prototype.setSource=function(a){this.set(ol.layer.LayerProperty.SOURCE,a)};goog.provide("ol.style.IconImageCache");goog.require("ol.color");ol.style.IconImageCache=function(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32};ol.style.IconImageCache.getKey=function(a,b,c){goog.DEBUG&&console.assert(b!==undefined,"argument crossOrigin must be defined");var d=c?ol.color.asString(c):"null";return b+":"+a+":"+d};ol.style.IconImageCache.prototype.clear=function(){this.cache_={};this.cacheSize_=0};ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var a=0;var b,c;for(b in this.cache_){c=this.cache_[b];if((a++&3)===0&&!c.hasListener()){delete this.cache_[b];--this.cacheSize_}}}};ol.style.IconImageCache.prototype.get=function(a,b,c){var d=ol.style.IconImageCache.getKey(a,b,c);return d in this.cache_?this.cache_[d]:null};ol.style.IconImageCache.prototype.set=function(a,b,c,d){var e=ol.style.IconImageCache.getKey(a,b,c);this.cache_[e]=d;++this.cacheSize_};goog.provide("ol.style");goog.require("ol.style.IconImageCache");ol.style.iconImageCache=new ol.style.IconImageCache;goog.provide("ol.transform");goog.require("ol.asserts");ol.transform.tmp_=new Array(6);ol.transform.create=function(){return[1,0,0,1,0,0]};ol.transform.reset=function(a){return ol.transform.set(a,1,0,0,1,0,0)};ol.transform.multiply=function(a,b){var c=a[0];var d=a[1];var e=a[2];var f=a[3];var g=a[4];var h=a[5];var i=b[0];var j=b[1];var k=b[2];var l=b[3];var m=b[4];var n=b[5];a[0]=c*i+e*j;a[1]=d*i+f*j;a[2]=c*k+e*l;a[3]=d*k+f*l;a[4]=c*m+e*n+g;a[5]=d*m+f*n+h;return a};ol.transform.set=function(a,b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a};ol.transform.setFromArray=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a};ol.transform.apply=function(a,b){var c=b[0],d=b[1];b[0]=a[0]*c+a[2]*d+a[4];b[1]=a[1]*c+a[3]*d+a[5];return b};ol.transform.rotate=function(a,b){var c=Math.cos(b);var d=Math.sin(b);return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,c,d,-d,c,0,0))};ol.transform.scale=function(a,b,c){return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,b,0,0,c,0,0))};ol.transform.translate=function(a,b,c){return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,1,0,0,1,b,c))};ol.transform.compose=function(a,b,c,d,e,f,g,h){var i=Math.sin(f);var j=Math.cos(f);a[0]=d*j;a[1]=e*i;a[2]=-d*i;a[3]=e*j;a[4]=g*d*j-h*d*i+b;a[5]=g*e*i+h*e*j+c;return a};ol.transform.invert=function(a){var b=ol.transform.determinant(a);ol.asserts.assert(b!==0,32);var c=a[0];var d=a[1];var e=a[2];var f=a[3];var g=a[4];var h=a[5];a[0]=f/b;a[1]=-d/b;a[2]=-e/b;a[3]=c/b;a[4]=(e*h-f*g)/b;a[5]=-(c*h-d*g)/b;return a};ol.transform.determinant=function(a){return a[0]*a[3]-a[1]*a[2]};goog.provide("ol.renderer.Map");goog.provide("ol.RendererType");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.layer.Layer");goog.require("ol.style");goog.require("ol.transform");ol.RendererType={CANVAS:"canvas",DOM:"dom",WEBGL:"webgl"};ol.renderer.Map=function(a,b){ol.Disposable.call(this);this.map_=b;this.layerRenderers_={};this.layerRendererListeners_={}};ol.inherits(ol.renderer.Map,ol.Disposable);ol.renderer.Map.prototype.calculateMatrices2D=function(a){var b=a.viewState;var c=a.coordinateToPixelTransform;var d=a.pixelToCoordinateTransform;goog.DEBUG&&console.assert(c,"frameState has a coordinateToPixelTransform");ol.transform.compose(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);ol.transform.invert(ol.transform.setFromArray(d,c))};ol.renderer.Map.prototype.createLayerRenderer=function(a){};ol.renderer.Map.prototype.disposeInternal=function(){for(var a in this.layerRenderers_){this.layerRenderers_[a].dispose()}};ol.renderer.Map.expireIconCache_=function(a,b){var c=ol.style.iconImageCache;c.expire()};ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f){var g;var h=b.viewState;var i=h.resolution;function j(a,e){var f=ol.getUid(a).toString();var g=b.layerStates[ol.getUid(e)].managed;if(!(f in b.skippedFeatureUids&&!g)){return c.call(d,a,g?e:null)}}var k=h.projection;var l=a;if(k.canWrapX()){var m=k.getExtent();var n=ol.extent.getWidth(m);var o=a[0];if(o<m[0]||o>m[2]){var p=Math.ceil((m[0]-o)/n);l=[o+n*p,a[1]]}}var q=b.layerStatesArray;var r=q.length;var s;for(s=r-1;s>=0;--s){var t=q[s];var u=t.layer;if(ol.layer.Layer.visibleAtResolution(t,i)&&e.call(f,u)){var v=this.getLayerRenderer(u);if(u.getSource()){g=v.forEachFeatureAtCoordinate(u.getSource().getWrapX()?l:a,b,j,d)}if(g){return g}}}return undefined};ol.renderer.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e,f){var g;var h=b.viewState;var i=h.resolution;var j=b.layerStatesArray;var k=j.length;var l;for(l=k-1;l>=0;--l){var m=j[l];var n=m.layer;if(ol.layer.Layer.visibleAtResolution(m,i)&&e.call(f,n)){var o=this.getLayerRenderer(n);g=o.forEachLayerAtPixel(a,b,c,d);if(g){return g}}}return undefined};ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(a,b,c,d){var e=this.forEachFeatureAtCoordinate(a,b,ol.functions.TRUE,this,c,d);return e!==undefined};ol.renderer.Map.prototype.getLayerRenderer=function(a){var b=ol.getUid(a).toString();if(b in this.layerRenderers_){return this.layerRenderers_[b]}else{var c=this.createLayerRenderer(a);this.layerRenderers_[b]=c;this.layerRendererListeners_[b]=ol.events.listen(c,ol.events.EventType.CHANGE,this.handleLayerRendererChange_,this);return c}};ol.renderer.Map.prototype.getLayerRendererByKey=function(a){goog.DEBUG&&console.assert(a in this.layerRenderers_,"given layerKey (%s) exists in layerRenderers",a);return this.layerRenderers_[a]};ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_};ol.renderer.Map.prototype.getMap=function(){return this.map_};ol.renderer.Map.prototype.getType=function(){};ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()};ol.renderer.Map.prototype.removeLayerRendererByKey_=function(a){goog.DEBUG&&console.assert(a in this.layerRenderers_,"given layerKey (%s) exists in layerRenderers",a);var b=this.layerRenderers_[a];delete this.layerRenderers_[a];goog.DEBUG&&console.assert(a in this.layerRendererListeners_,"given layerKey (%s) exists in layerRendererListeners",a);ol.events.unlistenByKey(this.layerRendererListeners_[a]);delete this.layerRendererListeners_[a];return b};ol.renderer.Map.prototype.renderFrame=ol.nullFunction;ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(a,b){var c;for(c in this.layerRenderers_){if(!b||!(c in b.layerStates)){this.removeLayerRendererByKey_(c).dispose()}}};ol.renderer.Map.prototype.scheduleExpireIconCache=function(a){a.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)};ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(a){var b;for(b in this.layerRenderers_){if(!(b in a.layerStates)){a.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this));return}}};ol.renderer.Map.sortByZIndex=function(a,b){return a.zIndex-b.zIndex};goog.provide("ol.Tile");goog.require("ol");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.Tile=function(a,b){ol.events.EventTarget.call(this);this.tileCoord=a;this.state=b;this.interimTile=null;this.key=""};ol.inherits(ol.Tile,ol.events.EventTarget);ol.Tile.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Tile.prototype.getImage=function(a){};ol.Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord};ol.Tile.prototype.getTileCoord=function(){return this.tileCoord};ol.Tile.prototype.getState=function(){return this.state};ol.Tile.prototype.load=function(){};ol.Tile.State={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};goog.provide("ol.structs.PriorityQueue");goog.require("ol.asserts");goog.require("ol.obj");ol.structs.PriorityQueue=function(a,b){this.priorityFunction_=a;this.keyFunction_=b;this.elements_=[];this.priorities_=[];this.queuedElements_={}};ol.structs.PriorityQueue.DROP=Infinity;if(goog.DEBUG){ol.structs.PriorityQueue.prototype.assertValid=function(){var a=this.elements_;var b=this.priorities_;var c=a.length;console.assert(b.length==c);var d,e;for(d=0;d<(c>>1)-1;++d){e=b[d];console.assert(e<=b[this.getLeftChildIndex_(d)],"priority smaller than or equal to priority of left child (%s <= %s)",e,b[this.getLeftChildIndex_(d)]);console.assert(e<=b[this.getRightChildIndex_(d)],"priority smaller than or equal to priority of right child (%s <= %s)",e,b[this.getRightChildIndex_(d)])}}}ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;ol.obj.clear(this.queuedElements_)};ol.structs.PriorityQueue.prototype.dequeue=function(){var a=this.elements_;goog.DEBUG&&console.assert(a.length>0,"must have elements in order to be able to dequeue");var b=this.priorities_;var c=a[0];if(a.length==1){a.length=0;b.length=0}else{a[0]=a.pop();b[0]=b.pop();this.siftUp_(0)}var d=this.keyFunction_(c);goog.DEBUG&&console.assert(d in this.queuedElements_,"key %s is not listed as queued",d);delete this.queuedElements_[d];return c};ol.structs.PriorityQueue.prototype.enqueue=function(a){ol.asserts.assert(!(this.keyFunction_(a)in this.queuedElements_),31);var b=this.priorityFunction_(a);if(b!=ol.structs.PriorityQueue.DROP){this.elements_.push(a);this.priorities_.push(b);this.queuedElements_[this.keyFunction_(a)]=true;this.siftDown_(0,this.elements_.length-1);return true}return false};ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length};ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(a){return a*2+1};ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(a){return a*2+2};ol.structs.PriorityQueue.prototype.getParentIndex_=function(a){return a-1>>1};ol.structs.PriorityQueue.prototype.heapify_=function(){var a;for(a=(this.elements_.length>>1)-1;a>=0;a--){this.siftUp_(a)}};ol.structs.PriorityQueue.prototype.isEmpty=function(){return this.elements_.length===0};ol.structs.PriorityQueue.prototype.isKeyQueued=function(a){return a in this.queuedElements_};ol.structs.PriorityQueue.prototype.isQueued=function(a){return this.isKeyQueued(this.keyFunction_(a))};ol.structs.PriorityQueue.prototype.siftUp_=function(a){var b=this.elements_;var c=this.priorities_;var d=b.length;var e=b[a];var f=c[a];var g=a;while(a<d>>1){var h=this.getLeftChildIndex_(a);var i=this.getRightChildIndex_(a);var j=i<d&&c[i]<c[h]?i:h;b[a]=b[j];c[a]=c[j];a=j}b[a]=e;c[a]=f;this.siftDown_(g,a)};ol.structs.PriorityQueue.prototype.siftDown_=function(a,b){var c=this.elements_;var d=this.priorities_;var e=c[b];var f=d[b];while(b>a){var g=this.getParentIndex_(b);if(d[g]>f){c[b]=c[g];d[b]=d[g];b=g}else{break}}c[b]=e;d[b]=f};ol.structs.PriorityQueue.prototype.reprioritize=function(){var a=this.priorityFunction_;var b=this.elements_;var c=this.priorities_;var d=0;var e=b.length;var f,g,h;for(g=0;g<e;++g){f=b[g];h=a(f);if(h==ol.structs.PriorityQueue.DROP){delete this.queuedElements_[this.keyFunction_(f)]}else{c[d]=h;b[d++]=f}}b.length=d;c.length=d;this.heapify_()};goog.provide("ol.TileQueue");goog.require("ol");goog.require("ol.Tile");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.structs.PriorityQueue");ol.TileQueue=function(a,b){ol.structs.PriorityQueue.call(this,(function(b){return a.apply(null,b)}),(function(a){return a[0].getKey()}));this.tileChangeCallback_=b;this.tilesLoading_=0;this.tilesLoadingKeys_={}};ol.inherits(ol.TileQueue,ol.structs.PriorityQueue);ol.TileQueue.prototype.enqueue=function(a){var b=ol.structs.PriorityQueue.prototype.enqueue.call(this,a);if(b){var c=a[0];ol.events.listen(c,ol.events.EventType.CHANGE,this.handleTileChange,this)}return b};ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_};ol.TileQueue.prototype.handleTileChange=function(a){var b=a.target;var c=b.getState();if(c===ol.Tile.State.LOADED||c===ol.Tile.State.ERROR||c===ol.Tile.State.EMPTY||c===ol.Tile.State.ABORT){ol.events.unlisten(b,ol.events.EventType.CHANGE,this.handleTileChange,this);var d=b.getKey();if(d in this.tilesLoadingKeys_){delete this.tilesLoadingKeys_[d];--this.tilesLoading_}this.tileChangeCallback_()}goog.DEBUG&&console.assert(Object.keys(this.tilesLoadingKeys_).length===this.tilesLoading_)};ol.TileQueue.prototype.loadMoreTiles=function(a,b){var c=0;var d,e;while(this.tilesLoading_<a&&c<b&&this.getCount()>0){d=this.dequeue()[0];e=d.getKey();if(d.getState()===ol.Tile.State.IDLE&&!(e in this.tilesLoadingKeys_)){this.tilesLoadingKeys_[e]=true;++this.tilesLoading_;++c;d.load()}goog.DEBUG&&console.assert(Object.keys(this.tilesLoadingKeys_).length===this.tilesLoading_)}};goog.provide("ol.Kinetic");goog.require("ol.animation");ol.Kinetic=function(a,b,c){this.decay_=a;this.minVelocity_=b;this.delay_=c;this.points_=[];this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.begin=function(){this.points_.length=0;this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.update=function(a,b){this.points_.push(a,b,Date.now())};ol.Kinetic.prototype.end=function(){if(this.points_.length<6){return false}var a=Date.now()-this.delay_;var b=this.points_.length-3;if(this.points_[b+2]<a){return false}var c=b-3;while(c>0&&this.points_[c+2]>a){c-=3}var d=this.points_[b+2]-this.points_[c+2];var e=this.points_[b]-this.points_[c];var f=this.points_[b+1]-this.points_[c+1];this.angle_=Math.atan2(f,e);this.initialVelocity_=Math.sqrt(e*e+f*f)/d;return this.initialVelocity_>this.minVelocity_};ol.Kinetic.prototype.pan=function(a){var b=this.decay_;var c=this.initialVelocity_;var d=this.minVelocity_-c;var e=this.getDuration_();var f=function(a){return c*(Math.exp(b*a*e)-1)/d};return ol.animation.pan({source:a,duration:e,easing:f})};ol.Kinetic.prototype.getDuration_=function(){return Math.log(this.minVelocity_/this.initialVelocity_)/this.decay_};ol.Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};ol.Kinetic.prototype.getAngle=function(){return this.angle_};goog.provide("ol.interaction.Interaction");goog.provide("ol.interaction.InteractionProperty");goog.require("ol");goog.require("ol.Object");goog.require("ol.animation");goog.require("ol.easing");ol.interaction.InteractionProperty={ACTIVE:"active"};ol.interaction.Interaction=function(a){ol.Object.call(this);this.map_=null;this.setActive(true);this.handleEvent=a.handleEvent};ol.inherits(ol.interaction.Interaction,ol.Object);ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.InteractionProperty.ACTIVE)};ol.interaction.Interaction.prototype.getMap=function(){return this.map_};ol.interaction.Interaction.prototype.setActive=function(a){this.set(ol.interaction.InteractionProperty.ACTIVE,a)};ol.interaction.Interaction.prototype.setMap=function(a){this.map_=a};ol.interaction.Interaction.pan=function(a,b,c,d){var e=b.getCenter();if(e){if(d&&d>0){a.beforeRender(ol.animation.pan({source:e,duration:d,
easing:ol.easing.linear}))}var f=b.constrainCenter([e[0]+c[0],e[1]+c[1]]);b.setCenter(f)}};ol.interaction.Interaction.rotate=function(a,b,c,d,e){c=b.constrainRotation(c,0);ol.interaction.Interaction.rotateWithoutConstraints(a,b,c,d,e)};ol.interaction.Interaction.rotateWithoutConstraints=function(a,b,c,d,e){if(c!==undefined){var f=b.getRotation();var g=b.getCenter();if(f!==undefined&&g&&e&&e>0){a.beforeRender(ol.animation.rotate({rotation:f,duration:e,easing:ol.easing.easeOut}));if(d){a.beforeRender(ol.animation.pan({source:g,duration:e,easing:ol.easing.easeOut}))}}b.rotate(c,d)}};ol.interaction.Interaction.zoom=function(a,b,c,d,e,f){c=b.constrainResolution(c,0,f);ol.interaction.Interaction.zoomWithoutConstraints(a,b,c,d,e)};ol.interaction.Interaction.zoomByDelta=function(a,b,c,d,e){var f=b.getResolution();var g=b.constrainResolution(f,c,0);ol.interaction.Interaction.zoomWithoutConstraints(a,b,g,d,e)};ol.interaction.Interaction.zoomWithoutConstraints=function(a,b,c,d,e){if(c){var f=b.getResolution();var g=b.getCenter();if(f!==undefined&&g&&c!==f&&e&&e>0){a.beforeRender(ol.animation.zoom({resolution:f,duration:e,easing:ol.easing.easeOut}));if(d){a.beforeRender(ol.animation.pan({source:g,duration:e,easing:ol.easing.easeOut}))}}if(d){var h=b.calculateCenterZoom(c,d);b.setCenter(h)}b.setResolution(c)}};goog.provide("ol.interaction.DoubleClickZoom");goog.require("ol");goog.require("ol.MapBrowserEvent.EventType");goog.require("ol.interaction.Interaction");ol.interaction.DoubleClickZoom=function(a){var b=a?a:{};this.delta_=b.delta?b.delta:1;ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent});this.duration_=b.duration!==undefined?b.duration:250};ol.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction);ol.interaction.DoubleClickZoom.handleEvent=function(a){var b=false;var c=a.originalEvent;if(a.type==ol.MapBrowserEvent.EventType.DBLCLICK){var d=a.map;var e=a.coordinate;var f=c.shiftKey?-this.delta_:this.delta_;var g=d.getView();ol.interaction.Interaction.zoomByDelta(d,g,f,e,this.duration_);a.preventDefault();b=true}return!b};goog.provide("ol.events.condition");goog.require("ol.asserts");goog.require("ol.functions");goog.require("ol.MapBrowserEvent.EventType");ol.events.condition.altKeyOnly=function(a){var b=a.originalEvent;return b.altKey&&!(b.metaKey||b.ctrlKey)&&!b.shiftKey};ol.events.condition.altShiftKeysOnly=function(a){var b=a.originalEvent;return b.altKey&&!(b.metaKey||b.ctrlKey)&&b.shiftKey};ol.events.condition.always=ol.functions.TRUE;ol.events.condition.click=function(a){return a.type==ol.MapBrowserEvent.EventType.CLICK};ol.events.condition.mouseActionButton=function(a){var b=a.originalEvent;return b.button==0&&!(goog.userAgent.WEBKIT&&ol.has.MAC&&b.ctrlKey)};ol.events.condition.never=ol.functions.FALSE;ol.events.condition.pointerMove=function(a){return a.type=="pointermove"};ol.events.condition.singleClick=function(a){return a.type==ol.MapBrowserEvent.EventType.SINGLECLICK};ol.events.condition.doubleClick=function(a){return a.type==ol.MapBrowserEvent.EventType.DBLCLICK};ol.events.condition.noModifierKeys=function(a){var b=a.originalEvent;return!b.altKey&&!(b.metaKey||b.ctrlKey)&&!b.shiftKey};ol.events.condition.platformModifierKeyOnly=function(a){var b=a.originalEvent;return!b.altKey&&(ol.has.MAC?b.metaKey:b.ctrlKey)&&!b.shiftKey};ol.events.condition.shiftKeyOnly=function(a){var b=a.originalEvent;return!b.altKey&&!(b.metaKey||b.ctrlKey)&&b.shiftKey};ol.events.condition.targetNotEditable=function(a){var b=a.originalEvent.target;var c=b.tagName;return c!=="INPUT"&&c!=="SELECT"&&c!=="TEXTAREA"};ol.events.condition.mouseOnly=function(a){ol.asserts.assert(a.pointerEvent,56);return a.pointerEvent.pointerType=="mouse"};ol.events.condition.primaryAction=function(a){var b=a.pointerEvent;return b.isPrimary&&b.button===0};goog.provide("ol.interaction.Pointer");goog.require("ol");goog.require("ol.MapBrowserEvent.EventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.interaction.Interaction");goog.require("ol.obj");ol.interaction.Pointer=function(a){var b=a?a:{};var c=b.handleEvent?b.handleEvent:ol.interaction.Pointer.handleEvent;ol.interaction.Interaction.call(this,{handleEvent:c});this.handleDownEvent_=b.handleDownEvent?b.handleDownEvent:ol.interaction.Pointer.handleDownEvent;this.handleDragEvent_=b.handleDragEvent?b.handleDragEvent:ol.interaction.Pointer.handleDragEvent;this.handleMoveEvent_=b.handleMoveEvent?b.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent;this.handleUpEvent_=b.handleUpEvent?b.handleUpEvent:ol.interaction.Pointer.handleUpEvent;this.handlingDownUpSequence=false;this.trackedPointers_={};this.targetPointers=[]};ol.inherits(ol.interaction.Pointer,ol.interaction.Interaction);ol.interaction.Pointer.centroid=function(a){var b=a.length;var c=0;var d=0;for(var e=0;e<b;e++){c+=a[e].clientX;d+=a[e].clientY}return[c/b,d/b]};ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(a){var b=a.type;return b===ol.MapBrowserEvent.EventType.POINTERDOWN||b===ol.MapBrowserEvent.EventType.POINTERDRAG||b===ol.MapBrowserEvent.EventType.POINTERUP};ol.interaction.Pointer.prototype.updateTrackedPointers_=function(a){if(this.isPointerDraggingEvent_(a)){var b=a.pointerEvent;if(a.type==ol.MapBrowserEvent.EventType.POINTERUP){delete this.trackedPointers_[b.pointerId]}else if(a.type==ol.MapBrowserEvent.EventType.POINTERDOWN){this.trackedPointers_[b.pointerId]=b}else if(b.pointerId in this.trackedPointers_){this.trackedPointers_[b.pointerId]=b}this.targetPointers=ol.obj.getValues(this.trackedPointers_)}};ol.interaction.Pointer.handleDragEvent=ol.nullFunction;ol.interaction.Pointer.handleUpEvent=ol.functions.FALSE;ol.interaction.Pointer.handleDownEvent=ol.functions.FALSE;ol.interaction.Pointer.handleMoveEvent=ol.nullFunction;ol.interaction.Pointer.handleEvent=function(a){if(!(a instanceof ol.MapBrowserPointerEvent)){return true}var b=false;this.updateTrackedPointers_(a);if(this.handlingDownUpSequence){if(a.type==ol.MapBrowserEvent.EventType.POINTERDRAG){this.handleDragEvent_(a)}else if(a.type==ol.MapBrowserEvent.EventType.POINTERUP){this.handlingDownUpSequence=this.handleUpEvent_(a)}}if(a.type==ol.MapBrowserEvent.EventType.POINTERDOWN){var c=this.handleDownEvent_(a);this.handlingDownUpSequence=c;b=this.shouldStopEvent(c)}else if(a.type==ol.MapBrowserEvent.EventType.POINTERMOVE){this.handleMoveEvent_(a)}return!b};ol.interaction.Pointer.prototype.shouldStopEvent=function(a){return a};goog.provide("ol.interaction.DragPan");goog.require("ol");goog.require("ol.View");goog.require("ol.coordinate");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.interaction.Pointer");ol.interaction.DragPan=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});var b=a?a:{};this.kinetic_=b.kinetic;this.kineticPreRenderFn_=null;this.lastCentroid=null;this.condition_=b.condition?b.condition:ol.events.condition.noModifierKeys;this.noKinetic_=false};ol.inherits(ol.interaction.DragPan,ol.interaction.Pointer);ol.interaction.DragPan.handleDragEvent_=function(a){goog.DEBUG&&console.assert(this.targetPointers.length>=1,"the length of this.targetPointers should be more than 1");var b=ol.interaction.Pointer.centroid(this.targetPointers);if(this.kinetic_){this.kinetic_.update(b[0],b[1])}if(this.lastCentroid){var c=this.lastCentroid[0]-b[0];var d=b[1]-this.lastCentroid[1];var e=a.map;var f=e.getView();var g=f.getState();var h=[c,d];ol.coordinate.scale(h,g.resolution);ol.coordinate.rotate(h,g.rotation);ol.coordinate.add(h,g.center);h=f.constrainCenter(h);f.setCenter(h)}this.lastCentroid=b};ol.interaction.DragPan.handleUpEvent_=function(a){var b=a.map;var c=b.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var d=this.kinetic_.getDistance();var e=this.kinetic_.getAngle();var f=c.getCenter();this.kineticPreRenderFn_=this.kinetic_.pan(f);b.beforeRender(this.kineticPreRenderFn_);var g=b.getPixelFromCoordinate(f);var h=b.getCoordinateFromPixel([g[0]-d*Math.cos(e),g[1]-d*Math.sin(e)]);h=c.constrainCenter(h);c.setCenter(h)}else{b.render()}c.setHint(ol.View.Hint.INTERACTING,-1);return false}else{this.lastCentroid=null;return true}};ol.interaction.DragPan.handleDownEvent_=function(a){if(this.targetPointers.length>0&&this.condition_(a)){var b=a.map;var c=b.getView();this.lastCentroid=null;if(!this.handlingDownUpSequence){c.setHint(ol.View.Hint.INTERACTING,1)}if(this.kineticPreRenderFn_&&b.removePreRenderFunction(this.kineticPreRenderFn_)){c.setCenter(a.frameState.viewState.center);this.kineticPreRenderFn_=null}if(this.kinetic_){this.kinetic_.begin()}this.noKinetic_=this.targetPointers.length>1;return true}else{return false}};ol.interaction.DragPan.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction.DragRotate");goog.require("ol");goog.require("ol.View");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.DragRotate=function(a){var b=a?a:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_});this.condition_=b.condition?b.condition:ol.events.condition.altShiftKeysOnly;this.lastAngle_=undefined;this.duration_=b.duration!==undefined?b.duration:250};ol.inherits(ol.interaction.DragRotate,ol.interaction.Pointer);ol.interaction.DragRotate.handleDragEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return}var b=a.map;var c=b.getSize();var d=a.pixel;var e=Math.atan2(c[1]/2-d[1],d[0]-c[0]/2);if(this.lastAngle_!==undefined){var f=e-this.lastAngle_;var g=b.getView();var h=g.getRotation();ol.interaction.Interaction.rotateWithoutConstraints(b,g,h-f)}this.lastAngle_=e};ol.interaction.DragRotate.handleUpEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return true}var b=a.map;var c=b.getView();c.setHint(ol.View.Hint.INTERACTING,-1);var d=c.getRotation();ol.interaction.Interaction.rotate(b,c,d,undefined,this.duration_);return false};ol.interaction.DragRotate.handleDownEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return false}if(ol.events.condition.mouseActionButton(a)&&this.condition_(a)){var b=a.map;b.getView().setHint(ol.View.Hint.INTERACTING,1);this.lastAngle_=undefined;return true}else{return false}};ol.interaction.DragRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.render.Box");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.geom.Polygon");ol.render.Box=function(a){this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.className="ol-box "+a;this.map_=null;this.startPixel_=null;this.endPixel_=null};ol.inherits(ol.render.Box,ol.Disposable);ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)};ol.render.Box.prototype.render_=function(){var a=this.startPixel_;var b=this.endPixel_;var c="px";var d=this.element_.style;d.left=Math.min(a[0],b[0])+c;d.top=Math.min(a[1],b[1])+c;d.width=Math.abs(b[0]-a[0])+c;d.height=Math.abs(b[1]-a[1])+c};ol.render.Box.prototype.setMap=function(a){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var b=this.element_.style;b.left=b.top=b.width=b.height="inherit"}this.map_=a;if(this.map_){this.map_.getOverlayContainer().appendChild(this.element_)}};ol.render.Box.prototype.setPixels=function(a,b){this.startPixel_=a;this.endPixel_=b;this.createOrUpdateGeometry();this.render_()};ol.render.Box.prototype.createOrUpdateGeometry=function(){var a=this.startPixel_;var b=this.endPixel_;var c=[a,[a[0],b[1]],b,[b[0],a[1]]];var d=c.map(this.map_.getCoordinateFromPixel,this.map_);d[4]=d[0].slice();if(!this.geometry_){this.geometry_=new ol.geom.Polygon([d])}else{this.geometry_.setCoordinates([d])}};ol.render.Box.prototype.getGeometry=function(){return this.geometry_};goog.provide("ol.interaction.DragBox");goog.provide("ol.DragBoxEvent");goog.require("ol.events.Event");goog.require("ol");goog.require("ol.events.condition");goog.require("ol.interaction.Pointer");goog.require("ol.render.Box");ol.DRAG_BOX_HYSTERESIS_PIXELS_SQUARED=ol.DRAG_BOX_HYSTERESIS_PIXELS*ol.DRAG_BOX_HYSTERESIS_PIXELS;ol.DragBoxEventType={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"};ol.DragBoxEvent=function(a,b,c){ol.events.Event.call(this,a);this.coordinate=b;this.mapBrowserEvent=c};ol.inherits(ol.DragBoxEvent,ol.events.Event);ol.interaction.DragBox=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});var b=a?a:{};this.box_=new ol.render.Box(b.className||"ol-dragbox");this.startPixel_=null;this.condition_=b.condition?b.condition:ol.events.condition.always;this.boxEndCondition_=b.boxEndCondition?b.boxEndCondition:ol.interaction.DragBox.defaultBoxEndCondition};ol.inherits(ol.interaction.DragBox,ol.interaction.Pointer);ol.interaction.DragBox.defaultBoxEndCondition=function(a,b,c){var d=c[0]-b[0];var e=c[1]-b[1];return d*d+e*e>=ol.DRAG_BOX_HYSTERESIS_PIXELS_SQUARED};ol.interaction.DragBox.handleDragEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return}this.box_.setPixels(this.startPixel_,a.pixel);this.dispatchEvent(new ol.DragBoxEvent(ol.DragBoxEventType.BOXDRAG,a.coordinate,a))};ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()};ol.interaction.DragBox.prototype.onBoxEnd=ol.nullFunction;ol.interaction.DragBox.handleUpEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return true}this.box_.setMap(null);if(this.boxEndCondition_(a,this.startPixel_,a.pixel)){this.onBoxEnd(a);this.dispatchEvent(new ol.DragBoxEvent(ol.DragBoxEventType.BOXEND,a.coordinate,a))}return false};ol.interaction.DragBox.handleDownEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return false}if(ol.events.condition.mouseActionButton(a)&&this.condition_(a)){this.startPixel_=a.pixel;this.box_.setMap(a.map);this.box_.setPixels(this.startPixel_,this.startPixel_);this.dispatchEvent(new ol.DragBoxEvent(ol.DragBoxEventType.BOXSTART,a.coordinate,a));return true}else{return false}};goog.provide("ol.interaction.DragZoom");goog.require("ol");goog.require("ol.animation");goog.require("ol.easing");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.interaction.DragBox");ol.interaction.DragZoom=function(a){var b=a?a:{};var c=b.condition?b.condition:ol.events.condition.shiftKeyOnly;this.duration_=b.duration!==undefined?b.duration:200;this.out_=b.out!==undefined?b.out:false;ol.interaction.DragBox.call(this,{condition:c,className:b.className||"ol-dragzoom"})};ol.inherits(ol.interaction.DragZoom,ol.interaction.DragBox);ol.interaction.DragZoom.prototype.onBoxEnd=function(){var a=this.getMap();var b=a.getView();var c=a.getSize();var d=this.getGeometry().getExtent();if(this.out_){var e=b.calculateExtent(c);var f=ol.extent.createOrUpdateFromCoordinates([a.getPixelFromCoordinate(ol.extent.getBottomLeft(d)),a.getPixelFromCoordinate(ol.extent.getTopRight(d))]);var g=b.getResolutionForExtent(f,c);ol.extent.scaleFromCenter(e,1/g);d=e}var h=b.constrainResolution(b.getResolutionForExtent(d,c));var i=b.getResolution();var j=b.getCenter();a.beforeRender(ol.animation.zoom({resolution:i,duration:this.duration_,easing:ol.easing.easeOut}));a.beforeRender(ol.animation.pan({source:j,duration:this.duration_,easing:ol.easing.easeOut}));b.setCenter(ol.extent.getCenter(d));b.setResolution(h)};goog.provide("ol.events.KeyCode");ol.events.KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40};goog.provide("ol.interaction.KeyboardPan");goog.require("ol");goog.require("ol.coordinate");goog.require("ol.events.EventType");goog.require("ol.events.KeyCode");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");ol.interaction.KeyboardPan=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardPan.handleEvent});var b=a||{};this.defaultCondition_=function(a){return ol.events.condition.noModifierKeys(a)&&ol.events.condition.targetNotEditable(a)};this.condition_=b.condition!==undefined?b.condition:this.defaultCondition_;this.duration_=b.duration!==undefined?b.duration:100;this.pixelDelta_=b.pixelDelta!==undefined?b.pixelDelta:128};ol.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction);ol.interaction.KeyboardPan.handleEvent=function(a){var b=false;if(a.type==ol.events.EventType.KEYDOWN){var c=a.originalEvent;var d=c.keyCode;if(this.condition_(a)&&(d==ol.events.KeyCode.DOWN||d==ol.events.KeyCode.LEFT||d==ol.events.KeyCode.RIGHT||d==ol.events.KeyCode.UP)){var e=a.map;var f=e.getView();var g=f.getResolution()*this.pixelDelta_;var h=0,i=0;if(d==ol.events.KeyCode.DOWN){i=-g}else if(d==ol.events.KeyCode.LEFT){h=-g}else if(d==ol.events.KeyCode.RIGHT){h=g}else{i=g}var j=[h,i];ol.coordinate.rotate(j,f.getRotation());ol.interaction.Interaction.pan(e,f,j,this.duration_);a.preventDefault();b=true}}return!b};goog.provide("ol.interaction.KeyboardZoom");goog.require("ol");goog.require("ol.events.EventType");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");ol.interaction.KeyboardZoom=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});var b=a?a:{};this.condition_=b.condition?b.condition:ol.events.condition.targetNotEditable;this.delta_=b.delta?b.delta:1;this.duration_=b.duration!==undefined?b.duration:100};ol.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction);ol.interaction.KeyboardZoom.handleEvent=function(a){var b=false;if(a.type==ol.events.EventType.KEYDOWN||a.type==ol.events.EventType.KEYPRESS){var c=a.originalEvent;var d=c.charCode;if(this.condition_(a)&&(d=="+".charCodeAt(0)||d=="-".charCodeAt(0))){var e=a.map;var f=d=="+".charCodeAt(0)?this.delta_:-this.delta_;var g=e.getView();ol.interaction.Interaction.zoomByDelta(e,g,f,undefined,this.duration_);a.preventDefault();b=true}}return!b};goog.provide("ol.interaction.MouseWheelZoom");goog.require("ol");goog.require("ol.events.EventType");goog.require("ol.interaction.Interaction");goog.require("ol.math");ol.interaction.MouseWheelZoom=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});var b=a||{};this.delta_=0;this.duration_=b.duration!==undefined?b.duration:250;this.useAnchor_=b.useAnchor!==undefined?b.useAnchor:true;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined};ol.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction);ol.interaction.MouseWheelZoom.handleEvent=function(a){var b=false;if(a.type==ol.events.EventType.WHEEL||a.type==ol.events.EventType.MOUSEWHEEL){var c=a.map;var d=a.originalEvent;if(this.useAnchor_){this.lastAnchor_=a.coordinate}var e;if(a.type==ol.events.EventType.WHEEL){e=d.deltaY;if(ol.has.FIREFOX&&d.deltaMode===ol.global.WheelEvent.DOM_DELTA_PIXEL){e/=ol.has.DEVICE_PIXEL_RATIO}if(d.deltaMode===ol.global.WheelEvent.DOM_DELTA_LINE){e*=40}}else if(a.type==ol.events.EventType.MOUSEWHEEL){e=-d.wheelDeltaY;if(ol.has.SAFARI){e/=3}}this.delta_+=e;if(this.startTime_===undefined){this.startTime_=Date.now()}var f=ol.MOUSEWHEELZOOM_TIMEOUT_DURATION;var g=Math.max(f-(Date.now()-this.startTime_),0);ol.global.clearTimeout(this.timeoutId_);this.timeoutId_=ol.global.setTimeout(this.doZoom_.bind(this,c),g);a.preventDefault();b=true}return!b};ol.interaction.MouseWheelZoom.prototype.doZoom_=function(a){var b=ol.MOUSEWHEELZOOM_MAXDELTA;var c=ol.math.clamp(this.delta_,-b,b);var d=a.getView();ol.interaction.Interaction.zoomByDelta(a,d,-c,this.lastAnchor_,this.duration_);this.delta_=0;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined};ol.interaction.MouseWheelZoom.prototype.setMouseAnchor=function(a){this.useAnchor_=a;if(!a){this.lastAnchor_=null}};goog.provide("ol.interaction.PinchRotate");goog.require("ol");goog.require("ol.View");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.PinchRotate=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});var b=a||{};this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;this.threshold_=b.threshold!==undefined?b.threshold:.3;this.duration_=b.duration!==undefined?b.duration:250};ol.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer);ol.interaction.PinchRotate.handleDragEvent_=function(a){goog.DEBUG&&console.assert(this.targetPointers.length>=2,"length of this.targetPointers should be greater than or equal to 2");var b=0;var c=this.targetPointers[0];var d=this.targetPointers[1];var e=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);if(this.lastAngle_!==undefined){var f=e-this.lastAngle_;this.rotationDelta_+=f;if(!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_){this.rotating_=true}b=f}this.lastAngle_=e;var g=a.map;var h=g.getViewport().getBoundingClientRect();var i=ol.interaction.Pointer.centroid(this.targetPointers);i[0]-=h.left;i[1]-=h.top;this.anchor_=g.getCoordinateFromPixel(i);if(this.rotating_){var j=g.getView();var k=j.getRotation();g.render();ol.interaction.Interaction.rotateWithoutConstraints(g,j,k+b,this.anchor_)}};ol.interaction.PinchRotate.handleUpEvent_=function(a){if(this.targetPointers.length<2){var b=a.map;var c=b.getView();c.setHint(ol.View.Hint.INTERACTING,-1);if(this.rotating_){var d=c.getRotation();ol.interaction.Interaction.rotate(b,c,d,this.anchor_,this.duration_)}return false}else{return true}};ol.interaction.PinchRotate.handleDownEvent_=function(a){if(this.targetPointers.length>=2){var b=a.map;this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;if(!this.handlingDownUpSequence){b.getView().setHint(ol.View.Hint.INTERACTING,1)}b.render();return true}else{return false}};ol.interaction.PinchRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction.PinchZoom");goog.require("ol");goog.require("ol.View");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.PinchZoom=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});var b=a?a:{};this.anchor_=null;this.duration_=b.duration!==undefined?b.duration:400;this.lastDistance_=undefined;this.lastScaleDelta_=1};ol.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer);ol.interaction.PinchZoom.handleDragEvent_=function(a){goog.DEBUG&&console.assert(this.targetPointers.length>=2,"length of this.targetPointers should be 2 or more");var b=1;var c=this.targetPointers[0];var d=this.targetPointers[1];var e=c.clientX-d.clientX;var f=c.clientY-d.clientY;var g=Math.sqrt(e*e+f*f);if(this.lastDistance_!==undefined){b=this.lastDistance_/g}this.lastDistance_=g;if(b!=1){this.lastScaleDelta_=b}var h=a.map;var i=h.getView();var j=i.getResolution();var k=h.getViewport().getBoundingClientRect();var l=ol.interaction.Pointer.centroid(this.targetPointers);l[0]-=k.left;l[1]-=k.top;this.anchor_=h.getCoordinateFromPixel(l);h.render();ol.interaction.Interaction.zoomWithoutConstraints(h,i,j*b,this.anchor_)};ol.interaction.PinchZoom.handleUpEvent_=function(a){if(this.targetPointers.length<2){var b=a.map;var c=b.getView();c.setHint(ol.View.Hint.INTERACTING,-1);var d=c.getResolution();var e=this.lastScaleDelta_-1;ol.interaction.Interaction.zoom(b,c,d,this.anchor_,this.duration_,e);return false}else{return true}};ol.interaction.PinchZoom.handleDownEvent_=function(a){if(this.targetPointers.length>=2){var b=a.map;this.anchor_=null;this.lastDistance_=undefined;this.lastScaleDelta_=1;if(!this.handlingDownUpSequence){b.getView().setHint(ol.View.Hint.INTERACTING,1)}b.render();return true}else{return false}};ol.interaction.PinchZoom.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction");goog.require("ol");goog.require("ol.Collection");goog.require("ol.Kinetic");goog.require("ol.interaction.DoubleClickZoom");goog.require("ol.interaction.DragPan");goog.require("ol.interaction.DragRotate");goog.require("ol.interaction.DragZoom");goog.require("ol.interaction.KeyboardPan");goog.require("ol.interaction.KeyboardZoom");goog.require("ol.interaction.MouseWheelZoom");goog.require("ol.interaction.PinchRotate");goog.require("ol.interaction.PinchZoom");ol.interaction.defaults=function(a){var b=a?a:{};var c=new ol.Collection;var d=new ol.Kinetic((-.005),.05,100);var e=b.altShiftDragRotate!==undefined?b.altShiftDragRotate:true;if(e){c.push(new ol.interaction.DragRotate)}var f=b.doubleClickZoom!==undefined?b.doubleClickZoom:true;if(f){c.push(new ol.interaction.DoubleClickZoom({delta:b.zoomDelta,duration:b.zoomDuration}))}var g=b.dragPan!==undefined?b.dragPan:true;if(g){c.push(new ol.interaction.DragPan({kinetic:d}))}var h=b.pinchRotate!==undefined?b.pinchRotate:true;if(h){c.push(new ol.interaction.PinchRotate)}var i=b.pinchZoom!==undefined?b.pinchZoom:true;if(i){c.push(new ol.interaction.PinchZoom({duration:b.zoomDuration}))}var j=b.keyboard!==undefined?b.keyboard:true;if(j){c.push(new ol.interaction.KeyboardPan);c.push(new ol.interaction.KeyboardZoom({delta:b.zoomDelta,duration:b.zoomDuration}))}var k=b.mouseWheelZoom!==undefined?b.mouseWheelZoom:true;if(k){c.push(new ol.interaction.MouseWheelZoom({duration:b.zoomDuration}))}var l=b.shiftDragZoom!==undefined?b.shiftDragZoom:true;if(l){c.push(new ol.interaction.DragZoom({duration:b.zoomDuration}))}return c};goog.provide("ol.layer.Group");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Collection");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.layer.Base");goog.require("ol.obj");goog.require("ol.source.State");ol.layer.GroupProperty={LAYERS:"layers"};ol.layer.Group=function(a){var b=a||{};var c=ol.obj.assign({},b);delete c.layers;var d=b.layers;ol.layer.Base.call(this,c);this.layersListenerKeys_=[];this.listenerKeys_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.GroupProperty.LAYERS),this.handleLayersChanged_,this);if(d){if(Array.isArray(d)){d=new ol.Collection(d.slice())}else{ol.asserts.assert(d instanceof ol.Collection,43);d=d}}else{d=new ol.Collection}this.setLayers(d)};ol.inherits(ol.layer.Group,ol.layer.Base);ol.layer.Group.prototype.handleLayerChange_=function(){if(this.getVisible()){this.changed()}};ol.layer.Group.prototype.handleLayersChanged_=function(a){this.layersListenerKeys_.forEach(ol.events.unlistenByKey);this.layersListenerKeys_.length=0;var b=this.getLayers();this.layersListenerKeys_.push(ol.events.listen(b,ol.Collection.EventType.ADD,this.handleLayersAdd_,this),ol.events.listen(b,ol.Collection.EventType.REMOVE,this.handleLayersRemove_,this));for(var c in this.listenerKeys_){this.listenerKeys_[c].forEach(ol.events.unlistenByKey)}ol.obj.clear(this.listenerKeys_);var d=b.getArray();var e,f,g;for(e=0,f=d.length;e<f;e++){g=d[e];this.listenerKeys_[ol.getUid(g).toString()]=[ol.events.listen(g,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(g,ol.events.EventType.CHANGE,this.handleLayerChange_,this)]}this.changed()};ol.layer.Group.prototype.handleLayersAdd_=function(a){var b=a.element;var c=ol.getUid(b).toString();goog.DEBUG&&console.assert(!(c in this.listenerKeys_),"listeners already registered");this.listenerKeys_[c]=[ol.events.listen(b,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(b,ol.events.EventType.CHANGE,this.handleLayerChange_,this)];this.changed()};ol.layer.Group.prototype.handleLayersRemove_=function(a){var b=a.element;var c=ol.getUid(b).toString();goog.DEBUG&&console.assert(c in this.listenerKeys_,"no listeners to unregister");this.listenerKeys_[c].forEach(ol.events.unlistenByKey);delete this.listenerKeys_[c];this.changed()};ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.GroupProperty.LAYERS)};ol.layer.Group.prototype.setLayers=function(a){this.set(ol.layer.GroupProperty.LAYERS,a)};ol.layer.Group.prototype.getLayersArray=function(a){var b=a!==undefined?a:[];this.getLayers().forEach((function(a){a.getLayersArray(b)}));return b};ol.layer.Group.prototype.getLayerStatesArray=function(a){var b=a!==undefined?a:[];var c=b.length;this.getLayers().forEach((function(a){a.getLayerStatesArray(b)}));var d=this.getLayerState();var e,f,g;for(e=c,f=b.length;e<f;e++){g=b[e];g.opacity*=d.opacity;g.visible=g.visible&&d.visible;g.maxResolution=Math.min(g.maxResolution,d.maxResolution);g.minResolution=Math.max(g.minResolution,d.minResolution);if(d.extent!==undefined){if(g.extent!==undefined){g.extent=ol.extent.getIntersection(g.extent,d.extent)}else{g.extent=d.extent}}}return b};ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY};goog.provide("ol.proj.EPSG3857");goog.require("ol");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");ol.proj.EPSG3857_=function(a){ol.proj.Projection.call(this,{code:a,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:true,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT})};ol.inherits(ol.proj.EPSG3857_,ol.proj.Projection);ol.proj.EPSG3857_.prototype.getPointResolution=function(a,b){return a/ol.math.cosh(b[1]/ol.proj.EPSG3857.RADIUS)};ol.proj.EPSG3857.RADIUS=6378137;ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS;ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE];ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85];ol.proj.EPSG3857.CODES=["EPSG:3857","EPSG:102100","EPSG:102113","EPSG:900913","urn:ogc:def:crs:EPSG:6.18:3:3857","urn:ogc:def:crs:EPSG::3857","http://www.opengis.net/gml/srs/epsg.xml#3857"];ol.proj.EPSG3857.PROJECTIONS=ol.proj.EPSG3857.CODES.map((function(a){return new ol.proj.EPSG3857_(a)}));ol.proj.EPSG3857.fromEPSG4326=function(a,b,c){var d=a.length,e=c>1?c:2,f=b;if(f===undefined){if(e>2){f=a.slice()}else{f=new Array(d)}}goog.DEBUG&&console.assert(f.length%e===0,"modulus of output.length with dimension should be 0");for(var g=0;g<d;g+=e){f[g]=ol.proj.EPSG3857.RADIUS*Math.PI*a[g]/180;f[g+1]=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(a[g+1]+90)/360))}return f};ol.proj.EPSG3857.toEPSG4326=function(a,b,c){var d=a.length,e=c>1?c:2,f=b;if(f===undefined){if(e>2){f=a.slice()}else{f=new Array(d)}}goog.DEBUG&&console.assert(f.length%e===0,"modulus of output.length with dimension should be 0");for(var g=0;g<d;g+=e){f[g]=180*a[g]/(ol.proj.EPSG3857.RADIUS*Math.PI);f[g+1]=360*Math.atan(Math.exp(a[g+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90}return f};goog.provide("ol.sphere.WGS84");goog.require("ol.Sphere");ol.sphere.WGS84=new ol.Sphere(6378137);goog.provide("ol.proj.EPSG4326");goog.require("ol");goog.require("ol.proj");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.sphere.WGS84");ol.proj.EPSG4326_=function(a,b){ol.proj.Projection.call(this,{code:a,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:b,global:true,metersPerUnit:ol.proj.EPSG4326.METERS_PER_UNIT,worldExtent:ol.proj.EPSG4326.EXTENT})};ol.inherits(ol.proj.EPSG4326_,ol.proj.Projection);ol.proj.EPSG4326_.prototype.getPointResolution=function(a,b){return a};ol.proj.EPSG4326.EXTENT=[-180,-90,180,90];ol.proj.EPSG4326.METERS_PER_UNIT=Math.PI*ol.sphere.WGS84.radius/180;ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326_("CRS:84"),new ol.proj.EPSG4326_("EPSG:4326","neu"),new ol.proj.EPSG4326_("urn:ogc:def:crs:EPSG::4326","neu"),new ol.proj.EPSG4326_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ol.proj.EPSG4326_("urn:ogc:def:crs:OGC:1.3:CRS84"),new ol.proj.EPSG4326_("urn:ogc:def:crs:OGC:2:84"),new ol.proj.EPSG4326_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ol.proj.EPSG4326_("urn:x-ogc:def:crs:EPSG:4326","neu")];
goog.provide("ol.proj.common");goog.require("ol.proj");goog.require("ol.proj.EPSG3857");goog.require("ol.proj.EPSG4326");ol.proj.common.add=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS);ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS);ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)};goog.provide("ol.layer.Image");goog.require("ol");goog.require("ol.layer.Layer");ol.layer.Image=function(a){var b=a?a:{};ol.layer.Layer.call(this,b)};ol.inherits(ol.layer.Image,ol.layer.Layer);ol.layer.Image.prototype.getSource;goog.provide("ol.layer.Tile");goog.require("ol");goog.require("ol.layer.Layer");goog.require("ol.obj");ol.layer.TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};ol.layer.Tile=function(a){var b=a?a:{};var c=ol.obj.assign({},b);delete c.preload;delete c.useInterimTilesOnError;ol.layer.Layer.call(this,c);this.setPreload(b.preload!==undefined?b.preload:0);this.setUseInterimTilesOnError(b.useInterimTilesOnError!==undefined?b.useInterimTilesOnError:true)};ol.inherits(ol.layer.Tile,ol.layer.Layer);ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)};ol.layer.Tile.prototype.getSource;ol.layer.Tile.prototype.setPreload=function(a){this.set(ol.layer.TileProperty.PRELOAD,a)};ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.Tile.prototype.setUseInterimTilesOnError=function(a){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,a)};goog.provide("ol.render.canvas");ol.render.canvas.defaultFont="10px sans-serif";ol.render.canvas.defaultFillStyle=[0,0,0,1];ol.render.canvas.defaultLineCap="round";ol.render.canvas.defaultLineDash=[];ol.render.canvas.defaultLineJoin="round";ol.render.canvas.defaultMiterLimit=10;ol.render.canvas.defaultStrokeStyle=[0,0,0,1];ol.render.canvas.defaultTextAlign="center";ol.render.canvas.defaultTextBaseline="middle";ol.render.canvas.defaultLineWidth=1;ol.render.canvas.rotateAtOffset=function(a,b,c,d){if(b!==0){a.translate(c,d);a.rotate(b);a.translate(-c,-d)}};goog.provide("ol.style.Image");goog.provide("ol.style.ImageState");ol.style.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3};ol.style.Image=function(a){this.opacity_=a.opacity;this.rotateWithView_=a.rotateWithView;this.rotation_=a.rotation;this.scale_=a.scale;this.snapToPixel_=a.snapToPixel};ol.style.Image.prototype.getOpacity=function(){return this.opacity_};ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Image.prototype.getRotation=function(){return this.rotation_};ol.style.Image.prototype.getScale=function(){return this.scale_};ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_};ol.style.Image.prototype.getAnchor=function(){};ol.style.Image.prototype.getImage=function(a){};ol.style.Image.prototype.getHitDetectionImage=function(a){};ol.style.Image.prototype.getImageState=function(){};ol.style.Image.prototype.getImageSize=function(){};ol.style.Image.prototype.getHitDetectionImageSize=function(){};ol.style.Image.prototype.getOrigin=function(){};ol.style.Image.prototype.getSize=function(){};ol.style.Image.prototype.setOpacity=function(a){this.opacity_=a};ol.style.Image.prototype.setRotateWithView=function(a){this.rotateWithView_=a};ol.style.Image.prototype.setRotation=function(a){this.rotation_=a};ol.style.Image.prototype.setScale=function(a){this.scale_=a};ol.style.Image.prototype.setSnapToPixel=function(a){this.snapToPixel_=a};ol.style.Image.prototype.listenImageChange=function(a,b){};ol.style.Image.prototype.load=function(){};ol.style.Image.prototype.unlistenImageChange=function(a,b){};goog.provide("ol.style.Circle");goog.require("ol");goog.require("ol.color");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.has");goog.require("ol.render.canvas");goog.require("ol.style.Image");goog.require("ol.style.ImageState");ol.style.Circle=function(a){var b=a||{};this.checksums_=null;this.canvas_=null;this.hitDetectionCanvas_=null;this.fill_=b.fill!==undefined?b.fill:null;this.stroke_=b.stroke!==undefined?b.stroke:null;this.radius_=b.radius;this.origin_=[0,0];this.anchor_=null;this.size_=null;this.imageSize_=null;this.hitDetectionImageSize_=null;this.render_(b.atlasManager);var c=b.snapToPixel!==undefined?b.snapToPixel:true;ol.style.Image.call(this,{opacity:1,rotateWithView:false,rotation:0,scale:1,snapToPixel:c})};ol.inherits(ol.style.Circle,ol.style.Image);ol.style.Circle.prototype.getAnchor=function(){return this.anchor_};ol.style.Circle.prototype.getFill=function(){return this.fill_};ol.style.Circle.prototype.getHitDetectionImage=function(a){return this.hitDetectionCanvas_};ol.style.Circle.prototype.getImage=function(a){return this.canvas_};ol.style.Circle.prototype.getImageState=function(){return ol.style.ImageState.LOADED};ol.style.Circle.prototype.getImageSize=function(){return this.imageSize_};ol.style.Circle.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};ol.style.Circle.prototype.getOrigin=function(){return this.origin_};ol.style.Circle.prototype.getRadius=function(){return this.radius_};ol.style.Circle.prototype.getSize=function(){return this.size_};ol.style.Circle.prototype.getStroke=function(){return this.stroke_};ol.style.Circle.prototype.listenImageChange=ol.nullFunction;ol.style.Circle.prototype.load=ol.nullFunction;ol.style.Circle.prototype.unlistenImageChange=ol.nullFunction;ol.style.Circle.prototype.render_=function(a){var b;var c=null;var d;var e=0;if(this.stroke_){d=ol.color.asString(this.stroke_.getColor());e=this.stroke_.getWidth();if(e===undefined){e=ol.render.canvas.defaultLineWidth}c=this.stroke_.getLineDash();if(!ol.has.CANVAS_LINE_DASH){c=null}}var f=2*(this.radius_+e)+1;var g={strokeStyle:d,strokeWidth:e,size:f,lineDash:c};if(a===undefined){var h=ol.dom.createCanvasContext2D(f,f);this.canvas_=h.canvas;f=this.canvas_.width;b=f;this.draw_(g,h,0,0);this.createHitDetectionCanvas_(g)}else{f=Math.round(f);var i=!this.fill_;var j;if(i){j=this.drawHitDetectionCanvas_.bind(this,g)}var k=this.getChecksum();var l=a.add(k,f,f,this.draw_.bind(this,g),j);goog.DEBUG&&console.assert(l,"circle radius is too large");this.canvas_=l.image;this.origin_=[l.offsetX,l.offsetY];b=l.image.width;if(i){this.hitDetectionCanvas_=l.hitImage;this.hitDetectionImageSize_=[l.hitImage.width,l.hitImage.height]}else{this.hitDetectionCanvas_=this.canvas_;this.hitDetectionImageSize_=[b,b]}}this.anchor_=[f/2,f/2];this.size_=[f,f];this.imageSize_=[b,b]};ol.style.Circle.prototype.draw_=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();b.arc(a.size/2,a.size/2,this.radius_,0,2*Math.PI,true);if(this.fill_){b.fillStyle=ol.colorlike.asColorLike(this.fill_.getColor());b.fill()}if(this.stroke_){b.strokeStyle=a.strokeStyle;b.lineWidth=a.strokeWidth;if(a.lineDash){b.setLineDash(a.lineDash)}b.stroke()}b.closePath()};ol.style.Circle.prototype.createHitDetectionCanvas_=function(a){this.hitDetectionImageSize_=[a.size,a.size];if(this.fill_){this.hitDetectionCanvas_=this.canvas_;return}var b=ol.dom.createCanvasContext2D(a.size,a.size);this.hitDetectionCanvas_=b.canvas;this.drawHitDetectionCanvas_(a,b,0,0)};ol.style.Circle.prototype.drawHitDetectionCanvas_=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();b.arc(a.size/2,a.size/2,this.radius_,0,2*Math.PI,true);b.fillStyle=ol.color.asString(ol.render.canvas.defaultFillStyle);b.fill();if(this.stroke_){b.strokeStyle=a.strokeStyle;b.lineWidth=a.strokeWidth;if(a.lineDash){b.setLineDash(a.lineDash)}b.stroke()}b.closePath()};ol.style.Circle.prototype.getChecksum=function(){var a=this.stroke_?this.stroke_.getChecksum():"-";var b=this.fill_?this.fill_.getChecksum():"-";var c=!this.checksums_||(a!=this.checksums_[1]||b!=this.checksums_[2]||this.radius_!=this.checksums_[3]);if(c){var d="c"+a+b+(this.radius_!==undefined?this.radius_.toString():"-");this.checksums_=[d,a,b,this.radius_]}return this.checksums_[0]};goog.provide("ol.style.Fill");goog.require("ol");goog.require("ol.color");ol.style.Fill=function(a){var b=a||{};this.color_=b.color!==undefined?b.color:null;this.checksum_=undefined};ol.style.Fill.prototype.getColor=function(){return this.color_};ol.style.Fill.prototype.setColor=function(a){this.color_=a;this.checksum_=undefined};ol.style.Fill.prototype.getChecksum=function(){if(this.checksum_===undefined){if(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient){this.checksum_=ol.getUid(this.color_).toString()}else{this.checksum_="f"+(this.color_?ol.color.asString(this.color_):"-")}}return this.checksum_};goog.provide("goog.crypt");goog.require("goog.array");goog.require("goog.asserts");goog.crypt.stringToByteArray=function(a){var b=[],c=0;for(var d=0;d<a.length;d++){var e=a.charCodeAt(d);while(e>255){b[c++]=e&255;e>>=8}b[c++]=e}return b};goog.crypt.byteArrayToString=function(a){var b=8192;if(a.length<=b){return String.fromCharCode.apply(null,a)}var c="";for(var d=0;d<a.length;d+=b){var e=goog.array.slice(a,d,d+b);c+=String.fromCharCode.apply(null,e)}return c};goog.crypt.byteArrayToHex=function(a){return goog.array.map(a,(function(a){var b=a.toString(16);return b.length>1?b:"0"+b})).join("")};goog.crypt.hexToByteArray=function(a){goog.asserts.assert(a.length%2==0,"Key string length must be multiple of 2");var b=[];for(var c=0;c<a.length;c+=2){b.push(parseInt(a.substring(c,c+2),16))}return b};goog.crypt.stringToUtf8ByteArray=function(a){var b=[],c=0;for(var d=0;d<a.length;d++){var e=a.charCodeAt(d);if(e<128){b[c++]=e}else if(e<2048){b[c++]=e>>6|192;b[c++]=e&63|128}else if((e&64512)==55296&&d+1<a.length&&(a.charCodeAt(d+1)&64512)==56320){e=65536+((e&1023)<<10)+(a.charCodeAt(++d)&1023);b[c++]=e>>18|240;b[c++]=e>>12&63|128;b[c++]=e>>6&63|128;b[c++]=e&63|128}else{b[c++]=e>>12|224;b[c++]=e>>6&63|128;b[c++]=e&63|128}}return b};goog.crypt.utf8ByteArrayToString=function(a){var b=[],c=0,d=0;while(c<a.length){var e=a[c++];if(e<128){b[d++]=String.fromCharCode(e)}else if(e>191&&e<224){var f=a[c++];b[d++]=String.fromCharCode((e&31)<<6|f&63)}else if(e>239&&e<365){var f=a[c++];var g=a[c++];var h=a[c++];var i=((e&7)<<18|(f&63)<<12|(g&63)<<6|h&63)-65536;b[d++]=String.fromCharCode(55296+(i>>10));b[d++]=String.fromCharCode(56320+(i&1023))}else{var f=a[c++];var g=a[c++];b[d++]=String.fromCharCode((e&15)<<12|(f&63)<<6|g&63)}}return b.join("")};goog.crypt.xorByteArray=function(a,b){goog.asserts.assert(a.length==b.length,"XOR array lengths must match");var c=[];for(var d=0;d<a.length;d++){c.push(a[d]^b[d])}return c};goog.provide("goog.crypt.Hash");goog.crypt.Hash=function(){this.blockSize=-1};goog.crypt.Hash.prototype.reset=goog.abstractMethod;goog.crypt.Hash.prototype.update=goog.abstractMethod;goog.crypt.Hash.prototype.digest=goog.abstractMethod;goog.provide("goog.crypt.Md5");goog.require("goog.crypt.Hash");goog.crypt.Md5=function(){goog.crypt.Md5.base(this,"constructor");this.blockSize=512/8;this.chain_=new Array(4);this.block_=new Array(this.blockSize);this.blockLength_=0;this.totalLength_=0;this.reset()};goog.inherits(goog.crypt.Md5,goog.crypt.Hash);goog.crypt.Md5.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.blockLength_=0;this.totalLength_=0};goog.crypt.Md5.prototype.compress_=function(a,b){if(!b){b=0}var c=new Array(16);if(goog.isString(a)){for(var d=0;d<16;++d){c[d]=a.charCodeAt(b++)|a.charCodeAt(b++)<<8|a.charCodeAt(b++)<<16|a.charCodeAt(b++)<<24}}else{for(var d=0;d<16;++d){c[d]=a[b++]|a[b++]<<8|a[b++]<<16|a[b++]<<24}}var e=this.chain_[0];var f=this.chain_[1];var g=this.chain_[2];var h=this.chain_[3];var i=0;i=e+(h^f&(g^h))+c[0]+3614090360&4294967295;e=f+(i<<7&4294967295|i>>>25);i=h+(g^e&(f^g))+c[1]+3905402710&4294967295;h=e+(i<<12&4294967295|i>>>20);i=g+(f^h&(e^f))+c[2]+606105819&4294967295;g=h+(i<<17&4294967295|i>>>15);i=f+(e^g&(h^e))+c[3]+3250441966&4294967295;f=g+(i<<22&4294967295|i>>>10);i=e+(h^f&(g^h))+c[4]+4118548399&4294967295;e=f+(i<<7&4294967295|i>>>25);i=h+(g^e&(f^g))+c[5]+1200080426&4294967295;h=e+(i<<12&4294967295|i>>>20);i=g+(f^h&(e^f))+c[6]+2821735955&4294967295;g=h+(i<<17&4294967295|i>>>15);i=f+(e^g&(h^e))+c[7]+4249261313&4294967295;f=g+(i<<22&4294967295|i>>>10);i=e+(h^f&(g^h))+c[8]+1770035416&4294967295;e=f+(i<<7&4294967295|i>>>25);i=h+(g^e&(f^g))+c[9]+2336552879&4294967295;h=e+(i<<12&4294967295|i>>>20);i=g+(f^h&(e^f))+c[10]+4294925233&4294967295;g=h+(i<<17&4294967295|i>>>15);i=f+(e^g&(h^e))+c[11]+2304563134&4294967295;f=g+(i<<22&4294967295|i>>>10);i=e+(h^f&(g^h))+c[12]+1804603682&4294967295;e=f+(i<<7&4294967295|i>>>25);i=h+(g^e&(f^g))+c[13]+4254626195&4294967295;h=e+(i<<12&4294967295|i>>>20);i=g+(f^h&(e^f))+c[14]+2792965006&4294967295;g=h+(i<<17&4294967295|i>>>15);i=f+(e^g&(h^e))+c[15]+1236535329&4294967295;f=g+(i<<22&4294967295|i>>>10);i=e+(g^h&(f^g))+c[1]+4129170786&4294967295;e=f+(i<<5&4294967295|i>>>27);i=h+(f^g&(e^f))+c[6]+3225465664&4294967295;h=e+(i<<9&4294967295|i>>>23);i=g+(e^f&(h^e))+c[11]+643717713&4294967295;g=h+(i<<14&4294967295|i>>>18);i=f+(h^e&(g^h))+c[0]+3921069994&4294967295;f=g+(i<<20&4294967295|i>>>12);i=e+(g^h&(f^g))+c[5]+3593408605&4294967295;e=f+(i<<5&4294967295|i>>>27);i=h+(f^g&(e^f))+c[10]+38016083&4294967295;h=e+(i<<9&4294967295|i>>>23);i=g+(e^f&(h^e))+c[15]+3634488961&4294967295;g=h+(i<<14&4294967295|i>>>18);i=f+(h^e&(g^h))+c[4]+3889429448&4294967295;f=g+(i<<20&4294967295|i>>>12);i=e+(g^h&(f^g))+c[9]+568446438&4294967295;e=f+(i<<5&4294967295|i>>>27);i=h+(f^g&(e^f))+c[14]+3275163606&4294967295;h=e+(i<<9&4294967295|i>>>23);i=g+(e^f&(h^e))+c[3]+4107603335&4294967295;g=h+(i<<14&4294967295|i>>>18);i=f+(h^e&(g^h))+c[8]+1163531501&4294967295;f=g+(i<<20&4294967295|i>>>12);i=e+(g^h&(f^g))+c[13]+2850285829&4294967295;e=f+(i<<5&4294967295|i>>>27);i=h+(f^g&(e^f))+c[2]+4243563512&4294967295;h=e+(i<<9&4294967295|i>>>23);i=g+(e^f&(h^e))+c[7]+1735328473&4294967295;g=h+(i<<14&4294967295|i>>>18);i=f+(h^e&(g^h))+c[12]+2368359562&4294967295;f=g+(i<<20&4294967295|i>>>12);i=e+(f^g^h)+c[5]+4294588738&4294967295;e=f+(i<<4&4294967295|i>>>28);i=h+(e^f^g)+c[8]+2272392833&4294967295;h=e+(i<<11&4294967295|i>>>21);i=g+(h^e^f)+c[11]+1839030562&4294967295;g=h+(i<<16&4294967295|i>>>16);i=f+(g^h^e)+c[14]+4259657740&4294967295;f=g+(i<<23&4294967295|i>>>9);i=e+(f^g^h)+c[1]+2763975236&4294967295;e=f+(i<<4&4294967295|i>>>28);i=h+(e^f^g)+c[4]+1272893353&4294967295;h=e+(i<<11&4294967295|i>>>21);i=g+(h^e^f)+c[7]+4139469664&4294967295;g=h+(i<<16&4294967295|i>>>16);i=f+(g^h^e)+c[10]+3200236656&4294967295;f=g+(i<<23&4294967295|i>>>9);i=e+(f^g^h)+c[13]+681279174&4294967295;e=f+(i<<4&4294967295|i>>>28);i=h+(e^f^g)+c[0]+3936430074&4294967295;h=e+(i<<11&4294967295|i>>>21);i=g+(h^e^f)+c[3]+3572445317&4294967295;g=h+(i<<16&4294967295|i>>>16);i=f+(g^h^e)+c[6]+76029189&4294967295;f=g+(i<<23&4294967295|i>>>9);i=e+(f^g^h)+c[9]+3654602809&4294967295;e=f+(i<<4&4294967295|i>>>28);i=h+(e^f^g)+c[12]+3873151461&4294967295;h=e+(i<<11&4294967295|i>>>21);i=g+(h^e^f)+c[15]+530742520&4294967295;g=h+(i<<16&4294967295|i>>>16);i=f+(g^h^e)+c[2]+3299628645&4294967295;f=g+(i<<23&4294967295|i>>>9);i=e+(g^(f|~h))+c[0]+4096336452&4294967295;e=f+(i<<6&4294967295|i>>>26);i=h+(f^(e|~g))+c[7]+1126891415&4294967295;h=e+(i<<10&4294967295|i>>>22);i=g+(e^(h|~f))+c[14]+2878612391&4294967295;g=h+(i<<15&4294967295|i>>>17);i=f+(h^(g|~e))+c[5]+4237533241&4294967295;f=g+(i<<21&4294967295|i>>>11);i=e+(g^(f|~h))+c[12]+1700485571&4294967295;e=f+(i<<6&4294967295|i>>>26);i=h+(f^(e|~g))+c[3]+2399980690&4294967295;h=e+(i<<10&4294967295|i>>>22);i=g+(e^(h|~f))+c[10]+4293915773&4294967295;g=h+(i<<15&4294967295|i>>>17);i=f+(h^(g|~e))+c[1]+2240044497&4294967295;f=g+(i<<21&4294967295|i>>>11);i=e+(g^(f|~h))+c[8]+1873313359&4294967295;e=f+(i<<6&4294967295|i>>>26);i=h+(f^(e|~g))+c[15]+4264355552&4294967295;h=e+(i<<10&4294967295|i>>>22);i=g+(e^(h|~f))+c[6]+2734768916&4294967295;g=h+(i<<15&4294967295|i>>>17);i=f+(h^(g|~e))+c[13]+1309151649&4294967295;f=g+(i<<21&4294967295|i>>>11);i=e+(g^(f|~h))+c[4]+4149444226&4294967295;e=f+(i<<6&4294967295|i>>>26);i=h+(f^(e|~g))+c[11]+3174756917&4294967295;h=e+(i<<10&4294967295|i>>>22);i=g+(e^(h|~f))+c[2]+718787259&4294967295;g=h+(i<<15&4294967295|i>>>17);i=f+(h^(g|~e))+c[9]+3951481745&4294967295;f=g+(i<<21&4294967295|i>>>11);this.chain_[0]=this.chain_[0]+e&4294967295;this.chain_[1]=this.chain_[1]+f&4294967295;this.chain_[2]=this.chain_[2]+g&4294967295;this.chain_[3]=this.chain_[3]+h&4294967295};goog.crypt.Md5.prototype.update=function(a,b){if(!goog.isDef(b)){b=a.length}var c=b-this.blockSize;var d=this.block_;var e=this.blockLength_;var f=0;while(f<b){if(e==0){while(f<=c){this.compress_(a,f);f+=this.blockSize}}if(goog.isString(a)){while(f<b){d[e++]=a.charCodeAt(f++);if(e==this.blockSize){this.compress_(d);e=0;break}}}else{while(f<b){d[e++]=a[f++];if(e==this.blockSize){this.compress_(d);e=0;break}}}}this.blockLength_=e;this.totalLength_+=b};goog.crypt.Md5.prototype.digest=function(){var a=new Array((this.blockLength_<56?this.blockSize:this.blockSize*2)-this.blockLength_);a[0]=128;for(var b=1;b<a.length-8;++b){a[b]=0}var c=this.totalLength_*8;for(var b=a.length-8;b<a.length;++b){a[b]=c&255;c/=256}this.update(a);var d=new Array(16);var e=0;for(var b=0;b<4;++b){for(var f=0;f<32;f+=8){d[e++]=this.chain_[b]>>>f&255}}return d};goog.provide("ol.style.Stroke");goog.require("goog.crypt");goog.require("goog.crypt.Md5");goog.require("ol.color");ol.style.Stroke=function(a){var b=a||{};this.color_=b.color!==undefined?b.color:null;this.lineCap_=b.lineCap;this.lineDash_=b.lineDash!==undefined?b.lineDash:null;this.lineJoin_=b.lineJoin;this.miterLimit_=b.miterLimit;this.width_=b.width;this.checksum_=undefined};ol.style.Stroke.prototype.getColor=function(){return this.color_};ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_};ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_};ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_};ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_};ol.style.Stroke.prototype.getWidth=function(){return this.width_};ol.style.Stroke.prototype.setColor=function(a){this.color_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setLineCap=function(a){this.lineCap_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setLineDash=function(a){this.lineDash_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setLineJoin=function(a){this.lineJoin_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setMiterLimit=function(a){this.miterLimit_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setWidth=function(a){this.width_=a;this.checksum_=undefined};ol.style.Stroke.prototype.getChecksum=function(){if(this.checksum_===undefined){var a="s"+(this.color_?ol.color.asString(this.color_):"-")+","+(this.lineCap_!==undefined?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(this.lineJoin_!==undefined?this.lineJoin_:"-")+","+(this.miterLimit_!==undefined?this.miterLimit_.toString():"-")+","+(this.width_!==undefined?this.width_.toString():"-");var b=new goog.crypt.Md5;b.update(a);this.checksum_=goog.crypt.byteArrayToString(b.digest())}return this.checksum_};goog.provide("ol.style.Style");goog.require("ol.asserts");goog.require("ol.geom.GeometryType");goog.require("ol.style.Circle");goog.require("ol.style.Fill");goog.require("ol.style.Stroke");ol.style.Style=function(a){var b=a||{};this.geometry_=null;this.geometryFunction_=ol.style.Style.defaultGeometryFunction;if(b.geometry!==undefined){this.setGeometry(b.geometry)}this.fill_=b.fill!==undefined?b.fill:null;this.image_=b.image!==undefined?b.image:null;this.stroke_=b.stroke!==undefined?b.stroke:null;this.text_=b.text!==undefined?b.text:null;this.zIndex_=b.zIndex};ol.style.Style.prototype.getGeometry=function(){return this.geometry_};ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_};ol.style.Style.prototype.getFill=function(){return this.fill_};ol.style.Style.prototype.getImage=function(){return this.image_};ol.style.Style.prototype.getStroke=function(){return this.stroke_};ol.style.Style.prototype.getText=function(){return this.text_};ol.style.Style.prototype.getZIndex=function(){return this.zIndex_};ol.style.Style.prototype.setGeometry=function(a){if(typeof a==="function"){this.geometryFunction_=a}else if(typeof a==="string"){this.geometryFunction_=function(b){return b.get(a)}}else if(!a){this.geometryFunction_=ol.style.Style.defaultGeometryFunction}else if(a!==undefined){this.geometryFunction_=function(){return a}}this.geometry_=a};ol.style.Style.prototype.setZIndex=function(a){this.zIndex_=a};ol.style.Style.createFunction=function(a){var b;if(typeof a==="function"){b=a}else{var c;if(Array.isArray(a)){c=a}else{ol.asserts.assert(a instanceof ol.style.Style,41);c=[a]}b=function(){return c}}return b};ol.style.Style.default_=null;ol.style.Style.defaultFunction=function(a,b){if(!ol.style.Style.default_){var c=new ol.style.Fill({color:"rgba(255,255,255,0.4)"});var d=new ol.style.Stroke({color:"#3399CC",width:1.25});ol.style.Style.default_=[new ol.style.Style({image:new ol.style.Circle({fill:c,stroke:d,radius:5}),fill:c,stroke:d})]}return ol.style.Style.default_};ol.style.Style.createDefaultEditing=function(){var a={};var b=[255,255,255,1];var c=[0,153,255,1];var d=3;a[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})];a[ol.geom.GeometryType.MULTI_POLYGON]=a[ol.geom.GeometryType.POLYGON];a[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:b,width:d+2})}),new ol.style.Style({stroke:new ol.style.Stroke({color:c,width:d})})];a[ol.geom.GeometryType.MULTI_LINE_STRING]=a[ol.geom.GeometryType.LINE_STRING];a[ol.geom.GeometryType.CIRCLE]=a[ol.geom.GeometryType.POLYGON].concat(a[ol.geom.GeometryType.LINE_STRING]);a[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:d*2,fill:new ol.style.Fill({color:c}),stroke:new ol.style.Stroke({color:b,width:d/2})}),zIndex:Infinity})];a[ol.geom.GeometryType.MULTI_POINT]=a[ol.geom.GeometryType.POINT];a[ol.geom.GeometryType.GEOMETRY_COLLECTION]=a[ol.geom.GeometryType.POLYGON].concat(a[ol.geom.GeometryType.LINE_STRING],a[ol.geom.GeometryType.POINT]);return a};ol.style.Style.defaultGeometryFunction=function(a){return a.getGeometry()};goog.provide("ol.layer.Vector");goog.require("ol");goog.require("ol.layer.Layer");goog.require("ol.obj");goog.require("ol.style.Style");ol.layer.VectorProperty={RENDER_ORDER:"renderOrder"};ol.layer.Vector=function(a){var b=a?a:{};goog.DEBUG&&console.assert(b.renderOrder===undefined||!b.renderOrder||typeof b.renderOrder==="function","renderOrder must be a comparator function");var c=ol.obj.assign({},b);delete c.style;delete c.renderBuffer;delete c.updateWhileAnimating;delete c.updateWhileInteracting;ol.layer.Layer.call(this,c);this.renderBuffer_=b.renderBuffer!==undefined?b.renderBuffer:100;this.style_=null;this.styleFunction_=undefined;this.setStyle(b.style);this.updateWhileAnimating_=b.updateWhileAnimating!==undefined?b.updateWhileAnimating:false;this.updateWhileInteracting_=b.updateWhileInteracting!==undefined?b.updateWhileInteracting:false};ol.inherits(ol.layer.Vector,ol.layer.Layer);ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_};ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.VectorProperty.RENDER_ORDER)};ol.layer.Vector.prototype.getSource;ol.layer.Vector.prototype.getStyle=function(){return this.style_};ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_};ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};ol.layer.Vector.prototype.setRenderOrder=function(a){goog.DEBUG&&console.assert(a===undefined||!a||typeof a==="function","renderOrder must be a comparator function");this.set(ol.layer.VectorProperty.RENDER_ORDER,a)};ol.layer.Vector.prototype.setStyle=function(a){this.style_=a!==undefined?a:ol.style.Style.defaultFunction;this.styleFunction_=a===null?undefined:ol.style.Style.createFunction(this.style_);this.changed()};goog.provide("ol.layer.VectorTile");goog.require("ol");goog.require("ol.asserts");goog.require("ol.layer.Vector");goog.require("ol.obj");ol.layer.VectorTileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};ol.layer.VectorTileRenderType={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};ol.layer.VectorTile=function(a){var b=a?a:{};var c=ol.obj.assign({},b);delete c.preload;delete c.useInterimTilesOnError;ol.layer.Vector.call(this,c);this.setPreload(b.preload?b.preload:0);this.setUseInterimTilesOnError(b.useInterimTilesOnError?b.useInterimTilesOnError:true);ol.asserts.assert(b.renderMode==undefined||b.renderMode==ol.layer.VectorTileRenderType.IMAGE||b.renderMode==ol.layer.VectorTileRenderType.HYBRID||b.renderMode==ol.layer.VectorTileRenderType.VECTOR,28);this.renderMode_=b.renderMode||ol.layer.VectorTileRenderType.HYBRID};ol.inherits(ol.layer.VectorTile,ol.layer.Vector);ol.layer.VectorTile.prototype.getPreload=function(){return this.get(ol.layer.VectorTileProperty.PRELOAD)};ol.layer.VectorTile.prototype.getRenderMode=function(){return this.renderMode_};ol.layer.VectorTile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.VectorTileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.VectorTile.prototype.setPreload=function(a){this.set(ol.layer.TileProperty.PRELOAD,a)};ol.layer.VectorTile.prototype.setUseInterimTilesOnError=function(a){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,a)};goog.provide("ol.render.VectorContext");ol.render.VectorContext=function(){};ol.render.VectorContext.prototype.drawGeometry=function(a){};ol.render.VectorContext.prototype.setStyle=function(a){};ol.render.VectorContext.prototype.drawCircle=function(a,b){};ol.render.VectorContext.prototype.drawFeature=function(a,b){};ol.render.VectorContext.prototype.drawGeometryCollection=function(a,b){};ol.render.VectorContext.prototype.drawLineString=function(a,b){};ol.render.VectorContext.prototype.drawMultiLineString=function(a,b){};ol.render.VectorContext.prototype.drawMultiPoint=function(a,b){};ol.render.VectorContext.prototype.drawMultiPolygon=function(a,b){};ol.render.VectorContext.prototype.drawPoint=function(a,b){};ol.render.VectorContext.prototype.drawPolygon=function(a,b){};ol.render.VectorContext.prototype.drawText=function(a,b,c,d,e,f){};ol.render.VectorContext.prototype.setFillStrokeStyle=function(a,b){};ol.render.VectorContext.prototype.setImageStyle=function(a){};ol.render.VectorContext.prototype.setTextStyle=function(a){};goog.provide("ol.render.canvas.Immediate");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.colorlike");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.transform");goog.require("ol.has");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas");goog.require("ol.transform");ol.render.canvas.Immediate=function(a,b,c,d,e){ol.render.VectorContext.call(this);this.context_=a;this.pixelRatio_=b;this.extent_=c;this.transform_=d;this.viewRotation_=e;this.contextFillState_=null;this.contextStrokeState_=null;this.contextTextState_=null;this.fillState_=null;this.strokeState_=null;this.image_=null;this.imageAnchorX_=0;this.imageAnchorY_=0;this.imageHeight_=0;this.imageOpacity_=0;this.imageOriginX_=0;this.imageOriginY_=0;this.imageRotateWithView_=false;this.imageRotation_=0;this.imageScale_=0;this.imageSnapToPixel_=false;this.imageWidth_=0;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=false;this.textRotation_=0;this.textScale_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Immediate,ol.render.VectorContext);ol.render.canvas.Immediate.prototype.drawImages_=function(a,b,c,d){if(!this.image_){return}goog.DEBUG&&console.assert(b===0,"offset should be 0");goog.DEBUG&&console.assert(c==a.length,"end should be equal to the length of flatCoordinates");var e=ol.geom.flat.transform.transform2D(a,b,c,2,this.transform_,this.pixelCoordinates_);var f=this.context_;var g=this.tmpLocalTransform_;var h=f.globalAlpha;if(this.imageOpacity_!=1){f.globalAlpha=h*this.imageOpacity_}var i=this.imageRotation_;if(this.imageRotateWithView_){i+=this.viewRotation_}var j,k;for(j=0,k=e.length;j<k;j+=2){var l=e[j]-this.imageAnchorX_;var m=e[j+1]-this.imageAnchorY_;if(this.imageSnapToPixel_){l=Math.round(l);m=Math.round(m)}if(i!==0||this.imageScale_!=1){var n=l+this.imageAnchorX_;var o=m+this.imageAnchorY_;ol.transform.compose(g,n,o,this.imageScale_,this.imageScale_,i,-n,-o);f.setTransform.apply(f,g)}f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,l,m,this.imageWidth_,this.imageHeight_)}if(i!==0||this.imageScale_!=1){f.setTransform(1,0,0,1,0,0)}if(this.imageOpacity_!=1){f.globalAlpha=h}};ol.render.canvas.Immediate.prototype.drawText_=function(a,b,c,d){if(!this.textState_||this.text_===""){return}if(this.textFillState_){this.setContextFillState_(this.textFillState_)}if(this.textStrokeState_){this.setContextStrokeState_(this.textStrokeState_)}this.setContextTextState_(this.textState_);goog.DEBUG&&console.assert(b===0,"offset should be 0");goog.DEBUG&&console.assert(c==a.length,"end should be equal to the length of flatCoordinates");var e=ol.geom.flat.transform.transform2D(a,b,c,d,this.transform_,this.pixelCoordinates_);var f=this.context_;var g=this.textRotation_;if(this.textRotateWithView_){g+=this.viewRotation_}for(;b<c;b+=d){var h=e[b]+this.textOffsetX_;var i=e[b+1]+this.textOffsetY_;if(g!==0||this.textScale_!=1){var j=ol.transform.compose(this.tmpLocalTransform_,h,i,this.textScale_,this.textScale_,g,-h,-i);f.setTransform.apply(f,j)}if(this.textStrokeState_){f.strokeText(this.text_,h,i)}if(this.textFillState_){f.fillText(this.text_,h,i)}}if(g!==0||this.textScale_!=1){f.setTransform(1,0,0,1,0,0)}};ol.render.canvas.Immediate.prototype.moveToLineTo_=function(a,b,c,d,e){var f=this.context_;var g=ol.geom.flat.transform.transform2D(a,b,c,d,this.transform_,this.pixelCoordinates_);f.moveTo(g[0],g[1]);var h=g.length;if(e){h-=2}for(var i=2;i<h;i+=2){f.lineTo(g[i],g[i+1])}if(e){f.closePath()}return c};ol.render.canvas.Immediate.prototype.drawRings_=function(a,b,c,d){var e,f;for(e=0,f=c.length;e<f;++e){b=this.moveToLineTo_(a,b,c[e],d,true)}return b};ol.render.canvas.Immediate.prototype.drawCircle=function(a){if(!ol.extent.intersects(this.extent_,a.getExtent())){return}if(this.fillState_||this.strokeState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var b=ol.geom.SimpleGeometry.transform2D(a,this.transform_,this.pixelCoordinates_);var c=b[2]-b[0];var d=b[3]-b[1];var e=Math.sqrt(c*c+d*d);var f=this.context_;f.beginPath();f.arc(b[0],b[1],e,0,2*Math.PI);if(this.fillState_){f.fill()}if(this.strokeState_){f.stroke()}}if(this.text_!==""){this.drawText_(a.getCenter(),0,2,2)}};ol.render.canvas.Immediate.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};ol.render.canvas.Immediate.prototype.drawGeometry=function(a){var b=a.getType();switch(b){case ol.geom.GeometryType.POINT:this.drawPoint(a);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(a);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(a);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(a);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(a);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(a);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:
this.drawGeometryCollection(a);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(a);break;default:goog.DEBUG&&console.assert(false,"Unsupported geometry type: "+b)}};ol.render.canvas.Immediate.prototype.drawFeature=function(a,b){var c=b.getGeometryFunction()(a);if(!c||!ol.extent.intersects(this.extent_,c.getExtent())){return}this.setStyle(b);this.drawGeometry(c)};ol.render.canvas.Immediate.prototype.drawGeometryCollection=function(a){var b=a.getGeometriesArray();var c,d;for(c=0,d=b.length;c<d;++c){this.drawGeometry(b[c])}};ol.render.canvas.Immediate.prototype.drawPoint=function(a){var b=a.getFlatCoordinates();var c=a.getStride();if(this.image_){this.drawImages_(b,0,b.length,c)}if(this.text_!==""){this.drawText_(b,0,b.length,c)}};ol.render.canvas.Immediate.prototype.drawMultiPoint=function(a){var b=a.getFlatCoordinates();var c=a.getStride();if(this.image_){this.drawImages_(b,0,b.length,c)}if(this.text_!==""){this.drawText_(b,0,b.length,c)}};ol.render.canvas.Immediate.prototype.drawLineString=function(a){if(!ol.extent.intersects(this.extent_,a.getExtent())){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var b=this.context_;var c=a.getFlatCoordinates();b.beginPath();this.moveToLineTo_(c,0,c.length,a.getStride(),false);b.stroke()}if(this.text_!==""){var d=a.getFlatMidpoint();this.drawText_(d,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiLineString=function(a){var b=a.getExtent();if(!ol.extent.intersects(this.extent_,b)){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var c=this.context_;var d=a.getFlatCoordinates();var e=0;var f=a.getEnds();var g=a.getStride();c.beginPath();var h,i;for(h=0,i=f.length;h<i;++h){e=this.moveToLineTo_(d,e,f[h],g,false)}c.stroke()}if(this.text_!==""){var j=a.getFlatMidpoints();this.drawText_(j,0,j.length,2)}};ol.render.canvas.Immediate.prototype.drawPolygon=function(a){if(!ol.extent.intersects(this.extent_,a.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var b=this.context_;b.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());if(this.fillState_){b.fill()}if(this.strokeState_){b.stroke()}}if(this.text_!==""){var c=a.getFlatInteriorPoint();this.drawText_(c,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiPolygon=function(a){if(!ol.extent.intersects(this.extent_,a.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var b=this.context_;var c=a.getOrientedFlatCoordinates();var d=0;var e=a.getEndss();var f=a.getStride();var g,h;for(g=0,h=e.length;g<h;++g){var i=e[g];b.beginPath();d=this.drawRings_(c,d,i,f);if(this.fillState_){b.fill()}if(this.strokeState_){b.stroke()}}}if(this.text_!==""){var j=a.getFlatInteriorPoints();this.drawText_(j,0,j.length,2)}};ol.render.canvas.Immediate.prototype.setContextFillState_=function(a){var b=this.context_;var c=this.contextFillState_;if(!c){b.fillStyle=a.fillStyle;this.contextFillState_={fillStyle:a.fillStyle}}else{if(c.fillStyle!=a.fillStyle){c.fillStyle=b.fillStyle=a.fillStyle}}};ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(a){var b=this.context_;var c=this.contextStrokeState_;if(!c){b.lineCap=a.lineCap;if(ol.has.CANVAS_LINE_DASH){b.setLineDash(a.lineDash)}b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.strokeStyle=a.strokeStyle;this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle}}else{if(c.lineCap!=a.lineCap){c.lineCap=b.lineCap=a.lineCap}if(ol.has.CANVAS_LINE_DASH){if(!ol.array.equals(c.lineDash,a.lineDash)){b.setLineDash(c.lineDash=a.lineDash)}}if(c.lineJoin!=a.lineJoin){c.lineJoin=b.lineJoin=a.lineJoin}if(c.lineWidth!=a.lineWidth){c.lineWidth=b.lineWidth=a.lineWidth}if(c.miterLimit!=a.miterLimit){c.miterLimit=b.miterLimit=a.miterLimit}if(c.strokeStyle!=a.strokeStyle){c.strokeStyle=b.strokeStyle=a.strokeStyle}}};ol.render.canvas.Immediate.prototype.setContextTextState_=function(a){var b=this.context_;var c=this.contextTextState_;if(!c){b.font=a.font;b.textAlign=a.textAlign;b.textBaseline=a.textBaseline;this.contextTextState_={font:a.font,textAlign:a.textAlign,textBaseline:a.textBaseline}}else{if(c.font!=a.font){c.font=b.font=a.font}if(c.textAlign!=a.textAlign){c.textAlign=b.textAlign=a.textAlign}if(c.textBaseline!=a.textBaseline){c.textBaseline=b.textBaseline=a.textBaseline}}};ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(a,b){if(!a){this.fillState_=null}else{var c=a.getColor();this.fillState_={fillStyle:ol.colorlike.asColorLike(c?c:ol.render.canvas.defaultFillStyle)}}if(!b){this.strokeState_=null}else{var d=b.getColor();var e=b.getLineCap();var f=b.getLineDash();var g=b.getLineJoin();var h=b.getWidth();var i=b.getMiterLimit();this.strokeState_={lineCap:e!==undefined?e:ol.render.canvas.defaultLineCap,lineDash:f?f:ol.render.canvas.defaultLineDash,lineJoin:g!==undefined?g:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(h!==undefined?h:ol.render.canvas.defaultLineWidth),miterLimit:i!==undefined?i:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.color.asString(d?d:ol.render.canvas.defaultStrokeStyle)}}};ol.render.canvas.Immediate.prototype.setImageStyle=function(a){if(!a){this.image_=null}else{var b=a.getAnchor();var c=a.getImage(1);var d=a.getOrigin();var e=a.getSize();goog.DEBUG&&console.assert(c,"imageImage must be truthy");this.imageAnchorX_=b[0];this.imageAnchorY_=b[1];this.imageHeight_=e[1];this.image_=c;this.imageOpacity_=a.getOpacity();this.imageOriginX_=d[0];this.imageOriginY_=d[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();this.imageScale_=a.getScale();this.imageSnapToPixel_=a.getSnapToPixel();this.imageWidth_=e[0]}};ol.render.canvas.Immediate.prototype.setTextStyle=function(a){if(!a){this.text_=""}else{var b=a.getFill();if(!b){this.textFillState_=null}else{var c=b.getColor();this.textFillState_={fillStyle:ol.colorlike.asColorLike(c?c:ol.render.canvas.defaultFillStyle)}}var d=a.getStroke();if(!d){this.textStrokeState_=null}else{var e=d.getColor();var f=d.getLineCap();var g=d.getLineDash();var h=d.getLineJoin();var i=d.getWidth();var j=d.getMiterLimit();this.textStrokeState_={lineCap:f!==undefined?f:ol.render.canvas.defaultLineCap,lineDash:g?g:ol.render.canvas.defaultLineDash,lineJoin:h!==undefined?h:ol.render.canvas.defaultLineJoin,lineWidth:i!==undefined?i:ol.render.canvas.defaultLineWidth,miterLimit:j!==undefined?j:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.color.asString(e?e:ol.render.canvas.defaultStrokeStyle)}}var k=a.getFont();var l=a.getOffsetX();var m=a.getOffsetY();var n=a.getRotateWithView();var o=a.getRotation();var p=a.getScale();var q=a.getText();var r=a.getTextAlign();var s=a.getTextBaseline();this.textState_={font:k!==undefined?k:ol.render.canvas.defaultFont,textAlign:r!==undefined?r:ol.render.canvas.defaultTextAlign,textBaseline:s!==undefined?s:ol.render.canvas.defaultTextBaseline};this.text_=q!==undefined?q:"";this.textOffsetX_=l!==undefined?this.pixelRatio_*l:0;this.textOffsetY_=m!==undefined?this.pixelRatio_*m:0;this.textRotateWithView_=n!==undefined?n:false;this.textRotation_=o!==undefined?o:0;this.textScale_=this.pixelRatio_*(p!==undefined?p:1)}};goog.provide("ol.ImageBase");goog.provide("ol.ImageState");goog.require("ol");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3};ol.ImageBase=function(a,b,c,d,e){ol.events.EventTarget.call(this);this.attributions_=e;this.extent=a;this.pixelRatio_=c;this.resolution=b;this.state=d};ol.inherits(ol.ImageBase,ol.events.EventTarget);ol.ImageBase.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.ImageBase.prototype.getAttributions=function(){return this.attributions_};ol.ImageBase.prototype.getExtent=function(){return this.extent};ol.ImageBase.prototype.getImage=function(a){};ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_};ol.ImageBase.prototype.getResolution=function(){goog.DEBUG&&console.assert(this.resolution!==undefined,"resolution not yet set");return this.resolution};ol.ImageBase.prototype.getState=function(){return this.state};ol.ImageBase.prototype.load=function(){};goog.provide("ol.renderer.Layer");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.Observable");goog.require("ol.Tile");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.functions");goog.require("ol.source.State");goog.require("ol.transform");ol.renderer.Layer=function(a){ol.Observable.call(this);this.layer_=a};ol.inherits(ol.renderer.Layer,ol.Observable);ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.renderer.Layer.prototype.forEachLayerAtPixel=function(a,b,c,d){var e=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());var f=this.forEachFeatureAtCoordinate(e,b,ol.functions.TRUE,this);if(f){return c.call(d,this.layer_,null)}else{return undefined}};ol.renderer.Layer.prototype.hasFeatureAtCoordinate=ol.functions.FALSE;ol.renderer.Layer.prototype.createLoadedTileFinder=function(a,b,c){return function(d,e){function f(a){if(!c[d]){c[d]={}}c[d][a.tileCoord.toString()]=a}return a.forEachLoadedTile(b,d,e,f)}};ol.renderer.Layer.prototype.getLayer=function(){return this.layer_};ol.renderer.Layer.prototype.handleImageChange_=function(a){var b=a.target;if(b.getState()===ol.ImageState.LOADED){this.renderIfReadyAndVisible()}};ol.renderer.Layer.prototype.loadImage=function(a){var b=a.getState();if(b!=ol.ImageState.LOADED&&b!=ol.ImageState.ERROR){goog.DEBUG&&console.assert(b==ol.ImageState.IDLE||b==ol.ImageState.LOADING,'imageState is "idle" or "loading"');ol.events.listen(a,ol.events.EventType.CHANGE,this.handleImageChange_,this)}if(b==ol.ImageState.IDLE){a.load();b=a.getState();goog.DEBUG&&console.assert(b==ol.ImageState.LOADING||b==ol.ImageState.LOADED,'imageState is "loading" or "loaded"')}return b==ol.ImageState.LOADED};ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var a=this.getLayer();if(a.getVisible()&&a.getSourceState()==ol.source.State.READY){this.changed()}};ol.renderer.Layer.prototype.scheduleExpireCache=function(a,b){if(b.canExpireCache()){var c=function(a,b,c){var d=ol.getUid(a).toString();a.expireCache(c.viewState.projection,c.usedTiles[d])}.bind(null,b);a.postRenderFunctions.push(c)}};ol.renderer.Layer.prototype.updateAttributions=function(a,b){if(b){var c,d,e;for(d=0,e=b.length;d<e;++d){c=b[d];a[ol.getUid(c).toString()]=c}}};ol.renderer.Layer.prototype.updateLogos=function(a,b){var c=b.getLogo();if(c!==undefined){if(typeof c==="string"){a.logos[c]=""}else if(c){ol.asserts.assert(typeof c.href=="string",44);ol.asserts.assert(typeof c.src=="string",45);a.logos[c.src]=c.href}}};ol.renderer.Layer.prototype.updateUsedTiles=function(a,b,c,d){var e=ol.getUid(b).toString();var f=c.toString();if(e in a){if(f in a[e]){a[e][f].extend(d)}else{a[e][f]=d}}else{a[e]={};a[e][f]=d}};ol.renderer.Layer.prototype.snapCenterToPixel=function(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]};ol.renderer.Layer.prototype.manageTilePyramid=function(a,b,c,d,e,f,g,h,i,j){var k=ol.getUid(b).toString();if(!(k in a.wantedTiles)){a.wantedTiles[k]={}}var l=a.wantedTiles[k];var m=a.tileQueue;var n=c.getMinZoom();var o,p,q,r,s,t;for(t=g;t>=n;--t){p=c.getTileRangeForExtentAndZ(f,t,p);q=c.getResolution(t);for(r=p.minX;r<=p.maxX;++r){for(s=p.minY;s<=p.maxY;++s){if(g-t<=h){o=b.getTile(t,r,s,d,e);if(o.getState()==ol.Tile.State.IDLE){l[o.getKey()]=true;if(!m.isKeyQueued(o.getKey())){m.enqueue([o,k,c.getTileCoordCenter(o.tileCoord),q])}}if(i!==undefined){i.call(j,o)}}else{b.useTile(t,r,s,e)}}}}};goog.provide("ol.renderer.canvas.Layer");goog.require("ol");goog.require("ol.extent");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Immediate");goog.require("ol.renderer.Layer");goog.require("ol.transform");ol.renderer.canvas.Layer=function(a){ol.renderer.Layer.call(this,a);this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer);ol.renderer.canvas.Layer.prototype.clip=function(a,b,c){var d=b.pixelRatio;var e=b.size[0]*d;var f=b.size[1]*d;var g=b.viewState.rotation;var h=ol.extent.getTopLeft(c);var i=ol.extent.getTopRight(c);var j=ol.extent.getBottomRight(c);var k=ol.extent.getBottomLeft(c);ol.transform.apply(b.coordinateToPixelTransform,h);ol.transform.apply(b.coordinateToPixelTransform,i);ol.transform.apply(b.coordinateToPixelTransform,j);ol.transform.apply(b.coordinateToPixelTransform,k);a.save();ol.render.canvas.rotateAtOffset(a,-g,e/2,f/2);a.beginPath();a.moveTo(h[0]*d,h[1]*d);a.lineTo(i[0]*d,i[1]*d);a.lineTo(j[0]*d,j[1]*d);a.lineTo(k[0]*d,k[1]*d);a.clip();ol.render.canvas.rotateAtOffset(a,g,e/2,f/2)};ol.renderer.canvas.Layer.prototype.composeFrame=function(a,b,c){this.dispatchPreComposeEvent(c,a);var d=this.getImage();if(d){var e=b.extent;var f=e!==undefined;if(f){this.clip(c,a,e)}var g=this.getImageTransform();var h=c.globalAlpha;c.globalAlpha=b.opacity;var i=g[4];var j=g[5];var k=d.width*g[0];var l=d.height*g[3];c.drawImage(d,0,0,+d.width,+d.height,Math.round(i),Math.round(j),Math.round(k),Math.round(l));c.globalAlpha=h;if(f){c.restore()}}this.dispatchPostComposeEvent(c,a)};ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(a,b,c,d){var e=this.getLayer();if(e.hasListener(a)){var f=c.size[0]*c.pixelRatio;var g=c.size[1]*c.pixelRatio;var h=c.viewState.rotation;ol.render.canvas.rotateAtOffset(b,-h,f/2,g/2);var i=d!==undefined?d:this.getTransform(c,0);var j=new ol.render.canvas.Immediate(b,c.pixelRatio,c.extent,i,c.viewState.rotation);var k=new ol.render.Event(a,j,c,b,null);e.dispatchEvent(k);ol.render.canvas.rotateAtOffset(b,h,f/2,g/2)}};ol.renderer.canvas.Layer.prototype.dispatchPostComposeEvent=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a,b,c)};ol.renderer.canvas.Layer.prototype.dispatchPreComposeEvent=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a,b,c)};ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.RENDER,a,b,c)};ol.renderer.canvas.Layer.prototype.getImage=function(){};ol.renderer.canvas.Layer.prototype.getImageTransform=function(){};ol.renderer.canvas.Layer.prototype.getTransform=function(a,b){var c=a.viewState;var d=a.pixelRatio;var e=d*a.size[0]/2;var f=d*a.size[1]/2;var g=d/c.resolution;var h=-g;var i=-c.rotation;var j=-c.center[0]+b;var k=-c.center[1];return ol.transform.compose(this.transform_,e,f,g,h,i,j,k)};ol.renderer.canvas.Layer.prototype.prepareFrame=function(a,b){};ol.renderer.canvas.Layer.prototype.getPixelOnCanvas=function(a,b){return ol.transform.apply(b,a.slice())};goog.provide("ol.render.ReplayGroup");ol.render.ReplayGroup=function(){};ol.render.ReplayGroup.prototype.getReplay=function(a,b){};ol.render.ReplayGroup.prototype.isEmpty=function(){};goog.provide("ol.render.ReplayType");ol.render.ReplayType={IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};goog.provide("ol.render.replay");goog.require("ol.render.ReplayType");ol.render.replay.ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT];goog.provide("ol.render.canvas.Replay");goog.provide("ol.render.canvas.ImageReplay");goog.provide("ol.render.canvas.LineStringReplay");goog.provide("ol.render.canvas.PolygonReplay");goog.provide("ol.render.canvas.ReplayGroup");goog.provide("ol.render.canvas.TextReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.extent.Relationship");goog.require("ol.geom.flat.simplify");goog.require("ol.geom.flat.transform");goog.require("ol.has");goog.require("ol.obj");goog.require("ol.render.ReplayGroup");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas");goog.require("ol.render.replay");goog.require("ol.transform");ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,DRAW_IMAGE:4,DRAW_TEXT:5,END_GEOMETRY:6,FILL:7,MOVE_TO_LINE_TO:8,SET_FILL_STYLE:9,SET_STROKE_STYLE:10,SET_TEXT_STYLE:11,STROKE:12};ol.render.canvas.Replay=function(a,b,c,d){ol.render.VectorContext.call(this);this.tolerance=a;this.maxExtent=b;this.overlaps=d;this.bufferedMaxExtent_=null;this.maxLineWidth=0;this.resolution=c;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_=null;this.instructions=[];this.coordinates=[];this.renderedTransform_=ol.transform.create();this.hitDetectionInstructions=[];this.pixelCoordinates_=[];this.tmpLocalTransform_=ol.transform.create();this.tmpLocalTransformInv_=ol.transform.create()};ol.inherits(ol.render.canvas.Replay,ol.render.VectorContext);ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(a,b,c,d,e){var f=this.coordinates.length;var g=this.getBufferedMaxExtent();var h=[a[b],a[b+1]];var i=[NaN,NaN];var j=true;var k,l,m;for(k=b+d;k<c;k+=d){i[0]=a[k];i[1]=a[k+1];m=ol.extent.coordinateRelationship(g,i);if(m!==l){if(j){this.coordinates[f++]=h[0];this.coordinates[f++]=h[1]}this.coordinates[f++]=i[0];this.coordinates[f++]=i[1];j=false}else if(m===ol.extent.Relationship.INTERSECTING){this.coordinates[f++]=i[0];this.coordinates[f++]=i[1];j=false}else{j=true}h[0]=i[0];h[1]=i[1];l=m}if(k===b+d){this.coordinates[f++]=h[0];this.coordinates[f++]=h[1]}if(e){this.coordinates[f++]=a[b];this.coordinates[f++]=a[b+1]}return f};ol.render.canvas.Replay.prototype.beginGeometry=function(a,b){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,b,0];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,b,0];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};ol.render.canvas.Replay.prototype.replay_=function(a,b,c,d,e,f,g,h){var i;if(ol.array.equals(c,this.renderedTransform_)){i=this.pixelCoordinates_}else{i=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,c,this.pixelCoordinates_);ol.transform.setFromArray(this.renderedTransform_,c);goog.DEBUG&&console.assert(i===this.pixelCoordinates_,"pixelCoordinates should be the same as this.pixelCoordinates_")}var j=!ol.obj.isEmpty(e);var k=0;var l=f.length;var m=0;var n;var o=this.tmpLocalTransform_;var p=this.tmpLocalTransformInv_;var q,r,s,t;var u=0;var v=0;var w=this.instructions!=f||this.overlaps?0:200;while(k<l){var x=f[k];var y=x[0];var z,A,B,C,D,E;switch(y){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:z=x[1];if(j&&e[ol.getUid(z).toString()]||!z.getGeometry()){k=x[2]}else if(h!==undefined&&!ol.extent.intersects(h,z.getGeometry().getExtent())){k=x[2]+1}else{++k}break;case ol.render.canvas.Instruction.BEGIN_PATH:if(u>w){a.fill();u=0}if(v>w){a.stroke();v=0}if(!u&&!v){a.beginPath()}++k;break;case ol.render.canvas.Instruction.CIRCLE:goog.DEBUG&&console.assert(typeof x[1]==="number","second instruction should be a number");m=x[1];var F=i[m];var G=i[m+1];var H=i[m+2];var I=i[m+3];var J=H-F;var K=I-G;var L=Math.sqrt(J*J+K*K);a.moveTo(F+L,G);a.arc(F,G,L,0,2*Math.PI,true);++k;break;case ol.render.canvas.Instruction.CLOSE_PATH:a.closePath();++k;break;case ol.render.canvas.Instruction.DRAW_IMAGE:goog.DEBUG&&console.assert(typeof x[1]==="number","second instruction should be a number");m=x[1];goog.DEBUG&&console.assert(typeof x[2]==="number","third instruction should be a number");n=x[2];var M=x[3];var N=x[4]*b;var O=x[5]*b;var P=x[6];var Q=x[7];var R=x[8];var S=x[9];var T=x[10];var U=x[11];var V=x[12];var W=x[13];var X=x[14];if(T){U+=d}for(;m<n;m+=2){D=i[m]-N;E=i[m+1]-O;if(W){D=Math.round(D);E=Math.round(E)}if(V!=1||U!==0){var Y=D+N;var Z=E+O;ol.transform.compose(o,Y,Z,V,V,U,-Y,-Z);a.transform.apply(a,o)}var $=a.globalAlpha;if(Q!=1){a.globalAlpha=$*Q}var _=X+R>M.width?M.width-R:X;var aa=P+S>M.height?M.height-S:P;a.drawImage(M,R,S,_,aa,D,E,_*b,aa*b);if(Q!=1){a.globalAlpha=$}if(V!=1||U!==0){ol.transform.invert(ol.transform.setFromArray(p,o));a.transform.apply(a,p)}}++k;break;case ol.render.canvas.Instruction.DRAW_TEXT:goog.DEBUG&&console.assert(typeof x[1]==="number","2nd instruction should be a number");m=x[1];goog.DEBUG&&console.assert(typeof x[2]==="number","3rd instruction should be a number");n=x[2];goog.DEBUG&&console.assert(typeof x[3]==="string","4th instruction should be a string");C=x[3];goog.DEBUG&&console.assert(typeof x[4]==="number","5th instruction should be a number");var ba=x[4]*b;goog.DEBUG&&console.assert(typeof x[5]==="number","6th instruction should be a number");var ca=x[5]*b;goog.DEBUG&&console.assert(typeof x[6]==="number","7th instruction should be a number");U=x[6];goog.DEBUG&&console.assert(typeof x[7]==="number","8th instruction should be a number");V=x[7]*b;goog.DEBUG&&console.assert(typeof x[8]==="boolean","9th instruction should be a boolean");A=x[8];goog.DEBUG&&console.assert(typeof x[9]==="boolean","10th instruction should be a boolean");B=x[9];T=x[10];if(T){U+=d}for(;m<n;m+=2){D=i[m]+ba;E=i[m+1]+ca;if(V!=1||U!==0){ol.transform.compose(o,D,E,V,V,U,-D,-E);a.transform.apply(a,o)}var da=C.split("\n");var ea=da.length;var fa,ga;if(ea>1){fa=Math.round(a.measureText("M").width*1.5);ga=E-(ea-1)/2*fa}else{fa=0;ga=E}for(var ha=0;ha<ea;ha++){var ia=da[ha];if(B){a.strokeText(ia,D,ga)}if(A){a.fillText(ia,D,ga)}ga=ga+fa}if(V!=1||U!==0){ol.transform.invert(ol.transform.setFromArray(p,o));a.transform.apply(a,p)}}++k;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(g!==undefined){z=x[1];var ja=g(z);if(ja){return ja}}++k;break;case ol.render.canvas.Instruction.FILL:if(w){u++}else{a.fill()}++k;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:goog.DEBUG&&console.assert(typeof x[1]==="number","2nd instruction should be a number");m=x[1];goog.DEBUG&&console.assert(typeof x[2]==="number","3rd instruction should be a number");n=x[2];D=i[m];E=i[m+1];s=D+.5|0;t=E+.5|0;if(s!==q||t!==r){a.moveTo(D,E);q=s;r=t}for(m+=2;m<n;m+=2){D=i[m];E=i[m+1];s=D+.5|0;t=E+.5|0;if(m==n-2||s!==q||t!==r){a.lineTo(D,E);q=s;r=t}}++k;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:goog.DEBUG&&console.assert(ol.colorlike.isColorLike(x[1]),"2nd instruction should be a string, "+"CanvasPattern, or CanvasGradient");if(u){a.fill();u=0}a.fillStyle=x[1];++k;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:goog.DEBUG&&console.assert(typeof x[1]==="string","2nd instruction should be a string");goog.DEBUG&&console.assert(typeof x[2]==="number","3rd instruction should be a number");goog.DEBUG&&console.assert(typeof x[3]==="string","4rd instruction should be a string");goog.DEBUG&&console.assert(typeof x[4]==="string","5th instruction should be a string");goog.DEBUG&&console.assert(typeof x[5]==="number","6th instruction should be a number");goog.DEBUG&&console.assert(x[6],"7th instruction should not be null");var ka=x[7]!==undefined?x[7]:true;var la=x[2];if(v){a.stroke();v=0}a.strokeStyle=x[1];a.lineWidth=ka?la*b:la;a.lineCap=x[3];a.lineJoin=x[4];a.miterLimit=x[5];if(ol.has.CANVAS_LINE_DASH){a.setLineDash(x[6])}q=NaN;r=NaN;++k;break;case ol.render.canvas.Instruction.SET_TEXT_STYLE:goog.DEBUG&&console.assert(typeof x[1]==="string","2nd instruction should be a string");goog.DEBUG&&console.assert(typeof x[2]==="string","3rd instruction should be a string");goog.DEBUG&&console.assert(typeof x[3]==="string","4th instruction should be a string");a.font=x[1];a.textAlign=x[2];a.textBaseline=x[3];++k;break;case ol.render.canvas.Instruction.STROKE:if(w){v++}else{a.stroke()}++k;break;default:goog.DEBUG&&console.assert(false,"Unknown canvas render instruction");++k;break}}if(u){a.fill()}if(v){a.stroke()}goog.DEBUG&&console.assert(k==f.length,"all instructions should be consumed");return undefined};ol.render.canvas.Replay.prototype.replay=function(a,b,c,d,e){var f=this.instructions;this.replay_(a,b,c,d,e,f,undefined,undefined)};ol.render.canvas.Replay.prototype.replayHitDetection=function(a,b,c,d,e,f){var g=this.hitDetectionInstructions;return this.replay_(a,1,b,c,d,g,e,f)};ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions_=function(){var a=this.hitDetectionInstructions;a.reverse();var b;var c=a.length;var d;var e;var f=-1;for(b=0;b<c;++b){d=a[b];e=d[0];if(e==ol.render.canvas.Instruction.END_GEOMETRY){goog.DEBUG&&console.assert(f==-1,"begin should be -1");f=b}else if(e==ol.render.canvas.Instruction.BEGIN_GEOMETRY){d[2]=b;goog.DEBUG&&console.assert(f>=0,"begin should be larger than or equal to 0");ol.array.reverseSubArray(this.hitDetectionInstructions,f,b);f=-1}}};ol.render.canvas.Replay.prototype.endGeometry=function(a,b){goog.DEBUG&&console.assert(this.beginGeometryInstruction1_,"this.beginGeometryInstruction1_ should not be null");this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;goog.DEBUG&&console.assert(this.beginGeometryInstruction2_,"this.beginGeometryInstruction2_ should not be null");this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;var c=[ol.render.canvas.Instruction.END_GEOMETRY,b];this.instructions.push(c);this.hitDetectionInstructions.push(c)};ol.render.canvas.Replay.prototype.finish=ol.nullFunction;ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){return this.maxExtent};ol.render.canvas.ImageReplay=function(a,b,c,d){ol.render.canvas.Replay.call(this,a,b,c,d);this.hitDetectionImage_=null;this.image_=null;this.anchorX_=undefined;this.anchorY_=undefined;this.height_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.snapToPixel_=undefined;this.width_=undefined};ol.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay);ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(a,b,c,d){return this.appendFlatCoordinates(a,b,c,d,false)};ol.render.canvas.ImageReplay.prototype.drawPoint=function(a,b){if(!this.image_){return}goog.DEBUG&&console.assert(this.anchorX_!==undefined,"this.anchorX_ should be defined");goog.DEBUG&&console.assert(this.anchorY_!==undefined,"this.anchorY_ should be defined");goog.DEBUG&&console.assert(this.height_!==undefined,"this.height_ should be defined");goog.DEBUG&&console.assert(this.opacity_!==undefined,"this.opacity_ should be defined");goog.DEBUG&&console.assert(this.originX_!==undefined,"this.originX_ should be defined");goog.DEBUG&&console.assert(this.originY_!==undefined,"this.originY_ should be defined");goog.DEBUG&&console.assert(this.rotateWithView_!==undefined,"this.rotateWithView_ should be defined");goog.DEBUG&&console.assert(this.rotation_!==undefined,"this.rotation_ should be defined");goog.DEBUG&&console.assert(this.scale_!==undefined,"this.scale_ should be defined");goog.DEBUG&&console.assert(this.width_!==undefined,"this.width_ should be defined");this.beginGeometry(a,b);var c=a.getFlatCoordinates();var d=a.getStride();var e=this.coordinates.length;var f=this.drawCoordinates_(c,0,c.length,d);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,f,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(a,b)};ol.render.canvas.ImageReplay.prototype.drawMultiPoint=function(a,b){if(!this.image_){return}goog.DEBUG&&console.assert(this.anchorX_!==undefined,"this.anchorX_ should be defined");goog.DEBUG&&console.assert(this.anchorY_!==undefined,"this.anchorY_ should be defined");goog.DEBUG&&console.assert(this.height_!==undefined,"this.height_ should be defined");goog.DEBUG&&console.assert(this.opacity_!==undefined,"this.opacity_ should be defined");goog.DEBUG&&console.assert(this.originX_!==undefined,"this.originX_ should be defined");goog.DEBUG&&console.assert(this.originY_!==undefined,"this.originY_ should be defined");goog.DEBUG&&console.assert(this.rotateWithView_!==undefined,"this.rotateWithView_ should be defined");goog.DEBUG&&console.assert(this.rotation_!==undefined,"this.rotation_ should be defined");goog.DEBUG&&console.assert(this.scale_!==undefined,"this.scale_ should be defined");goog.DEBUG&&console.assert(this.width_!==undefined,"this.width_ should be defined");this.beginGeometry(a,b);var c=a.getFlatCoordinates();var d=a.getStride();var e=this.coordinates.length;var f=this.drawCoordinates_(c,0,c.length,d);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,f,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,e,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(a,b)};ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions_();this.anchorX_=undefined;this.anchorY_=undefined;this.hitDetectionImage_=null;this.image_=null;this.height_=undefined;this.scale_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.snapToPixel_=undefined;this.width_=undefined};ol.render.canvas.ImageReplay.prototype.setImageStyle=function(a){goog.DEBUG&&console.assert(a,"imageStyle should not be null");var b=a.getAnchor();goog.DEBUG&&console.assert(b,"anchor should not be null");var c=a.getSize();goog.DEBUG&&console.assert(c,"size should not be null");var d=a.getHitDetectionImage(1);goog.DEBUG&&console.assert(d,"hitDetectionImage should not be null");var e=a.getImage(1);goog.DEBUG&&console.assert(e,"image should not be null");var f=a.getOrigin();goog.DEBUG&&console.assert(f,"origin should not be null");this.anchorX_=b[0];this.anchorY_=b[1];this.hitDetectionImage_=d;this.image_=e;this.height_=c[1];this.opacity_=a.getOpacity();this.originX_=f[0];this.originY_=f[1];this.rotateWithView_=a.getRotateWithView();this.rotation_=a.getRotation();this.scale_=a.getScale();this.snapToPixel_=a.getSnapToPixel();this.width_=c[0]};ol.render.canvas.LineStringReplay=function(a,b,c,d){ol.render.canvas.Replay.call(this,a,b,c,d);this.state_={currentStrokeStyle:undefined,currentLineCap:undefined,currentLineDash:null,currentLineJoin:undefined,currentLineWidth:undefined,currentMiterLimit:undefined,lastStroke:0,strokeStyle:undefined,lineCap:undefined,lineDash:null,lineJoin:undefined,lineWidth:undefined,miterLimit:undefined}};ol.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay);ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(a,b,c,d){var e=this.coordinates.length;var f=this.appendFlatCoordinates(a,b,c,d,false);var g=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,e,f];this.instructions.push(g);this.hitDetectionInstructions.push(g);return c};ol.render.canvas.LineStringReplay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_){this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent);if(this.maxLineWidth>0){var a=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}}return this.bufferedMaxExtent_};ol.render.canvas.LineStringReplay.prototype.setStrokeStyle_=function(){var a=this.state_;
var b=a.strokeStyle;var c=a.lineCap;var d=a.lineDash;var e=a.lineJoin;var f=a.lineWidth;var g=a.miterLimit;goog.DEBUG&&console.assert(b!==undefined,"strokeStyle should be defined");goog.DEBUG&&console.assert(c!==undefined,"lineCap should be defined");goog.DEBUG&&console.assert(d,"lineDash should not be null");goog.DEBUG&&console.assert(e!==undefined,"lineJoin should be defined");goog.DEBUG&&console.assert(f!==undefined,"lineWidth should be defined");goog.DEBUG&&console.assert(g!==undefined,"miterLimit should be defined");if(a.currentStrokeStyle!=b||a.currentLineCap!=c||!ol.array.equals(a.currentLineDash,d)||a.currentLineJoin!=e||a.currentLineWidth!=f||a.currentMiterLimit!=g){if(a.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE]);a.lastStroke=this.coordinates.length}this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,b,f,c,e,g,d],[ol.render.canvas.Instruction.BEGIN_PATH]);a.currentStrokeStyle=b;a.currentLineCap=c;a.currentLineDash=d;a.currentLineJoin=e;a.currentLineWidth=f;a.currentMiterLimit=g}};ol.render.canvas.LineStringReplay.prototype.drawLineString=function(a,b){var c=this.state_;goog.DEBUG&&console.assert(c,"state should not be null");var d=c.strokeStyle;var e=c.lineWidth;if(d===undefined||e===undefined){return}this.setStrokeStyle_();this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[ol.render.canvas.Instruction.BEGIN_PATH]);var f=a.getFlatCoordinates();var g=a.getStride();this.drawFlatCoordinates_(f,0,f.length,g);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(a,b)};ol.render.canvas.LineStringReplay.prototype.drawMultiLineString=function(a,b){var c=this.state_;goog.DEBUG&&console.assert(c,"state should not be null");var d=c.strokeStyle;var e=c.lineWidth;if(d===undefined||e===undefined){return}this.setStrokeStyle_();this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[ol.render.canvas.Instruction.BEGIN_PATH]);var f=a.getEnds();var g=a.getFlatCoordinates();var h=a.getStride();var i=0;var j,k;for(j=0,k=f.length;j<k;++j){i=this.drawFlatCoordinates_(g,i,f[j],h)}this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(a,b)};ol.render.canvas.LineStringReplay.prototype.finish=function(){var a=this.state_;goog.DEBUG&&console.assert(a,"state should not be null");if(a.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE])}this.reverseHitDetectionInstructions_();this.state_=null};ol.render.canvas.LineStringReplay.prototype.setFillStrokeStyle=function(a,b){goog.DEBUG&&console.assert(this.state_,"this.state_ should not be null");goog.DEBUG&&console.assert(!a,"fillStyle should be null");goog.DEBUG&&console.assert(b,"strokeStyle should not be null");var c=b.getColor();this.state_.strokeStyle=ol.color.asString(c?c:ol.render.canvas.defaultStrokeStyle);var d=b.getLineCap();this.state_.lineCap=d!==undefined?d:ol.render.canvas.defaultLineCap;var e=b.getLineDash();this.state_.lineDash=e?e:ol.render.canvas.defaultLineDash;var f=b.getLineJoin();this.state_.lineJoin=f!==undefined?f:ol.render.canvas.defaultLineJoin;var g=b.getWidth();this.state_.lineWidth=g!==undefined?g:ol.render.canvas.defaultLineWidth;var h=b.getMiterLimit();this.state_.miterLimit=h!==undefined?h:ol.render.canvas.defaultMiterLimit;if(this.state_.lineWidth>this.maxLineWidth){this.maxLineWidth=this.state_.lineWidth;this.bufferedMaxExtent_=null}};ol.render.canvas.PolygonReplay=function(a,b,c,d){ol.render.canvas.Replay.call(this,a,b,c,d);this.state_={currentFillStyle:undefined,currentStrokeStyle:undefined,currentLineCap:undefined,currentLineDash:null,currentLineJoin:undefined,currentLineWidth:undefined,currentMiterLimit:undefined,fillStyle:undefined,strokeStyle:undefined,lineCap:undefined,lineDash:null,lineJoin:undefined,lineWidth:undefined,miterLimit:undefined}};ol.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay);ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(a,b,c,d){var e=this.state_;var f=e.fillStyle!==undefined;var g=e.strokeStyle!=undefined;var h=c.length;if(!f&&!g){return c[h-1]}var i=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(i);this.hitDetectionInstructions.push(i);for(var j=0;j<h;++j){var k=c[j];var l=this.coordinates.length;var m=this.appendFlatCoordinates(a,b,k,d,true);var n=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,l,m];this.instructions.push(n);this.hitDetectionInstructions.push(n);if(g){var o=[ol.render.canvas.Instruction.CLOSE_PATH];this.instructions.push(o);this.hitDetectionInstructions.push(o)}b=k}var p=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(p);if(f){this.instructions.push(p)}if(g){goog.DEBUG&&console.assert(e.lineWidth!==undefined,"state.lineWidth should be defined");var q=[ol.render.canvas.Instruction.STROKE];this.instructions.push(q);this.hitDetectionInstructions.push(q)}return b};ol.render.canvas.PolygonReplay.prototype.drawCircle=function(a,b){var c=this.state_;goog.DEBUG&&console.assert(c,"state should not be null");var d=c.fillStyle;var e=c.strokeStyle;if(d===undefined&&e===undefined){return}if(e!==undefined){goog.DEBUG&&console.assert(c.lineWidth!==undefined,"state.lineWidth should be defined")}this.setFillStrokeStyles_();this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(c.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash])}var f=a.getFlatCoordinates();var g=a.getStride();var h=this.coordinates.length;this.appendFlatCoordinates(f,0,f.length,g,false);var i=[ol.render.canvas.Instruction.BEGIN_PATH];var j=[ol.render.canvas.Instruction.CIRCLE,h];this.instructions.push(i,j);this.hitDetectionInstructions.push(i,j);var k=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(k);if(c.fillStyle!==undefined){this.instructions.push(k)}if(c.strokeStyle!==undefined){goog.DEBUG&&console.assert(c.lineWidth!==undefined,"state.lineWidth should be defined");var l=[ol.render.canvas.Instruction.STROKE];this.instructions.push(l);this.hitDetectionInstructions.push(l)}this.endGeometry(a,b)};ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(a,b){var c=this.state_;goog.DEBUG&&console.assert(c,"state should not be null");var d=c.fillStyle;var e=c.strokeStyle;if(d===undefined&&e===undefined){return}if(e!==undefined){goog.DEBUG&&console.assert(c.lineWidth!==undefined,"state.lineWidth should be defined")}this.setFillStrokeStyles_();this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(c.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash])}var f=a.getEnds();var g=a.getOrientedFlatCoordinates();var h=a.getStride();this.drawFlatCoordinatess_(g,0,f,h);this.endGeometry(a,b)};ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(a,b){var c=this.state_;goog.DEBUG&&console.assert(c,"state should not be null");var d=c.fillStyle;var e=c.strokeStyle;if(d===undefined&&e===undefined){return}if(e!==undefined){goog.DEBUG&&console.assert(c.lineWidth!==undefined,"state.lineWidth should be defined")}this.setFillStrokeStyles_();this.beginGeometry(a,b);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(c.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash])}var f=a.getEndss();var g=a.getOrientedFlatCoordinates();var h=a.getStride();var i=0;var j,k;for(j=0,k=f.length;j<k;++j){i=this.drawFlatCoordinatess_(g,i,f[j],h)}this.endGeometry(a,b)};ol.render.canvas.PolygonReplay.prototype.finish=function(){goog.DEBUG&&console.assert(this.state_,"this.state_ should not be null");this.reverseHitDetectionInstructions_();this.state_=null;var a=this.tolerance;if(a!==0){var b=this.coordinates;var c,d;for(c=0,d=b.length;c<d;++c){b[c]=ol.geom.flat.simplify.snap(b[c],a)}}};ol.render.canvas.PolygonReplay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_){this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent);if(this.maxLineWidth>0){var a=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}}return this.bufferedMaxExtent_};ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyle=function(a,b){goog.DEBUG&&console.assert(this.state_,"this.state_ should not be null");goog.DEBUG&&console.assert(a||b,"fillStyle or strokeStyle should not be null");var c=this.state_;if(a){var d=a.getColor();c.fillStyle=ol.colorlike.asColorLike(d?d:ol.render.canvas.defaultFillStyle)}else{c.fillStyle=undefined}if(b){var e=b.getColor();c.strokeStyle=ol.color.asString(e?e:ol.render.canvas.defaultStrokeStyle);var f=b.getLineCap();c.lineCap=f!==undefined?f:ol.render.canvas.defaultLineCap;var g=b.getLineDash();c.lineDash=g?g.slice():ol.render.canvas.defaultLineDash;var h=b.getLineJoin();c.lineJoin=h!==undefined?h:ol.render.canvas.defaultLineJoin;var i=b.getWidth();c.lineWidth=i!==undefined?i:ol.render.canvas.defaultLineWidth;var j=b.getMiterLimit();c.miterLimit=j!==undefined?j:ol.render.canvas.defaultMiterLimit;if(c.lineWidth>this.maxLineWidth){this.maxLineWidth=c.lineWidth;this.bufferedMaxExtent_=null}}else{c.strokeStyle=undefined;c.lineCap=undefined;c.lineDash=null;c.lineJoin=undefined;c.lineWidth=undefined;c.miterLimit=undefined}};ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(){var a=this.state_;var b=a.fillStyle;var c=a.strokeStyle;var d=a.lineCap;var e=a.lineDash;var f=a.lineJoin;var g=a.lineWidth;var h=a.miterLimit;if(b!==undefined&&a.currentFillStyle!=b){this.instructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,b]);a.currentFillStyle=a.fillStyle}if(c!==undefined){goog.DEBUG&&console.assert(d!==undefined,"lineCap should be defined");goog.DEBUG&&console.assert(e,"lineDash should not be null");goog.DEBUG&&console.assert(f!==undefined,"lineJoin should be defined");goog.DEBUG&&console.assert(g!==undefined,"lineWidth should be defined");goog.DEBUG&&console.assert(h!==undefined,"miterLimit should be defined");if(a.currentStrokeStyle!=c||a.currentLineCap!=d||a.currentLineDash!=e||a.currentLineJoin!=f||a.currentLineWidth!=g||a.currentMiterLimit!=h){this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,c,g,d,f,h,e]);a.currentStrokeStyle=c;a.currentLineCap=d;a.currentLineDash=e;a.currentLineJoin=f;a.currentLineWidth=g;a.currentMiterLimit=h}}};ol.render.canvas.TextReplay=function(a,b,c,d){ol.render.canvas.Replay.call(this,a,b,c,d);this.replayFillState_=null;this.replayStrokeState_=null;this.replayTextState_=null;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=undefined;this.textRotation_=0;this.textScale_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_=null};ol.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay);ol.render.canvas.TextReplay.prototype.drawText=function(a,b,c,d,e,f){if(this.text_===""||!this.textState_||!this.textFillState_&&!this.textStrokeState_){return}if(this.textFillState_){this.setReplayFillState_(this.textFillState_)}if(this.textStrokeState_){this.setReplayStrokeState_(this.textStrokeState_)}this.setReplayTextState_(this.textState_);this.beginGeometry(e,f);var g=this.coordinates.length;var h=this.appendFlatCoordinates(a,b,c,d,false);var i=!!this.textFillState_;var j=!!this.textStrokeState_;var k=[ol.render.canvas.Instruction.DRAW_TEXT,g,h,this.text_,this.textOffsetX_,this.textOffsetY_,this.textRotation_,this.textScale_,i,j,this.textRotateWithView_];this.instructions.push(k);this.hitDetectionInstructions.push(k);this.endGeometry(e,f)};ol.render.canvas.TextReplay.prototype.setReplayFillState_=function(a){var b=this.replayFillState_;if(b&&b.fillStyle==a.fillStyle){return}var c=[ol.render.canvas.Instruction.SET_FILL_STYLE,a.fillStyle];this.instructions.push(c);this.hitDetectionInstructions.push(c);if(!b){this.replayFillState_={fillStyle:a.fillStyle}}else{b.fillStyle=a.fillStyle}};ol.render.canvas.TextReplay.prototype.setReplayStrokeState_=function(a){var b=this.replayStrokeState_;if(b&&b.lineCap==a.lineCap&&b.lineDash==a.lineDash&&b.lineJoin==a.lineJoin&&b.lineWidth==a.lineWidth&&b.miterLimit==a.miterLimit&&b.strokeStyle==a.strokeStyle){return}var c=[ol.render.canvas.Instruction.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,a.lineDash,false];this.instructions.push(c);this.hitDetectionInstructions.push(c);if(!b){this.replayStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle}}else{b.lineCap=a.lineCap;b.lineDash=a.lineDash;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.strokeStyle=a.strokeStyle}};ol.render.canvas.TextReplay.prototype.setReplayTextState_=function(a){var b=this.replayTextState_;if(b&&b.font==a.font&&b.textAlign==a.textAlign&&b.textBaseline==a.textBaseline){return}var c=[ol.render.canvas.Instruction.SET_TEXT_STYLE,a.font,a.textAlign,a.textBaseline];this.instructions.push(c);this.hitDetectionInstructions.push(c);if(!b){this.replayTextState_={font:a.font,textAlign:a.textAlign,textBaseline:a.textBaseline}}else{b.font=a.font;b.textAlign=a.textAlign;b.textBaseline=a.textBaseline}};ol.render.canvas.TextReplay.prototype.setTextStyle=function(a){if(!a){this.text_=""}else{var b=a.getFill();if(!b){this.textFillState_=null}else{var c=b.getColor();var d=ol.colorlike.asColorLike(c?c:ol.render.canvas.defaultFillStyle);if(!this.textFillState_){this.textFillState_={fillStyle:d}}else{var e=this.textFillState_;e.fillStyle=d}}var f=a.getStroke();if(!f){this.textStrokeState_=null}else{var g=f.getColor();var h=f.getLineCap();var i=f.getLineDash();var j=f.getLineJoin();var k=f.getWidth();var l=f.getMiterLimit();var m=h!==undefined?h:ol.render.canvas.defaultLineCap;var n=i?i.slice():ol.render.canvas.defaultLineDash;var o=j!==undefined?j:ol.render.canvas.defaultLineJoin;var p=k!==undefined?k:ol.render.canvas.defaultLineWidth;var q=l!==undefined?l:ol.render.canvas.defaultMiterLimit;var r=ol.color.asString(g?g:ol.render.canvas.defaultStrokeStyle);if(!this.textStrokeState_){this.textStrokeState_={lineCap:m,lineDash:n,lineJoin:o,lineWidth:p,miterLimit:q,strokeStyle:r}}else{var s=this.textStrokeState_;s.lineCap=m;s.lineDash=n;s.lineJoin=o;s.lineWidth=p;s.miterLimit=q;s.strokeStyle=r}}var t=a.getFont();var u=a.getOffsetX();var v=a.getOffsetY();var w=a.getRotateWithView();var x=a.getRotation();var y=a.getScale();var z=a.getText();var A=a.getTextAlign();var B=a.getTextBaseline();var C=t!==undefined?t:ol.render.canvas.defaultFont;var D=A!==undefined?A:ol.render.canvas.defaultTextAlign;var E=B!==undefined?B:ol.render.canvas.defaultTextBaseline;if(!this.textState_){this.textState_={font:C,textAlign:D,textBaseline:E}}else{var F=this.textState_;F.font=C;F.textAlign=D;F.textBaseline=E}this.text_=z!==undefined?z:"";this.textOffsetX_=u!==undefined?u:0;this.textOffsetY_=v!==undefined?v:0;this.textRotateWithView_=w!==undefined?w:false;this.textRotation_=x!==undefined?x:0;this.textScale_=y!==undefined?y:1}};ol.render.canvas.ReplayGroup=function(a,b,c,d,e){ol.render.ReplayGroup.call(this);this.tolerance_=a;this.maxExtent_=b;this.overlaps_=d;this.resolution_=c;this.renderBuffer_=e;this.replaysByZIndex_={};this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1);this.hitDetectionTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.ReplayGroup,ol.render.ReplayGroup);ol.render.canvas.ReplayGroup.prototype.finish=function(){var a;for(a in this.replaysByZIndex_){var b=this.replaysByZIndex_[a];var c;for(c in b){b[c].finish()}}};ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){var f=ol.transform.compose(this.hitDetectionTransform_,.5,.5,1/b,-1/b,-c,-a[0],-a[1]);var g=this.hitDetectionContext_;g.clearRect(0,0,1,1);var h;if(this.renderBuffer_!==undefined){h=ol.extent.createEmpty();ol.extent.extendCoordinate(h,a);ol.extent.buffer(h,b*this.renderBuffer_,h)}return this.replayHitDetection_(g,f,c,d,(function(a){var b=g.getImageData(0,0,1,1).data;if(b[3]>0){var c=e(a);if(c){return c}g.clearRect(0,0,1,1)}}),h)};ol.render.canvas.ReplayGroup.prototype.getReplay=function(a,b){var c=a!==undefined?a.toString():"0";var d=this.replaysByZIndex_[c];if(d===undefined){d={};this.replaysByZIndex_[c]=d}var e=d[b];if(e===undefined){var f=ol.render.canvas.BATCH_CONSTRUCTORS_[b];goog.DEBUG&&console.assert(f!==undefined,b+" constructor missing from ol.render.canvas.BATCH_CONSTRUCTORS_");e=new f(this.tolerance_,this.maxExtent_,this.resolution_,this.overlaps_);d[b]=e}return e};ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};ol.render.canvas.ReplayGroup.prototype.replay=function(a,b,c,d,e,f){var g=Object.keys(this.replaysByZIndex_).map(Number);g.sort(ol.array.numberSafeCompareFunction);var h=this.maxExtent_;var i=h[0];var j=h[1];var k=h[2];var l=h[3];var m=[i,j,i,l,k,l,k,j];ol.geom.flat.transform.transform2D(m,0,8,2,c,m);a.save();a.beginPath();a.moveTo(m[0],m[1]);a.lineTo(m[2],m[3]);a.lineTo(m[4],m[5]);a.lineTo(m[6],m[7]);a.clip();var n=f?f:ol.render.replay.ORDER;var o,p,q,r,s,t;for(o=0,p=g.length;o<p;++o){s=this.replaysByZIndex_[g[o].toString()];for(q=0,r=n.length;q<r;++q){t=s[n[q]];if(t!==undefined){t.replay(a,b,c,d,e)}}}a.restore()};ol.render.canvas.ReplayGroup.prototype.replayHitDetection_=function(a,b,c,d,e,f){var g=Object.keys(this.replaysByZIndex_).map(Number);g.sort((function(a,b){return b-a}));var h,i,j,k,l,m;for(h=0,i=g.length;h<i;++h){k=this.replaysByZIndex_[g[h].toString()];for(j=ol.render.replay.ORDER.length-1;j>=0;--j){l=k[ol.render.replay.ORDER[j]];if(l!==undefined){m=l.replayHitDetection(a,b,c,d,e,f);if(m){return m}}}}return undefined};ol.render.canvas.BATCH_CONSTRUCTORS_={Image:ol.render.canvas.ImageReplay,LineString:ol.render.canvas.LineStringReplay,Polygon:ol.render.canvas.PolygonReplay,Text:ol.render.canvas.TextReplay};goog.provide("ol.renderer.vector");goog.require("ol");goog.require("ol.render.ReplayType");goog.require("ol.style.ImageState");ol.renderer.vector.defaultOrder=function(a,b){return ol.getUid(a)-ol.getUid(b)};ol.renderer.vector.getSquaredTolerance=function(a,b){var c=ol.renderer.vector.getTolerance(a,b);return c*c};ol.renderer.vector.getTolerance=function(a,b){return ol.SIMPLIFY_TOLERANCE*a/b};ol.renderer.vector.renderCircleGeometry_=function(a,b,c,d){var e=c.getFill();var f=c.getStroke();if(e||f){var g=a.getReplay(c.getZIndex(),ol.render.ReplayType.POLYGON);g.setFillStrokeStyle(e,f);g.drawCircle(b,d)}var h=c.getText();if(h){var i=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);i.setTextStyle(h);i.drawText(b.getCenter(),0,2,2,b,d)}};ol.renderer.vector.renderFeature=function(a,b,c,d,e,f){var g=false;var h,i;h=c.getImage();if(h){i=h.getImageState();if(i==ol.style.ImageState.LOADED||i==ol.style.ImageState.ERROR){h.unlistenImageChange(e,f)}else{if(i==ol.style.ImageState.IDLE){h.load()}i=h.getImageState();goog.DEBUG&&console.assert(i==ol.style.ImageState.LOADING,"imageState should be LOADING");h.listenImageChange(e,f);g=true}}ol.renderer.vector.renderFeature_(a,b,c,d);return g};ol.renderer.vector.renderFeature_=function(a,b,c,d){var e=c.getGeometryFunction()(b);if(!e){return}var f=e.getSimplifiedGeometry(d);var g=ol.renderer.vector.GEOMETRY_RENDERERS_[f.getType()];g(a,f,c,b)};ol.renderer.vector.renderGeometryCollectionGeometry_=function(a,b,c,d){var e=b.getGeometriesArray();var f,g;for(f=0,g=e.length;f<g;++f){var h=ol.renderer.vector.GEOMETRY_RENDERERS_[e[f].getType()];h(a,e[f],c,d)}};ol.renderer.vector.renderLineStringGeometry_=function(a,b,c,d){var e=c.getStroke();if(e){var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.LINE_STRING);f.setFillStrokeStyle(null,e);f.drawLineString(b,d)}var g=c.getText();if(g){var h=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);h.setTextStyle(g);h.drawText(b.getFlatMidpoint(),0,2,2,b,d)}};ol.renderer.vector.renderMultiLineStringGeometry_=function(a,b,c,d){var e=c.getStroke();if(e){var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.LINE_STRING);f.setFillStrokeStyle(null,e);f.drawMultiLineString(b,d)}var g=c.getText();if(g){var h=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);h.setTextStyle(g);var i=b.getFlatMidpoints();h.drawText(i,0,i.length,2,b,d)}};ol.renderer.vector.renderMultiPolygonGeometry_=function(a,b,c,d){var e=c.getFill();var f=c.getStroke();if(f||e){var g=a.getReplay(c.getZIndex(),ol.render.ReplayType.POLYGON);g.setFillStrokeStyle(e,f);g.drawMultiPolygon(b,d)}var h=c.getText();if(h){var i=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);i.setTextStyle(h);var j=b.getFlatInteriorPoints();i.drawText(j,0,j.length,2,b,d)}};ol.renderer.vector.renderPointGeometry_=function(a,b,c,d){var e=c.getImage();if(e){if(e.getImageState()!=ol.style.ImageState.LOADED){return}var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.IMAGE);f.setImageStyle(e);f.drawPoint(b,d)}var g=c.getText();if(g){var h=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);h.setTextStyle(g);h.drawText(b.getFlatCoordinates(),0,2,2,b,d)}};ol.renderer.vector.renderMultiPointGeometry_=function(a,b,c,d){var e=c.getImage();if(e){if(e.getImageState()!=ol.style.ImageState.LOADED){return}var f=a.getReplay(c.getZIndex(),ol.render.ReplayType.IMAGE);f.setImageStyle(e);f.drawMultiPoint(b,d)}var g=c.getText();if(g){var h=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);h.setTextStyle(g);var i=b.getFlatCoordinates();h.drawText(i,0,i.length,b.getStride(),b,d)}};ol.renderer.vector.renderPolygonGeometry_=function(a,b,c,d){var e=c.getFill();var f=c.getStroke();if(e||f){var g=a.getReplay(c.getZIndex(),ol.render.ReplayType.POLYGON);g.setFillStrokeStyle(e,f);g.drawPolygon(b,d)}var h=c.getText();if(h){var i=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);i.setTextStyle(h);i.drawText(b.getFlatInteriorPoint(),0,2,2,b,d)}};ol.renderer.vector.GEOMETRY_RENDERERS_={Point:ol.renderer.vector.renderPointGeometry_,LineString:ol.renderer.vector.renderLineStringGeometry_,Polygon:ol.renderer.vector.renderPolygonGeometry_,MultiPoint:ol.renderer.vector.renderMultiPointGeometry_,MultiLineString:ol.renderer.vector.renderMultiLineStringGeometry_,MultiPolygon:ol.renderer.vector.renderMultiPolygonGeometry_,GeometryCollection:ol.renderer.vector.renderGeometryCollectionGeometry_,Circle:ol.renderer.vector.renderCircleGeometry_};goog.provide("ol.ImageCanvas");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");ol.ImageCanvas=function(a,b,c,d,e,f){this.loader_=f!==undefined?f:null;var g=f!==undefined?ol.ImageState.IDLE:ol.ImageState.LOADED;ol.ImageBase.call(this,a,b,c,g,d);this.canvas_=e;this.error_=null};ol.inherits(ol.ImageCanvas,ol.ImageBase);ol.ImageCanvas.prototype.getError=function(){return this.error_};ol.ImageCanvas.prototype.handleLoad_=function(a){if(a){this.error_=a;this.state=ol.ImageState.ERROR}else{this.state=ol.ImageState.LOADED}this.changed()};ol.ImageCanvas.prototype.load=function(){if(this.state==ol.ImageState.IDLE){goog.DEBUG&&console.assert(this.loader_,"this.loader_ must be set");this.state=ol.ImageState.LOADING;this.changed();this.loader_(this.handleLoad_.bind(this))}};ol.ImageCanvas.prototype.getImage=function(a){return this.canvas_};goog.provide("ol.reproj");goog.require("ol");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj");ol.reproj.browserAntialiasesClip_=(function(a){var b=a.navigator.userAgent.indexOf("OPR")>-1;var c=a.navigator.userAgent.indexOf("Edge")>-1;return!(!a.navigator.userAgent.match("CriOS")&&a.chrome!==null&&a.chrome!==undefined&&a.navigator.vendor==="Google Inc."&&b==false&&c==false)})(ol.global);ol.reproj.calculateSourceResolution=function(a,b,c,d){var e=ol.proj.transform(c,b,a);var f=b.getPointResolution(d,c);var g=b.getMetersPerUnit();if(g!==undefined){f*=g}var h=a.getMetersPerUnit();if(h!==undefined){f/=h}var i=a.getPointResolution(f,e)/f;if(isFinite(i)&&i>0){f/=i}return f};ol.reproj.enlargeClipPoint_=function(a,b,c,d){var e=c-a,f=d-b;var g=Math.sqrt(e*e+f*f);return[Math.round(c+e/g),Math.round(d+f/g)]};ol.reproj.render=function(a,b,c,d,e,f,g,h,i,j,k){var l=ol.dom.createCanvasContext2D(Math.round(c*a),Math.round(c*b));if(i.length===0){return l.canvas}l.scale(c,c);var m=ol.extent.createEmpty();i.forEach((function(a,b,c){ol.extent.extend(m,a.extent)}));var n=ol.extent.getWidth(m);var o=ol.extent.getHeight(m);var p=ol.dom.createCanvasContext2D(Math.round(c*n/d),Math.round(c*o/d));var q=c/d;i.forEach((function(a,b,c){var d=a.extent[0]-m[0];var e=-(a.extent[3]-m[3]);var f=ol.extent.getWidth(a.extent);var g=ol.extent.getHeight(a.extent);p.drawImage(a.image,j,j,a.image.width-2*j,a.image.height-2*j,d*q,e*q,f*q,g*q)}));var r=ol.extent.getTopLeft(g);h.getTriangles().forEach((function(a,b,e){var g=a.source,h=a.target;var i=g[0][0],j=g[0][1],k=g[1][0],n=g[1][1],o=g[2][0],q=g[2][1];var s=(h[0][0]-r[0])/f,t=-(h[0][1]-r[1])/f;var u=(h[1][0]-r[0])/f,v=-(h[1][1]-r[1])/f;var w=(h[2][0]-r[0])/f,x=-(h[2][1]-r[1])/f;var y=i,z=j;i=0;j=0;k-=y;n-=z;o-=y;q-=z;var A=[[k,n,0,0,u-s],[o,q,0,0,w-s],[0,0,k,n,v-t],[0,0,o,q,x-t]];var B=ol.math.solveLinearSystem(A);if(!B){return}l.save();l.beginPath();if(ol.reproj.browserAntialiasesClip_){var C=(s+u+w)/3,D=(t+v+x)/3;var E=ol.reproj.enlargeClipPoint_(C,D,s,t);var F=ol.reproj.enlargeClipPoint_(C,D,u,v);var G=ol.reproj.enlargeClipPoint_(C,D,w,x);l.moveTo(F[0],F[1]);l.lineTo(E[0],E[1]);l.lineTo(G[0],G[1])}else{l.moveTo(u,v);l.lineTo(s,t);l.lineTo(w,x)}l.clip();l.transform(B[0],B[2],B[1],B[3],s,t);l.translate(m[0]-y,m[3]-z);l.scale(d/c,-d/c);l.drawImage(p.canvas,0,0);l.restore()}));if(k){l.save();l.strokeStyle="black";l.lineWidth=1;h.getTriangles().forEach((function(a,b,c){var d=a.target;var e=(d[0][0]-r[0])/f,g=-(d[0][1]-r[1])/f;var h=(d[1][0]-r[0])/f,i=-(d[1][1]-r[1])/f;var j=(d[2][0]-r[0])/f,k=-(d[2][1]-r[1])/f;l.beginPath();l.moveTo(h,i);l.lineTo(e,g);l.lineTo(j,k);l.closePath();l.stroke()}));l.restore()}return l.canvas};goog.provide("ol.reproj.Triangulation");goog.require("ol");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj");ol.reproj.Triangulation=function(a,b,c,d,e){this.sourceProj_=a;this.targetProj_=b;var f={};var g=ol.proj.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(a){var b=a[0]+"/"+a[1];if(!f[b]){f[b]=g(a)}return f[b]};this.maxSourceExtent_=d;this.errorThresholdSquared_=e*e;this.triangles_=[];this.wrapsXInSource_=false;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!d&&!!this.sourceProj_.getExtent()&&ol.extent.getWidth(d)==ol.extent.getWidth(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?ol.extent.getWidth(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?ol.extent.getWidth(this.targetProj_.getExtent()):null;var h=ol.extent.getTopLeft(c);var i=ol.extent.getTopRight(c);var j=ol.extent.getBottomRight(c);var k=ol.extent.getBottomLeft(c);var l=this.transformInv_(h);var m=this.transformInv_(i);var n=this.transformInv_(j);var o=this.transformInv_(k);this.addQuad_(h,i,j,k,l,m,n,o,ol.RASTER_REPROJECTION_MAX_SUBDIVISION);if(this.wrapsXInSource_){goog.DEBUG&&console.assert(this.sourceWorldWidth_!==null);var p=Infinity;this.triangles_.forEach((function(a,b,c){p=Math.min(p,a.source[0][0],a.source[1][0],a.source[2][0])}));this.triangles_.forEach((function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-p>this.sourceWorldWidth_/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];if(b[0][0]-p>this.sourceWorldWidth_/2){b[0][0]-=this.sourceWorldWidth_}if(b[1][0]-p>this.sourceWorldWidth_/2){b[1][0]-=this.sourceWorldWidth_}if(b[2][0]-p>this.sourceWorldWidth_/2){b[2][0]-=this.sourceWorldWidth_}var c=Math.min(b[0][0],b[1][0],b[2][0]);var d=Math.max(b[0][0],b[1][0],b[2][0]);if(d-c<this.sourceWorldWidth_/2){a.source=b}}}),this)}f={}};ol.reproj.Triangulation.prototype.addTriangle_=function(a,b,c,d,e,f){this.triangles_.push({source:[d,e,f],target:[a,b,c]})};ol.reproj.Triangulation.prototype.addQuad_=function(a,b,c,d,e,f,g,h,i){var j=ol.extent.boundingExtent([e,f,g,h]);var k=this.sourceWorldWidth_?ol.extent.getWidth(j)/this.sourceWorldWidth_:null;var l=this.sourceWorldWidth_;var m=this.sourceProj_.canWrapX()&&k>.5&&k<1;var n=false;if(i>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var o=ol.extent.boundingExtent([a,b,c,d]);var p=ol.extent.getWidth(o)/this.targetWorldWidth_;n|=p>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}if(!m&&this.sourceProj_.isGlobal()&&k){n|=k>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}}if(!n&&this.maxSourceExtent_){if(!ol.extent.intersects(j,this.maxSourceExtent_)){return}}if(!n){if(!isFinite(e[0])||!isFinite(e[1])||!isFinite(f[0])||!isFinite(f[1])||!isFinite(g[0])||!isFinite(g[1])||!isFinite(h[0])||!isFinite(h[1])){if(i>0){n=true}else{return}}}if(i>0){if(!n){var q=[(a[0]+c[0])/2,(a[1]+c[1])/2];var r=this.transformInv_(q);var s;if(m){var t=(ol.math.modulo(e[0],l)+ol.math.modulo(g[0],l))/2;s=t-ol.math.modulo(r[0],l)}else{s=(e[0]+g[0])/2-r[0]}var u=(e[1]+g[1])/2-r[1];var v=s*s+u*u;n=v>this.errorThresholdSquared_}if(n){if(Math.abs(a[0]-c[0])<=Math.abs(a[1]-c[1])){var w=[(b[0]+c[0])/2,(b[1]+c[1])/2];var x=this.transformInv_(w);var y=[(d[0]+a[0])/2,(d[1]+a[1])/2];var z=this.transformInv_(y);this.addQuad_(a,b,w,y,e,f,x,z,i-1);this.addQuad_(y,w,c,d,z,x,g,h,i-1)}else{var A=[(a[0]+b[0])/2,(a[1]+b[1])/2];var B=this.transformInv_(A);var C=[(c[0]+d[0])/2,(c[1]+d[1])/2];var D=this.transformInv_(C);this.addQuad_(a,A,C,d,e,B,D,h,i-1);this.addQuad_(A,b,c,C,B,f,g,D,i-1)}return}}if(m){if(!this.canWrapXInSource_){return}this.wrapsXInSource_=true}this.addTriangle_(a,c,d,e,g,h);this.addTriangle_(a,b,c,e,f,g)};ol.reproj.Triangulation.prototype.calculateSourceExtent=function(){var a=ol.extent.createEmpty();this.triangles_.forEach((function(b,c,d){var e=b.source;ol.extent.extendCoordinate(a,e[0]);ol.extent.extendCoordinate(a,e[1]);ol.extent.extendCoordinate(a,e[2])}));return a};ol.reproj.Triangulation.prototype.getTriangles=function(){return this.triangles_};goog.provide("ol.reproj.Image");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.reproj");goog.require("ol.reproj.Triangulation");ol.reproj.Image=function(a,b,c,d,e,f){this.targetProj_=b;this.maxSourceExtent_=a.getExtent();var g=b.getExtent();var h=g?ol.extent.getIntersection(c,g):c;var i=ol.extent.getCenter(h);var j=ol.reproj.calculateSourceResolution(a,b,i,d);var k=ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(a,b,h,this.maxSourceExtent_,j*k);this.targetResolution_=d;this.targetExtent_=c;var l=this.triangulation_.calculateSourceExtent();this.sourceImage_=f(l,j,e);this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1;this.canvas_=null;this.sourceListenerKey_=null;var m=ol.ImageState.LOADED;var n=[];if(this.sourceImage_){m=ol.ImageState.IDLE;n=this.sourceImage_.getAttributions()}ol.ImageBase.call(this,c,d,this.sourcePixelRatio_,m,n)};ol.inherits(ol.reproj.Image,ol.ImageBase);ol.reproj.Image.prototype.disposeInternal=function(){if(this.state==ol.ImageState.LOADING){this.unlistenSource_()}ol.ImageBase.prototype.disposeInternal.call(this)};ol.reproj.Image.prototype.getImage=function(a){return this.canvas_};ol.reproj.Image.prototype.getProjection=function(){
return this.targetProj_};ol.reproj.Image.prototype.reproject_=function(){var a=this.sourceImage_.getState();if(a==ol.ImageState.LOADED){var b=ol.extent.getWidth(this.targetExtent_)/this.targetResolution_;var c=ol.extent.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ol.reproj.render(b,c,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=a;this.changed()};ol.reproj.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();var a=this.sourceImage_.getState();if(a==ol.ImageState.LOADED||a==ol.ImageState.ERROR){this.reproject_()}else{this.sourceListenerKey_=ol.events.listen(this.sourceImage_,ol.events.EventType.CHANGE,(function(a){var b=this.sourceImage_.getState();if(b==ol.ImageState.LOADED||b==ol.ImageState.ERROR){this.unlistenSource_();this.reproject_()}}),this);this.sourceImage_.load()}}};ol.reproj.Image.prototype.unlistenSource_=function(){goog.DEBUG&&console.assert(this.sourceListenerKey_,"this.sourceListenerKey_ should not be null");ol.events.unlistenByKey(this.sourceListenerKey_);this.sourceListenerKey_=null};goog.provide("ol.source.Image");goog.provide("ol.source.ImageEvent");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.array");goog.require("ol.events.Event");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.reproj.Image");goog.require("ol.source.Source");ol.source.Image=function(a){ol.source.Source.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.resolutions_=a.resolutions!==undefined?a.resolutions:null;goog.DEBUG&&console.assert(!this.resolutions_||ol.array.isSorted(this.resolutions_,(function(a,b){return b-a}),true),"resolutions must be null or sorted in descending order");this.reprojectedImage_=null;this.reprojectedRevision_=0};ol.inherits(ol.source.Image,ol.source.Source);ol.source.Image.prototype.getResolutions=function(){return this.resolutions_};ol.source.Image.prototype.findNearestResolution=function(a){if(this.resolutions_){var b=ol.array.linearFindNearest(this.resolutions_,a,0);a=this.resolutions_[b]}return a};ol.source.Image.prototype.getImage=function(a,b,c,d){var e=this.getProjection();if(!ol.ENABLE_RASTER_REPROJECTION||!e||!d||ol.proj.equivalent(e,d)){if(e){d=e}return this.getImageInternal(a,b,c,d)}else{if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ol.proj.equivalent(this.reprojectedImage_.getProjection(),d)&&this.reprojectedImage_.getResolution()==b&&this.reprojectedImage_.getPixelRatio()==c&&ol.extent.equals(this.reprojectedImage_.getExtent(),a)){return this.reprojectedImage_}this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new ol.reproj.Image(e,d,a,b,c,function(a,b,c){return this.getImageInternal(a,b,c,e)}.bind(this));this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}};ol.source.Image.prototype.getImageInternal=function(a,b,c,d){};ol.source.Image.prototype.handleImageChange=function(a){var b=a.target;switch(b.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.ImageEvent(ol.source.ImageEventType.IMAGELOADSTART,b));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.ImageEvent(ol.source.ImageEventType.IMAGELOADEND,b));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.ImageEvent(ol.source.ImageEventType.IMAGELOADERROR,b));break;default:}};ol.source.Image.defaultImageLoadFunction=function(a,b){a.getImage().src=b};ol.source.ImageEvent=function(a,b){ol.events.Event.call(this,a);this.image=b};ol.inherits(ol.source.ImageEvent,ol.events.Event);ol.source.ImageEventType={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};goog.provide("ol.source.ImageCanvas");goog.require("ol");goog.require("ol.ImageCanvas");goog.require("ol.extent");goog.require("ol.source.Image");ol.source.ImageCanvas=function(a){ol.source.Image.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state});this.canvasFunction_=a.canvasFunction;this.canvas_=null;this.renderedRevision_=0;this.ratio_=a.ratio!==undefined?a.ratio:1.5};ol.inherits(ol.source.ImageCanvas,ol.source.Image);ol.source.ImageCanvas.prototype.getImageInternal=function(a,b,c,d){b=this.findNearestResolution(b);var e=this.canvas_;if(e&&this.renderedRevision_==this.getRevision()&&e.getResolution()==b&&e.getPixelRatio()==c&&ol.extent.containsExtent(e.getExtent(),a)){return e}a=a.slice();ol.extent.scaleFromCenter(a,this.ratio_);var f=ol.extent.getWidth(a)/b;var g=ol.extent.getHeight(a)/b;var h=[f*c,g*c];var i=this.canvasFunction_(a,b,c,h,d);if(i){e=new ol.ImageCanvas(a,b,c,this.getAttributions(),i)}this.canvas_=e;this.renderedRevision_=this.getRevision();return e};goog.provide("ol.source.ImageVector");goog.require("ol");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.renderer.vector");goog.require("ol.source.ImageCanvas");goog.require("ol.style.Style");goog.require("ol.transform");ol.source.ImageVector=function(a){this.source_=a.source;this.transform_=ol.transform.create();this.canvasContext_=ol.dom.createCanvasContext2D();this.canvasSize_=[0,0];this.renderBuffer_=a.renderBuffer==undefined?100:a.renderBuffer;this.replayGroup_=null;ol.source.ImageCanvas.call(this,{attributions:a.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.source_.getState()});this.style_=null;this.styleFunction_=undefined;this.setStyle(a.style);ol.events.listen(this.source_,ol.events.EventType.CHANGE,this.handleSourceChange_,this)};ol.inherits(ol.source.ImageVector,ol.source.ImageCanvas);ol.source.ImageVector.prototype.canvasFunctionInternal_=function(a,b,c,d,e){var f=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(b,c),a,b,this.source_.getOverlaps(),this.renderBuffer_);this.source_.loadFeatures(a,b,e);var g=false;this.source_.forEachFeatureInExtent(a,(function(a){g=g||this.renderFeature_(a,b,c,f)}),this);f.finish();if(g){return null}if(this.canvasSize_[0]!=d[0]||this.canvasSize_[1]!=d[1]){this.canvasContext_.canvas.width=d[0];this.canvasContext_.canvas.height=d[1];this.canvasSize_[0]=d[0];this.canvasSize_[1]=d[1]}else{this.canvasContext_.clearRect(0,0,d[0],d[1])}var h=this.getTransform_(ol.extent.getCenter(a),b,c,d);f.replay(this.canvasContext_,c,h,0,{});this.replayGroup_=f;return this.canvasContext_.canvas};ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e){if(!this.replayGroup_){return undefined}else{var f={};return this.replayGroup_.forEachFeatureAtCoordinate(a,b,0,d,(function(a){var b=ol.getUid(a).toString();if(!(b in f)){f[b]=true;return e(a)}}))}};ol.source.ImageVector.prototype.getSource=function(){return this.source_};ol.source.ImageVector.prototype.getStyle=function(){return this.style_};ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.source.ImageVector.prototype.getTransform_=function(a,b,c,d){var e=d[0]/2;var f=d[1]/2;var g=c/b;var h=-g;var i=-a[0];var j=-a[1];return ol.transform.compose(this.transform_,e,f,g,h,0,i,j)};ol.source.ImageVector.prototype.handleImageChange_=function(a){this.changed()};ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())};ol.source.ImageVector.prototype.renderFeature_=function(a,b,c,d){var e;var f=a.getStyleFunction();if(f){e=f.call(a,b)}else if(this.styleFunction_){e=this.styleFunction_(a,b)}if(!e){return false}var g,h,i=false;if(!Array.isArray(e)){e=[e]}for(g=0,h=e.length;g<h;++g){i=ol.renderer.vector.renderFeature(d,a,e[g],ol.renderer.vector.getSquaredTolerance(b,c),this.handleImageChange_,this)||i}return i};ol.source.ImageVector.prototype.setStyle=function(a){this.style_=a!==undefined?a:ol.style.Style.defaultFunction;this.styleFunction_=!a?undefined:ol.style.Style.createFunction(this.style_);this.changed()};goog.provide("ol.renderer.canvas.ImageLayer");goog.require("ol");goog.require("ol.View");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.proj");goog.require("ol.renderer.canvas.Layer");goog.require("ol.source.ImageVector");goog.require("ol.transform");ol.renderer.canvas.ImageLayer=function(a){ol.renderer.canvas.Layer.call(this,a);this.image_=null;this.imageTransform_=ol.transform.create();this.imageTransformInv_=null;this.hitCanvasContext_=null};ol.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.Layer);ol.renderer.canvas.ImageLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d){var e=this.getLayer();var f=e.getSource();var g=b.viewState.resolution;var h=b.viewState.rotation;var i=b.skippedFeatureUids;return f.forEachFeatureAtCoordinate(a,g,h,i,(function(a){return c.call(d,a,e)}))};ol.renderer.canvas.ImageLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){if(!this.getImage()){return undefined}if(this.getLayer().getSource()instanceof ol.source.ImageVector){var e=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());var f=this.forEachFeatureAtCoordinate(e,b,ol.functions.TRUE,this);if(f){return c.call(d,this.getLayer(),null)}else{return undefined}}else{if(!this.imageTransformInv_){this.imageTransformInv_=ol.transform.invert(this.imageTransform_.slice())}var g=this.getPixelOnCanvas(a,this.imageTransformInv_);if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.getImage(),g[0],g[1],1,1,0,0,1,1);var h=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(h[3]>0){return c.call(d,this.getLayer(),h)}else{return undefined}}};ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return!this.image_?null:this.image_.getImage()};ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_};ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(a,b){var c=a.pixelRatio;var d=a.viewState;var e=d.center;var f=d.resolution;var g;var h=this.getLayer();var i=h.getSource();var j=a.viewHints;var k=a.extent;if(b.extent!==undefined){k=ol.extent.getIntersection(k,b.extent)}if(!j[ol.View.Hint.ANIMATING]&&!j[ol.View.Hint.INTERACTING]&&!ol.extent.isEmpty(k)){var l=d.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var m=i.getProjection();if(m){goog.DEBUG&&console.assert(ol.proj.equivalent(l,m),"projection and sourceProjection are equivalent");l=m}}g=i.getImage(k,f,c,l);if(g){var n=this.loadImage(g);if(n){this.image_=g}}}if(this.image_){g=this.image_;var o=g.getExtent();var p=g.getResolution();var q=g.getPixelRatio();var r=c*p/(f*q);var s=ol.transform.reset(this.imageTransform_);ol.transform.translate(s,c*a.size[0]/2,c*a.size[1]/2);ol.transform.scale(s,r,r);ol.transform.translate(s,q*(o[0]-e[0])/p,q*(e[1]-o[3])/p);this.imageTransformInv_=null;this.updateAttributions(a.attributions,g.getAttributions());this.updateLogos(a,i)}return!!this.image_};goog.provide("ol.renderer.canvas.TileLayer");goog.require("ol");goog.require("ol.transform");goog.require("ol.TileRange");goog.require("ol.Tile");goog.require("ol.array");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.render.canvas");goog.require("ol.render.EventType");goog.require("ol.renderer.canvas.Layer");ol.renderer.canvas.TileLayer=function(a){ol.renderer.canvas.Layer.call(this,a);this.context=ol.dom.createCanvasContext2D();this.renderedTiles=null;this.tmpExtent=ol.extent.createEmpty();this.tmpTileCoord_=[0,0,0];this.imageTransform_=ol.transform.create();this.zDirection=0};ol.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.Layer);ol.renderer.canvas.TileLayer.prototype.composeFrame=function(a,b,c){var d=this.getTransform(a,0);this.dispatchPreComposeEvent(c,a,d);this.renderTileImages(c,a,b);this.dispatchPostComposeEvent(c,a,d)};ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(a,b){var c=a.pixelRatio;var d=a.viewState;var e=d.projection;var f=this.getLayer();var g=f.getSource();var h=g.getTileGridForProjection(e);var i=h.getZForResolution(d.resolution,this.zDirection);var j=h.getResolution(i);var k=d.center;var l;if(j==d.resolution){k=this.snapCenterToPixel(k,j,a.size);l=ol.extent.getForViewAndSize(k,j,d.rotation,a.size)}else{l=a.extent}if(b.extent!==undefined){l=ol.extent.getIntersection(l,b.extent)}if(ol.extent.isEmpty(l)){return false}var m=h.getTileRangeForExtentAndResolution(l,j);var n={};n[i]={};var o=this.createLoadedTileFinder(g,e,n);var p=f.getUseInterimTilesOnError();var q=ol.extent.createEmpty();var r=new ol.TileRange(0,0,0,0);var s,t,u,v,w;var x=function(a){var b=a.getState();return b==ol.Tile.State.LOADED||b==ol.Tile.State.EMPTY||b==ol.Tile.State.ERROR&&!p};for(v=m.minX;v<=m.maxX;++v){for(w=m.minY;w<=m.maxY;++w){u=g.getTile(i,v,w,c,e);if(!x(u)&&u.interimTile){u=u.interimTile}if(x(u)){n[i][u.tileCoord.toString()]=u;continue}t=h.forEachTileCoordParentTileRange(u.tileCoord,o,null,r,q);if(!t){s=h.getTileCoordChildTileRange(u.tileCoord,r,q);if(s){o(i+1,s)}}}}var y=Object.keys(n).map(Number);y.sort(ol.array.numberSafeCompareFunction);var z=[];var A,B,C,D,E;for(A=0,B=y.length;A<B;++A){C=y[A];E=n[C];for(D in E){u=E[D];if(u.getState()==ol.Tile.State.LOADED){z.push(u)}}}this.renderedTiles=z;this.updateUsedTiles(a.usedTiles,g,i,m);this.manageTilePyramid(a,g,h,c,e,l,i,f.getPreload());this.scheduleExpireCache(a,g);this.updateLogos(a,g);return true};ol.renderer.canvas.TileLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){var e=this.context.canvas;var f=b.size;var g=b.pixelRatio;e.width=f[0]*g;e.height=f[1]*g;this.composeFrame(b,this.getLayer().getLayerState(),this.context);var h=this.context.getImageData(a[0],a[1],1,1).data;if(h[3]>0){return c.call(d,this.getLayer(),h)}else{return undefined}};ol.renderer.canvas.TileLayer.prototype.renderTileImages=function(a,b,c){var d=b.pixelRatio;var e=b.viewState;var f=e.center;var g=e.projection;var h=e.resolution;var i=e.rotation;var j=b.size;var k=Math.round(d*j[0]/2);var l=Math.round(d*j[1]/2);var m=d/h;var n=this.getLayer();var o=n.getSource();var p=d*o.getGutter(g);var q=o.getTileGridForProjection(g);var r=n.hasListener(ol.render.EventType.RENDER);var s=a;var t=1;var u,v,w;if(i||r){s=this.context;var x=s.canvas;t=o.getTilePixelRatio(d)/d;var y=a.canvas.width*t;var z=a.canvas.height*t;w=Math.round(Math.sqrt(y*y+z*z));if(x.width!=w){x.width=x.height=w}else{s.clearRect(0,0,w,w)}u=(w-y)/2/t;v=(w-z)/2/t;m*=t;k=Math.round(t*(k+u));l=Math.round(t*(l+v))}var A=s.globalAlpha;s.globalAlpha=c.opacity;var B=this.renderedTiles;var C;var D=o.getOpaque(g)&&c.opacity==1;if(!D){B.reverse();C=[]}var E=c.extent;var F=E!==undefined;if(F){var G=ol.extent.getTopLeft(E);var H=ol.extent.getTopRight(E);var I=ol.extent.getBottomRight(E);var J=ol.extent.getBottomLeft(E);ol.transform.apply(b.coordinateToPixelTransform,G);ol.transform.apply(b.coordinateToPixelTransform,H);ol.transform.apply(b.coordinateToPixelTransform,I);ol.transform.apply(b.coordinateToPixelTransform,J);var K=u||0;var L=v||0;s.save();var M=s.canvas.width/2;var N=s.canvas.height/2;ol.render.canvas.rotateAtOffset(s,-i,M,N);s.beginPath();s.moveTo(t*(G[0]*d+K),t*(G[1]*d+L));s.lineTo(t*(H[0]*d+K),t*(H[1]*d+L));s.lineTo(t*(I[0]*d+K),t*(I[1]*d+L));s.lineTo(t*(J[0]*d+K),t*(J[1]*d+L));s.clip();ol.render.canvas.rotateAtOffset(s,i,M,N)}for(var O=0,P=B.length;O<P;++O){var Q=B[O];var R=Q.getTileCoord();var S=q.getTileCoordExtent(R,this.tmpExtent);var T=R[0];var U=ol.extent.getBottomLeft(q.getTileCoordExtent(q.getTileCoordForCoordAndZ(f,T,this.tmpTileCoord_)));var V=Math.round(ol.extent.getWidth(S)*m);var W=Math.round(ol.extent.getHeight(S)*m);var X=Math.round((S[0]-U[0])*m/V)*V+k+Math.round((U[0]-f[0])*m);var Y=Math.round((U[1]-S[3])*m/W)*W+l+Math.round((f[1]-U[1])*m);if(!D){var Z=[X,Y,X+V,Y+W];s.save();for(var $=0,_=C.length;$<_;++$){var aa=C[$];if(ol.extent.intersects(Z,aa)){s.beginPath();s.moveTo(Z[0],Z[1]);s.lineTo(Z[0],Z[3]);s.lineTo(Z[2],Z[3]);s.lineTo(Z[2],Z[1]);s.moveTo(aa[0],aa[1]);s.lineTo(aa[2],aa[1]);s.lineTo(aa[2],aa[3]);s.lineTo(aa[0],aa[3]);s.closePath();s.clip()}}C.push(Z)}var ba=o.getTilePixelSize(T,d,g);s.drawImage(Q.getImage(),p,p,ba[0],ba[1],X,Y,V,W);if(!D){s.restore()}}if(F){s.restore()}if(r){var ca=u-k/t+k;var da=v-l/t+l;var ea=ol.transform.compose(this.imageTransform_,w/2-ca,w/2-da,m,-m,-i,-f[0]+ca/m,-f[1]-da/m);this.dispatchRenderEvent(s,b,ea)}if(i||r){a.drawImage(s.canvas,-Math.round(u),-Math.round(v),w/t,w/t)}s.globalAlpha=A};ol.renderer.canvas.TileLayer.prototype.getLayer;goog.provide("ol.renderer.canvas.VectorLayer");goog.require("ol");goog.require("ol.View");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.renderer.canvas.Layer");goog.require("ol.renderer.vector");ol.renderer.canvas.VectorLayer=function(a){ol.renderer.canvas.Layer.call(this,a);this.dirty_=false;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.context_=ol.dom.createCanvasContext2D()};ol.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer);ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(a,b,c){var d=a.extent;var e=a.pixelRatio;var f=b.managed?a.skippedFeatureUids:{};var g=a.viewState;var h=g.projection;var i=g.rotation;var j=h.getExtent();var k=this.getLayer().getSource();var l=this.getTransform(a,0);this.dispatchPreComposeEvent(c,a,l);var m=b.extent;var n=m!==undefined;if(n){this.clip(c,a,m)}var o=this.replayGroup_;if(o&&!o.isEmpty()){var p=this.getLayer();var q=0;var r=0;var s;if(p.hasListener(ol.render.EventType.RENDER)){var t=c.canvas.width;var u=c.canvas.height;if(i){var v=Math.round(Math.sqrt(t*t+u*u));q=(v-t)/2;r=(v-u)/2;t=u=v}this.context_.canvas.width=t;this.context_.canvas.height=u;s=this.context_}else{s=c}var w=s.globalAlpha;s.globalAlpha=b.opacity;if(s!=c){s.translate(q,r)}var x=a.size[0]*e;var y=a.size[1]*e;ol.render.canvas.rotateAtOffset(s,-i,x/2,y/2);o.replay(s,e,l,i,f);if(k.getWrapX()&&h.canWrapX()&&!ol.extent.containsExtent(j,d)){var z=d[0];var A=ol.extent.getWidth(j);var B=0;var C;while(z<j[0]){--B;C=A*B;l=this.getTransform(a,C);o.replay(s,e,l,i,f);z+=A}B=0;z=d[2];while(z>j[2]){++B;C=A*B;l=this.getTransform(a,C);o.replay(s,e,l,i,f);z-=A}l=this.getTransform(a,0)}ol.render.canvas.rotateAtOffset(s,i,x/2,y/2);if(s!=c){this.dispatchRenderEvent(s,a,l);c.drawImage(s.canvas,-q,-r);s.translate(-q,-r)}s.globalAlpha=w}if(n){c.restore()}this.dispatchPostComposeEvent(c,a,l)};ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d){if(!this.replayGroup_){return undefined}else{var e=b.viewState.resolution;var f=b.viewState.rotation;var g=this.getLayer();var h={};return this.replayGroup_.forEachFeatureAtCoordinate(a,e,f,{},(function(a){var b=ol.getUid(a).toString();if(!(b in h)){h[b]=true;return c.call(d,a,g)}}))}};ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(a,b){var c=this.getLayer();var d=c.getSource();this.updateAttributions(a.attributions,d.getAttributions());this.updateLogos(a,d);var e=a.viewHints[ol.View.Hint.ANIMATING];var f=a.viewHints[ol.View.Hint.INTERACTING];var g=c.getUpdateWhileAnimating();var h=c.getUpdateWhileInteracting();if(!this.dirty_&&(!g&&e)||!h&&f){return true}var i=a.extent;var j=a.viewState;var k=j.projection;var l=j.resolution;var m=a.pixelRatio;var n=c.getRevision();var o=c.getRenderBuffer();var p=c.getRenderOrder();if(p===undefined){p=ol.renderer.vector.defaultOrder}var q=ol.extent.buffer(i,o*l);var r=j.projection.getExtent();if(d.getWrapX()&&j.projection.canWrapX()&&!ol.extent.containsExtent(r,a.extent)){var s=ol.extent.getWidth(r);var t=Math.max(ol.extent.getWidth(q)/2,s);q[0]=r[0]-t;q[2]=r[2]+t}if(!this.dirty_&&this.renderedResolution_==l&&this.renderedRevision_==n&&this.renderedRenderOrder_==p&&ol.extent.containsExtent(this.renderedExtent_,q)){return true}this.replayGroup_=null;this.dirty_=false;var u=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(l,m),q,l,d.getOverlaps(),c.getRenderBuffer());d.loadFeatures(q,l,k);var v=function(a){var b;var d=a.getStyleFunction();if(d){b=d.call(a,l)}else{d=c.getStyleFunction();if(d){b=d(a,l)}}if(b){var e=this.renderFeature(a,l,m,b,u);this.dirty_=this.dirty_||e}};if(p){var w=[];d.forEachFeatureInExtent(q,(function(a){w.push(a)}),this);w.sort(p);w.forEach(v,this)}else{d.forEachFeatureInExtent(q,v,this)}u.finish();this.renderedResolution_=l;this.renderedRevision_=n;this.renderedRenderOrder_=p;this.renderedExtent_=q;this.replayGroup_=u;return true};ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(a,b,c,d,e){if(!d){return false}var f=false;if(Array.isArray(d)){for(var g=0,h=d.length;g<h;++g){f=ol.renderer.vector.renderFeature(e,a,d[g],ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f}}else{f=ol.renderer.vector.renderFeature(e,a,d,ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f}return f};goog.provide("ol.renderer.canvas.VectorTileLayer");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.proj.Units");goog.require("ol.render.EventType");goog.require("ol.render.ReplayType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.render.replay");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.vector");goog.require("ol.size");goog.require("ol.transform");ol.renderer.canvas.IMAGE_REPLAYS={image:ol.render.replay.ORDER,hybrid:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING]};ol.renderer.canvas.VECTOR_REPLAYS={hybrid:[ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],vector:ol.render.replay.ORDER};ol.renderer.canvas.VectorTileLayer=function(a){ol.renderer.canvas.TileLayer.call(this,a);this.dirty_=false;this.tmpTransform_=ol.transform.create();this.zDirection=a.getRenderMode()==ol.layer.VectorTileRenderType.VECTOR?1:0};ol.inherits(ol.renderer.canvas.VectorTileLayer,ol.renderer.canvas.TileLayer);ol.renderer.canvas.VectorTileLayer.prototype.composeFrame=function(a,b,c){var d=this.getTransform(a,0);this.dispatchPreComposeEvent(c,a,d);var e=b.extent;var f=e!==undefined;if(f){this.clip(c,a,e)}var g=this.getLayer().getRenderMode();if(g!==ol.layer.VectorTileRenderType.VECTOR){this.renderTileImages(c,a,b)}if(g!==ol.layer.VectorTileRenderType.IMAGE){this.renderTileReplays_(c,a,b)}if(f){c.restore()}this.dispatchPostComposeEvent(c,a,d)};ol.renderer.canvas.VectorTileLayer.prototype.renderTileReplays_=function(a,b,c){var d=this.getLayer();var e=ol.renderer.canvas.VECTOR_REPLAYS[d.getRenderMode()];var f=b.pixelRatio;var g=c.managed?b.skippedFeatureUids:{};var h=b.viewState;var i=h.center;var j=h.resolution;var k=h.rotation;var l=b.size;var m=f/j;var n=d.getSource();var o=n.getTilePixelRatio();var p=this.getTransform(b,0);var q;if(d.hasListener(ol.render.EventType.RENDER)){this.context.canvas.width=a.canvas.width;this.context.canvas.height=a.canvas.height;q=this.context}else{q=a}var r=q.globalAlpha;q.globalAlpha=c.opacity;var s=this.renderedTiles;var t=n.getTileGrid();var u,v,w,x,y,z,A,B;var C,D,E,F,G;for(v=0,w=s.length;v<w;++v){C=s[v];B=C.getReplayState();D=t.getTileCoordExtent(C.getTileCoord(),this.tmpExtent);u=C.getTileCoord()[0];A=C.getProjection().getUnits()==ol.proj.Units.TILE_PIXELS;F=t.getResolution(u);E=F/o;x=Math.round(f*l[0]/2);y=Math.round(f*l[1]/2);if(A){z=ol.extent.getTopLeft(D);G=ol.transform.reset(this.tmpTransform_);G=ol.transform.compose(this.tmpTransform_,x,y,m*E,m*E,k,(z[0]-i[0])/E,(i[1]-z[1])/E)}else{G=p}ol.render.canvas.rotateAtOffset(q,-k,x,y);B.replayGroup.replay(q,f,G,k,g,e);ol.render.canvas.rotateAtOffset(q,k,x,y)}if(q!=a){this.dispatchRenderEvent(q,b,p);a.drawImage(q.canvas,0,0)}q.globalAlpha=r};ol.renderer.canvas.VectorTileLayer.prototype.createReplayGroup=function(a,b){var c=this.getLayer();var d=b.pixelRatio;var e=b.viewState.projection;var f=c.getRevision();var g=c.getRenderOrder()||null;var h=a.getReplayState();if(!h.dirty&&h.renderedRevision==f&&h.renderedRenderOrder==g){return}h.replayGroup=null;h.dirty=false;var i=c.getSource();var j=i.getTileGrid();var k=a.getTileCoord();var l=a.getProjection();var m=l.getUnits()==ol.proj.Units.TILE_PIXELS;var n=j.getResolution(k[0]);var o,p,q;if(m){var r=q=i.getTilePixelRatio();var s=ol.size.toSize(j.getTileSize(k[0]));o=[0,0,s[0]*r,s[1]*r]}else{q=n;o=j.getTileCoordExtent(k);if(!ol.proj.equivalent(e,l)){p=true;a.setProjection(e)}}h.dirty=false;var t=new ol.render.canvas.ReplayGroup(0,o,q,i.getOverlaps(),c.getRenderBuffer());var u=ol.renderer.vector.getSquaredTolerance(q,d);function v(a){var b;var d=a.getStyleFunction();if(d){b=d.call(a,n)}else{d=c.getStyleFunction();if(d){b=d(a,n)}}if(b){if(!Array.isArray(b)){b=[b]}var e=this.renderFeature(a,u,b,t);this.dirty_=this.dirty_||e;h.dirty=h.dirty||e}}var w=a.getFeatures();if(g&&g!==h.renderedRenderOrder){w.sort(g)}var x;for(var y=0,z=w.length;y<z;++y){x=w[y];if(p){x.getGeometry().transform(l,e)}v.call(this,x)}t.finish();h.renderedRevision=f;h.renderedRenderOrder=g;h.replayGroup=t;h.resolution=NaN};ol.renderer.canvas.VectorTileLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d){var e=b.viewState.resolution;var f=b.viewState.rotation;var g=this.getLayer();var h={};var i=this.renderedTiles;var j=g.getSource();var k=j.getTileGrid();var l,m;var n,o,p,q;var r,s,t,u,v;for(n=0,o=i.length;n<o;++n){r=i[n];s=r.getTileCoord();t=j.getTileGrid().getTileCoordExtent(s,this.tmpExtent);if(!ol.extent.containsCoordinate(t,a)){continue}if(r.getProjection().getUnits()===ol.proj.Units.TILE_PIXELS){p=ol.extent.getTopLeft(t);u=j.getTilePixelRatio();v=k.getResolution(s[0])/u;m=[(a[0]-p[0])/v,(p[1]-a[1])/v];e=u}else{m=a}q=r.getReplayState().replayGroup;l=l||q.forEachFeatureAtCoordinate(m,e,f,{},(function(a){var b=ol.getUid(a).toString();if(!(b in h)){h[b]=true;return c.call(d,a,g)}}))}return l};ol.renderer.canvas.VectorTileLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorTileLayer.prototype.prepareFrame=function(a,b){var c=ol.renderer.canvas.TileLayer.prototype.prepareFrame.call(this,a,b);if(c){var d=Object.keys(a.skippedFeatureUids_||{});for(var e=0,f=this.renderedTiles.length;e<f;++e){var g=this.renderedTiles[e];this.createReplayGroup(g,a);this.renderTileImage_(g,a,b,d)}}return c};ol.renderer.canvas.VectorTileLayer.prototype.renderFeature=function(a,b,c,d){if(!c){return false}var e=false;if(Array.isArray(c)){for(var f=0,g=c.length;f<g;++f){e=ol.renderer.vector.renderFeature(d,a,c[f],b,this.handleStyleImageChange_,this)||e}}else{e=ol.renderer.vector.renderFeature(d,a,c,b,this.handleStyleImageChange_,this)||e}return e};ol.renderer.canvas.VectorTileLayer.prototype.renderTileImage_=function(a,b,c,d){var e=this.getLayer();var f=ol.renderer.canvas.IMAGE_REPLAYS[e.getRenderMode()];if(!f){return}var g=b.pixelRatio;var h=a.getReplayState();var i=e.getRevision();if(!ol.array.equals(h.skippedFeatures,d)||h.renderedTileRevision!==i){h.skippedFeatures=d;h.renderedTileRevision=i;var j=a.getContext();var k=e.getSource();var l=k.getTileGrid();var m=a.getTileCoord()[0];var n=l.getResolution(m);var o=ol.size.toSize(l.getTileSize(m));var p=l.getResolution(m);var q=p/n;var r=o[0]*g*q;var s=o[1]*g*q;j.canvas.width=r/q+.5;j.canvas.height=s/q+.5;j.scale(1/q,1/q);j.translate(r/2,s/2);var t=a.getProjection().getUnits()==ol.proj.Units.TILE_PIXELS;var u=g/n;var v=k.getTilePixelRatio();var w=p/v;var x=l.getTileCoordExtent(a.getTileCoord(),this.tmpExtent);var y=ol.transform.reset(this.tmpTransform_);if(t){ol.transform.scale(y,u*w,u*w);ol.transform.translate(y,-o[0]*v/2,-o[1]*v/2)}else{var z=ol.extent.getCenter(x);ol.transform.scale(y,u,-u);ol.transform.translate(y,-z[0],-z[1])}h.replayGroup.replay(j,g,y,0,b.skippedFeatureUids||{},f)}};goog.provide("ol.renderer.canvas.Map");goog.require("ol.transform");goog.require("ol");goog.require("ol.RendererType");goog.require("ol.array");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.layer.Image");goog.require("ol.layer.Layer");goog.require("ol.layer.Tile");goog.require("ol.layer.Vector");goog.require("ol.layer.VectorTile");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Immediate");goog.require("ol.renderer.Map");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.canvas.VectorLayer");goog.require("ol.renderer.canvas.VectorTileLayer");goog.require("ol.source.State");ol.renderer.canvas.Map=function(a,b){ol.renderer.Map.call(this,a,b);this.context_=ol.dom.createCanvasContext2D();this.canvas_=this.context_.canvas;this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;a.insertBefore(this.canvas_,a.childNodes[0]||null);this.renderedVisible_=true;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Map,ol.renderer.Map);ol.renderer.canvas.Map.prototype.createLayerRenderer=function(a){if(ol.ENABLE_IMAGE&&a instanceof ol.layer.Image){return new ol.renderer.canvas.ImageLayer(a)}else if(ol.ENABLE_TILE&&a instanceof ol.layer.Tile){return new ol.renderer.canvas.TileLayer(a)}else if(ol.ENABLE_VECTOR_TILE&&a instanceof ol.layer.VectorTile){return new ol.renderer.canvas.VectorTileLayer(a)}else if(ol.ENABLE_VECTOR&&a instanceof ol.layer.Vector){return new ol.renderer.canvas.VectorLayer(a)}else{goog.DEBUG&&console.assert(false,"unexpected layer configuration");return null}};ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(a,b){var c=this.getMap();var d=this.context_;if(c.hasListener(a)){var e=b.extent;var f=b.pixelRatio;var g=b.viewState;var h=g.rotation;var i=this.getTransform(b);var j=new ol.render.canvas.Immediate(d,f,e,i,h);var k=new ol.render.Event(a,j,b,d,null);c.dispatchEvent(k)}};ol.renderer.canvas.Map.prototype.getTransform=function(a){var b=a.viewState;var c=this.canvas_.width/2;var d=this.canvas_.height/2;var e=a.pixelRatio/b.resolution;var f=-e;var g=-b.rotation;var h=-b.center[0];var i=-b.center[1];return ol.transform.compose(this.transform_,c,d,e,f,g,h,i)};ol.renderer.canvas.Map.prototype.getType=function(){return ol.RendererType.CANVAS};ol.renderer.canvas.Map.prototype.renderFrame=function(a){if(!a){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=false}return}var b=this.context_;var c=a.pixelRatio;var d=Math.round(a.size[0]*c);var e=Math.round(a.size[1]*c);if(this.canvas_.width!=d||this.canvas_.height!=e){this.canvas_.width=d;this.canvas_.height=e}else{b.clearRect(0,0,d,e)}var f=a.viewState.rotation;this.calculateMatrices2D(a);this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a);var g=a.layerStatesArray;ol.array.stableSort(g,ol.renderer.Map.sortByZIndex);ol.render.canvas.rotateAtOffset(b,f,d/2,e/2);var h=a.viewState.resolution;var i,j,k,l,m;for(i=0,j=g.length;i<j;++i){m=g[i];k=m.layer;l=this.getLayerRenderer(k);if(!ol.layer.Layer.visibleAtResolution(m,h)||m.sourceState!=ol.source.State.READY){continue}if(l.prepareFrame(a,m)){l.composeFrame(a,m,b)}}ol.render.canvas.rotateAtOffset(b,-f,d/2,e/2);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a);if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=true}this.scheduleRemoveUnusedLayerRenderers(a);this.scheduleExpireIconCache(a)};goog.provide("ol.renderer.dom.Layer");goog.require("ol");goog.require("ol.renderer.Layer");ol.renderer.dom.Layer=function(a,b){ol.renderer.Layer.call(this,a);this.target=b};ol.inherits(ol.renderer.dom.Layer,ol.renderer.Layer);
ol.renderer.dom.Layer.prototype.clearFrame=ol.nullFunction;ol.renderer.dom.Layer.prototype.composeFrame=ol.nullFunction;ol.renderer.dom.Layer.prototype.getTarget=function(){return this.target};ol.renderer.dom.Layer.prototype.prepareFrame=function(a,b){};goog.provide("ol.renderer.dom.ImageLayer");goog.require("ol");goog.require("ol.View");goog.require("ol.array");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.renderer.dom.Layer");goog.require("ol.transform");ol.renderer.dom.ImageLayer=function(a){var b=document.createElement("DIV");b.style.position="absolute";ol.renderer.dom.Layer.call(this,a,b);this.image_=null;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.dom.ImageLayer,ol.renderer.dom.Layer);ol.renderer.dom.ImageLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d){var e=this.getLayer();var f=e.getSource();var g=b.viewState.resolution;var h=b.viewState.rotation;var i=b.skippedFeatureUids;return f.forEachFeatureAtCoordinate(a,g,h,i,(function(a){return c.call(d,a,e)}))};ol.renderer.dom.ImageLayer.prototype.clearFrame=function(){ol.dom.removeChildren(this.target);this.image_=null};ol.renderer.dom.ImageLayer.prototype.prepareFrame=function(a,b){var c=a.viewState;var d=c.center;var e=c.resolution;var f=c.rotation;var g=this.image_;var h=this.getLayer();var i=h.getSource();var j=a.viewHints;var k=a.extent;if(b.extent!==undefined){k=ol.extent.getIntersection(k,b.extent)}if(!j[ol.View.Hint.ANIMATING]&&!j[ol.View.Hint.INTERACTING]&&!ol.extent.isEmpty(k)){var l=c.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var m=i.getProjection();if(m){goog.DEBUG&&console.assert(ol.proj.equivalent(l,m),"projection and sourceProjection are equivalent");l=m}}var n=i.getImage(k,e,a.pixelRatio,l);if(n){var o=this.loadImage(n);if(o){g=n}}}if(g){var p=g.getExtent();var q=g.getResolution();var r=ol.transform.create();ol.transform.compose(r,a.size[0]/2,a.size[1]/2,q/e,q/e,f,(p[0]-d[0])/q,(d[1]-p[3])/q);if(g!=this.image_){var s=g.getImage(this);s.style.maxWidth="none";s.style.position="absolute";ol.dom.removeChildren(this.target);this.target.appendChild(s);this.image_=g}this.setTransform_(r);this.updateAttributions(a.attributions,g.getAttributions());this.updateLogos(a,i)}return true};ol.renderer.dom.ImageLayer.prototype.setTransform_=function(a){if(!ol.array.equals(a,this.transform_)){ol.dom.transformElement2D(this.target,a,6);ol.transform.setFromArray(this.transform_,a)}};goog.provide("ol.renderer.dom.TileLayer");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileRange");goog.require("ol.View");goog.require("ol.array");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.renderer.dom.Layer");goog.require("ol.size");goog.require("ol.transform");ol.renderer.dom.TileLayer=function(a){var b=document.createElement("DIV");b.style.position="absolute";ol.renderer.dom.Layer.call(this,a,b);this.renderedVisible_=true;this.renderedOpacity_=1;this.renderedRevision_=0;this.tileLayerZs_={}};ol.inherits(ol.renderer.dom.TileLayer,ol.renderer.dom.Layer);ol.renderer.dom.TileLayer.prototype.clearFrame=function(){ol.dom.removeChildren(this.target);this.renderedRevision_=0};ol.renderer.dom.TileLayer.prototype.prepareFrame=function(a,b){if(!b.visible){if(this.renderedVisible_){this.target.style.display="none";this.renderedVisible_=false}return true}var c=a.pixelRatio;var d=a.viewState;var e=d.projection;var f=this.getLayer();var g=f.getSource();var h=g.getTileGridForProjection(e);var i=c*g.getGutter(e);var j=h.getZForResolution(d.resolution);var k=h.getResolution(j);var l=d.center;var m;if(k==d.resolution){l=this.snapCenterToPixel(l,k,a.size);m=ol.extent.getForViewAndSize(l,k,d.rotation,a.size)}else{m=a.extent}if(b.extent!==undefined){m=ol.extent.getIntersection(m,b.extent)}var n=h.getTileRangeForExtentAndResolution(m,k);var o={};o[j]={};var p=this.createLoadedTileFinder(g,e,o);var q=f.getUseInterimTilesOnError();var r=ol.extent.createEmpty();var s=new ol.TileRange(0,0,0,0);var t,u,v,w,x,y,z;for(y=n.minX;y<=n.maxX;++y){for(z=n.minY;z<=n.maxY;++z){w=g.getTile(j,y,z,c,e);x=w.getState();u=x==ol.Tile.State.LOADED||x==ol.Tile.State.EMPTY||x==ol.Tile.State.ERROR&&!q;if(!u&&w.interimTile){w=w.interimTile}x=w.getState();if(x==ol.Tile.State.LOADED){o[j][w.tileCoord.toString()]=w;continue}else if(x==ol.Tile.State.EMPTY||x==ol.Tile.State.ERROR&&!q){continue}v=h.forEachTileCoordParentTileRange(w.tileCoord,p,null,s,r);if(!v){t=h.getTileCoordChildTileRange(w.tileCoord,s,r);if(t){p(j+1,t)}}}}var A,B;if(this.renderedRevision_!=g.getRevision()){for(B in this.tileLayerZs_){A=this.tileLayerZs_[+B];ol.dom.removeNode(A.target)}this.tileLayerZs_={};this.renderedRevision_=g.getRevision()}var C=Object.keys(o).map(Number);C.sort(ol.array.numberSafeCompareFunction);var D={};var E,F,G,H,I;for(E=0,F=C.length;E<F;++E){B=C[E];if(B in this.tileLayerZs_){A=this.tileLayerZs_[B]}else{H=h.getTileCoordForCoordAndZ(l,B);A=new ol.renderer.dom.TileLayerZ_(h,H);D[B]=true;this.tileLayerZs_[B]=A}I=o[B];for(G in I){A.addTile(I[G],i)}A.finalizeAddTiles()}var J=Object.keys(this.tileLayerZs_).map(Number);J.sort(ol.array.numberSafeCompareFunction);var K,L,M,N,O;var P=ol.transform.create();for(K=0,L=J.length;K<L;++K){B=J[K];A=this.tileLayerZs_[B];if(!(B in o)){ol.dom.removeNode(A.target);delete this.tileLayerZs_[B];continue}O=A.getResolution();N=A.getOrigin();ol.transform.compose(P,a.size[0]/2,a.size[1]/2,O/d.resolution,O/d.resolution,d.rotation,(N[0]-l[0])/O,(l[1]-N[1])/O);A.setTransform(P);if(B in D){for(M=B-1;M>=0;--M){if(M in this.tileLayerZs_){if(this.tileLayerZs_[M].target.parentNode){this.tileLayerZs_[M].target.parentNode.insertBefore(A.target,this.tileLayerZs_[M].target.nextSibling)}break}}if(M<0){this.target.insertBefore(A.target,this.target.childNodes[0]||null)}}else{if(!a.viewHints[ol.View.Hint.ANIMATING]&&!a.viewHints[ol.View.Hint.INTERACTING]){A.removeTilesOutsideExtent(m,s)}}}if(b.opacity!=this.renderedOpacity_){this.target.style.opacity=b.opacity;this.renderedOpacity_=b.opacity}if(b.visible&&!this.renderedVisible_){this.target.style.display="";this.renderedVisible_=true}this.updateUsedTiles(a.usedTiles,g,j,n);this.manageTilePyramid(a,g,h,c,e,m,j,f.getPreload());this.scheduleExpireCache(a,g);this.updateLogos(a,g);return true};ol.renderer.dom.TileLayerZ_=function(a,b){this.target=document.createElement("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.tileGrid_=a;this.tileCoordOrigin_=b;this.origin_=ol.extent.getTopLeft(a.getTileCoordExtent(b));this.resolution_=a.getResolution(b[0]);this.tiles_={};this.documentFragment_=null;this.transform_=ol.transform.create();this.tmpSize_=[0,0]};ol.renderer.dom.TileLayerZ_.prototype.addTile=function(a,b){var c=a.tileCoord;var d=c[0];var e=c[1];var f=c[2];goog.DEBUG&&console.assert(d==this.tileCoordOrigin_[0],"tileCoordZ matches z of tileCoordOrigin");var g=c.toString();if(g in this.tiles_){return}var h=ol.size.toSize(this.tileGrid_.getTileSize(d),this.tmpSize_);var i=a.getImage(this);var j=i.style;j.maxWidth="none";var k;var l;if(b>0){k=document.createElement("DIV");l=k.style;l.overflow="hidden";l.width=h[0]+"px";l.height=h[1]+"px";j.position="absolute";j.left=-b+"px";j.top=-b+"px";j.width=h[0]+2*b+"px";j.height=h[1]+2*b+"px";k.appendChild(i)}else{j.width=h[0]+"px";j.height=h[1]+"px";k=i;l=j}l.position="absolute";l.left=(e-this.tileCoordOrigin_[1])*h[0]+"px";l.top=(this.tileCoordOrigin_[2]-f)*h[1]+"px";if(!this.documentFragment_){this.documentFragment_=document.createDocumentFragment()}this.documentFragment_.appendChild(k);this.tiles_[g]=a};ol.renderer.dom.TileLayerZ_.prototype.finalizeAddTiles=function(){if(this.documentFragment_){this.target.appendChild(this.documentFragment_);this.documentFragment_=null}};ol.renderer.dom.TileLayerZ_.prototype.getOrigin=function(){return this.origin_};ol.renderer.dom.TileLayerZ_.prototype.getResolution=function(){return this.resolution_};ol.renderer.dom.TileLayerZ_.prototype.removeTilesOutsideExtent=function(a,b){var c=this.tileGrid_.getTileRangeForExtentAndZ(a,this.tileCoordOrigin_[0],b);var d=[];var e,f;for(f in this.tiles_){e=this.tiles_[f];if(!c.contains(e.tileCoord)){d.push(e)}}var g,h;for(g=0,h=d.length;g<h;++g){e=d[g];f=e.tileCoord.toString();ol.dom.removeNode(e.getImage(this));delete this.tiles_[f]}};ol.renderer.dom.TileLayerZ_.prototype.setTransform=function(a){if(!ol.array.equals(a,this.transform_)){ol.dom.transformElement2D(this.target,a,6);ol.transform.setFromArray(this.transform_,a)}};goog.provide("ol.renderer.dom.VectorLayer");goog.require("ol");goog.require("ol.View");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas.Immediate");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.renderer.dom.Layer");goog.require("ol.renderer.vector");goog.require("ol.transform");ol.renderer.dom.VectorLayer=function(a){this.context_=ol.dom.createCanvasContext2D();var b=this.context_.canvas;b.style.maxWidth="none";b.style.position="absolute";ol.renderer.dom.Layer.call(this,a,b);this.dirty_=false;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.transform_=ol.transform.create();this.elementTransform_=ol.transform.create()};ol.inherits(ol.renderer.dom.VectorLayer,ol.renderer.dom.Layer);ol.renderer.dom.VectorLayer.prototype.clearFrame=function(){var a=this.context_.canvas;a.width=a.width;this.renderedRevision_=0};ol.renderer.dom.VectorLayer.prototype.composeFrame=function(a,b){var c=a.viewState;var d=c.center;var e=c.rotation;var f=c.resolution;var g=a.pixelRatio;var h=a.size[0];var i=a.size[1];var j=h*g;var k=i*g;var l=ol.transform.compose(this.transform_,g*h/2,g*i/2,g/f,-g/f,-e,-d[0],-d[1]);var m=this.context_;m.canvas.width=j;m.canvas.height=k;var n=ol.transform.reset(this.elementTransform_);ol.transform.scale(n,1/g,1/g);ol.transform.translate(n,-(j-h)/2*g,-(k-i)/2*g);ol.dom.transformElement2D(m.canvas,n,6);this.dispatchEvent_(ol.render.EventType.PRECOMPOSE,a,l);var o=this.replayGroup_;if(o&&!o.isEmpty()){m.globalAlpha=b.opacity;o.replay(m,g,l,e,b.managed?a.skippedFeatureUids:{});this.dispatchEvent_(ol.render.EventType.RENDER,a,l)}this.dispatchEvent_(ol.render.EventType.POSTCOMPOSE,a,l)};ol.renderer.dom.VectorLayer.prototype.dispatchEvent_=function(a,b,c){var d=this.context_;var e=this.getLayer();if(e.hasListener(a)){var f=new ol.render.canvas.Immediate(d,b.pixelRatio,b.extent,c,b.viewState.rotation);var g=new ol.render.Event(a,f,b,d,null);e.dispatchEvent(g)}};ol.renderer.dom.VectorLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d){if(!this.replayGroup_){return undefined}else{var e=b.viewState.resolution;var f=b.viewState.rotation;var g=this.getLayer();var h={};return this.replayGroup_.forEachFeatureAtCoordinate(a,e,f,{},(function(a){var b=ol.getUid(a).toString();if(!(b in h)){h[b]=true;return c.call(d,a,g)}}))}};ol.renderer.dom.VectorLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};ol.renderer.dom.VectorLayer.prototype.prepareFrame=function(a,b){var c=this.getLayer();var d=c.getSource();this.updateAttributions(a.attributions,d.getAttributions());this.updateLogos(a,d);var e=a.viewHints[ol.View.Hint.ANIMATING];var f=a.viewHints[ol.View.Hint.INTERACTING];var g=c.getUpdateWhileAnimating();var h=c.getUpdateWhileInteracting();if(!this.dirty_&&(!g&&e)||!h&&f){return true}var i=a.extent;var j=a.viewState;var k=j.projection;var l=j.resolution;var m=a.pixelRatio;var n=c.getRevision();var o=c.getRenderBuffer();var p=c.getRenderOrder();if(p===undefined){p=ol.renderer.vector.defaultOrder}var q=ol.extent.buffer(i,o*l);if(!this.dirty_&&this.renderedResolution_==l&&this.renderedRevision_==n&&this.renderedRenderOrder_==p&&ol.extent.containsExtent(this.renderedExtent_,q)){return true}this.replayGroup_=null;this.dirty_=false;var r=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(l,m),q,l,d.getOverlaps(),c.getRenderBuffer());d.loadFeatures(q,l,k);var s=function(a){var b;var d=a.getStyleFunction();if(d){b=d.call(a,l)}else{d=c.getStyleFunction();if(d){b=d(a,l)}}if(b){var e=this.renderFeature(a,l,m,b,r);this.dirty_=this.dirty_||e}};if(p){var t=[];d.forEachFeatureInExtent(q,(function(a){t.push(a)}),this);t.sort(p);t.forEach(s,this)}else{d.forEachFeatureInExtent(q,s,this)}r.finish();this.renderedResolution_=l;this.renderedRevision_=n;this.renderedRenderOrder_=p;this.renderedExtent_=q;this.replayGroup_=r;return true};ol.renderer.dom.VectorLayer.prototype.renderFeature=function(a,b,c,d,e){if(!d){return false}var f=false;if(Array.isArray(d)){for(var g=0,h=d.length;g<h;++g){f=ol.renderer.vector.renderFeature(e,a,d[g],ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f}}else{f=ol.renderer.vector.renderFeature(e,a,d,ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f}return f};goog.provide("ol.renderer.dom.Map");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.transform");goog.require("ol");goog.require("ol.RendererType");goog.require("ol.array");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.layer.Image");goog.require("ol.layer.Layer");goog.require("ol.layer.Tile");goog.require("ol.layer.Vector");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas.Immediate");goog.require("ol.renderer.Map");goog.require("ol.renderer.dom.ImageLayer");goog.require("ol.renderer.dom.TileLayer");goog.require("ol.renderer.dom.VectorLayer");goog.require("ol.source.State");ol.renderer.dom.Map=function(a,b){ol.renderer.Map.call(this,a,b);this.context_=ol.dom.createCanvasContext2D();var c=this.context_.canvas;c.style.position="absolute";c.style.width="100%";c.style.height="100%";c.className=ol.css.CLASS_UNSELECTABLE;a.insertBefore(c,a.childNodes[0]||null);this.transform_=ol.transform.create();this.layersPane_=document.createElement("DIV");this.layersPane_.className=ol.css.CLASS_UNSELECTABLE;var d=this.layersPane_.style;d.position="absolute";d.width="100%";d.height="100%";ol.events.listen(this.layersPane_,ol.events.EventType.TOUCHSTART,ol.events.Event.preventDefault);a.insertBefore(this.layersPane_,a.childNodes[0]||null);this.renderedVisible_=true};ol.inherits(ol.renderer.dom.Map,ol.renderer.Map);ol.renderer.dom.Map.prototype.disposeInternal=function(){ol.dom.removeNode(this.layersPane_);ol.renderer.Map.prototype.disposeInternal.call(this)};ol.renderer.dom.Map.prototype.createLayerRenderer=function(a){var b;if(ol.ENABLE_IMAGE&&a instanceof ol.layer.Image){b=new ol.renderer.dom.ImageLayer(a)}else if(ol.ENABLE_TILE&&a instanceof ol.layer.Tile){b=new ol.renderer.dom.TileLayer(a)}else if(ol.ENABLE_VECTOR&&a instanceof ol.layer.Vector){b=new ol.renderer.dom.VectorLayer(a)}else{goog.DEBUG&&console.assert(false,"unexpected layer configuration");return null}return b};ol.renderer.dom.Map.prototype.dispatchComposeEvent_=function(a,b){var c=this.getMap();if(c.hasListener(a)){var d=b.extent;var e=b.pixelRatio;var f=b.viewState;var g=f.rotation;var h=this.context_;var i=h.canvas;var j=ol.transform.compose(this.transform_,i.width/2,i.height/2,e/f.resolution,-e/f.resolution,-g,-f.center[0],-f.center[1]);var k=new ol.render.canvas.Immediate(h,e,d,j,g);var l=new ol.render.Event(a,k,b,h,null);c.dispatchEvent(l)}};ol.renderer.dom.Map.prototype.getType=function(){return ol.RendererType.DOM};ol.renderer.dom.Map.prototype.renderFrame=function(a){if(!a){if(this.renderedVisible_){this.layersPane_.style.display="none";this.renderedVisible_=false}return}var b=this.getMap();if(b.hasListener(ol.render.EventType.PRECOMPOSE)||b.hasListener(ol.render.EventType.POSTCOMPOSE)){var c=this.context_.canvas;var d=a.pixelRatio;c.width=a.size[0]*d;c.height=a.size[1]*d}this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a);var e=a.layerStatesArray;ol.array.stableSort(e,ol.renderer.Map.sortByZIndex);var f=a.viewState.resolution;var g,h,i,j,k;for(g=0,h=e.length;g<h;++g){k=e[g];i=k.layer;j=this.getLayerRenderer(i);this.layersPane_.insertBefore(j.getTarget(),this.layersPane_.childNodes[g]||null);if(ol.layer.Layer.visibleAtResolution(k,f)&&k.sourceState==ol.source.State.READY){if(j.prepareFrame(a,k)){j.composeFrame(a,k)}}else{j.clearFrame()}}var l=a.layerStates;var m;for(m in this.getLayerRenderers()){if(!(m in l)){j=this.getLayerRendererByKey(m);ol.dom.removeNode(j.getTarget())}}if(!this.renderedVisible_){this.layersPane_.style.display="";this.renderedVisible_=true}this.calculateMatrices2D(a);this.scheduleRemoveUnusedLayerRenderers(a);this.scheduleExpireIconCache(a);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a)};goog.provide("ol.webgl.Shader");goog.require("ol.functions");goog.require("ol.webgl");ol.webgl.Shader=function(a){this.source_=a};ol.webgl.Shader.prototype.getType=function(){};ol.webgl.Shader.prototype.getSource=function(){return this.source_};ol.webgl.Shader.prototype.isAnimated=ol.functions.FALSE;goog.provide("ol.webgl.Fragment");goog.require("ol");goog.require("ol.webgl");goog.require("ol.webgl.Shader");ol.webgl.Fragment=function(a){ol.webgl.Shader.call(this,a)};ol.inherits(ol.webgl.Fragment,ol.webgl.Shader);ol.webgl.Fragment.prototype.getType=function(){return ol.webgl.FRAGMENT_SHADER};goog.provide("ol.webgl.Vertex");goog.require("ol");goog.require("ol.webgl");goog.require("ol.webgl.Shader");ol.webgl.Vertex=function(a){ol.webgl.Shader.call(this,a)};ol.inherits(ol.webgl.Vertex,ol.webgl.Shader);ol.webgl.Vertex.prototype.getType=function(){return ol.webgl.VERTEX_SHADER};goog.provide("ol.render.webgl.imagereplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.render.webgl.imagereplay.defaultshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.render.webgl.imagereplay.defaultshader.Fragment.SOURCE)};ol.inherits(ol.render.webgl.imagereplay.defaultshader.Fragment,ol.webgl.Fragment);ol.render.webgl.imagereplay.defaultshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n";ol.render.webgl.imagereplay.defaultshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}";ol.render.webgl.imagereplay.defaultshader.Fragment.SOURCE=goog.DEBUG?ol.render.webgl.imagereplay.defaultshader.Fragment.DEBUG_SOURCE:ol.render.webgl.imagereplay.defaultshader.Fragment.OPTIMIZED_SOURCE;ol.render.webgl.imagereplay.defaultshader.fragment=new ol.render.webgl.imagereplay.defaultshader.Fragment;ol.render.webgl.imagereplay.defaultshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.render.webgl.imagereplay.defaultshader.Vertex.SOURCE)};ol.inherits(ol.render.webgl.imagereplay.defaultshader.Vertex,ol.webgl.Vertex);ol.render.webgl.imagereplay.defaultshader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0., 0.);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n";ol.render.webgl.imagereplay.defaultshader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.,0.);gl_Position=h*vec4(c,0.,1.)+offsets;a=d;b=f;}";ol.render.webgl.imagereplay.defaultshader.Vertex.SOURCE=goog.DEBUG?ol.render.webgl.imagereplay.defaultshader.Vertex.DEBUG_SOURCE:ol.render.webgl.imagereplay.defaultshader.Vertex.OPTIMIZED_SOURCE;ol.render.webgl.imagereplay.defaultshader.vertex=new ol.render.webgl.imagereplay.defaultshader.Vertex;ol.render.webgl.imagereplay.defaultshader.Locations=function(a,b){this.u_image=a.getUniformLocation(b,goog.DEBUG?"u_image":"l");this.u_offsetRotateMatrix=a.getUniformLocation(b,goog.DEBUG?"u_offsetRotateMatrix":"j");this.u_offsetScaleMatrix=a.getUniformLocation(b,goog.DEBUG?"u_offsetScaleMatrix":"i");this.u_opacity=a.getUniformLocation(b,goog.DEBUG?"u_opacity":"k");this.u_projectionMatrix=a.getUniformLocation(b,goog.DEBUG?"u_projectionMatrix":"h");this.a_offsets=a.getAttribLocation(b,goog.DEBUG?"a_offsets":"e");this.a_opacity=a.getAttribLocation(b,goog.DEBUG?"a_opacity":"f");this.a_position=a.getAttribLocation(b,goog.DEBUG?"a_position":"c");this.a_rotateWithView=a.getAttribLocation(b,goog.DEBUG?"a_rotateWithView":"g");this.a_texCoord=a.getAttribLocation(b,goog.DEBUG?"a_texCoord":"d")};goog.provide("ol.webgl.Buffer");goog.require("ol");goog.require("ol.webgl");ol.webgl.Buffer=function(a,b){this.arr_=a!==undefined?a:[];this.usage_=b!==undefined?b:ol.webgl.Buffer.Usage.STATIC_DRAW};ol.webgl.Buffer.prototype.getArray=function(){return this.arr_};ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_};ol.webgl.Buffer.Usage={STATIC_DRAW:ol.webgl.STATIC_DRAW,STREAM_DRAW:ol.webgl.STREAM_DRAW,DYNAMIC_DRAW:ol.webgl.DYNAMIC_DRAW};goog.provide("ol.webgl.ContextEventType");ol.webgl.ContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};goog.provide("ol.webgl.Context");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.array");goog.require("ol.events");goog.require("ol.obj");goog.require("ol.webgl");goog.require("ol.webgl.ContextEventType");ol.webgl.Context=function(a,b){this.canvas_=a;this.gl_=b;this.bufferCache_={};this.shaderCache_={};this.programCache_={};this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null;this.hasOESElementIndexUint=ol.array.includes(ol.WEBGL_EXTENSIONS,"OES_element_index_uint");if(this.hasOESElementIndexUint){var c=b.getExtension("OES_element_index_uint");goog.DEBUG&&console.assert(c,'Failed to get extension "OES_element_index_uint"')}ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this)};ol.inherits(ol.webgl.Context,ol.Disposable);ol.webgl.Context.prototype.bindBuffer=function(a,b){var c=this.getGL();var d=b.getArray();var e=String(ol.getUid(b));if(e in this.bufferCache_){var f=this.bufferCache_[e];c.bindBuffer(a,f.buffer)}else{var g=c.createBuffer();c.bindBuffer(a,g);goog.DEBUG&&console.assert(a==ol.webgl.ARRAY_BUFFER||a==ol.webgl.ELEMENT_ARRAY_BUFFER,"target is supposed to be an ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER");var h;if(a==ol.webgl.ARRAY_BUFFER){h=new Float32Array(d)}else if(a==ol.webgl.ELEMENT_ARRAY_BUFFER){h=this.hasOESElementIndexUint?new Uint32Array(d):new Uint16Array(d)}c.bufferData(a,h,b.getUsage());this.bufferCache_[e]={buf:b,buffer:g}}};ol.webgl.Context.prototype.deleteBuffer=function(a){var b=this.getGL();var c=String(ol.getUid(a));goog.DEBUG&&console.assert(c in this.bufferCache_,"attempted to delete uncached buffer");var d=this.bufferCache_[c];if(!b.isContextLost()){b.deleteBuffer(d.buffer)}delete this.bufferCache_[c]};ol.webgl.Context.prototype.disposeInternal=function(){ol.events.unlistenAll(this.canvas_);var a=this.getGL();if(!a.isContextLost()){var b;for(b in this.bufferCache_){a.deleteBuffer(this.bufferCache_[b].buffer)}for(b in this.programCache_){a.deleteProgram(this.programCache_[b])}for(b in this.shaderCache_){a.deleteShader(this.shaderCache_[b])}a.deleteFramebuffer(this.hitDetectionFramebuffer_);a.deleteRenderbuffer(this.hitDetectionRenderbuffer_);a.deleteTexture(this.hitDetectionTexture_)}};ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_};ol.webgl.Context.prototype.getGL=function(){return this.gl_};ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){if(!this.hitDetectionFramebuffer_){this.initHitDetectionFramebuffer_()}return this.hitDetectionFramebuffer_};ol.webgl.Context.prototype.getShader=function(a){var b=String(ol.getUid(a));if(b in this.shaderCache_){return this.shaderCache_[b]}else{var c=this.getGL();var d=c.createShader(a.getType());c.shaderSource(d,a.getSource());c.compileShader(d);goog.DEBUG&&console.assert(c.getShaderParameter(d,ol.webgl.COMPILE_STATUS)||c.isContextLost(),c.getShaderInfoLog(d)||"illegal state, shader not compiled or context lost");this.shaderCache_[b]=d;return d}};ol.webgl.Context.prototype.getProgram=function(a,b){var c=ol.getUid(a)+"/"+ol.getUid(b);if(c in this.programCache_){return this.programCache_[c]}else{var d=this.getGL();var e=d.createProgram();d.attachShader(e,this.getShader(a));d.attachShader(e,this.getShader(b));d.linkProgram(e);goog.DEBUG&&console.assert(d.getProgramParameter(e,ol.webgl.LINK_STATUS)||d.isContextLost(),d.getProgramInfoLog(e)||"illegal state, shader not linked or context lost");this.programCache_[c]=e;return e}};ol.webgl.Context.prototype.handleWebGLContextLost=function(){ol.obj.clear(this.bufferCache_);ol.obj.clear(this.shaderCache_);ol.obj.clear(this.programCache_);this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null};ol.webgl.Context.prototype.handleWebGLContextRestored=function(){};ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var a=this.gl_;var b=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,b);var c=ol.webgl.Context.createEmptyTexture(a,1,1);var d=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,d);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,1,1);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,c,0);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,d);a.bindTexture(a.TEXTURE_2D,null);a.bindRenderbuffer(a.RENDERBUFFER,null);a.bindFramebuffer(a.FRAMEBUFFER,null);this.hitDetectionFramebuffer_=b;this.hitDetectionTexture_=c;this.hitDetectionRenderbuffer_=d};ol.webgl.Context.prototype.useProgram=function(a){if(a==this.currentProgram_){return false}else{var b=this.getGL();b.useProgram(a);this.currentProgram_=a;return true}};ol.webgl.Context.createTexture_=function(a,b,c){var d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);if(b!==undefined){a.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,b)}if(c!==undefined){a.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,c)}return d};ol.webgl.Context.createEmptyTexture=function(a,b,c,d,e){var f=ol.webgl.Context.createTexture_(a,d,e);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null);return f};ol.webgl.Context.createTexture=function(a,b,c,d){var e=ol.webgl.Context.createTexture_(a,c,d);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return e};goog.provide("ol.render.webgl.ImageReplay");goog.provide("ol.render.webgl.ReplayGroup");goog.require("ol");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.render.ReplayGroup");goog.require("ol.render.VectorContext");goog.require("ol.render.replay");goog.require("ol.render.webgl.imagereplay.defaultshader");goog.require("ol.transform");goog.require("ol.vec.Mat4");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");goog.require("ol.webgl.Context");ol.render.webgl.ImageReplay=function(a,b){ol.render.VectorContext.call(this);this.anchorX_=undefined;this.anchorY_=undefined;this.origin_=ol.extent.getCenter(b);this.groupIndices_=[];this.hitDetectionGroupIndices_=[];this.height_=undefined;this.images_=[];this.hitDetectionImages_=[];this.imageHeight_=undefined;this.imageWidth_=undefined;this.indices_=[];this.indicesBuffer_=null;this.defaultLocations_=null;this.opacity_=undefined;this.offsetRotateMatrix_=ol.transform.create();this.offsetScaleMatrix_=ol.transform.create();this.originX_=undefined;this.originY_=undefined;this.projectionMatrix_=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.textures_=[];this.hitDetectionTextures_=[];this.vertices_=[];this.verticesBuffer_=null;this.startIndices_=[];this.startIndicesFeature_=[];this.width_=undefined};ol.inherits(ol.render.webgl.ImageReplay,ol.render.VectorContext);ol.render.webgl.ImageReplay.prototype.getDeleteResourcesFunction=function(a){goog.DEBUG&&console.assert(this.verticesBuffer_,"verticesBuffer must not be null");goog.DEBUG&&console.assert(this.indicesBuffer_,"indicesBuffer must not be null");var b=this.verticesBuffer_;var c=this.indicesBuffer_;var d=this.textures_;var e=this.hitDetectionTextures_;var f=a.getGL();return function(){if(!f.isContextLost()){var g,h;for(g=0,h=d.length;g<h;++g){f.deleteTexture(d[g])}for(g=0,h=e.length;g<h;++g){f.deleteTexture(e[g])}}a.deleteBuffer(b);a.deleteBuffer(c)}};ol.render.webgl.ImageReplay.prototype.drawCoordinates_=function(a,b,c,d){goog.DEBUG&&console.assert(this.anchorX_!==undefined,"anchorX is defined");goog.DEBUG&&console.assert(this.anchorY_!==undefined,"anchorY is defined");goog.DEBUG&&console.assert(this.height_!==undefined,"height is defined");goog.DEBUG&&console.assert(this.imageHeight_!==undefined,"imageHeight is defined");goog.DEBUG&&console.assert(this.imageWidth_!==undefined,"imageWidth is defined");goog.DEBUG&&console.assert(this.opacity_!==undefined,"opacity is defined");goog.DEBUG&&console.assert(this.originX_!==undefined,"originX is defined");goog.DEBUG&&console.assert(this.originY_!==undefined,"originY is defined");goog.DEBUG&&console.assert(this.rotateWithView_!==undefined,"rotateWithView is defined");goog.DEBUG&&console.assert(this.rotation_!==undefined,"rotation is defined");goog.DEBUG&&console.assert(this.scale_!==undefined,"scale is defined");goog.DEBUG&&console.assert(this.width_!==undefined,"width is defined");var e=this.anchorX_;var f=this.anchorY_;var g=this.height_;var h=this.imageHeight_;var i=this.imageWidth_;var j=this.opacity_;var k=this.originX_;var l=this.originY_;var m=this.rotateWithView_?1:0;var n=this.rotation_;var o=this.scale_;var p=this.width_;var q=Math.cos(n);var r=Math.sin(n);var s=this.indices_.length;var t=this.vertices_.length;var u,v,w,x,y,z;for(u=b;u<c;u+=d){y=a[u]-this.origin_[0];z=a[u+1]-this.origin_[1];v=t/8;w=-o*e;x=-o*(g-f);this.vertices_[t++]=y;this.vertices_[t++]=z;this.vertices_[t++]=w*q-x*r;this.vertices_[t++]=w*r+x*q;this.vertices_[t++]=k/i;this.vertices_[t++]=(l+g)/h;this.vertices_[t++]=j;this.vertices_[t++]=m;w=o*(p-e);x=-o*(g-f);this.vertices_[t++]=y;this.vertices_[t++]=z;this.vertices_[t++]=w*q-x*r;this.vertices_[t++]=w*r+x*q;this.vertices_[t++]=(k+p)/i;this.vertices_[t++]=(l+g)/h;this.vertices_[t++]=j;this.vertices_[t++]=m;w=o*(p-e);x=o*f;this.vertices_[t++]=y;this.vertices_[t++]=z;this.vertices_[t++]=w*q-x*r;this.vertices_[t++]=w*r+x*q;this.vertices_[t++]=(k+p)/i;this.vertices_[t++]=l/h;this.vertices_[t++]=j;this.vertices_[t++]=m;w=-o*e;x=o*f;this.vertices_[t++]=y;this.vertices_[t++]=z;this.vertices_[t++]=w*q-x*r;this.vertices_[t++]=w*r+x*q;this.vertices_[t++]=k/i;this.vertices_[t++]=l/h;this.vertices_[t++]=j;this.vertices_[t++]=m;this.indices_[s++]=v;this.indices_[s++]=v+1;this.indices_[s++]=v+2;this.indices_[s++]=v;this.indices_[s++]=v+2;this.indices_[s++]=v+3;
}return t};ol.render.webgl.ImageReplay.prototype.drawMultiPoint=function(a,b){this.startIndices_.push(this.indices_.length);this.startIndicesFeature_.push(b);var c=a.getFlatCoordinates();var d=a.getStride();this.drawCoordinates_(c,0,c.length,d)};ol.render.webgl.ImageReplay.prototype.drawPoint=function(a,b){this.startIndices_.push(this.indices_.length);this.startIndicesFeature_.push(b);var c=a.getFlatCoordinates();var d=a.getStride();this.drawCoordinates_(c,0,c.length,d)};ol.render.webgl.ImageReplay.prototype.finish=function(a){var b=a.getGL();this.groupIndices_.push(this.indices_.length);goog.DEBUG&&console.assert(this.images_.length===this.groupIndices_.length,"number of images and groupIndices match");this.hitDetectionGroupIndices_.push(this.indices_.length);goog.DEBUG&&console.assert(this.hitDetectionImages_.length===this.hitDetectionGroupIndices_.length,"number of hitDetectionImages and hitDetectionGroupIndices match");this.verticesBuffer_=new ol.webgl.Buffer(this.vertices_);a.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer_);var c=this.indices_;var d=a.hasOESElementIndexUint?32:16;goog.DEBUG&&console.assert(c[c.length-1]<Math.pow(2,d),'Too large element index detected [%s] (OES_element_index_uint "%s")',c[c.length-1],a.hasOESElementIndexUint);this.indicesBuffer_=new ol.webgl.Buffer(c);a.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer_);var e={};this.createTextures_(this.textures_,this.images_,e,b);goog.DEBUG&&console.assert(this.textures_.length===this.groupIndices_.length,"number of textures and groupIndices match");this.createTextures_(this.hitDetectionTextures_,this.hitDetectionImages_,e,b);goog.DEBUG&&console.assert(this.hitDetectionTextures_.length===this.hitDetectionGroupIndices_.length,"number of hitDetectionTextures and hitDetectionGroupIndices match");this.anchorX_=undefined;this.anchorY_=undefined;this.height_=undefined;this.images_=null;this.hitDetectionImages_=null;this.imageHeight_=undefined;this.imageWidth_=undefined;this.indices_=null;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.vertices_=null;this.width_=undefined};ol.render.webgl.ImageReplay.prototype.createTextures_=function(a,b,c,d){goog.DEBUG&&console.assert(a.length===0,"upon creation, textures is empty");var e,f,g,h;var i=b.length;for(h=0;h<i;++h){f=b[h];g=ol.getUid(f).toString();if(g in c){e=c[g]}else{e=ol.webgl.Context.createTexture(d,f,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE);c[g]=e}a[h]=e}};ol.render.webgl.ImageReplay.prototype.replay=function(a,b,c,d,e,f,g,h,i,j,k){var l=a.getGL();goog.DEBUG&&console.assert(this.verticesBuffer_,"verticesBuffer must not be null");a.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer_);goog.DEBUG&&console.assert(this.indicesBuffer_,"indecesBuffer must not be null");a.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer_);var m=ol.render.webgl.imagereplay.defaultshader.fragment;var n=ol.render.webgl.imagereplay.defaultshader.vertex;var o=a.getProgram(m,n);var p;if(!this.defaultLocations_){p=new ol.render.webgl.imagereplay.defaultshader.Locations(l,o);this.defaultLocations_=p}else{p=this.defaultLocations_}a.useProgram(o);l.enableVertexAttribArray(p.a_position);l.vertexAttribPointer(p.a_position,2,ol.webgl.FLOAT,false,32,0);l.enableVertexAttribArray(p.a_offsets);l.vertexAttribPointer(p.a_offsets,2,ol.webgl.FLOAT,false,32,8);l.enableVertexAttribArray(p.a_texCoord);l.vertexAttribPointer(p.a_texCoord,2,ol.webgl.FLOAT,false,32,16);l.enableVertexAttribArray(p.a_opacity);l.vertexAttribPointer(p.a_opacity,1,ol.webgl.FLOAT,false,32,24);l.enableVertexAttribArray(p.a_rotateWithView);l.vertexAttribPointer(p.a_rotateWithView,1,ol.webgl.FLOAT,false,32,28);var q=ol.transform.reset(this.projectionMatrix_);ol.transform.scale(q,2/(c*e[0]),2/(c*e[1]));ol.transform.rotate(q,-d);ol.transform.translate(q,-(b[0]-this.origin_[0]),-(b[1]-this.origin_[1]));var r=ol.transform.reset(this.offsetScaleMatrix_);ol.transform.scale(r,2/e[0],2/e[1]);var s=ol.transform.reset(this.offsetRotateMatrix_);if(d!==0){ol.transform.rotate(s,-d)}l.uniformMatrix4fv(p.u_projectionMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,q));l.uniformMatrix4fv(p.u_offsetScaleMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,r));l.uniformMatrix4fv(p.u_offsetRotateMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,s));l.uniform1f(p.u_opacity,g);var t;if(i===undefined){this.drawReplay_(l,a,h,this.textures_,this.groupIndices_)}else{t=this.drawHitDetectionReplay_(l,a,h,i,j,k)}l.disableVertexAttribArray(p.a_position);l.disableVertexAttribArray(p.a_offsets);l.disableVertexAttribArray(p.a_texCoord);l.disableVertexAttribArray(p.a_opacity);l.disableVertexAttribArray(p.a_rotateWithView);return t};ol.render.webgl.ImageReplay.prototype.drawReplay_=function(a,b,c,d,e){goog.DEBUG&&console.assert(d.length===e.length,"number of textures and groupIndeces match");var f=b.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT;var g=b.hasOESElementIndexUint?4:2;if(!ol.obj.isEmpty(c)){this.drawReplaySkipping_(a,c,d,e,f,g)}else{var h,i,j;for(h=0,i=d.length,j=0;h<i;++h){a.bindTexture(ol.webgl.TEXTURE_2D,d[h]);var k=e[h];this.drawElements_(a,j,k,f,g);j=k}}};ol.render.webgl.ImageReplay.prototype.drawReplaySkipping_=function(a,b,c,d,e,f){var g=0;var h,i;for(h=0,i=c.length;h<i;++h){a.bindTexture(ol.webgl.TEXTURE_2D,c[h]);var j=h>0?d[h-1]:0;var k=d[h];var l=j;var m=j;while(g<this.startIndices_.length&&this.startIndices_[g]<=k){var n=this.startIndicesFeature_[g];var o=ol.getUid(n).toString();if(b[o]!==undefined){if(l!==m){this.drawElements_(a,l,m,e,f)}l=g===this.startIndices_.length-1?k:this.startIndices_[g+1];m=l}else{m=g===this.startIndices_.length-1?k:this.startIndices_[g+1]}g++}if(l!==m){this.drawElements_(a,l,m,e,f)}}};ol.render.webgl.ImageReplay.prototype.drawElements_=function(a,b,c,d,e){var f=c-b;var g=b*e;a.drawElements(ol.webgl.TRIANGLES,f,d,g)};ol.render.webgl.ImageReplay.prototype.drawHitDetectionReplay_=function(a,b,c,d,e,f){if(!e){return this.drawHitDetectionReplayAll_(a,b,c,d)}else{return this.drawHitDetectionReplayOneByOne_(a,b,c,d,f)}};ol.render.webgl.ImageReplay.prototype.drawHitDetectionReplayAll_=function(a,b,c,d){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);this.drawReplay_(a,b,c,this.hitDetectionTextures_,this.hitDetectionGroupIndices_);var e=d(null);if(e){return e}else{return undefined}};ol.render.webgl.ImageReplay.prototype.drawHitDetectionReplayOneByOne_=function(a,b,c,d,e){goog.DEBUG&&console.assert(this.hitDetectionTextures_.length===this.hitDetectionGroupIndices_.length,"number of hitDetectionTextures and hitDetectionGroupIndices match");var f=b.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT;var g=b.hasOESElementIndexUint?4:2;var h,i,j,k,l,m;var n=this.startIndices_.length-1;for(h=this.hitDetectionTextures_.length-1;h>=0;--h){a.bindTexture(ol.webgl.TEXTURE_2D,this.hitDetectionTextures_[h]);i=h>0?this.hitDetectionGroupIndices_[h-1]:0;k=this.hitDetectionGroupIndices_[h];while(n>=0&&this.startIndices_[n]>=i){j=this.startIndices_[n];l=this.startIndicesFeature_[n];m=ol.getUid(l).toString();if(c[m]===undefined&&l.getGeometry()&&(e===undefined||ol.extent.intersects(e,l.getGeometry().getExtent()))){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);this.drawElements_(a,j,k,f,g);var o=d(l);if(o){return o}}k=j;n--}}return undefined};ol.render.webgl.ImageReplay.prototype.setFillStrokeStyle=function(){};ol.render.webgl.ImageReplay.prototype.setImageStyle=function(a){var b=a.getAnchor();var c=a.getImage(1);var d=a.getImageSize();var e=a.getHitDetectionImage(1);var f=a.getHitDetectionImageSize();var g=a.getOpacity();var h=a.getOrigin();var i=a.getRotateWithView();var j=a.getRotation();var k=a.getSize();var l=a.getScale();goog.DEBUG&&console.assert(b,"imageStyle anchor is not null");goog.DEBUG&&console.assert(c,"imageStyle image is not null");goog.DEBUG&&console.assert(d,"imageStyle imageSize is not null");goog.DEBUG&&console.assert(e,"imageStyle hitDetectionImage is not null");goog.DEBUG&&console.assert(f,"imageStyle hitDetectionImageSize is not null");goog.DEBUG&&console.assert(g!==undefined,"imageStyle opacity is defined");goog.DEBUG&&console.assert(h,"imageStyle origin is not null");goog.DEBUG&&console.assert(i!==undefined,"imageStyle rotateWithView is defined");goog.DEBUG&&console.assert(j!==undefined,"imageStyle rotation is defined");goog.DEBUG&&console.assert(k,"imageStyle size is not null");goog.DEBUG&&console.assert(l!==undefined,"imageStyle scale is defined");var m;if(this.images_.length===0){this.images_.push(c)}else{m=this.images_[this.images_.length-1];if(ol.getUid(m)!=ol.getUid(c)){this.groupIndices_.push(this.indices_.length);goog.DEBUG&&console.assert(this.groupIndices_.length===this.images_.length,"number of groupIndices and images match");this.images_.push(c)}}if(this.hitDetectionImages_.length===0){this.hitDetectionImages_.push(e)}else{m=this.hitDetectionImages_[this.hitDetectionImages_.length-1];if(ol.getUid(m)!=ol.getUid(e)){this.hitDetectionGroupIndices_.push(this.indices_.length);goog.DEBUG&&console.assert(this.hitDetectionGroupIndices_.length===this.hitDetectionImages_.length,"number of hitDetectionGroupIndices and hitDetectionImages match");this.hitDetectionImages_.push(e)}}this.anchorX_=b[0];this.anchorY_=b[1];this.height_=k[1];this.imageHeight_=d[1];this.imageWidth_=d[0];this.opacity_=g;this.originX_=h[0];this.originY_=h[1];this.rotation_=j;this.rotateWithView_=i;this.scale_=l;this.width_=k[0]};ol.render.webgl.ReplayGroup=function(a,b,c){ol.render.ReplayGroup.call(this);this.maxExtent_=b;this.tolerance_=a;this.renderBuffer_=c;this.replays_={}};ol.inherits(ol.render.webgl.ReplayGroup,ol.render.ReplayGroup);ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(a){var b=[];var c;for(c in this.replays_){b.push(this.replays_[c].getDeleteResourcesFunction(a))}return function(){var a=b.length;var c;for(var d=0;d<a;d++){c=b[d].apply(this,arguments)}return c}};ol.render.webgl.ReplayGroup.prototype.finish=function(a){var b;for(b in this.replays_){this.replays_[b].finish(a)}};ol.render.webgl.ReplayGroup.prototype.getReplay=function(a,b){var c=this.replays_[b];if(c===undefined){var d=ol.render.webgl.BATCH_CONSTRUCTORS_[b];c=new d(this.tolerance_,this.maxExtent_);this.replays_[b]=c}return c};ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replays_)};ol.render.webgl.ReplayGroup.prototype.replay=function(a,b,c,d,e,f,g,h){var i,j,k;for(i=0,j=ol.render.replay.ORDER.length;i<j;++i){k=this.replays_[ol.render.replay.ORDER[i]];if(k!==undefined){k.replay(a,b,c,d,e,f,g,h,undefined,false)}}};ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n;for(l=ol.render.replay.ORDER.length-1;l>=0;--l){m=this.replays_[ol.render.replay.ORDER[l]];if(m!==undefined){n=m.replay(a,b,c,d,e,f,g,h,i,j,k);if(n){return n}}}return undefined};ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f,g,h,i,j){var k=b.getGL();k.bindFramebuffer(k.FRAMEBUFFER,b.getHitDetectionFramebuffer());var l;if(this.renderBuffer_!==undefined){l=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(a),d*this.renderBuffer_)}return this.replayHitDetection_(b,a,d,e,ol.render.webgl.HIT_DETECTION_SIZE_,g,h,i,(function(a){var b=new Uint8Array(4);k.readPixels(0,0,1,1,k.RGBA,k.UNSIGNED_BYTE,b);if(b[3]>0){var c=j(a);if(c){return c}}}),true,l)};ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(a,b,c,d,e,f,g,h,i){var j=b.getGL();j.bindFramebuffer(j.FRAMEBUFFER,b.getHitDetectionFramebuffer());var k=this.replayHitDetection_(b,a,d,e,ol.render.webgl.HIT_DETECTION_SIZE_,g,h,i,(function(a){var b=new Uint8Array(4);j.readPixels(0,0,1,1,j.RGBA,j.UNSIGNED_BYTE,b);return b[3]>0}),false);return k!==undefined};ol.render.webgl.BATCH_CONSTRUCTORS_={Image:ol.render.webgl.ImageReplay};ol.render.webgl.HIT_DETECTION_SIZE_=[1,1];goog.provide("ol.render.webgl.Immediate");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.render.ReplayType");goog.require("ol.render.VectorContext");goog.require("ol.render.webgl.ReplayGroup");ol.render.webgl.Immediate=function(a,b,c,d,e,f,g){ol.render.VectorContext.call(this);this.context_=a;this.center_=b;this.extent_=f;this.pixelRatio_=g;this.size_=e;this.rotation_=d;this.resolution_=c;this.imageStyle_=null};ol.inherits(ol.render.webgl.Immediate,ol.render.VectorContext);ol.render.webgl.Immediate.prototype.setStyle=function(a){this.setImageStyle(a.getImage())};ol.render.webgl.Immediate.prototype.drawGeometry=function(a){var b=a.getType();switch(b){case ol.geom.GeometryType.POINT:this.drawPoint(a,null);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(a,null);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(a,null);break;default:goog.DEBUG&&console.assert(false,"Unsupported geometry type: "+b)}};ol.render.webgl.Immediate.prototype.drawFeature=function(a,b){var c=b.getGeometryFunction()(a);if(!c||!ol.extent.intersects(this.extent_,c.getExtent())){return}this.setStyle(b);goog.DEBUG&&console.assert(c,"geometry must be truthy");this.drawGeometry(c)};ol.render.webgl.Immediate.prototype.drawGeometryCollection=function(a,b){var c=a.getGeometriesArray();var d,e;for(d=0,e=c.length;d<e;++d){this.drawGeometry(c[d])}};ol.render.webgl.Immediate.prototype.drawPoint=function(a,b){var c=this.context_;var d=new ol.render.webgl.ReplayGroup(1,this.extent_);var e=d.getReplay(0,ol.render.ReplayType.IMAGE);e.setImageStyle(this.imageStyle_);e.drawPoint(a,b);e.finish(c);var f=1;var g={};var h;var i=false;e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,f,g,h,i);e.getDeleteResourcesFunction(c)()};ol.render.webgl.Immediate.prototype.drawMultiPoint=function(a,b){var c=this.context_;var d=new ol.render.webgl.ReplayGroup(1,this.extent_);var e=d.getReplay(0,ol.render.ReplayType.IMAGE);e.setImageStyle(this.imageStyle_);e.drawMultiPoint(a,b);e.finish(c);var f=1;var g={};var h;var i=false;e.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,f,g,h,i);e.getDeleteResourcesFunction(c)()};ol.render.webgl.Immediate.prototype.setImageStyle=function(a){this.imageStyle_=a};goog.provide("ol.renderer.webgl.defaultmapshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.renderer.webgl.defaultmapshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.renderer.webgl.defaultmapshader.Fragment.SOURCE)};ol.inherits(ol.renderer.webgl.defaultmapshader.Fragment,ol.webgl.Fragment);ol.renderer.webgl.defaultmapshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n";ol.renderer.webgl.defaultmapshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}";ol.renderer.webgl.defaultmapshader.Fragment.SOURCE=goog.DEBUG?ol.renderer.webgl.defaultmapshader.Fragment.DEBUG_SOURCE:ol.renderer.webgl.defaultmapshader.Fragment.OPTIMIZED_SOURCE;ol.renderer.webgl.defaultmapshader.fragment=new ol.renderer.webgl.defaultmapshader.Fragment;ol.renderer.webgl.defaultmapshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.renderer.webgl.defaultmapshader.Vertex.SOURCE)};ol.inherits(ol.renderer.webgl.defaultmapshader.Vertex,ol.webgl.Vertex);ol.renderer.webgl.defaultmapshader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n";ol.renderer.webgl.defaultmapshader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}";ol.renderer.webgl.defaultmapshader.Vertex.SOURCE=goog.DEBUG?ol.renderer.webgl.defaultmapshader.Vertex.DEBUG_SOURCE:ol.renderer.webgl.defaultmapshader.Vertex.OPTIMIZED_SOURCE;ol.renderer.webgl.defaultmapshader.vertex=new ol.renderer.webgl.defaultmapshader.Vertex;ol.renderer.webgl.defaultmapshader.Locations=function(a,b){this.u_opacity=a.getUniformLocation(b,goog.DEBUG?"u_opacity":"f");this.u_projectionMatrix=a.getUniformLocation(b,goog.DEBUG?"u_projectionMatrix":"e");this.u_texCoordMatrix=a.getUniformLocation(b,goog.DEBUG?"u_texCoordMatrix":"d");this.u_texture=a.getUniformLocation(b,goog.DEBUG?"u_texture":"g");this.a_position=a.getAttribLocation(b,goog.DEBUG?"a_position":"b");this.a_texCoord=a.getAttribLocation(b,goog.DEBUG?"a_texCoord":"c")};goog.provide("ol.renderer.webgl.Layer");goog.require("ol");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.Layer");goog.require("ol.renderer.webgl.defaultmapshader");goog.require("ol.transform");goog.require("ol.vec.Mat4");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");goog.require("ol.webgl.Context");ol.renderer.webgl.Layer=function(a,b){ol.renderer.Layer.call(this,b);this.mapRenderer=a;this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.texture=null;this.framebuffer=null;this.framebufferDimension=undefined;this.texCoordMatrix=ol.transform.create();this.projectionMatrix=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.defaultLocations_=null};ol.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer);ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(a,b){var c=this.mapRenderer.getGL();if(this.framebufferDimension===undefined||this.framebufferDimension!=b){var d=function(a,b,c){if(!a.isContextLost()){a.deleteFramebuffer(b);a.deleteTexture(c)}}.bind(null,c,this.framebuffer,this.texture);a.postRenderFunctions.push(d);var e=ol.webgl.Context.createEmptyTexture(c,b,b);var f=c.createFramebuffer();c.bindFramebuffer(ol.webgl.FRAMEBUFFER,f);c.framebufferTexture2D(ol.webgl.FRAMEBUFFER,ol.webgl.COLOR_ATTACHMENT0,ol.webgl.TEXTURE_2D,e,0);this.texture=e;this.framebuffer=f;this.framebufferDimension=b}else{c.bindFramebuffer(ol.webgl.FRAMEBUFFER,this.framebuffer)}};ol.renderer.webgl.Layer.prototype.composeFrame=function(a,b,c){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,c,a);c.bindBuffer(ol.webgl.ARRAY_BUFFER,this.arrayBuffer_);var d=c.getGL();var e=ol.renderer.webgl.defaultmapshader.fragment;var f=ol.renderer.webgl.defaultmapshader.vertex;var g=c.getProgram(e,f);var h;if(!this.defaultLocations_){h=new ol.renderer.webgl.defaultmapshader.Locations(d,g);this.defaultLocations_=h}else{h=this.defaultLocations_}if(c.useProgram(g)){d.enableVertexAttribArray(h.a_position);d.vertexAttribPointer(h.a_position,2,ol.webgl.FLOAT,false,16,0);d.enableVertexAttribArray(h.a_texCoord);d.vertexAttribPointer(h.a_texCoord,2,ol.webgl.FLOAT,false,16,8);d.uniform1i(h.u_texture,0)}d.uniformMatrix4fv(h.u_texCoordMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getTexCoordMatrix()));d.uniformMatrix4fv(h.u_projectionMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getProjectionMatrix()));d.uniform1f(h.u_opacity,b.opacity);d.bindTexture(ol.webgl.TEXTURE_2D,this.getTexture());d.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,c,a)};ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(a,b,c){var d=this.getLayer();if(d.hasListener(a)){var e=c.viewState;var f=e.resolution;var g=c.pixelRatio;var h=c.extent;var i=e.center;var j=e.rotation;var k=c.size;var l=new ol.render.webgl.Immediate(b,i,f,j,k,h,g);var m=new ol.render.Event(a,l,c,null,b);d.dispatchEvent(m)}};ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix};ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture};ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix};ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.texture=null;this.framebuffer=null;this.framebufferDimension=undefined};ol.renderer.webgl.Layer.prototype.prepareFrame=function(a,b,c){};goog.provide("ol.renderer.webgl.ImageLayer");goog.require("ol");goog.require("ol.View");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.proj");goog.require("ol.renderer.webgl.Layer");goog.require("ol.source.ImageVector");goog.require("ol.transform");goog.require("ol.webgl");goog.require("ol.webgl.Context");ol.renderer.webgl.ImageLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b);this.image_=null;this.hitCanvasContext_=null;this.hitTransformationMatrix_=null};ol.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(a){var b=a.getImage();var c=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(c,b,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE)};ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d){var e=this.getLayer();var f=e.getSource();var g=b.viewState.resolution;var h=b.viewState.rotation;var i=b.skippedFeatureUids;return f.forEachFeatureAtCoordinate(a,g,h,i,(function(a){return c.call(d,a,e)}))};ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(a,b,c){var d=this.mapRenderer.getGL();var e=a.pixelRatio;var f=a.viewState;var g=f.center;var h=f.resolution;var i=f.rotation;var j=this.image_;var k=this.texture;var l=this.getLayer();var m=l.getSource();var n=a.viewHints;var o=a.extent;if(b.extent!==undefined){o=ol.extent.getIntersection(o,b.extent)}if(!n[ol.View.Hint.ANIMATING]&&!n[ol.View.Hint.INTERACTING]&&!ol.extent.isEmpty(o)){var p=f.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var q=m.getProjection();if(q){goog.DEBUG&&console.assert(ol.proj.equivalent(p,q),"projection and sourceProjection are equivalent");p=q}}var r=m.getImage(o,h,e,p);if(r){var s=this.loadImage(r);if(s){j=r;k=this.createTexture_(r);if(this.texture){var t=function(a,b){if(!a.isContextLost()){a.deleteTexture(b)}}.bind(null,d,this.texture);a.postRenderFunctions.push(t)}}}}if(j){goog.DEBUG&&console.assert(k,"texture is truthy");var u=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(u.width,u.height,e,g,h,i,j.getExtent());this.hitTransformationMatrix_=null;var v=this.texCoordMatrix;ol.transform.reset(v);ol.transform.scale(v,1,-1);ol.transform.translate(v,0,-1);this.image_=j;this.texture=k;this.updateAttributions(a.attributions,j.getAttributions());this.updateLogos(a,m)}return true};ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(a,b,c,d,e,f,g){var h=a*e;var i=b*e;var j=this.projectionMatrix;ol.transform.reset(j);ol.transform.scale(j,c*2/h,c*2/i);ol.transform.rotate(j,-f);ol.transform.translate(j,g[0]-d[0],g[1]-d[1]);ol.transform.scale(j,(g[2]-g[0])/2,(g[3]-g[1])/2);ol.transform.translate(j,1,1)};ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(a,b){var c=this.forEachFeatureAtCoordinate(a,b,ol.functions.TRUE,this);return c!==undefined};ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){if(!this.image_||!this.image_.getImage()){return undefined}if(this.getLayer().getSource()instanceof ol.source.ImageVector){var e=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());var f=this.forEachFeatureAtCoordinate(e,b,ol.functions.TRUE,this);if(f){return c.call(d,this.getLayer(),null)}else{return undefined}}else{var g=[this.image_.getImage().width,this.image_.getImage().height];if(!this.hitTransformationMatrix_){this.hitTransformationMatrix_=this.getHitTransformationMatrix_(b.size,g)}var h=ol.transform.apply(this.hitTransformationMatrix_,a.slice());if(h[0]<0||h[0]>g[0]||h[1]<0||h[1]>g[1]){return undefined}if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.image_.getImage(),h[0],h[1],1,1,0,0,1,1);var i=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(i[3]>0){return c.call(d,this.getLayer(),i)}else{return undefined}}};ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(a,b){var c=ol.transform.create();ol.transform.translate(c,-1,-1);ol.transform.scale(c,2/a[0],2/a[1]);ol.transform.translate(c,0,a[1]);ol.transform.scale(c,1,-1);var d=ol.transform.invert(this.projectionMatrix.slice());var e=ol.transform.create();ol.transform.translate(e,0,b[1]);ol.transform.scale(e,1,-1);ol.transform.scale(e,b[0]/2,b[1]/2);ol.transform.translate(e,1,1);ol.transform.multiply(e,d);ol.transform.multiply(e,c);return e};goog.provide("ol.renderer.webgl.tilelayershader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.renderer.webgl.tilelayershader.Fragment=function(){ol.webgl.Fragment.call(this,ol.renderer.webgl.tilelayershader.Fragment.SOURCE)};ol.inherits(ol.renderer.webgl.tilelayershader.Fragment,ol.webgl.Fragment);ol.renderer.webgl.tilelayershader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n";ol.renderer.webgl.tilelayershader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}";ol.renderer.webgl.tilelayershader.Fragment.SOURCE=goog.DEBUG?ol.renderer.webgl.tilelayershader.Fragment.DEBUG_SOURCE:ol.renderer.webgl.tilelayershader.Fragment.OPTIMIZED_SOURCE;ol.renderer.webgl.tilelayershader.fragment=new ol.renderer.webgl.tilelayershader.Fragment;ol.renderer.webgl.tilelayershader.Vertex=function(){ol.webgl.Vertex.call(this,ol.renderer.webgl.tilelayershader.Vertex.SOURCE)};ol.inherits(ol.renderer.webgl.tilelayershader.Vertex,ol.webgl.Vertex);ol.renderer.webgl.tilelayershader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n";ol.renderer.webgl.tilelayershader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}";ol.renderer.webgl.tilelayershader.Vertex.SOURCE=goog.DEBUG?ol.renderer.webgl.tilelayershader.Vertex.DEBUG_SOURCE:ol.renderer.webgl.tilelayershader.Vertex.OPTIMIZED_SOURCE;ol.renderer.webgl.tilelayershader.vertex=new ol.renderer.webgl.tilelayershader.Vertex;ol.renderer.webgl.tilelayershader.Locations=function(a,b){this.u_texture=a.getUniformLocation(b,goog.DEBUG?"u_texture":"e");this.u_tileOffset=a.getUniformLocation(b,goog.DEBUG?"u_tileOffset":"d");this.a_position=a.getAttribLocation(b,goog.DEBUG?"a_position":"b");this.a_texCoord=a.getAttribLocation(b,goog.DEBUG?"a_texCoord":"c")};goog.provide("ol.renderer.webgl.TileLayer");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileRange");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.renderer.webgl.Layer");goog.require("ol.renderer.webgl.tilelayershader");goog.require("ol.size");goog.require("ol.transform");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");ol.renderer.webgl.TileLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b);this.fragmentShader_=ol.renderer.webgl.tilelayershader.fragment;this.vertexShader_=ol.renderer.webgl.tilelayershader.vertex;this.locations_=null;this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;this.tmpSize_=[0,0]};ol.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){var a=this.mapRenderer.getContext();a.deleteBuffer(this.renderArrayBuffer_);ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(a,b,c){var d=this.mapRenderer;return function(e,f){function g(a){var b=d.isTileTextureLoaded(a);if(b){if(!c[e]){c[e]={}}c[e][a.tileCoord.toString()]=a}return b}return a.forEachLoadedTile(b,e,f,g)}};ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){ol.renderer.webgl.Layer.prototype.handleWebGLContextLost.call(this);this.locations_=null};ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(a,b,c){var d=this.mapRenderer;var e=c.getGL();var f=a.viewState;var g=f.projection;var h=this.getLayer();var i=h.getSource();var j=i.getTileGridForProjection(g);var k=j.getZForResolution(f.resolution);var l=j.getResolution(k);var m=i.getTilePixelSize(k,a.pixelRatio,g);var n=m[0]/ol.size.toSize(j.getTileSize(k),this.tmpSize_)[0];var o=l/n;var p=a.pixelRatio*i.getGutter(g);var q=f.center;var r;if(l==f.resolution){q=this.snapCenterToPixel(q,l,a.size);r=ol.extent.getForViewAndSize(q,l,f.rotation,a.size)}else{r=a.extent}var s=j.getTileRangeForExtentAndResolution(r,l);var t;if(this.renderedTileRange_&&this.renderedTileRange_.equals(s)&&this.renderedRevision_==i.getRevision()){t=this.renderedFramebufferExtent_}else{var u=s.getSize();var v=Math.max(u[0]*m[0],u[1]*m[1]);var w=ol.math.roundUpToPowerOfTwo(v);var x=o*w;var y=j.getOrigin(k);var z=y[0]+s.minX*m[0]*o;var A=y[1]+s.minY*m[1]*o;t=[z,A,z+x,A+x];this.bindFramebuffer(a,w);e.viewport(0,0,w,w);e.clearColor(0,0,0,0);e.clear(ol.webgl.COLOR_BUFFER_BIT);e.disable(ol.webgl.BLEND);var B=c.getProgram(this.fragmentShader_,this.vertexShader_);c.useProgram(B);if(!this.locations_){this.locations_=new ol.renderer.webgl.tilelayershader.Locations(e,B)}c.bindBuffer(ol.webgl.ARRAY_BUFFER,this.renderArrayBuffer_);e.enableVertexAttribArray(this.locations_.a_position);e.vertexAttribPointer(this.locations_.a_position,2,ol.webgl.FLOAT,false,16,0);e.enableVertexAttribArray(this.locations_.a_texCoord);e.vertexAttribPointer(this.locations_.a_texCoord,2,ol.webgl.FLOAT,false,16,8);e.uniform1i(this.locations_.u_texture,0);var C={};C[k]={};var D=this.createLoadedTileFinder(i,g,C);var E=h.getUseInterimTilesOnError();var F=true;var G=ol.extent.createEmpty();var H=new ol.TileRange(0,0,0,0);var I,J,K,L,M;var N,O,P;for(N=s.minX;N<=s.maxX;++N){for(O=s.minY;O<=s.maxY;++O){L=i.getTile(k,N,O,n,g);if(b.extent!==undefined){P=j.getTileCoordExtent(L.tileCoord,G);if(!ol.extent.intersects(P,b.extent)){continue}}M=L.getState();J=M==ol.Tile.State.LOADED||M==ol.Tile.State.EMPTY||M==ol.Tile.State.ERROR&&!E;if(!J&&L.interimTile){L=L.interimTile}M=L.getState();if(M==ol.Tile.State.LOADED){if(d.isTileTextureLoaded(L)){C[k][L.tileCoord.toString()]=L;continue}}else if(M==ol.Tile.State.EMPTY||M==ol.Tile.State.ERROR&&!E){continue}F=false;K=j.forEachTileCoordParentTileRange(L.tileCoord,D,null,H,G);if(!K){I=j.getTileCoordChildTileRange(L.tileCoord,H,G);if(I){D(k+1,I)}}}}var Q=Object.keys(C).map(Number);Q.sort(ol.array.numberSafeCompareFunction);var R=new Float32Array(4);var S,T,U,V;for(S=0,T=Q.length;S<T;++S){V=C[Q[S]];for(U in V){L=V[U];P=j.getTileCoordExtent(L.tileCoord,G);R[0]=2*(P[2]-P[0])/x;R[1]=2*(P[3]-P[1])/x;R[2]=2*(P[0]-t[0])/x-1;R[3]=2*(P[1]-t[1])/x-1;e.uniform4fv(this.locations_.u_tileOffset,R);d.bindTileTexture(L,m,p*n,ol.webgl.LINEAR,ol.webgl.LINEAR);e.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4)}}if(F){this.renderedTileRange_=s;this.renderedFramebufferExtent_=t;this.renderedRevision_=i.getRevision()}else{this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;a.animate=true}}this.updateUsedTiles(a.usedTiles,i,k,s);var W=d.getTileTextureQueue();this.manageTilePyramid(a,i,j,n,g,r,k,h.getPreload(),(function(a){if(a.getState()==ol.Tile.State.LOADED&&!d.isTileTextureLoaded(a)&&!W.isKeyQueued(a.getKey())){
W.enqueue([a,j.getTileCoordCenter(a.tileCoord),j.getResolution(a.tileCoord[0]),m,p*n])}}),this);this.scheduleExpireCache(a,i);this.updateLogos(a,i);var X=this.texCoordMatrix;ol.transform.reset(X);ol.transform.translate(X,(q[0]-t[0])/(t[2]-t[0]),(q[1]-t[1])/(t[3]-t[1]));if(f.rotation!==0){ol.transform.rotate(X,f.rotation)}ol.transform.scale(X,a.size[0]*f.resolution/(t[2]-t[0]),a.size[1]*f.resolution/(t[3]-t[1]));ol.transform.translate(X,-.5,-.5);return true};ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){if(!this.framebuffer){return undefined}var e=[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]];var f=ol.transform.apply(this.texCoordMatrix,e.slice());var g=[f[0]*this.framebufferDimension,f[1]*this.framebufferDimension];var h=this.mapRenderer.getContext().getGL();h.bindFramebuffer(h.FRAMEBUFFER,this.framebuffer);var i=new Uint8Array(4);h.readPixels(g[0],g[1],1,1,h.RGBA,h.UNSIGNED_BYTE,i);if(i[3]>0){return c.call(d,this.getLayer(),i)}else{return undefined}};goog.provide("ol.renderer.webgl.VectorLayer");goog.require("ol");goog.require("ol.View");goog.require("ol.extent");goog.require("ol.render.webgl.ReplayGroup");goog.require("ol.renderer.vector");goog.require("ol.renderer.webgl.Layer");goog.require("ol.transform");ol.renderer.webgl.VectorLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b);this.dirty_=false;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.layerState_=null};ol.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(a,b,c){this.layerState_=b;var d=a.viewState;var e=this.replayGroup_;if(e&&!e.isEmpty()){e.replay(c,d.center,d.resolution,d.rotation,a.size,a.pixelRatio,b.opacity,b.managed?a.skippedFeatureUids:{})}};ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var a=this.replayGroup_;if(a){var b=this.mapRenderer.getContext();a.getDeleteResourcesFunction(b)();this.replayGroup_=null}ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(a,b,c,d){if(!this.replayGroup_||!this.layerState_){return undefined}else{var e=this.mapRenderer.getContext();var f=b.viewState;var g=this.getLayer();var h=this.layerState_;var i={};return this.replayGroup_.forEachFeatureAtCoordinate(a,e,f.center,f.resolution,f.rotation,b.size,b.pixelRatio,h.opacity,{},(function(a){var b=ol.getUid(a).toString();if(!(b in i)){i[b]=true;return c.call(d,a,g)}}))}};ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(a,b){if(!this.replayGroup_||!this.layerState_){return false}else{var c=this.mapRenderer.getContext();var d=b.viewState;var e=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(a,c,d.center,d.resolution,d.rotation,b.size,b.pixelRatio,e.opacity,b.skippedFeatureUids)}};ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(a,b,c,d){var e=ol.transform.apply(b.pixelToCoordinateTransform,a.slice());var f=this.hasFeatureAtCoordinate(e,b);if(f){return c.call(d,this.getLayer(),null)}else{return undefined}};ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(a,b,c){var d=this.getLayer();var e=d.getSource();this.updateAttributions(a.attributions,e.getAttributions());this.updateLogos(a,e);var f=a.viewHints[ol.View.Hint.ANIMATING];var g=a.viewHints[ol.View.Hint.INTERACTING];var h=d.getUpdateWhileAnimating();var i=d.getUpdateWhileInteracting();if(!this.dirty_&&(!h&&f)||!i&&g){return true}var j=a.extent;var k=a.viewState;var l=k.projection;var m=k.resolution;var n=a.pixelRatio;var o=d.getRevision();var p=d.getRenderBuffer();var q=d.getRenderOrder();if(q===undefined){q=ol.renderer.vector.defaultOrder}var r=ol.extent.buffer(j,p*m);if(!this.dirty_&&this.renderedResolution_==m&&this.renderedRevision_==o&&this.renderedRenderOrder_==q&&ol.extent.containsExtent(this.renderedExtent_,r)){return true}if(this.replayGroup_){a.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(c))}this.dirty_=false;var s=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(m,n),r,d.getRenderBuffer());e.loadFeatures(r,m,l);var t=function(a){var b;var c=a.getStyleFunction();if(c){b=c.call(a,m)}else{c=d.getStyleFunction();if(c){b=c(a,m)}}if(b){var e=this.renderFeature(a,m,n,b,s);this.dirty_=this.dirty_||e}};if(q){var u=[];e.forEachFeatureInExtent(r,(function(a){u.push(a)}),this);u.sort(q);u.forEach(t,this)}else{e.forEachFeatureInExtent(r,t,this)}s.finish(c);this.renderedResolution_=m;this.renderedRevision_=o;this.renderedRenderOrder_=q;this.renderedExtent_=r;this.replayGroup_=s;return true};ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(a,b,c,d,e){if(!d){return false}var f=false;if(Array.isArray(d)){for(var g=0,h=d.length;g<h;++g){f=ol.renderer.vector.renderFeature(e,a,d[g],ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f}}else{f=ol.renderer.vector.renderFeature(e,a,d,ol.renderer.vector.getSquaredTolerance(b,c),this.handleStyleImageChange_,this)||f}return f};goog.provide("ol.structs.LRUCache");goog.require("ol.asserts");goog.require("ol.obj");ol.structs.LRUCache=function(){this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null};if(goog.DEBUG){ol.structs.LRUCache.prototype.assertValid=function(){if(this.count_===0){console.assert(ol.obj.isEmpty(this.entries_),"entries must be an empty object (count = 0)");console.assert(!this.oldest_,"oldest must be null (count = 0)");console.assert(!this.newest_,"newest must be null (count = 0)")}else{console.assert(Object.keys(this.entries_).length==this.count_,"number of entries matches count");console.assert(this.oldest_,"we have an oldest entry");console.assert(!this.oldest_.older,"no entry is older than oldest");console.assert(this.newest_,"we have a newest entry");console.assert(!this.newest_.newer,"no entry is newer than newest");var a,b;var c=null;a=0;for(b=this.oldest_;b;b=b.newer){console.assert(b.older===c,"entry.older links to correct older");c=b;++a}console.assert(a==this.count_,"iterated correct amount of times");var d=null;a=0;for(b=this.newest_;b;b=b.older){console.assert(b.newer===d,"entry.newer links to correct newer");d=b;++a}console.assert(a==this.count_,"iterated correct amount of times")}}}ol.structs.LRUCache.prototype.clear=function(){this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null};ol.structs.LRUCache.prototype.containsKey=function(a){return this.entries_.hasOwnProperty(a)};ol.structs.LRUCache.prototype.forEach=function(a,b){var c=this.oldest_;while(c){a.call(b,c.value_,c.key_,this);c=c.newer}};ol.structs.LRUCache.prototype.get=function(a){var b=this.entries_[a];ol.asserts.assert(b!==undefined,15);if(b===this.newest_){return b.value_}else if(b===this.oldest_){this.oldest_=this.oldest_.newer;this.oldest_.older=null}else{b.newer.older=b.older;b.older.newer=b.newer}b.newer=null;b.older=this.newest_;this.newest_.newer=b;this.newest_=b;return b.value_};ol.structs.LRUCache.prototype.getCount=function(){return this.count_};ol.structs.LRUCache.prototype.getKeys=function(){var a=new Array(this.count_);var b=0;var c;for(c=this.newest_;c;c=c.older){a[b++]=c.key_}goog.DEBUG&&console.assert(b==this.count_,"iterated correct number of times");return a};ol.structs.LRUCache.prototype.getValues=function(){var a=new Array(this.count_);var b=0;var c;for(c=this.newest_;c;c=c.older){a[b++]=c.value_}goog.DEBUG&&console.assert(b==this.count_,"iterated correct number of times");return a};ol.structs.LRUCache.prototype.peekLast=function(){goog.DEBUG&&console.assert(this.oldest_,"oldest must not be null");return this.oldest_.value_};ol.structs.LRUCache.prototype.peekLastKey=function(){goog.DEBUG&&console.assert(this.oldest_,"oldest must not be null");return this.oldest_.key_};ol.structs.LRUCache.prototype.pop=function(){goog.DEBUG&&console.assert(this.oldest_,"oldest must not be null");goog.DEBUG&&console.assert(this.newest_,"newest must not be null");var a=this.oldest_;goog.DEBUG&&console.assert(a.key_ in this.entries_,"oldest is indexed in entries");delete this.entries_[a.key_];if(a.newer){a.newer.older=null}this.oldest_=a.newer;if(!this.oldest_){this.newest_=null}--this.count_;return a.value_};ol.structs.LRUCache.prototype.replace=function(a,b){this.get(a);this.entries_[a].value_=b};ol.structs.LRUCache.prototype.set=function(a,b){goog.DEBUG&&console.assert(!(a in{}),'key is not a standard property of objects (e.g. "__proto__")');ol.asserts.assert(!(a in this.entries_),16);var c={key_:a,newer:null,older:this.newest_,value_:b};if(!this.newest_){this.oldest_=c}else{this.newest_.newer=c}this.newest_=c;this.entries_[a]=c;++this.count_};goog.provide("ol.renderer.webgl.Map");goog.require("ol");goog.require("ol.RendererType");goog.require("ol.array");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.layer.Image");goog.require("ol.layer.Layer");goog.require("ol.layer.Tile");goog.require("ol.layer.Vector");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.Map");goog.require("ol.renderer.webgl.ImageLayer");goog.require("ol.renderer.webgl.TileLayer");goog.require("ol.renderer.webgl.VectorLayer");goog.require("ol.source.State");goog.require("ol.structs.LRUCache");goog.require("ol.structs.PriorityQueue");goog.require("ol.webgl");goog.require("ol.webgl.Context");goog.require("ol.webgl.ContextEventType");ol.renderer.webgl.Map=function(a,b){ol.renderer.Map.call(this,a,b);this.canvas_=document.createElement("CANVAS");this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;a.insertBefore(this.canvas_,a.childNodes[0]||null);this.clipTileCanvasWidth_=0;this.clipTileCanvasHeight_=0;this.clipTileContext_=ol.dom.createCanvasContext2D();this.renderedVisible_=true;this.gl_=ol.webgl.getContext(this.canvas_,{antialias:true,depth:false,failIfMajorPerformanceCaveat:true,preserveDrawingBuffer:false,stencil:true});goog.DEBUG&&console.assert(this.gl_,"got a WebGLRenderingContext");this.context_=new ol.webgl.Context(this.canvas_,this.gl_);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this);this.textureCache_=new ol.structs.LRUCache;this.focus_=null;this.tileTextureQueue_=new ol.structs.PriorityQueue(function(a){var b=a[1];var c=a[2];var d=b[0]-this.focus_[0];var e=b[1]-this.focus_[1];return 65536*Math.log(c)+Math.sqrt(d*d+e*e)/c}.bind(this),function(a){return a[0].getKey()});this.loadNextTileTexture_=function(a,b){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var c=this.tileTextureQueue_.dequeue();var d=c[0];var e=c[3];var f=c[4];this.bindTileTexture(d,e,f,ol.webgl.LINEAR,ol.webgl.LINEAR)}return false}.bind(this);this.textureCacheFrameMarkerCount_=0;this.initializeGL_()};ol.inherits(ol.renderer.webgl.Map,ol.renderer.Map);ol.renderer.webgl.Map.prototype.bindTileTexture=function(a,b,c,d,e){var f=this.getGL();var g=a.getKey();if(this.textureCache_.containsKey(g)){var h=this.textureCache_.get(g);f.bindTexture(ol.webgl.TEXTURE_2D,h.texture);if(h.magFilter!=d){f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,d);h.magFilter=d}if(h.minFilter!=e){f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,e);h.minFilter=e}}else{var i=f.createTexture();f.bindTexture(ol.webgl.TEXTURE_2D,i);if(c>0){var j=this.clipTileContext_.canvas;var k=this.clipTileContext_;if(this.clipTileCanvasWidth_!==b[0]||this.clipTileCanvasHeight_!==b[1]){j.width=b[0];j.height=b[1];this.clipTileCanvasWidth_=b[0];this.clipTileCanvasHeight_=b[1]}else{k.clearRect(0,0,b[0],b[1])}k.drawImage(a.getImage(),c,c,b[0],b[1],0,0,b[0],b[1]);f.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,j)}else{f.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,a.getImage())}f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,d);f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,e);f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,ol.webgl.CLAMP_TO_EDGE);f.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,ol.webgl.CLAMP_TO_EDGE);this.textureCache_.set(g,{texture:i,magFilter:d,minFilter:e})}};ol.renderer.webgl.Map.prototype.createLayerRenderer=function(a){if(ol.ENABLE_IMAGE&&a instanceof ol.layer.Image){return new ol.renderer.webgl.ImageLayer(this,a)}else if(ol.ENABLE_TILE&&a instanceof ol.layer.Tile){return new ol.renderer.webgl.TileLayer(this,a)}else if(ol.ENABLE_VECTOR&&a instanceof ol.layer.Vector){return new ol.renderer.webgl.VectorLayer(this,a)}else{goog.DEBUG&&console.assert(false,"unexpected layer configuration");return null}};ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(a,b){var c=this.getMap();if(c.hasListener(a)){var d=this.context_;var e=b.extent;var f=b.size;var g=b.viewState;var h=b.pixelRatio;var i=g.resolution;var j=g.center;var k=g.rotation;var l=new ol.render.webgl.Immediate(d,j,i,k,f,e,h);var m=new ol.render.Event(a,l,b,null,d);c.dispatchEvent(m)}};ol.renderer.webgl.Map.prototype.disposeInternal=function(){var a=this.getGL();if(!a.isContextLost()){this.textureCache_.forEach((function(b){if(b){a.deleteTexture(b.texture)}}))}this.context_.dispose();ol.renderer.Map.prototype.disposeInternal.call(this)};ol.renderer.webgl.Map.prototype.expireCache_=function(a,b){var c=this.getGL();var d;while(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){d=this.textureCache_.peekLast();if(!d){if(+this.textureCache_.peekLastKey()==b.index){break}else{--this.textureCacheFrameMarkerCount_}}else{c.deleteTexture(d.texture)}this.textureCache_.pop()}};ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_};ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_};ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_};ol.renderer.webgl.Map.prototype.getType=function(){return ol.RendererType.WEBGL};ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(a){a.preventDefault();this.textureCache_.clear();this.textureCacheFrameMarkerCount_=0;var b=this.getLayerRenderers();for(var c in b){var d=b[c];d.handleWebGLContextLost()}};ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_();this.getMap().render()};ol.renderer.webgl.Map.prototype.initializeGL_=function(){var a=this.gl_;a.activeTexture(ol.webgl.TEXTURE0);a.blendFuncSeparate(ol.webgl.SRC_ALPHA,ol.webgl.ONE_MINUS_SRC_ALPHA,ol.webgl.ONE,ol.webgl.ONE_MINUS_SRC_ALPHA);a.disable(ol.webgl.CULL_FACE);a.disable(ol.webgl.DEPTH_TEST);a.disable(ol.webgl.SCISSOR_TEST);a.disable(ol.webgl.STENCIL_TEST)};ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(a){return this.textureCache_.containsKey(a.getKey())};ol.renderer.webgl.Map.prototype.renderFrame=function(a){var b=this.getContext();var c=this.getGL();if(c.isContextLost()){return false}if(!a){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=false}return false}this.focus_=a.focus;this.textureCache_.set((-a.index).toString(),null);++this.textureCacheFrameMarkerCount_;this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a);var d=[];var e=a.layerStatesArray;ol.array.stableSort(e,ol.renderer.Map.sortByZIndex);var f=a.viewState.resolution;var g,h,i,j;for(g=0,h=e.length;g<h;++g){j=e[g];if(ol.layer.Layer.visibleAtResolution(j,f)&&j.sourceState==ol.source.State.READY){i=this.getLayerRenderer(j.layer);if(i.prepareFrame(a,j,b)){d.push(j)}}}var k=a.size[0]*a.pixelRatio;var l=a.size[1]*a.pixelRatio;if(this.canvas_.width!=k||this.canvas_.height!=l){this.canvas_.width=k;this.canvas_.height=l}c.bindFramebuffer(ol.webgl.FRAMEBUFFER,null);c.clearColor(0,0,0,0);c.clear(ol.webgl.COLOR_BUFFER_BIT);c.enable(ol.webgl.BLEND);c.viewport(0,0,this.canvas_.width,this.canvas_.height);for(g=0,h=d.length;g<h;++g){j=d[g];i=this.getLayerRenderer(j.layer);i.composeFrame(a,j,b)}if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=true}this.calculateMatrices2D(a);if(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){a.postRenderFunctions.push(this.expireCache_.bind(this))}if(!this.tileTextureQueue_.isEmpty()){a.postRenderFunctions.push(this.loadNextTileTexture_);a.animate=true}this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a);this.scheduleRemoveUnusedLayerRenderers(a);this.scheduleExpireIconCache(a)};ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(a,b,c,d,e,f){var g;if(this.getGL().isContextLost()){return false}var h=b.viewState;var i=b.layerStatesArray;var j=i.length;var k;for(k=j-1;k>=0;--k){var l=i[k];var m=l.layer;if(ol.layer.Layer.visibleAtResolution(l,h.resolution)&&e.call(f,m)){var n=this.getLayerRenderer(m);g=n.forEachFeatureAtCoordinate(a,b,c,d);if(g){return g}}}return undefined};ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(a,b,c,d){var e=false;if(this.getGL().isContextLost()){return false}var f=b.viewState;var g=b.layerStatesArray;var h=g.length;var i;for(i=h-1;i>=0;--i){var j=g[i];var k=j.layer;if(ol.layer.Layer.visibleAtResolution(j,f.resolution)&&c.call(d,k)){var l=this.getLayerRenderer(k);e=l.hasFeatureAtCoordinate(a,b);if(e){return true}}}return e};ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e,f){if(this.getGL().isContextLost()){return false}var g=b.viewState;var h;var i=b.layerStatesArray;var j=i.length;var k;for(k=j-1;k>=0;--k){var l=i[k];var m=l.layer;if(ol.layer.Layer.visibleAtResolution(l,g.resolution)&&e.call(d,m)){var n=this.getLayerRenderer(m);h=n.forEachLayerAtPixel(a,b,c,d);if(h){return h}}}return undefined};goog.provide("ol.Map");goog.provide("ol.MapProperty");goog.require("goog.async.nextTick");goog.require("ol");goog.require("ol.Collection");goog.require("ol.MapBrowserEvent");goog.require("ol.MapBrowserEvent.EventType");goog.require("ol.MapBrowserEventHandler");goog.require("ol.MapEvent");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.RendererType");goog.require("ol.TileQueue");goog.require("ol.View");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.control");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.has");goog.require("ol.interaction");goog.require("ol.layer.Group");goog.require("ol.obj");goog.require("ol.proj.common");goog.require("ol.renderer.Map");goog.require("ol.renderer.canvas.Map");goog.require("ol.renderer.dom.Map");goog.require("ol.renderer.webgl.Map");goog.require("ol.size");goog.require("ol.structs.PriorityQueue");goog.require("ol.transform");ol.OL3_URL="http://openlayers.org/";ol.OL3_LOGO_URL="data:image/png;base64,"+"iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBI"+"WXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAA"+"AhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszW"+"WMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvY"+"asvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvX"+"H1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1Vk"+"bMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW"+"2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLP"+"VcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqT"+"acrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaar"+"ldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+Hi"+"zeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDn"+"BAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSF"+"hYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJ"+"REFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxC"+"Brb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe"+"0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8"+"a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7a"+"hgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCn"+"B3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDg"+"q82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC";ol.DEFAULT_RENDERER_TYPES=[ol.RendererType.CANVAS,ol.RendererType.WEBGL,ol.RendererType.DOM];ol.MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};ol.Map=function(a){ol.Object.call(this);var b=ol.Map.createOptionsInternal(a);this.loadTilesWhileAnimating_=a.loadTilesWhileAnimating!==undefined?a.loadTilesWhileAnimating:false;this.loadTilesWhileInteracting_=a.loadTilesWhileInteracting!==undefined?a.loadTilesWhileInteracting:false;this.pixelRatio_=a.pixelRatio!==undefined?a.pixelRatio:ol.has.DEVICE_PIXEL_RATIO;this.logos_=b.logos;this.animationDelayKey_;this.animationDelay_=function(){this.animationDelayKey_=undefined;this.renderFrame_.call(this,Date.now())}.bind(this);this.coordinateToPixelTransform_=ol.transform.create();this.pixelToCoordinateTransform_=ol.transform.create();this.frameIndex_=0;this.frameState_=null;this.previousExtent_=ol.extent.createEmpty();this.viewPropertyListenerKey_=null;this.layerGroupPropertyListenerKeys_=null;this.viewport_=document.createElement("DIV");this.viewport_.className="ol-viewport"+(ol.has.TOUCH?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height="100%";this.viewport_.style.msTouchAction="none";this.viewport_.style.touchAction="none";this.overlayContainer_=document.createElement("DIV");this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("DIV");this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";var c=[ol.events.EventType.CLICK,ol.events.EventType.DBLCLICK,ol.events.EventType.MOUSEDOWN,ol.events.EventType.TOUCHSTART,ol.events.EventType.MSPOINTERDOWN,ol.MapBrowserEvent.EventType.POINTERDOWN,ol.events.EventType.MOUSEWHEEL,ol.events.EventType.WHEEL];for(var d=0,e=c.length;d<e;++d){ol.events.listen(this.overlayContainerStopEvent_,c[d],ol.events.Event.stopPropagation)}this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=new ol.MapBrowserEventHandler(this);for(var f in ol.MapBrowserEvent.EventType){ol.events.listen(this.mapBrowserEventHandler_,ol.MapBrowserEvent.EventType[f],this.handleMapBrowserEvent,this)}this.keyboardEventTarget_=b.keyboardEventTarget;this.keyHandlerKeys_=null;ol.events.listen(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.listen(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);this.controls_=b.controls;this.interactions_=b.interactions;this.overlays_=b.overlays;this.overlayIdIndex_={};this.renderer_=new b.rendererConstructor(this.viewport_,this);this.handleResize_;this.focus_=null;this.preRenderFunctions_=[];this.postRenderFunctions_=[];this.tileQueue_=new ol.TileQueue(this.getTilePriority.bind(this),this.handleTileChange_.bind(this));this.skippedFeatureUids_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),this.handleTargetChanged_,this);this.setProperties(b.values);this.controls_.forEach((function(a){a.setMap(this)}),this);ol.events.listen(this.controls_,ol.Collection.EventType.ADD,(function(a){a.element.setMap(this)}),this);ol.events.listen(this.controls_,ol.Collection.EventType.REMOVE,(function(a){a.element.setMap(null)}),this);this.interactions_.forEach((function(a){a.setMap(this)}),this);ol.events.listen(this.interactions_,ol.Collection.EventType.ADD,(function(a){a.element.setMap(this)}),this);ol.events.listen(this.interactions_,ol.Collection.EventType.REMOVE,(function(a){a.element.setMap(null)}),this);this.overlays_.forEach(this.addOverlayInternal_,this);ol.events.listen(this.overlays_,ol.Collection.EventType.ADD,(function(a){this.addOverlayInternal_(a.element)}),this);ol.events.listen(this.overlays_,ol.Collection.EventType.REMOVE,(function(a){var b=a.element.getId();if(b!==undefined){delete this.overlayIdIndex_[b.toString()]}a.element.setMap(null)}),this)};ol.inherits(ol.Map,ol.Object);ol.Map.prototype.addControl=function(a){this.getControls().push(a)};ol.Map.prototype.addInteraction=function(a){this.getInteractions().push(a)};ol.Map.prototype.addLayer=function(a){var b=this.getLayerGroup().getLayers();b.push(a)};ol.Map.prototype.addOverlay=function(a){this.getOverlays().push(a)};ol.Map.prototype.addOverlayInternal_=function(a){var b=a.getId();if(b!==undefined){this.overlayIdIndex_[b.toString()]=a}a.setMap(this)};ol.Map.prototype.beforeRender=function(a){this.render();Array.prototype.push.apply(this.preRenderFunctions_,arguments)};ol.Map.prototype.removePreRenderFunction=function(a){return ol.array.remove(this.preRenderFunctions_,a)};ol.Map.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose();this.renderer_.dispose();ol.events.unlisten(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.unlisten(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);if(this.handleResize_!==undefined){ol.global.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,false);this.handleResize_=undefined}if(this.animationDelayKey_){ol.global.cancelAnimationFrame(this.animationDelayKey_);this.animationDelayKey_=undefined}this.setTarget(null);ol.Object.prototype.disposeInternal.call(this)};ol.Map.prototype.forEachFeatureAtPixel=function(a,b,c,d,e){if(!this.frameState_){return}var f=this.getCoordinateFromPixel(a);var g=c!==undefined?c:null;var h=d!==undefined?d:ol.functions.TRUE;var i=e!==undefined?e:null;return this.renderer_.forEachFeatureAtCoordinate(f,this.frameState_,b,g,h,i)};ol.Map.prototype.forEachLayerAtPixel=function(a,b,c,d,e){if(!this.frameState_){return}var f=c!==undefined?c:null;var g=d!==undefined?d:ol.functions.TRUE;var h=e!==undefined?e:null;return this.renderer_.forEachLayerAtPixel(a,this.frameState_,b,f,g,h)};ol.Map.prototype.hasFeatureAtPixel=function(a,b,c){if(!this.frameState_){return false}var d=this.getCoordinateFromPixel(a);var e=b!==undefined?b:ol.functions.TRUE;var f=c!==undefined?c:null;return this.renderer_.hasFeatureAtCoordinate(d,this.frameState_,e,f)};ol.Map.prototype.getEventCoordinate=function(a){return this.getCoordinateFromPixel(this.getEventPixel(a))};ol.Map.prototype.getEventPixel=function(a){var b=this.viewport_.getBoundingClientRect();var c=a.changedTouches?a.changedTouches[0]:a;return[c.clientX-b.left,c.clientY-b.top]};ol.Map.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)};ol.Map.prototype.getTargetElement=function(){var a=this.getTarget();if(a!==undefined){return typeof a==="string"?document.getElementById(a):a}else{return null}};ol.Map.prototype.getCoordinateFromPixel=function(a){var b=this.frameState_;if(!b){return null}else{return ol.transform.apply(b.pixelToCoordinateTransform,a.slice())}};ol.Map.prototype.getControls=function(){return this.controls_};ol.Map.prototype.getOverlays=function(){return this.overlays_};ol.Map.prototype.getOverlayById=function(a){var b=this.overlayIdIndex_[a.toString()];return b!==undefined?b:null};ol.Map.prototype.getInteractions=function(){return this.interactions_};ol.Map.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)};ol.Map.prototype.getLayers=function(){var a=this.getLayerGroup().getLayers();return a};ol.Map.prototype.getPixelFromCoordinate=function(a){var b=this.frameState_;if(!b){return null}else{return ol.transform.apply(b.coordinateToPixelTransform,a.slice(0,2))}};ol.Map.prototype.getRenderer=function(){return this.renderer_};ol.Map.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)};ol.Map.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)};ol.Map.prototype.getViewport=function(){return this.viewport_};ol.Map.prototype.getOverlayContainer=function(){return this.overlayContainer_};ol.Map.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};ol.Map.prototype.getTilePriority=function(a,b,c,d){var e=this.frameState_;if(!e||!(b in e.wantedTiles)){return ol.structs.PriorityQueue.DROP}if(!e.wantedTiles[b][a.getKey()]){return ol.structs.PriorityQueue.DROP}var f=c[0]-e.focus[0];var g=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(f*f+g*g)/d};ol.Map.prototype.handleBrowserEvent=function(a,b){var c=b||a.type;var d=new ol.MapBrowserEvent(c,this,a);this.handleMapBrowserEvent(d)};ol.Map.prototype.handleMapBrowserEvent=function(a){if(!this.frameState_){return}this.focus_=a.coordinate;a.frameState=this.frameState_;var b=this.getInteractions().getArray();var c;if(this.dispatchEvent(a)!==false){for(c=b.length-1;c>=0;c--){var d=b[c];if(!d.getActive()){continue}var e=d.handleEvent(a);if(!e){break}}}};ol.Map.prototype.handlePostRender=function(){var a=this.frameState_;var b=this.tileQueue_;if(!b.isEmpty()){var c=16;var d=c;if(a){var e=a.viewHints;if(e[ol.View.Hint.ANIMATING]){c=this.loadTilesWhileAnimating_?8:0;d=2}if(e[ol.View.Hint.INTERACTING]){c=this.loadTilesWhileInteracting_?8:0;d=2}}if(b.getTilesLoading()<c){b.reprioritize();b.loadMoreTiles(c,d)}}var f=this.postRenderFunctions_;var g,h;for(g=0,h=f.length;g<h;++g){f[g](this,a)}f.length=0};ol.Map.prototype.handleSizeChanged_=function(){this.render()};ol.Map.prototype.handleTargetChanged_=function(){var a;if(this.getTarget()){a=this.getTargetElement();goog.DEBUG&&console.assert(a!==null,"expects a non-null value for targetElement")}if(this.keyHandlerKeys_){for(var b=0,c=this.keyHandlerKeys_.length;b<c;++b){ol.events.unlistenByKey(this.keyHandlerKeys_[b])}this.keyHandlerKeys_=null}if(!a){ol.dom.removeNode(this.viewport_);if(this.handleResize_!==undefined){ol.global.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,false);this.handleResize_=undefined}}else{a.appendChild(this.viewport_);var d=!this.keyboardEventTarget_?a:this.keyboardEventTarget_;this.keyHandlerKeys_=[ol.events.listen(d,ol.events.EventType.KEYDOWN,this.handleBrowserEvent,this),ol.events.listen(d,ol.events.EventType.KEYPRESS,this.handleBrowserEvent,this)];if(!this.handleResize_){this.handleResize_=this.updateSize.bind(this);ol.global.addEventListener(ol.events.EventType.RESIZE,this.handleResize_,false)}}this.updateSize()};ol.Map.prototype.handleTileChange_=function(){this.render()};ol.Map.prototype.handleViewPropertyChanged_=function(){this.render()};ol.Map.prototype.handleViewChanged_=function(){if(this.viewPropertyListenerKey_){ol.events.unlistenByKey(this.viewPropertyListenerKey_);this.viewPropertyListenerKey_=null}var a=this.getView();if(a){this.viewPropertyListenerKey_=ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this)}this.render()};ol.Map.prototype.handleLayerGroupChanged_=function(){if(this.layerGroupPropertyListenerKeys_){this.layerGroupPropertyListenerKeys_.forEach(ol.events.unlistenByKey);this.layerGroupPropertyListenerKeys_=null}var a=this.getLayerGroup();if(a){this.layerGroupPropertyListenerKeys_=[ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.render,this),ol.events.listen(a,ol.events.EventType.CHANGE,this.render,this)];
}this.render()};ol.Map.prototype.isRendered=function(){return!!this.frameState_};ol.Map.prototype.renderSync=function(){if(this.animationDelayKey_){ol.global.cancelAnimationFrame(this.animationDelayKey_)}this.animationDelay_()};ol.Map.prototype.render=function(){if(this.animationDelayKey_===undefined){this.animationDelayKey_=ol.global.requestAnimationFrame(this.animationDelay_)}};ol.Map.prototype.removeControl=function(a){return this.getControls().remove(a)};ol.Map.prototype.removeInteraction=function(a){return this.getInteractions().remove(a)};ol.Map.prototype.removeLayer=function(a){var b=this.getLayerGroup().getLayers();return b.remove(a)};ol.Map.prototype.removeOverlay=function(a){return this.getOverlays().remove(a)};ol.Map.prototype.renderFrame_=function(a){var b,c,d;var e=this.getSize();var f=this.getView();var g=ol.extent.createEmpty();var h=null;if(e!==undefined&&ol.size.hasArea(e)&&f&&f.isDef()){var i=f.getHints(this.frameState_?this.frameState_.viewHints:undefined);var j=this.getLayerGroup().getLayerStatesArray();var k={};for(b=0,c=j.length;b<c;++b){k[ol.getUid(j[b].layer)]=j[b]}d=f.getState();h={animate:false,attributions:{},coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:g,focus:!this.focus_?d.center:this.focus_,index:this.frameIndex_++,layerStates:k,layerStatesArray:j,logos:ol.obj.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:a,usedTiles:{},viewState:d,viewHints:i,wantedTiles:{}}}if(h){var l=this.preRenderFunctions_;var m=0,n;for(b=0,c=l.length;b<c;++b){n=l[b];if(n(this,h)){l[m++]=n}}l.length=m;h.extent=ol.extent.getForViewAndSize(d.center,d.resolution,d.rotation,h.size,g)}this.frameState_=h;this.renderer_.renderFrame(h);if(h){if(h.animate){this.render()}Array.prototype.push.apply(this.postRenderFunctions_,h.postRenderFunctions);var o=this.preRenderFunctions_.length===0&&!h.viewHints[ol.View.Hint.ANIMATING]&&!h.viewHints[ol.View.Hint.INTERACTING]&&!ol.extent.equals(h.extent,this.previousExtent_);if(o){this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,this,h));ol.extent.clone(h.extent,this.previousExtent_)}}this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,h));goog.async.nextTick(this.handlePostRender,this)};ol.Map.prototype.setLayerGroup=function(a){this.set(ol.MapProperty.LAYERGROUP,a)};ol.Map.prototype.setSize=function(a){this.set(ol.MapProperty.SIZE,a)};ol.Map.prototype.setTarget=function(a){this.set(ol.MapProperty.TARGET,a)};ol.Map.prototype.setView=function(a){this.set(ol.MapProperty.VIEW,a)};ol.Map.prototype.skipFeature=function(a){var b=ol.getUid(a).toString();this.skippedFeatureUids_[b]=true;this.render()};ol.Map.prototype.updateSize=function(){var a=this.getTargetElement();if(!a){this.setSize(undefined)}else{var b=ol.global.getComputedStyle(a);this.setSize([a.offsetWidth-parseFloat(b["borderLeftWidth"])-parseFloat(b["paddingLeft"])-parseFloat(b["paddingRight"])-parseFloat(b["borderRightWidth"]),a.offsetHeight-parseFloat(b["borderTopWidth"])-parseFloat(b["paddingTop"])-parseFloat(b["paddingBottom"])-parseFloat(b["borderBottomWidth"])])}};ol.Map.prototype.unskipFeature=function(a){var b=ol.getUid(a).toString();delete this.skippedFeatureUids_[b];this.render()};ol.Map.createOptionsInternal=function(a){var b=null;if(a.keyboardEventTarget!==undefined){b=typeof a.keyboardEventTarget==="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget}var c={};var d={};if(a.logo===undefined||typeof a.logo==="boolean"&&a.logo){d[ol.OL3_LOGO_URL]=ol.OL3_URL}else{var e=a.logo;if(typeof e==="string"){d[e]=""}else if(e instanceof HTMLElement){d[ol.getUid(e).toString()]=e}else if(e){ol.asserts.assert(typeof e.href=="string",44);ol.asserts.assert(typeof e.src=="string",45);d[e.src]=e.href}}var f=a.layers instanceof ol.layer.Group?a.layers:new ol.layer.Group({layers:a.layers});c[ol.MapProperty.LAYERGROUP]=f;c[ol.MapProperty.TARGET]=a.target;c[ol.MapProperty.VIEW]=a.view!==undefined?a.view:new ol.View;var g=ol.renderer.Map;var h;if(a.renderer!==undefined){if(Array.isArray(a.renderer)){h=a.renderer}else if(typeof a.renderer==="string"){h=[a.renderer]}else{ol.asserts.assert(false,46)}}else{h=ol.DEFAULT_RENDERER_TYPES}var i,j;for(i=0,j=h.length;i<j;++i){var k=h[i];if(ol.ENABLE_CANVAS&&k==ol.RendererType.CANVAS){if(ol.has.CANVAS){g=ol.renderer.canvas.Map;break}}else if(ol.ENABLE_DOM&&k==ol.RendererType.DOM){if(ol.has.DOM){g=ol.renderer.dom.Map;break}}else if(ol.ENABLE_WEBGL&&k==ol.RendererType.WEBGL){if(ol.has.WEBGL){g=ol.renderer.webgl.Map;break}}}var l;if(a.controls!==undefined){if(Array.isArray(a.controls)){l=new ol.Collection(a.controls.slice())}else{ol.asserts.assert(a.controls instanceof ol.Collection,47);l=a.controls}}else{l=ol.control.defaults()}var m;if(a.interactions!==undefined){if(Array.isArray(a.interactions)){m=new ol.Collection(a.interactions.slice())}else{ol.asserts.assert(a.interactions instanceof ol.Collection,48);m=a.interactions}}else{m=ol.interaction.defaults()}var n;if(a.overlays!==undefined){if(Array.isArray(a.overlays)){n=new ol.Collection(a.overlays.slice())}else{ol.asserts.assert(a.overlays instanceof ol.Collection,49);n=a.overlays}}else{n=new ol.Collection}return{controls:l,interactions:m,keyboardEventTarget:b,logos:d,overlays:n,rendererConstructor:g,values:c}};ol.proj.common.add();goog.provide("ol.Overlay");goog.provide("ol.OverlayPositioning");goog.require("ol");goog.require("ol.events");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.animation");goog.require("ol.dom");goog.require("ol.extent");ol.OverlayProperty={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};ol.OverlayPositioning={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};ol.Overlay=function(a){ol.Object.call(this);this.id_=a.id;this.insertFirst_=a.insertFirst!==undefined?a.insertFirst:true;this.stopEvent_=a.stopEvent!==undefined?a.stopEvent:true;this.element_=document.createElement("DIV");this.element_.className="ol-overlay-container";this.element_.style.position="absolute";this.autoPan=a.autoPan!==undefined?a.autoPan:false;this.autoPanAnimation_=a.autoPanAnimation!==undefined?a.autoPanAnimation:{};this.autoPanMargin_=a.autoPanMargin!==undefined?a.autoPanMargin:20;this.rendered_={bottom_:"",left_:"",right_:"",top_:"",visible:true};this.mapPostrenderListenerKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.ELEMENT),this.handleElementChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.MAP),this.handleMapChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.OFFSET),this.handleOffsetChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.POSITION),this.handlePositionChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.OverlayProperty.POSITIONING),this.handlePositioningChanged,this);if(a.element!==undefined){this.setElement(a.element)}this.setOffset(a.offset!==undefined?a.offset:[0,0]);this.setPositioning(a.positioning!==undefined?a.positioning:ol.OverlayPositioning.TOP_LEFT);if(a.position!==undefined){this.setPosition(a.position)}};ol.inherits(ol.Overlay,ol.Object);ol.Overlay.prototype.getElement=function(){return this.get(ol.OverlayProperty.ELEMENT)};ol.Overlay.prototype.getId=function(){return this.id_};ol.Overlay.prototype.getMap=function(){return this.get(ol.OverlayProperty.MAP)};ol.Overlay.prototype.getOffset=function(){return this.get(ol.OverlayProperty.OFFSET)};ol.Overlay.prototype.getPosition=function(){return this.get(ol.OverlayProperty.POSITION)};ol.Overlay.prototype.getPositioning=function(){return this.get(ol.OverlayProperty.POSITIONING)};ol.Overlay.prototype.handleElementChanged=function(){ol.dom.removeChildren(this.element_);var a=this.getElement();if(a){this.element_.appendChild(a)}};ol.Overlay.prototype.handleMapChanged=function(){if(this.mapPostrenderListenerKey_){ol.dom.removeNode(this.element_);ol.events.unlistenByKey(this.mapPostrenderListenerKey_);this.mapPostrenderListenerKey_=null}var a=this.getMap();if(a){this.mapPostrenderListenerKey_=ol.events.listen(a,ol.MapEventType.POSTRENDER,this.render,this);this.updatePixelPosition();var b=this.stopEvent_?a.getOverlayContainerStopEvent():a.getOverlayContainer();if(this.insertFirst_){b.insertBefore(this.element_,b.childNodes[0]||null)}else{b.appendChild(this.element_)}}};ol.Overlay.prototype.render=function(){this.updatePixelPosition()};ol.Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition();if(this.get(ol.OverlayProperty.POSITION)!==undefined&&this.autoPan){this.panIntoView_()}};ol.Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.setElement=function(a){this.set(ol.OverlayProperty.ELEMENT,a)};ol.Overlay.prototype.setMap=function(a){this.set(ol.OverlayProperty.MAP,a)};ol.Overlay.prototype.setOffset=function(a){this.set(ol.OverlayProperty.OFFSET,a)};ol.Overlay.prototype.setPosition=function(a){this.set(ol.OverlayProperty.POSITION,a)};ol.Overlay.prototype.panIntoView_=function(){var a=this.getMap();if(a===undefined||!a.getTargetElement()){return}var b=this.getRect_(a.getTargetElement(),a.getSize());var c=this.getElement();var d=this.getRect_(c,[ol.dom.outerWidth(c),ol.dom.outerHeight(c)]);var e=this.autoPanMargin_;if(!ol.extent.containsExtent(b,d)){var f=d[0]-b[0];var g=b[2]-d[2];var h=d[1]-b[1];var i=b[3]-d[3];var j=[0,0];if(f<0){j[0]=f-e}else if(g<0){j[0]=Math.abs(g)+e}if(h<0){j[1]=h-e}else if(i<0){j[1]=Math.abs(i)+e}if(j[0]!==0||j[1]!==0){var k=a.getView().getCenter();var l=a.getPixelFromCoordinate(k);var m=[l[0]+j[0],l[1]+j[1]];if(this.autoPanAnimation_){this.autoPanAnimation_.source=k;a.beforeRender(ol.animation.pan(this.autoPanAnimation_))}a.getView().setCenter(a.getCoordinateFromPixel(m))}}};ol.Overlay.prototype.getRect_=function(a,b){var c=a.getBoundingClientRect();var d=c.left+ol.global.pageXOffset;var e=c.top+ol.global.pageYOffset;return[d,e,d+b[0],e+b[1]]};ol.Overlay.prototype.setPositioning=function(a){this.set(ol.OverlayProperty.POSITIONING,a)};ol.Overlay.prototype.setVisible=function(a){if(this.rendered_.visible!==a){this.element_.style.display=a?"":"none";this.rendered_.visible=a}};ol.Overlay.prototype.updatePixelPosition=function(){var a=this.getMap();var b=this.getPosition();if(a===undefined||!a.isRendered()||b===undefined){this.setVisible(false);return}var c=a.getPixelFromCoordinate(b);var d=a.getSize();this.updateRenderedPosition(c,d)};ol.Overlay.prototype.updateRenderedPosition=function(a,b){var c=this.element_.style;var d=this.getOffset();var e=this.getPositioning();goog.DEBUG&&console.assert(e!==undefined,"positioning should be defined");var f=d[0];var g=d[1];if(e==ol.OverlayPositioning.BOTTOM_RIGHT||e==ol.OverlayPositioning.CENTER_RIGHT||e==ol.OverlayPositioning.TOP_RIGHT){if(this.rendered_.left_!==""){this.rendered_.left_=c.left=""}var h=Math.round(b[0]-a[0]-f)+"px";if(this.rendered_.right_!=h){this.rendered_.right_=c.right=h}}else{if(this.rendered_.right_!==""){this.rendered_.right_=c.right=""}if(e==ol.OverlayPositioning.BOTTOM_CENTER||e==ol.OverlayPositioning.CENTER_CENTER||e==ol.OverlayPositioning.TOP_CENTER){f-=this.element_.offsetWidth/2}var i=Math.round(a[0]+f)+"px";if(this.rendered_.left_!=i){this.rendered_.left_=c.left=i}}if(e==ol.OverlayPositioning.BOTTOM_LEFT||e==ol.OverlayPositioning.BOTTOM_CENTER||e==ol.OverlayPositioning.BOTTOM_RIGHT){if(this.rendered_.top_!==""){this.rendered_.top_=c.top=""}var j=Math.round(b[1]-a[1]-g)+"px";if(this.rendered_.bottom_!=j){this.rendered_.bottom_=c.bottom=j}}else{if(this.rendered_.bottom_!==""){this.rendered_.bottom_=c.bottom=""}if(e==ol.OverlayPositioning.CENTER_LEFT||e==ol.OverlayPositioning.CENTER_CENTER||e==ol.OverlayPositioning.CENTER_RIGHT){g-=this.element_.offsetHeight/2}var k=Math.round(a[1]+g)+"px";if(this.rendered_.top_!=k){this.rendered_.top_=c.top=k}}this.setVisible(true)};goog.provide("ol.control.OverviewMap");goog.require("ol");goog.require("ol.Collection");goog.require("ol.Map");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.Overlay");goog.require("ol.OverlayPositioning");goog.require("ol.View");goog.require("ol.control.Control");goog.require("ol.coordinate");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");ol.control.OverviewMap=function(a){var b=a?a:{};this.collapsed_=b.collapsed!==undefined?b.collapsed:true;this.collapsible_=b.collapsible!==undefined?b.collapsible:true;if(!this.collapsible_){this.collapsed_=false}var c=b.className!==undefined?b.className:"ol-overviewmap";var d=b.tipLabel!==undefined?b.tipLabel:"Overview map";var e=b.collapseLabel!==undefined?b.collapseLabel:"";if(typeof e==="string"){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=e}else{this.collapseLabel_=e}var f=b.label!==undefined?b.label:"";if(typeof f==="string"){this.label_=document.createElement("span");this.label_.textContent=f}else{this.label_=f}var g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var h=document.createElement("button");h.setAttribute("type","button");h.title=d;h.appendChild(g);ol.events.listen(h,ol.events.EventType.CLICK,this.handleClick_,this);var i=document.createElement("DIV");i.className="ol-overviewmap-map";this.ovmap_=new ol.Map({controls:new ol.Collection,interactions:new ol.Collection,target:i,view:b.view});var j=this.ovmap_;if(b.layers){b.layers.forEach((function(a){j.addLayer(a)}),this)}var k=document.createElement("DIV");k.className="ol-overviewmap-box";k.style.boxSizing="border-box";this.boxOverlay_=new ol.Overlay({position:[0,0],positioning:ol.OverlayPositioning.BOTTOM_LEFT,element:k});this.ovmap_.addOverlay(this.boxOverlay_);var l=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible");var m=document.createElement("div");m.className=l;m.appendChild(i);m.appendChild(h);var n=b.render?b.render:ol.control.OverviewMap.render;ol.control.Control.call(this,{element:m,render:n,target:b.target})};ol.inherits(ol.control.OverviewMap,ol.control.Control);ol.control.OverviewMap.prototype.setMap=function(a){var b=this.getMap();if(a===b){return}if(b){var c=b.getView();if(c){this.unbindView_(c)}}ol.control.Control.prototype.setMap.call(this,a);if(a){this.listenerKeys.push(ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this));if(this.ovmap_.getLayers().getLength()===0){this.ovmap_.setLayerGroup(a.getLayerGroup())}var d=a.getView();if(d){this.bindView_(d);if(d.isDef()){this.ovmap_.updateSize();this.resetExtent_()}}}};ol.control.OverviewMap.prototype.handleMapPropertyChange_=function(a){if(a.key===ol.MapProperty.VIEW){var b=a.oldValue;if(b){this.unbindView_(b)}var c=this.getMap().getView();this.bindView_(c)}};ol.control.OverviewMap.prototype.bindView_=function(a){ol.events.listen(a,ol.Object.getChangeEventType(ol.View.Property.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.unbindView_=function(a){ol.events.unlisten(a,ol.Object.getChangeEventType(ol.View.Property.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};ol.control.OverviewMap.render=function(a){this.validateExtent_();this.updateBox_()};ol.control.OverviewMap.prototype.validateExtent_=function(){var a=this.getMap();var b=this.ovmap_;if(!a.isRendered()||!b.isRendered()){return}var c=a.getSize();var d=a.getView();var e=d.calculateExtent(c);var f=b.getSize();var g=b.getView();var h=g.calculateExtent(f);var i=b.getPixelFromCoordinate(ol.extent.getTopLeft(e));var j=b.getPixelFromCoordinate(ol.extent.getBottomRight(e));var k=Math.abs(i[0]-j[0]);var l=Math.abs(i[1]-j[1]);var m=f[0];var n=f[1];if(k<m*ol.OVERVIEWMAP_MIN_RATIO||l<n*ol.OVERVIEWMAP_MIN_RATIO||k>m*ol.OVERVIEWMAP_MAX_RATIO||l>n*ol.OVERVIEWMAP_MAX_RATIO){this.resetExtent_()}else if(!ol.extent.containsExtent(h,e)){this.recenter_()}};ol.control.OverviewMap.prototype.resetExtent_=function(){if(ol.OVERVIEWMAP_MAX_RATIO===0||ol.OVERVIEWMAP_MIN_RATIO===0){return}var a=this.getMap();var b=this.ovmap_;var c=a.getSize();var d=a.getView();var e=d.calculateExtent(c);var f=b.getSize();var g=b.getView();var h=Math.log(ol.OVERVIEWMAP_MAX_RATIO/ol.OVERVIEWMAP_MIN_RATIO)/Math.LN2;var i=1/(Math.pow(2,h/2)*ol.OVERVIEWMAP_MIN_RATIO);ol.extent.scaleFromCenter(e,i);g.fit(e,f)};ol.control.OverviewMap.prototype.recenter_=function(){var a=this.getMap();var b=this.ovmap_;var c=a.getView();var d=b.getView();d.setCenter(c.getCenter())};ol.control.OverviewMap.prototype.updateBox_=function(){var a=this.getMap();var b=this.ovmap_;if(!a.isRendered()||!b.isRendered()){return}var c=a.getSize();var d=a.getView();var e=b.getView();var f=d.getRotation();var g=this.boxOverlay_;var h=this.boxOverlay_.getElement();var i=d.calculateExtent(c);var j=e.getResolution();var k=ol.extent.getBottomLeft(i);var l=ol.extent.getTopRight(i);var m=this.calculateCoordinateRotate_(f,k);g.setPosition(m);if(h){h.style.width=Math.abs((k[0]-l[0])/j)+"px";h.style.height=Math.abs((l[1]-k[1])/j)+"px"}};ol.control.OverviewMap.prototype.calculateCoordinateRotate_=function(a,b){var c;var d=this.getMap();var e=d.getView();var f=e.getCenter();if(f){c=[b[0]-f[0],b[1]-f[1]];ol.coordinate.rotate(c,a);ol.coordinate.add(c,f)}return c};ol.control.OverviewMap.prototype.handleClick_=function(a){a.preventDefault();this.handleToggle_()};ol.control.OverviewMap.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed");if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else{ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_;var a=this.ovmap_;if(!this.collapsed_&&!a.isRendered()){a.updateSize();this.resetExtent_();ol.events.listenOnce(a,ol.MapEventType.POSTRENDER,(function(a){this.updateBox_()}),this)}};ol.control.OverviewMap.prototype.getCollapsible=function(){return this.collapsible_};ol.control.OverviewMap.prototype.setCollapsible=function(a){if(this.collapsible_===a){return}this.collapsible_=a;this.element.classList.toggle("ol-uncollapsible");if(!a&&this.collapsed_){this.handleToggle_()}};ol.control.OverviewMap.prototype.setCollapsed=function(a){if(!this.collapsible_||this.collapsed_===a){return}this.handleToggle_()};ol.control.OverviewMap.prototype.getCollapsed=function(){return this.collapsed_};ol.control.OverviewMap.prototype.getOverviewMap=function(){return this.ovmap_};goog.provide("ol.control.ScaleLine");goog.require("ol");goog.require("ol.Object");goog.require("ol.asserts");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.events");goog.require("ol.proj.METERS_PER_UNIT");goog.require("ol.proj.Units");ol.control.ScaleLine=function(a){var b=a?a:{};var c=b.className!==undefined?b.className:"ol-scale-line";this.innerElement_=document.createElement("DIV");this.innerElement_.className=c+"-inner";this.element_=document.createElement("DIV");this.element_.className=c+" "+ol.css.CLASS_UNSELECTABLE;this.element_.appendChild(this.innerElement_);this.viewState_=null;this.minWidth_=b.minWidth!==undefined?b.minWidth:64;this.renderedVisible_=false;this.renderedWidth_=undefined;this.renderedHTML_="";var d=b.render?b.render:ol.control.ScaleLine.render;ol.control.Control.call(this,{element:this.element_,render:d,target:b.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.ScaleLine.Property.UNITS),this.handleUnitsChanged_,this);this.setUnits(b.units||ol.control.ScaleLine.Units.METRIC)};ol.inherits(ol.control.ScaleLine,ol.control.Control);ol.control.ScaleLine.LEADING_DIGITS=[1,2,5];ol.control.ScaleLine.prototype.getUnits=function(){return this.get(ol.control.ScaleLine.Property.UNITS)};ol.control.ScaleLine.render=function(a){var b=a.frameState;if(!b){this.viewState_=null}else{this.viewState_=b.viewState}this.updateElement_()};ol.control.ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()};ol.control.ScaleLine.prototype.setUnits=function(a){this.set(ol.control.ScaleLine.Property.UNITS,a)};ol.control.ScaleLine.prototype.updateElement_=function(){var a=this.viewState_;if(!a){if(this.renderedVisible_){this.element_.style.display="none";this.renderedVisible_=false}return}var b=a.center;var c=a.projection;var d=c.getMetersPerUnit();var e=c.getPointResolution(a.resolution,b)*d;var f=this.minWidth_*e;var g="";var h=this.getUnits();if(h==ol.control.ScaleLine.Units.DEGREES){var i=ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES];e/=i;if(f<i/60){g="";e*=3600}else if(f<i){g="";e*=60}else{g=""}}else if(h==ol.control.ScaleLine.Units.IMPERIAL){if(f<.9144){g="in";e/=.0254}else if(f<1609.344){g="ft";e/=.3048}else{g="mi";e/=1609.344}}else if(h==ol.control.ScaleLine.Units.NAUTICAL){e/=1852;g="nm"}else if(h==ol.control.ScaleLine.Units.METRIC){if(f<1){g="mm";e*=1e3}else if(f<1e3){g="m"}else{g="km";e/=1e3}}else if(h==ol.control.ScaleLine.Units.US){if(f<.9144){g="in";e*=39.37}else if(f<1609.344){g="ft";e/=.30480061}else{g="mi";e/=1609.3472}}else{ol.asserts.assert(false,33)}var j=3*Math.floor(Math.log(this.minWidth_*e)/Math.log(10));var k,l;while(true){k=ol.control.ScaleLine.LEADING_DIGITS[(j%3+3)%3]*Math.pow(10,Math.floor(j/3));l=Math.round(k/e);if(isNaN(l)){this.element_.style.display="none";this.renderedVisible_=false;return}else if(l>=this.minWidth_){break}++j}var m=k+" "+g;if(this.renderedHTML_!=m){this.innerElement_.innerHTML=m;this.renderedHTML_=m}if(this.renderedWidth_!=l){this.innerElement_.style.width=l+"px";this.renderedWidth_=l}if(!this.renderedVisible_){this.element_.style.display="";this.renderedVisible_=true}};ol.control.ScaleLine.Property={UNITS:"units"};ol.control.ScaleLine.Units={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};goog.provide("ol.control.ZoomSlider");goog.require("ol");goog.require("ol.View");goog.require("ol.animation");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.math");goog.require("ol.pointer.PointerEventHandler");ol.control.ZoomSlider=function(a){var b=a?a:{};this.currentResolution_=undefined;this.direction_=ol.control.ZoomSlider.direction.VERTICAL;this.dragging_;this.dragListenerKeys_=[];this.heightLimit_=0;this.widthLimit_=0;this.previousX_;this.previousY_;this.thumbSize_=null;this.sliderInitialized_=false;this.duration_=b.duration!==undefined?b.duration:200;var c=b.className!==undefined?b.className:"ol-zoomslider";var d=document.createElement("button");d.setAttribute("type","button");d.className=c+"-thumb "+ol.css.CLASS_UNSELECTABLE;var e=document.createElement("div");e.className=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;e.appendChild(d);this.dragger_=new ol.pointer.PointerEventHandler(e);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERDOWN,this.handleDraggerStart_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERMOVE,this.handleDraggerDrag_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERUP,this.handleDraggerEnd_,this);ol.events.listen(e,ol.events.EventType.CLICK,this.handleContainerClick_,this);ol.events.listen(d,ol.events.EventType.CLICK,ol.events.Event.stopPropagation);var f=b.render?b.render:ol.control.ZoomSlider.render;ol.control.Control.call(this,{element:e,render:f})};ol.inherits(ol.control.ZoomSlider,ol.control.Control);ol.control.ZoomSlider.prototype.disposeInternal=function(){this.dragger_.dispose();ol.control.Control.prototype.disposeInternal.call(this)};ol.control.ZoomSlider.direction={VERTICAL:0,HORIZONTAL:1};ol.control.ZoomSlider.prototype.setMap=function(a){ol.control.Control.prototype.setMap.call(this,a);if(a){a.render()}};ol.control.ZoomSlider.prototype.initSlider_=function(){var a=this.element;var b={width:a.offsetWidth,height:a.offsetHeight};var c=a.firstElementChild;var d=ol.global.getComputedStyle(c);var e=c.offsetWidth+parseFloat(d["marginRight"])+parseFloat(d["marginLeft"]);var f=c.offsetHeight+parseFloat(d["marginTop"])+parseFloat(d["marginBottom"]);this.thumbSize_=[e,f];if(b.width>b.height){this.direction_=ol.control.ZoomSlider.direction.HORIZONTAL;this.widthLimit_=b.width-e}else{this.direction_=ol.control.ZoomSlider.direction.VERTICAL;this.heightLimit_=b.height-f}this.sliderInitialized_=true};ol.control.ZoomSlider.render=function(a){if(!a.frameState){return}if(!this.sliderInitialized_){this.initSlider_()}var b=a.frameState.viewState.resolution;if(b!==this.currentResolution_){this.currentResolution_=b;this.setThumbPosition_(b)}};ol.control.ZoomSlider.prototype.handleContainerClick_=function(a){var b=this.getMap();var c=b.getView();var d=c.getResolution();b.beforeRender(ol.animation.zoom({resolution:d,duration:this.duration_,easing:ol.easing.easeOut}));var e=this.getRelativePosition_(a.offsetX-this.thumbSize_[0]/2,a.offsetY-this.thumbSize_[1]/2);var f=this.getResolutionForPosition_(e);c.setResolution(c.constrainResolution(f))};ol.control.ZoomSlider.prototype.handleDraggerStart_=function(a){if(!this.dragging_&&a.originalEvent.target===this.element.firstElementChild){this.getMap().getView().setHint(ol.View.Hint.INTERACTING,1);this.previousX_=a.clientX;this.previousY_=a.clientY;this.dragging_=true;if(this.dragListenerKeys_.length===0){var b=this.handleDraggerDrag_;var c=this.handleDraggerEnd_;this.dragListenerKeys_.push(ol.events.listen(document,ol.events.EventType.MOUSEMOVE,b,this),ol.events.listen(document,ol.events.EventType.TOUCHMOVE,b,this),ol.events.listen(document,ol.pointer.EventType.POINTERMOVE,b,this),ol.events.listen(document,ol.events.EventType.MOUSEUP,c,this),ol.events.listen(document,ol.events.EventType.TOUCHEND,c,this),ol.events.listen(document,ol.pointer.EventType.POINTERUP,c,this))}}};ol.control.ZoomSlider.prototype.handleDraggerDrag_=function(a){if(this.dragging_){var b=this.element.firstElementChild;var c=a.clientX-this.previousX_+parseInt(b.style.left,10);var d=a.clientY-this.previousY_+parseInt(b.style.top,10);var e=this.getRelativePosition_(c,d);this.currentResolution_=this.getResolutionForPosition_(e);this.getMap().getView().setResolution(this.currentResolution_);this.setThumbPosition_(this.currentResolution_);this.previousX_=a.clientX;this.previousY_=a.clientY}};ol.control.ZoomSlider.prototype.handleDraggerEnd_=function(a){if(this.dragging_){var b=this.getMap();var c=b.getView();c.setHint(ol.View.Hint.INTERACTING,-1);b.beforeRender(ol.animation.zoom({resolution:this.currentResolution_,duration:this.duration_,easing:ol.easing.easeOut}));var d=c.constrainResolution(this.currentResolution_);c.setResolution(d);this.dragging_=false;this.previousX_=undefined;this.previousY_=undefined;this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0}};ol.control.ZoomSlider.prototype.setThumbPosition_=function(a){var b=this.getPositionForResolution_(a);var c=this.element.firstElementChild;if(this.direction_==ol.control.ZoomSlider.direction.HORIZONTAL){c.style.left=this.widthLimit_*b+"px"}else{c.style.top=this.heightLimit_*b+"px"}};ol.control.ZoomSlider.prototype.getRelativePosition_=function(a,b){var c;if(this.direction_===ol.control.ZoomSlider.direction.HORIZONTAL){c=a/this.widthLimit_}else{c=b/this.heightLimit_}return ol.math.clamp(c,0,1)};ol.control.ZoomSlider.prototype.getResolutionForPosition_=function(a){var b=this.getMap().getView().getResolutionForValueFunction();return b(1-a)};ol.control.ZoomSlider.prototype.getPositionForResolution_=function(a){var b=this.getMap().getView().getValueForResolutionFunction();return 1-b(a)};goog.provide("ol.control.ZoomToExtent");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.control.Control");goog.require("ol.css");ol.control.ZoomToExtent=function(a){var b=a?a:{};this.extent_=b.extent?b.extent:null;var c=b.className!==undefined?b.className:"ol-zoom-extent";var d=b.label!==undefined?b.label:"E";var e=b.tipLabel!==undefined?b.tipLabel:"Fit to extent";var f=document.createElement("button");f.setAttribute("type","button");f.title=e;f.appendChild(typeof d==="string"?document.createTextNode(d):d);ol.events.listen(f,ol.events.EventType.CLICK,this.handleClick_,this);var g=c+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;var h=document.createElement("div");h.className=g;h.appendChild(f);ol.control.Control.call(this,{element:h,target:b.target})};ol.inherits(ol.control.ZoomToExtent,ol.control.Control);ol.control.ZoomToExtent.prototype.handleClick_=function(a){a.preventDefault();this.handleZoomToExtent_()};ol.control.ZoomToExtent.prototype.handleZoomToExtent_=function(){var a=this.getMap();var b=a.getView();var c=!this.extent_?b.getProjection().getExtent():this.extent_;var d=a.getSize();b.fit(c,d)};goog.provide("ol.DeviceOrientation");goog.require("ol.events");goog.require("ol");goog.require("ol.Object");goog.require("ol.has");goog.require("ol.math");ol.DeviceOrientationProperty={ALPHA:"alpha",BETA:"beta",GAMMA:"gamma",HEADING:"heading",TRACKING:"tracking"};ol.DeviceOrientation=function(a){ol.Object.call(this);var b=a?a:{};this.listenerKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.DeviceOrientationProperty.TRACKING),this.handleTrackingChanged_,this);this.setTracking(b.tracking!==undefined?b.tracking:false)};ol.inherits(ol.DeviceOrientation,ol.Object);ol.DeviceOrientation.prototype.disposeInternal=function(){this.setTracking(false);ol.Object.prototype.disposeInternal.call(this)};ol.DeviceOrientation.prototype.orientationChange_=function(a){var b=a;if(b.alpha!==null){var c=ol.math.toRadians(b.alpha);this.set(ol.DeviceOrientationProperty.ALPHA,c);if(typeof b.absolute==="boolean"&&b.absolute){this.set(ol.DeviceOrientationProperty.HEADING,c)}else if(typeof b.webkitCompassHeading==="number"&&b.webkitCompassAccuracy!=-1){var d=ol.math.toRadians(b.webkitCompassHeading);this.set(ol.DeviceOrientationProperty.HEADING,d)}}if(b.beta!==null){this.set(ol.DeviceOrientationProperty.BETA,ol.math.toRadians(b.beta))}if(b.gamma!==null){this.set(ol.DeviceOrientationProperty.GAMMA,ol.math.toRadians(b.gamma))}this.changed()};ol.DeviceOrientation.prototype.getAlpha=function(){return this.get(ol.DeviceOrientationProperty.ALPHA)};ol.DeviceOrientation.prototype.getBeta=function(){return this.get(ol.DeviceOrientationProperty.BETA)};ol.DeviceOrientation.prototype.getGamma=function(){return this.get(ol.DeviceOrientationProperty.GAMMA)};ol.DeviceOrientation.prototype.getHeading=function(){return this.get(ol.DeviceOrientationProperty.HEADING)};ol.DeviceOrientation.prototype.getTracking=function(){return this.get(ol.DeviceOrientationProperty.TRACKING)};ol.DeviceOrientation.prototype.handleTrackingChanged_=function(){if(ol.has.DEVICE_ORIENTATION){var a=this.getTracking();if(a&&!this.listenerKey_){this.listenerKey_=ol.events.listen(ol.global,"deviceorientation",this.orientationChange_,this)}else if(!a&&this.listenerKey_!==null){ol.events.unlistenByKey(this.listenerKey_);this.listenerKey_=null}}};ol.DeviceOrientation.prototype.setTracking=function(a){this.set(ol.DeviceOrientationProperty.TRACKING,a)};goog.provide("ol.Feature");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.Object");goog.require("ol.geom.Geometry");goog.require("ol.style.Style");ol.Feature=function(a){ol.Object.call(this);this.id_=undefined;this.geometryName_="geometry";this.style_=null;this.styleFunction_=undefined;this.geometryChangeKey_=null;
ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);if(a!==undefined){if(a instanceof ol.geom.Geometry||!a){var b=a;this.setGeometry(b)}else{var c=a;this.setProperties(c)}}};ol.inherits(ol.Feature,ol.Object);ol.Feature.prototype.clone=function(){var a=new ol.Feature(this.getProperties());a.setGeometryName(this.getGeometryName());var b=this.getGeometry();if(b){a.setGeometry(b.clone())}var c=this.getStyle();if(c){a.setStyle(c)}return a};ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)};ol.Feature.prototype.getId=function(){return this.id_};ol.Feature.prototype.getGeometryName=function(){return this.geometryName_};ol.Feature.prototype.getStyle=function(){return this.style_};ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_};ol.Feature.prototype.handleGeometryChange_=function(){this.changed()};ol.Feature.prototype.handleGeometryChanged_=function(){if(this.geometryChangeKey_){ol.events.unlistenByKey(this.geometryChangeKey_);this.geometryChangeKey_=null}var a=this.getGeometry();if(a){this.geometryChangeKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleGeometryChange_,this)}this.changed()};ol.Feature.prototype.setGeometry=function(a){this.set(this.geometryName_,a)};ol.Feature.prototype.setStyle=function(a){this.style_=a;this.styleFunction_=!a?undefined:ol.Feature.createStyleFunction(a);this.changed()};ol.Feature.prototype.setId=function(a){this.id_=a;this.changed()};ol.Feature.prototype.setGeometryName=function(a){ol.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.geometryName_=a;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.handleGeometryChanged_()};ol.Feature.createStyleFunction=function(a){var b;if(typeof a==="function"){b=a}else{var c;if(Array.isArray(a)){c=a}else{ol.asserts.assert(a instanceof ol.style.Style,41);c=[a]}b=function(){return c}}return b};goog.provide("ol.format.FormatType");ol.format.FormatType={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};goog.provide("ol.xml");goog.require("ol");goog.require("ol.array");ol.xml.DOCUMENT=document.implementation.createDocument("","",null);ol.xml.createElementNS=function(a,b){return ol.xml.DOCUMENT.createElementNS(a,b)};ol.xml.getAllTextContent=function(a,b){return ol.xml.getAllTextContent_(a,b,[]).join("")};ol.xml.getAllTextContent_=function(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE){if(b){c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,""))}else{c.push(a.nodeValue)}}else{var d;for(d=a.firstChild;d;d=d.nextSibling){ol.xml.getAllTextContent_(d,b,c)}}return c};ol.xml.isDocument=function(a){return a instanceof Document};ol.xml.isNode=function(a){return a instanceof Node};ol.xml.getAttributeNS=function(a,b,c){return a.getAttributeNS(b,c)||""};ol.xml.setAttributeNS=function(a,b,c,d){a.setAttributeNS(b,c,d)};ol.xml.parse=function(a){return(new DOMParser).parseFromString(a,"application/xml")};ol.xml.makeArrayExtender=function(a,b){return function(c,d){var e=a.call(b,c,d);if(e!==undefined){goog.DEBUG&&console.assert(Array.isArray(e),"valueReader function is expected to return an array of values");var f=d[d.length-1];goog.DEBUG&&console.assert(Array.isArray(f),"objectStack is supposed to be an array of arrays");ol.array.extend(f,e)}}};ol.xml.makeArrayPusher=function(a,b){return function(c,d){var e=a.call(b!==undefined?b:this,c,d);if(e!==undefined){var f=d[d.length-1];goog.DEBUG&&console.assert(Array.isArray(f),"objectStack is supposed to be an array of arrays");f.push(e)}}};ol.xml.makeReplacer=function(a,b){return function(c,d){var e=a.call(b!==undefined?b:this,c,d);if(e!==undefined){d[d.length-1]=e}}};ol.xml.makeObjectPropertyPusher=function(a,b,c){goog.DEBUG&&console.assert(a!==undefined,"undefined valueReader, expected function(this: T, Node, Array.<*>)");return function(d,e){var f=a.call(c!==undefined?c:this,d,e);if(f!==undefined){var g=e[e.length-1];var h=b!==undefined?b:d.localName;var i;if(h in g){i=g[h]}else{i=g[h]=[]}i.push(f)}}};ol.xml.makeObjectPropertySetter=function(a,b,c){goog.DEBUG&&console.assert(a!==undefined,"undefined valueReader, expected function(this: T, Node, Array.<*>)");return function(d,e){var f=a.call(c!==undefined?c:this,d,e);if(f!==undefined){var g=e[e.length-1];var h=b!==undefined?b:d.localName;g[h]=f}}};ol.xml.makeChildAppender=function(a,b){return function(c,d,e){a.call(b!==undefined?b:this,c,d,e);var f=e[e.length-1];var g=f.node;goog.DEBUG&&console.assert(ol.xml.isNode(g)||ol.xml.isDocument(g),"expected parentNode %s to be a Node or a Document",g);g.appendChild(c)}};ol.xml.makeArraySerializer=function(a,b){var c,d;return function(b,e,f){if(c===undefined){c={};var g={};g[b.localName]=a;c[b.namespaceURI]=g;d=ol.xml.makeSimpleNodeFactory(b.localName)}ol.xml.serialize(c,d,e,f)}};ol.xml.makeSimpleNodeFactory=function(a,b){var c=a;return function(a,d,e){var f=d[d.length-1];var g=f.node;goog.DEBUG&&console.assert(ol.xml.isNode(g)||ol.xml.isDocument(g),"expected node %s to be a Node or a Document",g);var h=c;if(h===undefined){h=e}var i=b;if(b===undefined){i=g.namespaceURI}goog.DEBUG&&console.assert(h!==undefined,"nodeName was undefined");return ol.xml.createElementNS(i,h)}};ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory();ol.xml.makeSequence=function(a,b){var c=b.length;var d=new Array(c);for(var e=0;e<c;++e){d[e]=a[b[e]]}return d};ol.xml.makeStructureNS=function(a,b,c){var d=c!==undefined?c:{};var e,f;for(e=0,f=a.length;e<f;++e){d[a[e]]=b}return d};ol.xml.parseNode=function(a,b,c,d){var e;for(e=b.firstElementChild;e;e=e.nextElementSibling){var f=a[e.namespaceURI];if(f!==undefined){var g=f[e.localName];if(g!==undefined){g.call(d,e,c)}}}};ol.xml.pushParseAndPop=function(a,b,c,d,e){d.push(a);ol.xml.parseNode(b,c,d,e);return d.pop()};ol.xml.serialize=function(a,b,c,d,e,f){var g=(e!==undefined?e:c).length;var h,i;for(var j=0;j<g;++j){h=c[j];if(h!==undefined){i=b.call(f,h,d,e!==undefined?e[j]:undefined);if(i!==undefined){a[i.namespaceURI][i.localName].call(f,i,h,d)}}}};ol.xml.pushSerializeAndPop=function(a,b,c,d,e,f,g){e.push(a);ol.xml.serialize(b,c,d,e,f,g);return e.pop()};goog.provide("ol.featureloader");goog.require("ol.Tile");goog.require("ol.format.FormatType");goog.require("ol.xml");ol.featureloader.loadFeaturesXhr=function(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET",typeof a==="function"?a(e,f,g):a,true);if(b.getType()==ol.format.FormatType.ARRAY_BUFFER){h.responseType="arraybuffer"}h.onload=function(a){if(!h.status||h.status>=200&&h.status<300){var e=b.getType();var f;if(e==ol.format.FormatType.JSON||e==ol.format.FormatType.TEXT){f=h.responseText}else if(e==ol.format.FormatType.XML){f=h.responseXML;if(!f){f=ol.xml.parse(h.responseText)}}else if(e==ol.format.FormatType.ARRAY_BUFFER){f=h.response}if(f){c.call(this,b.readFeatures(f,{featureProjection:g}),b.readProjection(f))}else{d.call(this)}}else{d.call(this)}}.bind(this);h.send()}};ol.featureloader.tile=function(a,b){return ol.featureloader.loadFeaturesXhr(a,b,(function(a,b){this.setProjection(b);this.setFeatures(a)}),(function(){this.setState(ol.Tile.State.ERROR)}))};ol.featureloader.xhr=function(a,b){return ol.featureloader.loadFeaturesXhr(a,b,(function(a,b){this.addFeatures(a)}),ol.nullFunction)};goog.provide("ol.format.Feature");goog.require("ol.geom.Geometry");goog.require("ol.proj");ol.format.Feature=function(){this.defaultDataProjection=null};ol.format.Feature.prototype.getExtensions=function(){};ol.format.Feature.prototype.getReadOptions=function(a,b){var c;if(b){c={dataProjection:b.dataProjection?b.dataProjection:this.readProjection(a),featureProjection:b.featureProjection}}return this.adaptOptions(c)};ol.format.Feature.prototype.adaptOptions=function(a){var b;if(a){b={featureProjection:a.featureProjection,dataProjection:a.dataProjection?a.dataProjection:this.defaultDataProjection,rightHanded:a.rightHanded};if(a.decimals){b.decimals=a.decimals}}return b};ol.format.Feature.prototype.getType=function(){};ol.format.Feature.prototype.readFeature=function(a,b){};ol.format.Feature.prototype.readFeatures=function(a,b){};ol.format.Feature.prototype.readGeometry=function(a,b){};ol.format.Feature.prototype.readProjection=function(a){};ol.format.Feature.prototype.writeFeature=function(a,b){};ol.format.Feature.prototype.writeFeatures=function(a,b){};ol.format.Feature.prototype.writeGeometry=function(a,b){};ol.format.Feature.transformWithOptions=function(a,b,c){var d=c?ol.proj.get(c.featureProjection):null;var e=c?ol.proj.get(c.dataProjection):null;var f;if(d&&e&&!ol.proj.equivalent(d,e)){if(a instanceof ol.geom.Geometry){f=(b?a.clone():a).transform(b?d:e,b?e:d)}else{f=ol.proj.transformExtent(b?a.slice():a,b?d:e,b?e:d)}}else{f=a}if(b&&c&&c.decimals){var g=Math.pow(10,c.decimals);var h=function(a){for(var b=0,c=a.length;b<c;++b){a[b]=Math.round(a[b]*g)/g}return a};if(Array.isArray(f)){h(f)}else{f.applyTransform(h)}}return f};goog.provide("ol.format.JSONFeature");goog.require("ol");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");ol.format.JSONFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.JSONFeature,ol.format.Feature);ol.format.JSONFeature.prototype.getObject_=function(a){if(typeof a==="string"){var b=JSON.parse(a);return b?b:null}else if(a!==null){return a}else{return null}};ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON};ol.format.JSONFeature.prototype.readFeature=function(a,b){return this.readFeatureFromObject(this.getObject_(a),this.getReadOptions(a,b))};ol.format.JSONFeature.prototype.readFeatures=function(a,b){return this.readFeaturesFromObject(this.getObject_(a),this.getReadOptions(a,b))};ol.format.JSONFeature.prototype.readFeatureFromObject=function(a,b){};ol.format.JSONFeature.prototype.readFeaturesFromObject=function(a,b){};ol.format.JSONFeature.prototype.readGeometry=function(a,b){return this.readGeometryFromObject(this.getObject_(a),this.getReadOptions(a,b))};ol.format.JSONFeature.prototype.readGeometryFromObject=function(a,b){};ol.format.JSONFeature.prototype.readProjection=function(a){return this.readProjectionFromObject(this.getObject_(a))};ol.format.JSONFeature.prototype.readProjectionFromObject=function(a){};ol.format.JSONFeature.prototype.writeFeature=function(a,b){return JSON.stringify(this.writeFeatureObject(a,b))};ol.format.JSONFeature.prototype.writeFeatureObject=function(a,b){};ol.format.JSONFeature.prototype.writeFeatures=function(a,b){return JSON.stringify(this.writeFeaturesObject(a,b))};ol.format.JSONFeature.prototype.writeFeaturesObject=function(a,b){};ol.format.JSONFeature.prototype.writeGeometry=function(a,b){return JSON.stringify(this.writeGeometryObject(a,b))};ol.format.JSONFeature.prototype.writeGeometryObject=function(a,b){};goog.provide("ol.geom.flat.interpolate");goog.require("ol.array");goog.require("ol.math");ol.geom.flat.interpolate.lineString=function(a,b,c,d,e,f){goog.DEBUG&&console.assert(0<=e&&e<=1,"fraction should be in between 0 and 1");var g=NaN;var h=NaN;var i=(c-b)/d;if(i===0){goog.DEBUG&&console.assert(false,"n cannot be 0")}else if(i==1){g=a[b];h=a[b+1]}else if(i==2){g=(1-e)*a[b]+e*a[b+d];h=(1-e)*a[b+1]+e*a[b+d+1]}else{var j=a[b];var k=a[b+1];var l=0;var m=[0];var n;for(n=b+d;n<c;n+=d){var o=a[n];var p=a[n+1];l+=Math.sqrt((o-j)*(o-j)+(p-k)*(p-k));m.push(l);j=o;k=p}var q=e*l;var r=ol.array.binarySearch(m,q);if(r<0){var s=(q-m[-r-2])/(m[-r-1]-m[-r-2]);var t=b+(-r-2)*d;g=ol.math.lerp(a[t],a[t+d],s);h=ol.math.lerp(a[t+1],a[t+d+1],s)}else{g=a[b+r*d];h=a[b+r*d+1]}}if(f){f[0]=g;f[1]=h;return f}else{return[g,h]}};ol.geom.flat.lineStringCoordinateAtM=function(a,b,c,d,e,f){if(c==b){return null}var g;if(e<a[b+d-1]){if(f){g=a.slice(b,b+d);g[d-1]=e;return g}else{return null}}else if(a[c-1]<e){if(f){g=a.slice(c-d,c);g[d-1]=e;return g}else{return null}}if(e==a[b+d-1]){return a.slice(b,b+d)}var h=b/d;var i=c/d;while(h<i){var j=h+i>>1;if(e<a[(j+1)*d-1]){i=j}else{h=j+1}}var k=a[h*d-1];if(e==k){return a.slice((h-1)*d,(h-1)*d+d)}var l=a[(h+1)*d-1];goog.DEBUG&&console.assert(k<e,"m0 should be less than m");goog.DEBUG&&console.assert(e<=l,"m should be less than or equal to m1");var m=(e-k)/(l-k);g=[];var n;for(n=0;n<d-1;++n){g.push(ol.math.lerp(a[(h-1)*d+n],a[h*d+n],m))}g.push(e);goog.DEBUG&&console.assert(g.length==d,"length of coordinate array should match stride");return g};ol.geom.flat.lineStringsCoordinateAtM=function(a,b,c,d,e,f,g){if(g){return ol.geom.flat.lineStringCoordinateAtM(a,b,c[c.length-1],d,e,f)}var h;if(e<a[d-1]){if(f){h=a.slice(0,d);h[d-1]=e;return h}else{return null}}if(a[a.length-1]<e){if(f){h=a.slice(a.length-d);h[d-1]=e;return h}else{return null}}var i,j;for(i=0,j=c.length;i<j;++i){var k=c[i];if(b==k){continue}if(e<a[b+d-1]){return null}else if(e<=a[k-1]){return ol.geom.flat.lineStringCoordinateAtM(a,b,k,d,e,false)}b=k}goog.DEBUG&&console.assert(false,"ol.geom.flat.lineStringsCoordinateAtM should have returned");return null};goog.provide("ol.geom.flat.length");ol.geom.flat.length.lineString=function(a,b,c,d){var e=a[b];var f=a[b+1];var g=0;var h;for(h=b+d;h<c;h+=d){var i=a[h];var j=a[h+1];g+=Math.sqrt((i-e)*(i-e)+(j-f)*(j-f));e=i;f=j}return g};ol.geom.flat.length.linearRing=function(a,b,c,d){var e=ol.geom.flat.length.lineString(a,b,c,d);var f=a[c-d]-a[b];var g=a[c-d+1]-a[b+1];e+=Math.sqrt(f*f+g*g);return e};goog.provide("ol.geom.LineString");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.length");goog.require("ol.geom.flat.segments");goog.require("ol.geom.flat.simplify");ol.geom.LineString=function(a,b){ol.geom.SimpleGeometry.call(this);this.flatMidpoint_=null;this.flatMidpointRevision_=-1;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(a,b)};ol.inherits(ol.geom.LineString,ol.geom.SimpleGeometry);ol.geom.LineString.prototype.appendCoordinate=function(a){goog.DEBUG&&console.assert(a.length==this.stride,"length of coordinate array should match stride");if(!this.flatCoordinates){this.flatCoordinates=a.slice()}else{ol.array.extend(this.flatCoordinates,a)}this.changed()};ol.geom.LineString.prototype.clone=function(){var a=new ol.geom.LineString(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.LineString.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)){return d}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,false,a,b,c,d)};ol.geom.LineString.prototype.forEachSegment=function(a,b){return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b)};ol.geom.LineString.prototype.getCoordinateAtM=function(a,b){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM){return null}var c=b!==undefined?b:false;return ol.geom.flat.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,c)};ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getCoordinateAt=function(a,b){return ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b)};ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getFlatMidpoint=function(){if(this.flatMidpointRevision_!=this.getRevision()){this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_);this.flatMidpointRevision_=this.getRevision()}return this.flatMidpoint_};ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(a){var b=[];b.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b,0);var c=new ol.geom.LineString(null);c.setFlatCoordinates(ol.geom.GeometryLayout.XY,b);return c};ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING};ol.geom.LineString.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a)};ol.geom.LineString.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(b,a,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride);this.changed()}};ol.geom.LineString.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};goog.provide("ol.geom.MultiLineString");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.simplify");ol.geom.MultiLineString=function(a,b){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(a,b)};ol.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry);ol.geom.MultiLineString.prototype.appendLineString=function(a){goog.DEBUG&&console.assert(a.getLayout()==this.layout,"layout of lineString should match the layout");if(!this.flatCoordinates){this.flatCoordinates=a.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,a.getFlatCoordinates().slice())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.MultiLineString.prototype.clone=function(){var a=new ol.geom.MultiLineString(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return a};ol.geom.MultiLineString.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)){return d}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,false,a,b,c,d)};ol.geom.MultiLineString.prototype.getCoordinateAtM=function(a,b,c){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||this.flatCoordinates.length===0){return null}var d=b!==undefined?b:false;var e=c!==undefined?c:false;return ol.geom.flat.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,a,d,e)};ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)};ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_};ol.geom.MultiLineString.prototype.getLineString=function(a){goog.DEBUG&&console.assert(0<=a&&a<this.ends_.length,"index should be in between 0 and length of the this.ends_ array");if(a<0||this.ends_.length<=a){return null}var b=new ol.geom.LineString(null);b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(a===0?0:this.ends_[a-1],this.ends_[a]));return b};ol.geom.MultiLineString.prototype.getLineStrings=function(){var a=this.flatCoordinates;var b=this.ends_;var c=this.layout;var d=[];var e=0;var f,g;for(f=0,g=b.length;f<g;++f){var h=b[f];var i=new ol.geom.LineString(null);i.setFlatCoordinates(c,a.slice(e,h));d.push(i);e=h}return d};ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var a=[];var b=this.flatCoordinates;var c=0;var d=this.ends_;var e=this.stride;var f,g;for(f=0,g=d.length;f<g;++f){var h=d[f];var i=ol.geom.flat.interpolate.lineString(b,c,h,e,.5);ol.array.extend(a,i);c=h}return a};ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(a){var b=[];var c=[];b.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,a,b,0,c);var d=new ol.geom.MultiLineString(null);d.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,c);return d};ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING};ol.geom.MultiLineString.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,a)};ol.geom.MultiLineString.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else{this.setLayout(b,a,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var c=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,a,this.stride,this.ends_);this.flatCoordinates.length=c.length===0?0:c[c.length-1];this.changed()}};ol.geom.MultiLineString.prototype.setFlatCoordinates=function(a,b,c){if(!b){goog.DEBUG&&console.assert(c&&c.length===0,"ends must be truthy and ends.length should be 0")}else if(c.length===0){goog.DEBUG&&console.assert(b.length===0,"flatCoordinates should be an empty array")}else{goog.DEBUG&&console.assert(b.length==c[c.length-1],"length of flatCoordinates array should match the last value of ends")}this.setFlatCoordinatesInternal(a,b);this.ends_=c;this.changed()};ol.geom.MultiLineString.prototype.setLineStrings=function(a){var b=this.getLayout();var c=[];var d=[];var e,f;for(e=0,f=a.length;e<f;++e){var g=a[e];if(e===0){b=g.getLayout()}else{goog.DEBUG&&console.assert(g.getLayout()==b,"layout of lineString should match layout")}ol.array.extend(c,g.getFlatCoordinates());d.push(c.length)}this.setFlatCoordinates(b,c,d)};goog.provide("ol.geom.MultiPoint");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.math");ol.geom.MultiPoint=function(a,b){ol.geom.SimpleGeometry.call(this);this.setCoordinates(a,b)};ol.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry);ol.geom.MultiPoint.prototype.appendPoint=function(a){goog.DEBUG&&console.assert(a.getLayout()==this.layout,"the layout of point should match layout");if(!this.flatCoordinates){this.flatCoordinates=a.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,a.getFlatCoordinates())}this.changed()};ol.geom.MultiPoint.prototype.clone=function(){var a=new ol.geom.MultiPoint(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.MultiPoint.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)){return d}var e=this.flatCoordinates;var f=this.stride;var g,h,i;for(g=0,h=e.length;g<h;g+=f){var j=ol.math.squaredDistance(a,b,e[g],e[g+1]);if(j<d){d=j;for(i=0;i<f;++i){c[i]=e[g+i]}c.length=f}}return d};ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.MultiPoint.prototype.getPoint=function(a){var b=!this.flatCoordinates?0:this.flatCoordinates.length/this.stride;goog.DEBUG&&console.assert(0<=a&&a<b,"index should be in between 0 and n");if(a<0||b<=a){return null}var c=new ol.geom.Point(null);c.setFlatCoordinates(this.layout,this.flatCoordinates.slice(a*this.stride,(a+1)*this.stride));return c};ol.geom.MultiPoint.prototype.getPoints=function(){var a=this.flatCoordinates;var b=this.layout;var c=this.stride;var d=[];var e,f;for(e=0,f=a.length;e<f;e+=c){var g=new ol.geom.Point(null);g.setFlatCoordinates(b,a.slice(e,e+c));d.push(g)}return d};ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT};ol.geom.MultiPoint.prototype.intersectsExtent=function(a){var b=this.flatCoordinates;var c=this.stride;var d,e,f,g;for(d=0,e=b.length;d<e;d+=c){f=b[d];g=b[d+1];if(ol.extent.containsXY(a,f,g)){return true}}return false};ol.geom.MultiPoint.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(b,a,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride);this.changed()}};ol.geom.MultiPoint.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};goog.provide("ol.geom.flat.center");goog.require("ol.extent");ol.geom.flat.center.linearRingss=function(a,b,c,d){var e=[];var f,g;var h=ol.extent.createEmpty();for(f=0,g=c.length;f<g;++f){var i=c[f];h=ol.extent.createOrUpdateFromFlatCoordinates(a,b,i[0],d);e.push((h[0]+h[2])/2,(h[1]+h[3])/2);b=i[i.length-1]}return e};goog.provide("ol.geom.MultiPolygon");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.center");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.simplify");ol.geom.MultiPolygon=function(a,b){ol.geom.SimpleGeometry.call(this);this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(a,b)};ol.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry);ol.geom.MultiPolygon.prototype.appendPolygon=function(a){goog.DEBUG&&console.assert(a.getLayout()==this.layout,"layout of polygon should match layout");var b;if(!this.flatCoordinates){this.flatCoordinates=a.getFlatCoordinates().slice();b=a.getEnds().slice();this.endss_.push()}else{var c=this.flatCoordinates.length;ol.array.extend(this.flatCoordinates,a.getFlatCoordinates());b=a.getEnds().slice();var d,e;for(d=0,e=b.length;d<e;++d){b[d]+=c}}this.endss_.push(b);this.changed()};ol.geom.MultiPolygon.prototype.clone=function(){var a=new ol.geom.MultiPolygon(null);var b=this.endss_.length;var c=new Array(b);for(var d=0;d<b;++d){c[d]=this.endss_[d].slice()}a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),c);return a};ol.geom.MultiPolygon.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)){return d}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,true,a,b,c,d)};ol.geom.MultiPolygon.prototype.containsXY=function(a,b){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a,b)};ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getCoordinates=function(a){var b;if(a!==undefined){b=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRingss(b,0,this.endss_,this.stride,a)}else{b=this.flatCoordinates}return ol.geom.flat.inflate.coordinatesss(b,0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_};ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var a=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var a=new ol.geom.MultiPoint(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,this.getFlatInteriorPoints().slice());return a};ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var a=this.flatCoordinates;if(ol.geom.flat.orient.linearRingssAreOriented(a,0,this.endss_,this.stride)){this.orientedFlatCoordinates_=a}else{this.orientedFlatCoordinates_=a.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(a){var b=[];var c=[];b.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(a),b,0,c);var d=new ol.geom.MultiPolygon(null);d.setFlatCoordinates(ol.geom.GeometryLayout.XY,b,c);return d};ol.geom.MultiPolygon.prototype.getPolygon=function(a){goog.DEBUG&&console.assert(0<=a&&a<this.endss_.length,"index should be in between 0 and the length of this.endss_");if(a<0||this.endss_.length<=a){return null}var b;if(a===0){b=0}else{var c=this.endss_[a-1];b=c[c.length-1]}var d=this.endss_[a].slice();var e=d[d.length-1];if(b!==0){var f,g;for(f=0,g=d.length;f<g;++f){d[f]-=b}}var h=new ol.geom.Polygon(null);h.setFlatCoordinates(this.layout,this.flatCoordinates.slice(b,e),d);return h};ol.geom.MultiPolygon.prototype.getPolygons=function(){var a=this.layout;var b=this.flatCoordinates;var c=this.endss_;var d=[];var e=0;var f,g,h,i;for(f=0,g=c.length;f<g;++f){var j=c[f].slice();var k=j[j.length-1];if(e!==0){for(h=0,i=j.length;h<i;++h){j[h]-=e}}var l=new ol.geom.Polygon(null);l.setFlatCoordinates(a,b.slice(e,k),j);d.push(l);e=k}return d};ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON};ol.geom.MultiPolygon.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a)};ol.geom.MultiPolygon.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_)}else{this.setLayout(b,a,3);if(!this.flatCoordinates){this.flatCoordinates=[]}var c=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,a,this.stride,this.endss_);if(c.length===0){this.flatCoordinates.length=0}else{var d=c[c.length-1];this.flatCoordinates.length=d.length===0?0:d[d.length-1]}this.changed()}};ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(a,b,c){goog.DEBUG&&console.assert(c,"endss must be truthy");if(!b||b.length===0){goog.DEBUG&&console.assert(c.length===0,"the length of endss should be 0")}else{goog.DEBUG&&console.assert(c.length>0,"endss cannot be an empty array");var d=c[c.length-1];goog.DEBUG&&console.assert(b.length==d[d.length-1],"the length of flatCoordinates should be the last value of ends")}this.setFlatCoordinatesInternal(a,b);this.endss_=c;this.changed()};ol.geom.MultiPolygon.prototype.setPolygons=function(a){var b=this.getLayout();var c=[];var d=[];var e,f,g;for(e=0,f=a.length;e<f;++e){var h=a[e];if(e===0){b=h.getLayout()}else{goog.DEBUG&&console.assert(h.getLayout()==b,"layout of polygon should be layout");
}var i=c.length;g=h.getEnds();var j,k;for(j=0,k=g.length;j<k;++j){g[j]+=i}ol.array.extend(c,h.getFlatCoordinates());d.push(g)}this.setFlatCoordinates(b,c,d)};goog.provide("ol.format.EsriJSON");goog.require("ol");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.flat.orient");goog.require("ol.obj");goog.require("ol.proj");ol.format.EsriJSON=function(a){var b=a?a:{};ol.format.JSONFeature.call(this);this.geometryName_=b.geometryName};ol.inherits(ol.format.EsriJSON,ol.format.JSONFeature);ol.format.EsriJSON.readGeometry_=function(a,b){if(!a){return null}var c;if(typeof a.x==="number"&&typeof a.y==="number"){c=ol.geom.GeometryType.POINT}else if(a.points){c=ol.geom.GeometryType.MULTI_POINT}else if(a.paths){if(a.paths.length===1){c=ol.geom.GeometryType.LINE_STRING}else{c=ol.geom.GeometryType.MULTI_LINE_STRING}}else if(a.rings){var d=ol.format.EsriJSON.getGeometryLayout_(a);var e=ol.format.EsriJSON.convertRings_(a.rings,d);a=ol.obj.assign({},a);if(e.length===1){c=ol.geom.GeometryType.POLYGON;a.rings=e[0]}else{c=ol.geom.GeometryType.MULTI_POLYGON;a.rings=e}}var f=ol.format.EsriJSON.GEOMETRY_READERS_[c];return ol.format.Feature.transformWithOptions(f(a),false,b)};ol.format.EsriJSON.convertRings_=function(a,b){var c=[];var d=[];var e,f;for(e=0,f=a.length;e<f;++e){var g=ol.array.flatten(a[e]);var h=ol.geom.flat.orient.linearRingIsClockwise(g,0,g.length,b.length);if(h){c.push([a[e]])}else{d.push(a[e])}}while(d.length){var i=d.shift();var j=false;for(e=c.length-1;e>=0;e--){var k=c[e][0];if(ol.extent.containsExtent(new ol.geom.LinearRing(k).getExtent(),new ol.geom.LinearRing(i).getExtent())){c[e].push(i);j=true;break}}if(!j){c.push([i.reverse()])}}return c};ol.format.EsriJSON.readPointGeometry_=function(a){goog.DEBUG&&console.assert(typeof a.x==="number","object.x should be number");goog.DEBUG&&console.assert(typeof a.y==="number","object.y should be number");var b;if(a.m!==undefined&&a.z!==undefined){b=new ol.geom.Point([a.x,a.y,a.z,a.m],ol.geom.GeometryLayout.XYZM)}else if(a.z!==undefined){b=new ol.geom.Point([a.x,a.y,a.z],ol.geom.GeometryLayout.XYZ)}else if(a.m!==undefined){b=new ol.geom.Point([a.x,a.y,a.m],ol.geom.GeometryLayout.XYM)}else{b=new ol.geom.Point([a.x,a.y])}return b};ol.format.EsriJSON.readLineStringGeometry_=function(a){goog.DEBUG&&console.assert(Array.isArray(a.paths),"object.paths should be an array");goog.DEBUG&&console.assert(a.paths.length===1,"object.paths array length should be 1");var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.LineString(a.paths[0],b)};ol.format.EsriJSON.readMultiLineStringGeometry_=function(a){goog.DEBUG&&console.assert(Array.isArray(a.paths),"object.paths should be an array");goog.DEBUG&&console.assert(a.paths.length>1,"object.paths array length should be more than 1");var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.MultiLineString(a.paths,b)};ol.format.EsriJSON.getGeometryLayout_=function(a){var b=ol.geom.GeometryLayout.XY;if(a.hasZ===true&&a.hasM===true){b=ol.geom.GeometryLayout.XYZM}else if(a.hasZ===true){b=ol.geom.GeometryLayout.XYZ}else if(a.hasM===true){b=ol.geom.GeometryLayout.XYM}return b};ol.format.EsriJSON.readMultiPointGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.MultiPoint(a.points,b)};ol.format.EsriJSON.readMultiPolygonGeometry_=function(a){goog.DEBUG&&console.assert(a.rings.length>1,"object.rings should have length larger than 1");var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.MultiPolygon(a.rings,b)};ol.format.EsriJSON.readPolygonGeometry_=function(a){goog.DEBUG&&console.assert(a.rings);var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.Polygon(a.rings,b)};ol.format.EsriJSON.writePointGeometry_=function(a,b){var c=a.getCoordinates();var d;var e=a.getLayout();if(e===ol.geom.GeometryLayout.XYZ){d={x:c[0],y:c[1],z:c[2]}}else if(e===ol.geom.GeometryLayout.XYM){d={x:c[0],y:c[1],m:c[2]}}else if(e===ol.geom.GeometryLayout.XYZM){d={x:c[0],y:c[1],z:c[2],m:c[3]}}else if(e===ol.geom.GeometryLayout.XY){d={x:c[0],y:c[1]}}else{ol.asserts.assert(false,34)}return d};ol.format.EsriJSON.getHasZM_=function(a){var b=a.getLayout();return{hasZ:b===ol.geom.GeometryLayout.XYZ||b===ol.geom.GeometryLayout.XYZM,hasM:b===ol.geom.GeometryLayout.XYM||b===ol.geom.GeometryLayout.XYZM}};ol.format.EsriJSON.writeLineStringGeometry_=function(a,b){var c=ol.format.EsriJSON.getHasZM_(a);return{hasZ:c.hasZ,hasM:c.hasM,paths:[a.getCoordinates()]}};ol.format.EsriJSON.writePolygonGeometry_=function(a,b){var c=ol.format.EsriJSON.getHasZM_(a);return{hasZ:c.hasZ,hasM:c.hasM,rings:a.getCoordinates(false)}};ol.format.EsriJSON.writeMultiLineStringGeometry_=function(a,b){var c=ol.format.EsriJSON.getHasZM_(a);return{hasZ:c.hasZ,hasM:c.hasM,paths:a.getCoordinates()}};ol.format.EsriJSON.writeMultiPointGeometry_=function(a,b){var c=ol.format.EsriJSON.getHasZM_(a);return{hasZ:c.hasZ,hasM:c.hasM,points:a.getCoordinates()}};ol.format.EsriJSON.writeMultiPolygonGeometry_=function(a,b){var c=ol.format.EsriJSON.getHasZM_(a);var d=a.getCoordinates(false);var e=[];for(var f=0;f<d.length;f++){for(var g=d[f].length-1;g>=0;g--){e.push(d[f][g])}}return{hasZ:c.hasZ,hasM:c.hasM,rings:e}};ol.format.EsriJSON.GEOMETRY_READERS_={};ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.readPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.readLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.readPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.readMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.readMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.readMultiPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_={};ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.writePointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.writeLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.writePolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.writeMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.writeMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.writeMultiPolygonGeometry_;ol.format.EsriJSON.prototype.readFeature;ol.format.EsriJSON.prototype.readFeatures;ol.format.EsriJSON.prototype.readFeatureFromObject=function(a,b){var c=a;goog.DEBUG&&console.assert(c.geometry||c.attributes,"geometry or attributes should be defined");var d=ol.format.EsriJSON.readGeometry_(c.geometry,b);var e=new ol.Feature;if(this.geometryName_){e.setGeometryName(this.geometryName_)}e.setGeometry(d);if(b&&b.idField&&c.attributes[b.idField]){goog.DEBUG&&console.assert(typeof c.attributes[b.idField]==="number","objectIdFieldName value should be a number");e.setId(c.attributes[b.idField])}if(c.attributes){e.setProperties(c.attributes)}return e};ol.format.EsriJSON.prototype.readFeaturesFromObject=function(a,b){var c=a;var d=b?b:{};if(c.features){var e=a;var f=[];var g=e.features;var h,i;d.idField=a.objectIdFieldName;for(h=0,i=g.length;h<i;++h){f.push(this.readFeatureFromObject(g[h],d))}return f}else{return[this.readFeatureFromObject(a,d)]}};ol.format.EsriJSON.prototype.readGeometry;ol.format.EsriJSON.prototype.readGeometryFromObject=function(a,b){return ol.format.EsriJSON.readGeometry_(a,b)};ol.format.EsriJSON.prototype.readProjection;ol.format.EsriJSON.prototype.readProjectionFromObject=function(a){var b=a;if(b.spatialReference&&b.spatialReference.wkid){var c=b.spatialReference.wkid;return ol.proj.get("EPSG:"+c)}else{return null}};ol.format.EsriJSON.writeGeometry_=function(a,b){var c=ol.format.EsriJSON.GEOMETRY_WRITERS_[a.getType()];return c(ol.format.Feature.transformWithOptions(a,true,b),b)};ol.format.EsriJSON.prototype.writeGeometry;ol.format.EsriJSON.prototype.writeGeometryObject=function(a,b){return ol.format.EsriJSON.writeGeometry_(a,this.adaptOptions(b))};ol.format.EsriJSON.prototype.writeFeature;ol.format.EsriJSON.prototype.writeFeatureObject=function(a,b){b=this.adaptOptions(b);var c={};var d=a.getGeometry();if(d){c["geometry"]=ol.format.EsriJSON.writeGeometry_(d,b)}var e=a.getProperties();delete e[a.getGeometryName()];if(!ol.obj.isEmpty(e)){c["attributes"]=e}else{c["attributes"]={}}if(b&&b.featureProjection){c["spatialReference"]={wkid:ol.proj.get(b.featureProjection).getCode().split(":").pop()}}return c};ol.format.EsriJSON.prototype.writeFeatures;ol.format.EsriJSON.prototype.writeFeaturesObject=function(a,b){b=this.adaptOptions(b);var c=[];var d,e;for(d=0,e=a.length;d<e;++d){c.push(this.writeFeatureObject(a[d],b))}return{features:c}};goog.provide("ol.geom.GeometryCollection");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryType");goog.require("ol.obj");ol.geom.GeometryCollection=function(a){ol.geom.Geometry.call(this);this.geometries_=a?a:null;this.listenGeometriesChange_()};ol.inherits(ol.geom.GeometryCollection,ol.geom.Geometry);ol.geom.GeometryCollection.cloneGeometries_=function(a){var b=[];var c,d;for(c=0,d=a.length;c<d;++c){b.push(a[c].clone())}return b};ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var a,b;if(!this.geometries_){return}for(a=0,b=this.geometries_.length;a<b;++a){ol.events.unlisten(this.geometries_[a],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var a,b;if(!this.geometries_){return}for(a=0,b=this.geometries_.length;a<b;++a){ol.events.listen(this.geometries_[a],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.clone=function(){var a=new ol.geom.GeometryCollection(null);a.setGeometries(this.geometries_);return a};ol.geom.GeometryCollection.prototype.closestPointXY=function(a,b,c,d){if(d<ol.extent.closestSquaredDistanceXY(this.getExtent(),a,b)){return d}var e=this.geometries_;var f,g;for(f=0,g=e.length;f<g;++f){d=e[f].closestPointXY(a,b,c,d)}return d};ol.geom.GeometryCollection.prototype.containsXY=function(a,b){var c=this.geometries_;var d,e;for(d=0,e=c.length;d<e;++d){if(c[d].containsXY(a,b)){return true}}return false};ol.geom.GeometryCollection.prototype.computeExtent=function(a){ol.extent.createOrUpdateEmpty(a);var b=this.geometries_;for(var c=0,d=b.length;c<d;++c){ol.extent.extend(a,b[c].getExtent())}return a};ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)};ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_};ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(a){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(a<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&a<this.simplifiedGeometryMaxMinSquaredTolerance){return this}var b=a.toString();if(this.simplifiedGeometryCache.hasOwnProperty(b)){return this.simplifiedGeometryCache[b]}else{var c=[];var d=this.geometries_;var e=false;var f,g;for(f=0,g=d.length;f<g;++f){var h=d[f];var i=h.getSimplifiedGeometry(a);c.push(i);if(i!==h){e=true}}if(e){var j=new ol.geom.GeometryCollection(null);j.setGeometriesArray(c);this.simplifiedGeometryCache[b]=j;return j}else{this.simplifiedGeometryMaxMinSquaredTolerance=a;return this}}};ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION};ol.geom.GeometryCollection.prototype.intersectsExtent=function(a){var b=this.geometries_;var c,d;for(c=0,d=b.length;c<d;++c){if(b[c].intersectsExtent(a)){return true}}return false};ol.geom.GeometryCollection.prototype.isEmpty=function(){return this.geometries_.length===0};ol.geom.GeometryCollection.prototype.rotate=function(a,b){var c=this.geometries_;for(var d=0,e=c.length;d<e;++d){c[d].rotate(a,b)}this.changed()};ol.geom.GeometryCollection.prototype.scale=function(a,b,c){var d=c;if(!d){d=ol.extent.getCenter(this.getExtent())}var e=this.geometries_;for(var f=0,g=e.length;f<g;++f){e[f].scale(a,b,d)}this.changed()};ol.geom.GeometryCollection.prototype.setGeometries=function(a){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(a))};ol.geom.GeometryCollection.prototype.setGeometriesArray=function(a){this.unlistenGeometriesChange_();this.geometries_=a;this.listenGeometriesChange_();this.changed()};ol.geom.GeometryCollection.prototype.applyTransform=function(a){var b=this.geometries_;var c,d;for(c=0,d=b.length;c<d;++c){b[c].applyTransform(a)}this.changed()};ol.geom.GeometryCollection.prototype.translate=function(a,b){var c=this.geometries_;var d,e;for(d=0,e=c.length;d<e;++d){c[d].translate(a,b)}this.changed()};ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();ol.geom.Geometry.prototype.disposeInternal.call(this)};goog.provide("ol.format.GeoJSON");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");ol.format.GeoJSON=function(a){var b=a?a:{};ol.format.JSONFeature.call(this);this.defaultDataProjection=ol.proj.get(b.defaultDataProjection?b.defaultDataProjection:"EPSG:4326");this.geometryName_=b.geometryName};ol.inherits(ol.format.GeoJSON,ol.format.JSONFeature);ol.format.GeoJSON.EXTENSIONS_=[".geojson"];ol.format.GeoJSON.readGeometry_=function(a,b){if(!a){return null}var c=ol.format.GeoJSON.GEOMETRY_READERS_[a.type];return ol.format.Feature.transformWithOptions(c(a),false,b)};ol.format.GeoJSON.readGeometryCollectionGeometry_=function(a,b){goog.DEBUG&&console.assert(a.type=="GeometryCollection","object.type should be GeometryCollection");var c=a.geometries.map((function(a){return ol.format.GeoJSON.readGeometry_(a,b)}));return new ol.geom.GeometryCollection(c)};ol.format.GeoJSON.readPointGeometry_=function(a){goog.DEBUG&&console.assert(a.type=="Point","object.type should be Point");return new ol.geom.Point(a.coordinates)};ol.format.GeoJSON.readLineStringGeometry_=function(a){goog.DEBUG&&console.assert(a.type=="LineString","object.type should be LineString");return new ol.geom.LineString(a.coordinates)};ol.format.GeoJSON.readMultiLineStringGeometry_=function(a){goog.DEBUG&&console.assert(a.type=="MultiLineString","object.type should be MultiLineString");return new ol.geom.MultiLineString(a.coordinates)};ol.format.GeoJSON.readMultiPointGeometry_=function(a){goog.DEBUG&&console.assert(a.type=="MultiPoint","object.type should be MultiPoint");return new ol.geom.MultiPoint(a.coordinates)};ol.format.GeoJSON.readMultiPolygonGeometry_=function(a){goog.DEBUG&&console.assert(a.type=="MultiPolygon","object.type should be MultiPolygon");return new ol.geom.MultiPolygon(a.coordinates)};ol.format.GeoJSON.readPolygonGeometry_=function(a){goog.DEBUG&&console.assert(a.type=="Polygon","object.type should be Polygon");return new ol.geom.Polygon(a.coordinates)};ol.format.GeoJSON.writeGeometry_=function(a,b){var c=ol.format.GeoJSON.GEOMETRY_WRITERS_[a.getType()];return c(ol.format.Feature.transformWithOptions(a,true,b),b)};ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(a){return{type:"GeometryCollection",geometries:[]}};ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(a,b){var c=a.getGeometriesArray().map((function(a){var c=ol.obj.assign({},b);delete c.featureProjection;return ol.format.GeoJSON.writeGeometry_(a,c)}));return{type:"GeometryCollection",geometries:c}};ol.format.GeoJSON.writeLineStringGeometry_=function(a,b){return{type:"LineString",coordinates:a.getCoordinates()}};ol.format.GeoJSON.writeMultiLineStringGeometry_=function(a,b){return{type:"MultiLineString",coordinates:a.getCoordinates()}};ol.format.GeoJSON.writeMultiPointGeometry_=function(a,b){return{type:"MultiPoint",coordinates:a.getCoordinates()}};ol.format.GeoJSON.writeMultiPolygonGeometry_=function(a,b){var c;if(b){c=b.rightHanded}return{type:"MultiPolygon",coordinates:a.getCoordinates(c)}};ol.format.GeoJSON.writePointGeometry_=function(a,b){return{type:"Point",coordinates:a.getCoordinates()}};ol.format.GeoJSON.writePolygonGeometry_=function(a,b){var c;if(b){c=b.rightHanded}return{type:"Polygon",coordinates:a.getCoordinates(c)}};ol.format.GeoJSON.GEOMETRY_READERS_={Point:ol.format.GeoJSON.readPointGeometry_,LineString:ol.format.GeoJSON.readLineStringGeometry_,Polygon:ol.format.GeoJSON.readPolygonGeometry_,MultiPoint:ol.format.GeoJSON.readMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.readMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.readGeometryCollectionGeometry_};ol.format.GeoJSON.GEOMETRY_WRITERS_={Point:ol.format.GeoJSON.writePointGeometry_,LineString:ol.format.GeoJSON.writeLineStringGeometry_,Polygon:ol.format.GeoJSON.writePolygonGeometry_,MultiPoint:ol.format.GeoJSON.writeMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.writeMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.writeMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.writeGeometryCollectionGeometry_,Circle:ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_};ol.format.GeoJSON.prototype.getExtensions=function(){return ol.format.GeoJSON.EXTENSIONS_};ol.format.GeoJSON.prototype.readFeature;ol.format.GeoJSON.prototype.readFeatures;ol.format.GeoJSON.prototype.readFeatureFromObject=function(a,b){var c=a;goog.DEBUG&&console.assert(c.type=="Feature","geoJSONFeature.type should be Feature");var d=ol.format.GeoJSON.readGeometry_(c.geometry,b);var e=new ol.Feature;if(this.geometryName_){e.setGeometryName(this.geometryName_)}e.setGeometry(d);if(c.id!==undefined){e.setId(c.id)}if(c.properties){e.setProperties(c.properties)}return e};ol.format.GeoJSON.prototype.readFeaturesFromObject=function(a,b){var c=a;var d;if(c.type=="Feature"){d=[this.readFeatureFromObject(a,b)]}else if(c.type=="FeatureCollection"){var e=a;d=[];var f=e.features;var g,h;for(g=0,h=f.length;g<h;++g){d.push(this.readFeatureFromObject(f[g],b))}}else{ol.asserts.assert(false,35)}return d};ol.format.GeoJSON.prototype.readGeometry;ol.format.GeoJSON.prototype.readGeometryFromObject=function(a,b){return ol.format.GeoJSON.readGeometry_(a,b)};ol.format.GeoJSON.prototype.readProjection;ol.format.GeoJSON.prototype.readProjectionFromObject=function(a){var b=a;var c=b.crs;var d;if(c){if(c.type=="name"){d=ol.proj.get(c.properties.name)}else if(c.type=="EPSG"){d=ol.proj.get("EPSG:"+c.properties.code)}else{ol.asserts.assert(false,36)}}else{d=this.defaultDataProjection}return d};ol.format.GeoJSON.prototype.writeFeature;ol.format.GeoJSON.prototype.writeFeatureObject=function(a,b){b=this.adaptOptions(b);var c={type:"Feature"};var d=a.getId();if(d!==undefined){c.id=d}var e=a.getGeometry();if(e){c.geometry=ol.format.GeoJSON.writeGeometry_(e,b)}else{c.geometry=null}var f=a.getProperties();delete f[a.getGeometryName()];if(!ol.obj.isEmpty(f)){c.properties=f}else{c.properties=null}return c};ol.format.GeoJSON.prototype.writeFeatures;ol.format.GeoJSON.prototype.writeFeaturesObject=function(a,b){b=this.adaptOptions(b);var c=[];var d,e;for(d=0,e=a.length;d<e;++d){c.push(this.writeFeatureObject(a[d],b))}return{type:"FeatureCollection",features:c}};ol.format.GeoJSON.prototype.writeGeometry;ol.format.GeoJSON.prototype.writeGeometryObject=function(a,b){return ol.format.GeoJSON.writeGeometry_(a,this.adaptOptions(b))};goog.provide("ol.format.XMLFeature");goog.require("ol");goog.require("ol.array");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");goog.require("ol.xml");ol.format.XMLFeature=function(){this.xmlSerializer_=new XMLSerializer;ol.format.Feature.call(this)};ol.inherits(ol.format.XMLFeature,ol.format.Feature);ol.format.XMLFeature.prototype.getType=function(){return ol.format.FormatType.XML};ol.format.XMLFeature.prototype.readFeature=function(a,b){if(ol.xml.isDocument(a)){return this.readFeatureFromDocument(a,b)}else if(ol.xml.isNode(a)){return this.readFeatureFromNode(a,b)}else if(typeof a==="string"){var c=ol.xml.parse(a);return this.readFeatureFromDocument(c,b)}else{return null}};ol.format.XMLFeature.prototype.readFeatureFromDocument=function(a,b){var c=this.readFeaturesFromDocument(a,b);if(c.length>0){return c[0]}else{return null}};ol.format.XMLFeature.prototype.readFeatureFromNode=function(a,b){};ol.format.XMLFeature.prototype.readFeatures=function(a,b){if(ol.xml.isDocument(a)){return this.readFeaturesFromDocument(a,b)}else if(ol.xml.isNode(a)){return this.readFeaturesFromNode(a,b)}else if(typeof a==="string"){var c=ol.xml.parse(a);return this.readFeaturesFromDocument(c,b)}else{return[]}};ol.format.XMLFeature.prototype.readFeaturesFromDocument=function(a,b){var c=[];var d;for(d=a.firstChild;d;d=d.nextSibling){if(d.nodeType==Node.ELEMENT_NODE){ol.array.extend(c,this.readFeaturesFromNode(d,b))}}return c};ol.format.XMLFeature.prototype.readFeaturesFromNode=function(a,b){};ol.format.XMLFeature.prototype.readGeometry=function(a,b){if(ol.xml.isDocument(a)){return this.readGeometryFromDocument(a,b)}else if(ol.xml.isNode(a)){return this.readGeometryFromNode(a,b)}else if(typeof a==="string"){var c=ol.xml.parse(a);return this.readGeometryFromDocument(c,b)}else{return null}};ol.format.XMLFeature.prototype.readGeometryFromDocument=function(a,b){};ol.format.XMLFeature.prototype.readGeometryFromNode=function(a,b){};ol.format.XMLFeature.prototype.readProjection=function(a){if(ol.xml.isDocument(a)){return this.readProjectionFromDocument(a)}else if(ol.xml.isNode(a)){return this.readProjectionFromNode(a)}else if(typeof a==="string"){var b=ol.xml.parse(a);return this.readProjectionFromDocument(b)}else{return null}};ol.format.XMLFeature.prototype.readProjectionFromDocument=function(a){return this.defaultDataProjection};ol.format.XMLFeature.prototype.readProjectionFromNode=function(a){return this.defaultDataProjection};ol.format.XMLFeature.prototype.writeFeature=function(a,b){var c=this.writeFeatureNode(a,b);goog.DEBUG&&console.assert(c.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");return this.xmlSerializer_.serializeToString(c)};ol.format.XMLFeature.prototype.writeFeatureNode=function(a,b){};ol.format.XMLFeature.prototype.writeFeatures=function(a,b){var c=this.writeFeaturesNode(a,b);goog.DEBUG&&console.assert(c.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");return this.xmlSerializer_.serializeToString(c)};ol.format.XMLFeature.prototype.writeFeaturesNode=function(a,b){};ol.format.XMLFeature.prototype.writeGeometry=function(a,b){var c=this.writeGeometryNode(a,b);goog.DEBUG&&console.assert(c.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");return this.xmlSerializer_.serializeToString(c)};ol.format.XMLFeature.prototype.writeGeometryNode=function(a,b){};goog.provide("ol.format.GMLBase");goog.require("ol");goog.require("ol.array");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GMLBase=function(a){var b=a?a:{};this.featureType=b.featureType;this.featureNS=b.featureNS;this.srsName=b.srsName;this.schemaLocation="";this.FEATURE_COLLECTION_PARSERS={};this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]={featureMember:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal),featureMembers:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal)};ol.format.XMLFeature.call(this)};ol.inherits(ol.format.GMLBase,ol.format.XMLFeature);ol.format.GMLBase.GMLNS="http://www.opengis.net/gml";ol.format.GMLBase.ONLY_WHITESPACE_RE_=/^[\s\xa0]*$/;ol.format.GMLBase.prototype.readFeaturesInternal=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var c=a.localName;var d=null;if(c=="FeatureCollection"){if(a.namespaceURI==="http://www.opengis.net/wfs"){d=ol.xml.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,a,b,this)}else{d=ol.xml.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,a,b,this)}}else if(c=="featureMembers"||c=="featureMember"){var e=b[0];var f=e["featureType"];var g=e["featureNS"];var h,i,j="p",k="p0";if(!f&&a.childNodes){f=[],g={};for(h=0,i=a.childNodes.length;h<i;++h){var l=a.childNodes[h];if(l.nodeType===1){var m=l.nodeName.split(":").pop();if(f.indexOf(m)===-1){var n="";var o=0;var p=l.namespaceURI;for(var q in g){if(g[q]===p){n=q;break}++o}if(!n){n=j+o;g[n]=p}f.push(n+":"+m)}}}if(c!="featureMember"){e["featureType"]=f;e["featureNS"]=g}}if(typeof g==="string"){var r=g;g={};g[k]=r}var s={};var t=Array.isArray(f)?f:[f];for(var u in g){var v={};for(h=0,i=t.length;h<i;++h){var w=t[h].indexOf(":")===-1?k:t[h].split(":")[0];if(w===u){v[t[h].split(":").pop()]=c=="featureMembers"?ol.xml.makeArrayPusher(this.readFeatureElement,this):ol.xml.makeReplacer(this.readFeatureElement,this)}}s[g[u]]=v}if(c=="featureMember"){d=ol.xml.pushParseAndPop(undefined,s,a,b)}else{d=ol.xml.pushParseAndPop([],s,a,b)}}if(d===null){d=[]}return d};ol.format.GMLBase.prototype.readGeometryElement=function(a,b){var c=b[0];c["srsName"]=a.firstElementChild.getAttribute("srsName");var d=ol.xml.pushParseAndPop(null,this.GEOMETRY_PARSERS_,a,b,this);if(d){return ol.format.Feature.transformWithOptions(d,false,c)}else{return undefined}};ol.format.GMLBase.prototype.readFeatureElement=function(a,b){var c;var d=a.getAttribute("fid")||ol.xml.getAttributeNS(a,ol.format.GMLBase.GMLNS,"id");var e={},f;for(c=a.firstElementChild;c;c=c.nextElementSibling){var g=c.localName;if(c.childNodes.length===0||c.childNodes.length===1&&(c.firstChild.nodeType===3||c.firstChild.nodeType===4)){var h=ol.xml.getAllTextContent(c,false);if(ol.format.GMLBase.ONLY_WHITESPACE_RE_.test(h)){h=undefined}e[g]=h}else{if(g!=="boundedBy"){f=g}e[g]=this.readGeometryElement(c,b)}}var i=new ol.Feature(e);if(f){i.setGeometryName(f)}if(d){i.setId(d)}return i};ol.format.GMLBase.prototype.readPoint=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Point","localName should be Point");var c=this.readFlatCoordinatesFromNode_(a,b);if(c){var d=new ol.geom.Point(null);goog.DEBUG&&console.assert(c.length==3,"flatCoordinates should have a length of 3");d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,c);return d}};ol.format.GMLBase.prototype.readMultiPoint=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="MultiPoint","localName should be MultiPoint");var c=ol.xml.pushParseAndPop([],this.MULTIPOINT_PARSERS_,a,b,this);if(c){return new ol.geom.MultiPoint(c)}else{return undefined}};ol.format.GMLBase.prototype.readMultiLineString=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="MultiLineString","localName should be MultiLineString");var c=ol.xml.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,a,b,this);if(c){var d=new ol.geom.MultiLineString(null);d.setLineStrings(c);return d}else{return undefined}};ol.format.GMLBase.prototype.readMultiPolygon=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="MultiPolygon","localName should be MultiPolygon");var c=ol.xml.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,a,b,this);if(c){var d=new ol.geom.MultiPolygon(null);d.setPolygons(c);return d}else{return undefined}};ol.format.GMLBase.prototype.pointMemberParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="pointMember"||a.localName=="pointMembers","localName should be pointMember or pointMembers");ol.xml.parseNode(this.POINTMEMBER_PARSERS_,a,b,this)};ol.format.GMLBase.prototype.lineStringMemberParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="lineStringMember"||a.localName=="lineStringMembers","localName should be LineStringMember or LineStringMembers");ol.xml.parseNode(this.LINESTRINGMEMBER_PARSERS_,a,b,this)};ol.format.GMLBase.prototype.polygonMemberParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="polygonMember"||a.localName=="polygonMembers","localName should be polygonMember or polygonMembers");ol.xml.parseNode(this.POLYGONMEMBER_PARSERS_,a,b,this)};ol.format.GMLBase.prototype.readLineString=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="LineString","localName should be LineString");var c=this.readFlatCoordinatesFromNode_(a,b);if(c){var d=new ol.geom.LineString(null);d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,c);return d}else{return undefined}};ol.format.GMLBase.prototype.readFlatLinearRing_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="LinearRing","localName should be LinearRing");var c=ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,a,b,this);if(c){return c}else{return undefined}};ol.format.GMLBase.prototype.readLinearRing=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="LinearRing","localName should be LinearRing");var c=this.readFlatCoordinatesFromNode_(a,b);if(c){var d=new ol.geom.LinearRing(null);d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,c);return d}else{return undefined}};ol.format.GMLBase.prototype.readPolygon=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Polygon","localName should be Polygon");var c=ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,a,b,this);if(c&&c[0]){var d=new ol.geom.Polygon(null);var e=c[0];var f=[e.length];var g,h;for(g=1,h=c.length;g<h;++g){ol.array.extend(e,c[g]);f.push(e.length)}d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,e,f);return d}else{return undefined}};ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");return ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,a,b,this)};ol.format.GMLBase.prototype.MULTIPOINT_PARSERS_={
"http://www.opengis.net/gml":{pointMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_),pointMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_)}};ol.format.GMLBase.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_),lineStringMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_)}};ol.format.GMLBase.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_),polygonMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_)}};ol.format.GMLBase.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_)}};ol.format.GMLBase.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString)}};ol.format.GMLBase.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon)}};ol.format.GMLBase.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFlatLinearRing_)}};ol.format.GMLBase.prototype.readGeometryFromNode=function(a,b){var c=this.readGeometryElement(a,[this.getReadOptions(a,b?b:{})]);return c?c:null};ol.format.GMLBase.prototype.readFeatures;ol.format.GMLBase.prototype.readFeaturesFromNode=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};if(b){ol.obj.assign(c,this.getReadOptions(a,b))}var d=this.readFeaturesInternal(a,[c]);return d||[]};ol.format.GMLBase.prototype.readProjectionFromNode=function(a){return ol.proj.get(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))};goog.provide("ol.format.XSD");goog.require("ol");goog.require("ol.xml");goog.require("ol.string");ol.format.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema";ol.format.XSD.readBoolean=function(a){var b=ol.xml.getAllTextContent(a,false);return ol.format.XSD.readBooleanString(b)};ol.format.XSD.readBooleanString=function(a){var b=/^\s*(true|1)|(false|0)\s*$/.exec(a);if(b){return b[1]!==undefined||false}else{return undefined}};ol.format.XSD.readDateTime=function(a){var b=ol.xml.getAllTextContent(a,false);var c=Date.parse(b);return isNaN(c)?undefined:c/1e3};ol.format.XSD.readDecimal=function(a){var b=ol.xml.getAllTextContent(a,false);return ol.format.XSD.readDecimalString(b)};ol.format.XSD.readDecimalString=function(a){var b=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a);if(b){return parseFloat(b[1])}else{return undefined}};ol.format.XSD.readNonNegativeInteger=function(a){var b=ol.xml.getAllTextContent(a,false);return ol.format.XSD.readNonNegativeIntegerString(b)};ol.format.XSD.readNonNegativeIntegerString=function(a){var b=/^\s*(\d+)\s*$/.exec(a);if(b){return parseInt(b[1],10)}else{return undefined}};ol.format.XSD.readString=function(a){return ol.xml.getAllTextContent(a,false).trim()};ol.format.XSD.writeBooleanTextNode=function(a,b){ol.format.XSD.writeStringTextNode(a,b?"1":"0")};ol.format.XSD.writeDateTimeTextNode=function(a,b){var c=new Date(b*1e3);var d=c.getUTCFullYear()+"-"+ol.string.padNumber(c.getUTCMonth()+1,2)+"-"+ol.string.padNumber(c.getUTCDate(),2)+"T"+ol.string.padNumber(c.getUTCHours(),2)+":"+ol.string.padNumber(c.getUTCMinutes(),2)+":"+ol.string.padNumber(c.getUTCSeconds(),2)+"Z";a.appendChild(ol.xml.DOCUMENT.createTextNode(d))};ol.format.XSD.writeDecimalTextNode=function(a,b){var c=b.toPrecision();a.appendChild(ol.xml.DOCUMENT.createTextNode(c))};ol.format.XSD.writeNonNegativeIntegerTextNode=function(a,b){goog.DEBUG&&console.assert(b>=0,"value should be more than 0");goog.DEBUG&&console.assert(b==(b|0),"value should be an integer value");var c=b.toString();a.appendChild(ol.xml.DOCUMENT.createTextNode(c))};ol.format.XSD.writeStringTextNode=function(a,b){a.appendChild(ol.xml.DOCUMENT.createTextNode(b))};goog.provide("ol.format.GML3");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.GMLBase");goog.require("ol.format.XSD");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GML3=function(a){var b=a?a:{};ol.format.GMLBase.call(this,b);this.surface_=b.surface!==undefined?b.surface:false;this.curve_=b.curve!==undefined?b.curve:false;this.multiCurve_=b.multiCurve!==undefined?b.multiCurve:true;this.multiSurface_=b.multiSurface!==undefined?b.multiSurface:true;this.schemaLocation=b.schemaLocation?b.schemaLocation:ol.format.GML3.schemaLocation_};ol.inherits(ol.format.GML3,ol.format.GMLBase);ol.format.GML3.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/"+"1.0.0/gmlsf.xsd";ol.format.GML3.prototype.readMultiCurve_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="MultiCurve","localName should be MultiCurve");var c=ol.xml.pushParseAndPop([],this.MULTICURVE_PARSERS_,a,b,this);if(c){var d=new ol.geom.MultiLineString(null);d.setLineStrings(c);return d}else{return undefined}};ol.format.GML3.prototype.readMultiSurface_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="MultiSurface","localName should be MultiSurface");var c=ol.xml.pushParseAndPop([],this.MULTISURFACE_PARSERS_,a,b,this);if(c){var d=new ol.geom.MultiPolygon(null);d.setPolygons(c);return d}else{return undefined}};ol.format.GML3.prototype.curveMemberParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="curveMember"||a.localName=="curveMembers","localName should be curveMember or curveMembers");ol.xml.parseNode(this.CURVEMEMBER_PARSERS_,a,b,this)};ol.format.GML3.prototype.surfaceMemberParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="surfaceMember"||a.localName=="surfaceMembers","localName should be surfaceMember or surfaceMembers");ol.xml.parseNode(this.SURFACEMEMBER_PARSERS_,a,b,this)};ol.format.GML3.prototype.readPatch_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="patches","localName should be patches");return ol.xml.pushParseAndPop([null],this.PATCHES_PARSERS_,a,b,this)};ol.format.GML3.prototype.readSegment_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="segments","localName should be segments");return ol.xml.pushParseAndPop([null],this.SEGMENTS_PARSERS_,a,b,this)};ol.format.GML3.prototype.readPolygonPatch_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"npde.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="PolygonPatch","localName should be PolygonPatch");return ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,a,b,this)};ol.format.GML3.prototype.readLineStringSegment_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="LineStringSegment","localName should be LineStringSegment");return ol.xml.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,a,b,this)};ol.format.GML3.prototype.interiorParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="interior","localName should be interior");var c=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,a,b,this);if(c){var d=b[b.length-1];goog.DEBUG&&console.assert(Array.isArray(d),"flatLinearRings should be an array");goog.DEBUG&&console.assert(d.length>0,"flatLinearRings should have an array length of 1 or more");d.push(c)}};ol.format.GML3.prototype.exteriorParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="exterior","localName should be exterior");var c=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,a,b,this);if(c){var d=b[b.length-1];goog.DEBUG&&console.assert(Array.isArray(d),"flatLinearRings should be an array");goog.DEBUG&&console.assert(d.length>0,"flatLinearRings should have an array length of 1 or more");d[0]=c}};ol.format.GML3.prototype.readSurface_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Surface","localName should be Surface");var c=ol.xml.pushParseAndPop([null],this.SURFACE_PARSERS_,a,b,this);if(c&&c[0]){var d=new ol.geom.Polygon(null);var e=c[0];var f=[e.length];var g,h;for(g=1,h=c.length;g<h;++g){ol.array.extend(e,c[g]);f.push(e.length)}d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,e,f);return d}else{return undefined}};ol.format.GML3.prototype.readCurve_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Curve","localName should be Curve");var c=ol.xml.pushParseAndPop([null],this.CURVE_PARSERS_,a,b,this);if(c){var d=new ol.geom.LineString(null);d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,c);return d}else{return undefined}};ol.format.GML3.prototype.readEnvelope_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Envelope","localName should be Envelope");var c=ol.xml.pushParseAndPop([null],this.ENVELOPE_PARSERS_,a,b,this);return ol.extent.createOrUpdate(c[1][0],c[1][1],c[2][0],c[2][1])};ol.format.GML3.prototype.readFlatPos_=function(a,b){var c=ol.xml.getAllTextContent(a,false);var d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;var e=[];var f;while(f=d.exec(c)){e.push(parseFloat(f[1]));c=c.substr(f[0].length)}if(c!==""){return undefined}var g=b[0];var h=g["srsName"];var i="enu";if(h){var j=ol.proj.get(h);i=j.getAxisOrientation()}if(i==="neu"){var k,l;for(k=0,l=e.length;k<l;k+=3){var m=e[k];var n=e[k+1];e[k]=n;e[k+1]=m}}var o=e.length;if(o==2){e.push(0)}if(o===0){return undefined}return e};ol.format.GML3.prototype.readFlatPosList_=function(a,b){var c=ol.xml.getAllTextContent(a,false).replace(/^\s*|\s*$/g,"");var d=b[0];var e=d["srsName"];var f=a.parentNode.getAttribute("srsDimension");var g="enu";if(e){var h=ol.proj.get(e);g=h.getAxisOrientation()}var i=c.split(/\s+/);var j=2;if(a.getAttribute("srsDimension")){j=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("srsDimension"))}else if(a.getAttribute("dimension")){j=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("dimension"))}else if(f){j=ol.format.XSD.readNonNegativeIntegerString(f)}var k,l,m;var n=[];for(var o=0,p=i.length;o<p;o+=j){k=parseFloat(i[o]);l=parseFloat(i[o+1]);m=j===3?parseFloat(i[o+2]):0;if(g.substr(0,2)==="en"){n.push(k,l,m)}else{n.push(l,k,m)}}return n};ol.format.GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPos_),posList:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:ol.format.GML3.prototype.interiorParser_,exterior:ol.format.GML3.prototype.exteriorParser_}};ol.format.GML3.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Surface:ol.xml.makeReplacer(ol.format.GML3.prototype.readSurface_),MultiSurface:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiSurface_),Curve:ol.xml.makeReplacer(ol.format.GML3.prototype.readCurve_),MultiCurve:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiCurve_),Envelope:ol.xml.makeReplacer(ol.format.GML3.prototype.readEnvelope_)}};ol.format.GML3.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_),curveMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_)}};ol.format.GML3.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_),surfaceMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_)}};ol.format.GML3.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString),Curve:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readCurve_)}};ol.format.GML3.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon),Surface:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readSurface_)}};ol.format.GML3.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:ol.xml.makeReplacer(ol.format.GML3.prototype.readPatch_)}};ol.format.GML3.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:ol.xml.makeReplacer(ol.format.GML3.prototype.readSegment_)}};ol.format.GML3.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_),upperCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:ol.xml.makeReplacer(ol.format.GML3.prototype.readPolygonPatch_)}};ol.format.GML3.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:ol.xml.makeReplacer(ol.format.GML3.prototype.readLineStringSegment_)}};ol.format.GML3.prototype.writePos_=function(a,b,c){var d=c[c.length-1];var e=d["srsName"];var f="enu";if(e){f=ol.proj.get(e).getAxisOrientation()}var g=b.getCoordinates();var h;if(f.substr(0,2)==="en"){h=g[0]+" "+g[1]}else{h=g[1]+" "+g[0]}ol.format.XSD.writeStringTextNode(a,h)};ol.format.GML3.prototype.getCoords_=function(a,b){var c="enu";if(b){c=ol.proj.get(b).getAxisOrientation()}return c.substr(0,2)==="en"?a[0]+" "+a[1]:a[1]+" "+a[0]};ol.format.GML3.prototype.writePosList_=function(a,b,c){var d=c[c.length-1];var e=d["srsName"];var f=b.getCoordinates();var g=f.length;var h=new Array(g);var i;for(var j=0;j<g;++j){i=f[j];h[j]=this.getCoords_(i,e)}ol.format.XSD.writeStringTextNode(a,h.join(" "))};ol.format.GML3.prototype.writePoint_=function(a,b,c){var d=c[c.length-1];var e=d["srsName"];if(e){a.setAttribute("srsName",e)}var f=ol.xml.createElementNS(a.namespaceURI,"pos");a.appendChild(f);this.writePos_(f,b,c)};ol.format.GML3.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.GML3.prototype.writeEnvelope=function(a,b,c){goog.DEBUG&&console.assert(b.length==4,"extent should have 4 items");var d=c[c.length-1];var e=d["srsName"];if(e){a.setAttribute("srsName",e)}var f=["lowerCorner","upperCorner"];var g=[b[0]+" "+b[1],b[2]+" "+b[3]];ol.xml.pushSerializeAndPop({node:a},ol.format.GML3.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,g,c,f,this)};ol.format.GML3.prototype.writeLinearRing_=function(a,b,c){var d=c[c.length-1];var e=d["srsName"];if(e){a.setAttribute("srsName",e)}var f=ol.xml.createElementNS(a.namespaceURI,"posList");a.appendChild(f);this.writePosList_(f,b,c)};ol.format.GML3.prototype.RING_NODE_FACTORY_=function(a,b,c){var d=b[b.length-1];var e=d.node;var f=d["exteriorWritten"];if(f===undefined){d["exteriorWritten"]=true}return ol.xml.createElementNS(e.namespaceURI,f!==undefined?"interior":"exterior")};ol.format.GML3.prototype.writeSurfaceOrPolygon_=function(a,b,c){var d=c[c.length-1];var e=d["srsName"];if(a.nodeName!=="PolygonPatch"&&e){a.setAttribute("srsName",e)}if(a.nodeName==="Polygon"||a.nodeName==="PolygonPatch"){var f=b.getLinearRings();ol.xml.pushSerializeAndPop({node:a,srsName:e},ol.format.GML3.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,f,c,undefined,this)}else if(a.nodeName==="Surface"){var g=ol.xml.createElementNS(a.namespaceURI,"patches");a.appendChild(g);this.writeSurfacePatches_(g,b,c)}};ol.format.GML3.prototype.writeCurveOrLineString_=function(a,b,c){var d=c[c.length-1];var e=d["srsName"];if(a.nodeName!=="LineStringSegment"&&e){a.setAttribute("srsName",e)}if(a.nodeName==="LineString"||a.nodeName==="LineStringSegment"){var f=ol.xml.createElementNS(a.namespaceURI,"posList");a.appendChild(f);this.writePosList_(f,b,c)}else if(a.nodeName==="Curve"){var g=ol.xml.createElementNS(a.namespaceURI,"segments");a.appendChild(g);this.writeCurveSegments_(g,b,c)}};ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_=function(a,b,c){var d=c[c.length-1];var e=d["srsName"];var f=d["surface"];if(e){a.setAttribute("srsName",e)}var g=b.getPolygons();ol.xml.pushSerializeAndPop({node:a,srsName:e,surface:f},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,c,undefined,this)};ol.format.GML3.prototype.writeMultiPoint_=function(a,b,c){var d=c[c.length-1];var e=d["srsName"];if(e){a.setAttribute("srsName",e)}var f=b.getPoints();ol.xml.pushSerializeAndPop({node:a,srsName:e},ol.format.GML3.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),f,c,undefined,this)};ol.format.GML3.prototype.writeMultiCurveOrLineString_=function(a,b,c){var d=c[c.length-1];var e=d["srsName"];var f=d["curve"];if(e){a.setAttribute("srsName",e)}var g=b.getLineStrings();ol.xml.pushSerializeAndPop({node:a,srsName:e,curve:f},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,c,undefined,this)};ol.format.GML3.prototype.writeRing_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"LinearRing");a.appendChild(d);this.writeLinearRing_(d,b,c)};ol.format.GML3.prototype.writeSurfaceOrPolygonMember_=function(a,b,c){var d=this.GEOMETRY_NODE_FACTORY_(b,c);if(d){a.appendChild(d);this.writeSurfaceOrPolygon_(d,b,c)}};ol.format.GML3.prototype.writePointMember_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"Point");a.appendChild(d);this.writePoint_(d,b,c)};ol.format.GML3.prototype.writeLineStringOrCurveMember_=function(a,b,c){var d=this.GEOMETRY_NODE_FACTORY_(b,c);if(d){a.appendChild(d);this.writeCurveOrLineString_(d,b,c)}};ol.format.GML3.prototype.writeSurfacePatches_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"PolygonPatch");a.appendChild(d);this.writeSurfaceOrPolygon_(d,b,c)};ol.format.GML3.prototype.writeCurveSegments_=function(a,b,c){var d=ol.xml.createElementNS(a.namespaceURI,"LineStringSegment");a.appendChild(d);this.writeCurveOrLineString_(d,b,c)};ol.format.GML3.prototype.writeGeometryElement=function(a,b,c){var d=c[c.length-1];var e=ol.obj.assign({},d);e.node=a;var f;if(Array.isArray(b)){if(d.dataProjection){f=ol.proj.transformExtent(b,d.featureProjection,d.dataProjection)}else{f=b}}else{f=ol.format.Feature.transformWithOptions(b,true,d)}ol.xml.pushSerializeAndPop(e,ol.format.GML3.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[f],c,undefined,this)};ol.format.GML3.prototype.writeFeatureElement=function(a,b,c){var d=b.getId();if(d){a.setAttribute("fid",d)}var e=c[c.length-1];var f=e["featureNS"];var g=b.getGeometryName();if(!e.serializers){e.serializers={};e.serializers[f]={}}var h=b.getProperties();var i=[],j=[];for(var k in h){var l=h[k];if(l!==null){i.push(k);j.push(l);if(k==g||l instanceof ol.geom.Geometry){if(!(k in e.serializers[f])){e.serializers[f][k]=ol.xml.makeChildAppender(this.writeGeometryElement,this)}}else{if(!(k in e.serializers[f])){e.serializers[f][k]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}}}}var m=ol.obj.assign({},e);m.node=a;ol.xml.pushSerializeAndPop(m,e.serializers,ol.xml.makeSimpleNodeFactory(undefined,f),j,c,i)};ol.format.GML3.prototype.writeFeatureMembers_=function(a,b,c){var d=c[c.length-1];var e=d["featureType"];var f=d["featureNS"];var g={};g[f]={};g[f][e]=ol.xml.makeChildAppender(this.writeFeatureElement,this);var h=ol.obj.assign({},d);h.node=a;ol.xml.pushSerializeAndPop(h,g,ol.xml.makeSimpleNodeFactory(e,f),b,c)};ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_)}};ol.format.GML3.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePointMember_)}};ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_)}};ol.format.GML3.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_),interior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_)}};ol.format.GML3.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeEnvelope)}};ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};ol.format.GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(a,b,c){var d=b[b.length-1].node;goog.DEBUG&&console.assert(ol.xml.isNode(d),"parentNode should be a node");return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[d.nodeName])};ol.format.GML3.prototype.GEOMETRY_NODE_FACTORY_=function(a,b,c){var d=b[b.length-1];var e=d["multiSurface"];var f=d["surface"];var g=d["curve"];var h=d["multiCurve"];var i=b[b.length-1].node;goog.DEBUG&&console.assert(ol.xml.isNode(i),"parentNode should be a node");var j;if(!Array.isArray(a)){j=a.getType();if(j==="MultiPolygon"&&e===true){j="MultiSurface"}else if(j==="Polygon"&&f===true){j="Surface"}else if(j==="LineString"&&g===true){j="Curve"}else if(j==="MultiLineString"&&h===true){j="MultiCurve"}}else{j="Envelope"}return ol.xml.createElementNS("http://www.opengis.net/gml",j)};ol.format.GML3.prototype.writeGeometryNode=function(a,b){b=this.adaptOptions(b);var c=ol.xml.createElementNS("http://www.opengis.net/gml","geom");var d={node:c,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};if(b){ol.obj.assign(d,b)}this.writeGeometryElement(c,a,[d]);return c};ol.format.GML3.prototype.writeFeatures;ol.format.GML3.prototype.writeFeaturesNode=function(a,b){b=this.adaptOptions(b);var c=ol.xml.createElementNS("http://www.opengis.net/gml","featureMembers");ol.xml.setAttributeNS(c,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};if(b){ol.obj.assign(d,b)}this.writeFeatureMembers_(c,a,[d]);return c};goog.provide("ol.format.GML");goog.require("ol.format.GML3");ol.format.GML=ol.format.GML3;ol.format.GML.prototype.writeFeatures;ol.format.GML.prototype.writeFeaturesNode;goog.provide("ol.format.GML2");goog.require("ol");goog.require("ol.extent");goog.require("ol.format.GMLBase");goog.require("ol.format.XSD");goog.require("ol.proj");goog.require("ol.xml");ol.format.GML2=function(a){var b=a?a:{};ol.format.GMLBase.call(this,b);this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]["featureMember"]=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);this.schemaLocation=b.schemaLocation?b.schemaLocation:ol.format.GML2.schemaLocation_};ol.inherits(ol.format.GML2,ol.format.GMLBase);ol.format.GML2.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd";ol.format.GML2.prototype.readFlatCoordinates_=function(a,b){var c=ol.xml.getAllTextContent(a,false).replace(/^\s*|\s*$/g,"");var d=b[0];var e=d["srsName"];var f=a.parentNode.getAttribute("srsDimension");var g="enu";if(e){var h=ol.proj.get(e);if(h){g=h.getAxisOrientation()}}var i=c.split(/[\s,]+/);var j=2;if(a.getAttribute("srsDimension")){j=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("srsDimension"))}else if(a.getAttribute("dimension")){j=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("dimension"))}else if(f){j=ol.format.XSD.readNonNegativeIntegerString(f)}var k,l,m;var n=[];for(var o=0,p=i.length;o<p;o+=j){k=parseFloat(i[o]);l=parseFloat(i[o+1]);m=j===3?parseFloat(i[o+2]):0;if(g.substr(0,2)==="en"){n.push(k,l,m)}else{n.push(l,k,m)}}return n};ol.format.GML2.prototype.readBox_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Box","localName should be Box");var c=ol.xml.pushParseAndPop([null],this.BOX_PARSERS_,a,b,this);return ol.extent.createOrUpdate(c[1][0],c[1][1],c[1][3],c[1][4])};ol.format.GML2.prototype.innerBoundaryIsParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="innerBoundaryIs","localName should be innerBoundaryIs");var c=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,a,b,this);if(c){var d=b[b.length-1];goog.DEBUG&&console.assert(Array.isArray(d),"flatLinearRings should be an array");goog.DEBUG&&console.assert(d.length>0,"flatLinearRings should have an array length larger than 0");d.push(c)}};ol.format.GML2.prototype.outerBoundaryIsParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="outerBoundaryIs","localName should be outerBoundaryIs");var c=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,a,b,this);if(c){var d=b[b.length-1];goog.DEBUG&&console.assert(Array.isArray(d),"flatLinearRings should be an array");goog.DEBUG&&console.assert(d.length>0,"flatLinearRings should have an array length larger than 0");d[0]=c}};ol.format.GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeReplacer(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:ol.format.GML2.prototype.innerBoundaryIsParser_,outerBoundaryIs:ol.format.GML2.prototype.outerBoundaryIsParser_}};ol.format.GML2.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeArrayPusher(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Box:ol.xml.makeReplacer(ol.format.GML2.prototype.readBox_)}};goog.provide("ol.format.GPX");goog.require("ol");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.Point");goog.require("ol.proj");goog.require("ol.xml");ol.format.GPX=function(a){var b=a?a:{};ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.readExtensions_=b.readExtensions};ol.inherits(ol.format.GPX,ol.format.XMLFeature);ol.format.GPX.NAMESPACE_URIS_=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];ol.format.GPX.SCHEMA_LOCATION_="http://www.topografix.com/GPX/1/1 "+"http://www.topografix.com/GPX/1/1/gpx.xsd";ol.format.GPX.appendCoordinate_=function(a,b,c){goog.DEBUG&&console.assert(b.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");a.push(parseFloat(b.getAttribute("lon")),parseFloat(b.getAttribute("lat")));if("ele"in c){a.push(c["ele"]);delete c["ele"]}else{a.push(0)}if("time"in c){a.push(c["time"]);delete c["time"]}else{a.push(0)}return a};ol.format.GPX.parseLink_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="link","localName should be link");var c=b[b.length-1];var d=a.getAttribute("href");if(d!==null){c["link"]=d}ol.xml.parseNode(ol.format.GPX.LINK_PARSERS_,a,b)};ol.format.GPX.parseExtensions_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="extensions","localName should be extensions");var c=b[b.length-1];c["extensionsNode_"]=a};ol.format.GPX.parseRtePt_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="rtept","localName should be rtept");var c=ol.xml.pushParseAndPop({},ol.format.GPX.RTEPT_PARSERS_,a,b);if(c){var d=b[b.length-1];var e=d["flatCoordinates"];ol.format.GPX.appendCoordinate_(e,a,c)}};ol.format.GPX.parseTrkPt_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="trkpt","localName should be trkpt");var c=ol.xml.pushParseAndPop({},ol.format.GPX.TRKPT_PARSERS_,a,b);if(c){var d=b[b.length-1];var e=d["flatCoordinates"];ol.format.GPX.appendCoordinate_(e,a,c)}};ol.format.GPX.parseTrkSeg_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="trkseg","localName should be trkseg");var c=b[b.length-1];ol.xml.parseNode(ol.format.GPX.TRKSEG_PARSERS_,a,b);
var d=c["flatCoordinates"];var e=c["ends"];e.push(d.length)};ol.format.GPX.readRte_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="rte","localName should be rte");var c=b[0];var d=ol.xml.pushParseAndPop({flatCoordinates:[]},ol.format.GPX.RTE_PARSERS_,a,b);if(!d){return undefined}var e=d["flatCoordinates"];delete d["flatCoordinates"];var f=new ol.geom.LineString(null);f.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,e);ol.format.Feature.transformWithOptions(f,false,c);var g=new ol.Feature(f);g.setProperties(d);return g};ol.format.GPX.readTrk_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="trk","localName should be trk");var c=b[0];var d=ol.xml.pushParseAndPop({flatCoordinates:[],ends:[]},ol.format.GPX.TRK_PARSERS_,a,b);if(!d){return undefined}var e=d["flatCoordinates"];delete d["flatCoordinates"];var f=d["ends"];delete d["ends"];var g=new ol.geom.MultiLineString(null);g.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,e,f);ol.format.Feature.transformWithOptions(g,false,c);var h=new ol.Feature(g);h.setProperties(d);return h};ol.format.GPX.readWpt_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="wpt","localName should be wpt");var c=b[0];var d=ol.xml.pushParseAndPop({},ol.format.GPX.WPT_PARSERS_,a,b);if(!d){return undefined}var e=ol.format.GPX.appendCoordinate_([],a,d);var f=new ol.geom.Point(e,ol.geom.GeometryLayout.XYZM);ol.format.Feature.transformWithOptions(f,false,c);var g=new ol.Feature(f);g.setProperties(d);return g};ol.format.GPX.FEATURE_READER_={rte:ol.format.GPX.readRte_,trk:ol.format.GPX.readTrk_,wpt:ol.format.GPX.readWpt_};ol.format.GPX.GPX_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeArrayPusher(ol.format.GPX.readRte_),trk:ol.xml.makeArrayPusher(ol.format.GPX.readTrk_),wpt:ol.xml.makeArrayPusher(ol.format.GPX.readWpt_)});ol.format.GPX.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkText"),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkType")});ol.format.GPX.RTE_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_,type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),rtept:ol.format.GPX.parseRtePt_});ol.format.GPX.RTEPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.TRK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),extensions:ol.format.GPX.parseExtensions_,trkseg:ol.format.GPX.parseTrkSeg_});ol.format.GPX.TRKSEG_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.format.GPX.parseTrkPt_});ol.format.GPX.TRKPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.WPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime),magvar:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),geoidheight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,sym:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),fix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),sat:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),hdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),vdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),pdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),ageofdgpsdata:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),dgpsid:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_});ol.format.GPX.prototype.handleReadExtensions_=function(a){if(!a){a=[]}for(var b=0,c=a.length;b<c;++b){var d=a[b];if(this.readExtensions_){var e=d.get("extensionsNode_")||null;this.readExtensions_(d,e)}d.set("extensionsNode_",undefined)}};ol.format.GPX.prototype.readFeature;ol.format.GPX.prototype.readFeatureFromNode=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,a.namespaceURI)){return null}var c=ol.format.GPX.FEATURE_READER_[a.localName];if(!c){return null}var d=c(a,[this.getReadOptions(a,b)]);if(!d){return null}this.handleReadExtensions_([d]);return d};ol.format.GPX.prototype.readFeatures;ol.format.GPX.prototype.readFeaturesFromNode=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,a.namespaceURI)){return[]}if(a.localName=="gpx"){var c=ol.xml.pushParseAndPop([],ol.format.GPX.GPX_PARSERS_,a,[this.getReadOptions(a,b)]);if(c){this.handleReadExtensions_(c);return c}else{return[]}}return[]};ol.format.GPX.prototype.readProjection;ol.format.GPX.writeLink_=function(a,b,c){a.setAttribute("href",b);var d=c[c.length-1];var e=d["properties"];var f=[e["linkText"],e["linkType"]];ol.xml.pushSerializeAndPop({node:a},ol.format.GPX.LINK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,f,c,ol.format.GPX.LINK_SEQUENCE_)};ol.format.GPX.writeWptType_=function(a,b,c){var d=c[c.length-1];var e=d.node;goog.DEBUG&&console.assert(ol.xml.isNode(e),"parentNode should be an XML node");var f=e.namespaceURI;var g=d["properties"];ol.xml.setAttributeNS(a,null,"lat",b[1]);ol.xml.setAttributeNS(a,null,"lon",b[0]);var h=d["geometryLayout"];switch(h){case ol.geom.GeometryLayout.XYZM:if(b[3]!==0){g["time"]=b[3]}case ol.geom.GeometryLayout.XYZ:if(b[2]!==0){g["ele"]=b[2]}break;case ol.geom.GeometryLayout.XYM:if(b[2]!==0){g["time"]=b[2]}break;default:}var i=a.nodeName=="rtept"?ol.format.GPX.RTEPT_TYPE_SEQUENCE_[f]:ol.format.GPX.WPT_TYPE_SEQUENCE_[f];var j=ol.xml.makeSequence(g,i);ol.xml.pushSerializeAndPop({node:a,properties:g},ol.format.GPX.WPT_TYPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,j,c,i)};ol.format.GPX.writeRte_=function(a,b,c){var d=c[0];var e=b.getProperties();var f={node:a,properties:e};var g=b.getGeometry();if(g){g=ol.format.Feature.transformWithOptions(g,true,d);f["geometryLayout"]=g.getLayout();e["rtept"]=g.getCoordinates()}var h=c[c.length-1].node;var i=ol.format.GPX.RTE_SEQUENCE_[h.namespaceURI];var j=ol.xml.makeSequence(e,i);ol.xml.pushSerializeAndPop(f,ol.format.GPX.RTE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,j,c,i)};ol.format.GPX.writeTrk_=function(a,b,c){var d=c[0];var e=b.getProperties();var f={node:a,properties:e};var g=b.getGeometry();if(g){g=ol.format.Feature.transformWithOptions(g,true,d);e["trkseg"]=g.getLineStrings()}var h=c[c.length-1].node;var i=ol.format.GPX.TRK_SEQUENCE_[h.namespaceURI];var j=ol.xml.makeSequence(e,i);ol.xml.pushSerializeAndPop(f,ol.format.GPX.TRK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,j,c,i)};ol.format.GPX.writeTrkSeg_=function(a,b,c){var d={node:a,geometryLayout:b.getLayout(),properties:{}};ol.xml.pushSerializeAndPop(d,ol.format.GPX.TRKSEG_SERIALIZERS_,ol.format.GPX.TRKSEG_NODE_FACTORY_,b.getCoordinates(),c)};ol.format.GPX.writeWpt_=function(a,b,c){var d=c[0];var e=c[c.length-1];e["properties"]=b.getProperties();var f=b.getGeometry();if(f){f=ol.format.Feature.transformWithOptions(f,true,d);e["geometryLayout"]=f.getLayout();ol.format.GPX.writeWptType_(a,f.getCoordinates(),c)}};ol.format.GPX.LINK_SEQUENCE_=["text","type"];ol.format.GPX.LINK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)});ol.format.GPX.RTE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","rtept"]);ol.format.GPX.RTE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),rtept:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeWptType_))});ol.format.GPX.RTEPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time"]);ol.format.GPX.TRK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","trkseg"]);ol.format.GPX.TRK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),trkseg:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeTrkSeg_))});ol.format.GPX.TRKSEG_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("trkpt");ol.format.GPX.TRKSEG_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.xml.makeChildAppender(ol.format.GPX.writeWptType_)});ol.format.GPX.WPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]);ol.format.GPX.WPT_TYPE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),time:ol.xml.makeChildAppender(ol.format.XSD.writeDateTimeTextNode),magvar:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),geoidheight:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),sym:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),fix:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),sat:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),hdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),vdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),pdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),ageofdgpsdata:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),dgpsid:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode)});ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_={Point:"wpt",LineString:"rte",MultiLineString:"trk"};ol.format.GPX.GPX_NODE_FACTORY_=function(a,b,c){var d=a.getGeometry();if(d){var e=ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_[d.getType()];if(e){var f=b[b.length-1].node;goog.DEBUG&&console.assert(ol.xml.isNode(f),"parentNode should be an XML node");return ol.xml.createElementNS(f.namespaceURI,e)}}};ol.format.GPX.GPX_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeChildAppender(ol.format.GPX.writeRte_),trk:ol.xml.makeChildAppender(ol.format.GPX.writeTrk_),wpt:ol.xml.makeChildAppender(ol.format.GPX.writeWpt_)});ol.format.GPX.prototype.writeFeatures;ol.format.GPX.prototype.writeFeaturesNode=function(a,b){b=this.adaptOptions(b);var c=ol.xml.createElementNS("http://www.topografix.com/GPX/1/1","gpx");var d="http://www.w3.org/2000/xmlns/";var e="http://www.w3.org/2001/XMLSchema-instance";ol.xml.setAttributeNS(c,d,"xmlns:xsi",e);ol.xml.setAttributeNS(c,e,"xsi:schemaLocation",ol.format.GPX.SCHEMA_LOCATION_);c.setAttribute("version","1.1");c.setAttribute("creator","OpenLayers 3");ol.xml.pushSerializeAndPop({node:c},ol.format.GPX.GPX_SERIALIZERS_,ol.format.GPX.GPX_NODE_FACTORY_,a,[b]);return c};goog.provide("ol.format.TextFeature");goog.require("ol");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");ol.format.TextFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.TextFeature,ol.format.Feature);ol.format.TextFeature.prototype.getText_=function(a){if(typeof a==="string"){return a}else{return""}};ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT};ol.format.TextFeature.prototype.readFeature=function(a,b){return this.readFeatureFromText(this.getText_(a),this.adaptOptions(b))};ol.format.TextFeature.prototype.readFeatureFromText=function(a,b){};ol.format.TextFeature.prototype.readFeatures=function(a,b){return this.readFeaturesFromText(this.getText_(a),this.adaptOptions(b))};ol.format.TextFeature.prototype.readFeaturesFromText=function(a,b){};ol.format.TextFeature.prototype.readGeometry=function(a,b){return this.readGeometryFromText(this.getText_(a),this.adaptOptions(b))};ol.format.TextFeature.prototype.readGeometryFromText=function(a,b){};ol.format.TextFeature.prototype.readProjection=function(a){return this.readProjectionFromText(this.getText_(a))};ol.format.TextFeature.prototype.readProjectionFromText=function(a){return this.defaultDataProjection};ol.format.TextFeature.prototype.writeFeature=function(a,b){return this.writeFeatureText(a,this.adaptOptions(b))};ol.format.TextFeature.prototype.writeFeatureText=function(a,b){};ol.format.TextFeature.prototype.writeFeatures=function(a,b){return this.writeFeaturesText(a,this.adaptOptions(b))};ol.format.TextFeature.prototype.writeFeaturesText=function(a,b){};ol.format.TextFeature.prototype.writeGeometry=function(a,b){return this.writeGeometryText(a,this.adaptOptions(b))};ol.format.TextFeature.prototype.writeGeometryText=function(a,b){};goog.provide("ol.format.IGC");goog.provide("ol.format.IGCZ");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.proj");ol.format.IGCZ={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"};ol.format.IGC=function(a){var b=a?a:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.altitudeMode_=b.altitudeMode?b.altitudeMode:ol.format.IGCZ.NONE};ol.inherits(ol.format.IGC,ol.format.TextFeature);ol.format.IGC.EXTENSIONS_=[".igc"];ol.format.IGC.B_RECORD_RE_=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/;ol.format.IGC.H_RECORD_RE_=/^H.([A-Z]{3}).*?:(.*)/;ol.format.IGC.HFDTE_RECORD_RE_=/^HFDTE(\d{2})(\d{2})(\d{2})/;ol.format.IGC.NEWLINE_RE_=/\r\n|\r|\n/;ol.format.IGC.prototype.getExtensions=function(){return ol.format.IGC.EXTENSIONS_};ol.format.IGC.prototype.readFeature;ol.format.IGC.prototype.readFeatureFromText=function(a,b){var c=this.altitudeMode_;var d=a.split(ol.format.IGC.NEWLINE_RE_);var e={};var f=[];var g=2e3;var h=0;var i=1;var j=-1;var k,l;for(k=0,l=d.length;k<l;++k){var m=d[k];var n;if(m.charAt(0)=="B"){n=ol.format.IGC.B_RECORD_RE_.exec(m);if(n){var o=parseInt(n[1],10);var p=parseInt(n[2],10);var q=parseInt(n[3],10);var r=parseInt(n[4],10)+parseInt(n[5],10)/6e4;if(n[6]=="S"){r=-r}var s=parseInt(n[7],10)+parseInt(n[8],10)/6e4;if(n[9]=="W"){s=-s}f.push(s,r);if(c!=ol.format.IGCZ.NONE){var t;if(c==ol.format.IGCZ.GPS){t=parseInt(n[11],10)}else if(c==ol.format.IGCZ.BAROMETRIC){t=parseInt(n[12],10)}else{goog.DEBUG&&console.assert(false,"Unknown altitude mode.");t=0}f.push(t)}var u=Date.UTC(g,h,i,o,p,q);if(u<j){u=Date.UTC(g,h,i+1,o,p,q)}f.push(u/1e3);j=u}}else if(m.charAt(0)=="H"){n=ol.format.IGC.HFDTE_RECORD_RE_.exec(m);if(n){i=parseInt(n[1],10);h=parseInt(n[2],10)-1;g=2e3+parseInt(n[3],10)}else{n=ol.format.IGC.H_RECORD_RE_.exec(m);if(n){e[n[1]]=n[2].trim()}}}}if(f.length===0){return null}var v=new ol.geom.LineString(null);var w=c==ol.format.IGCZ.NONE?ol.geom.GeometryLayout.XYM:ol.geom.GeometryLayout.XYZM;v.setFlatCoordinates(w,f);var x=new ol.Feature(ol.format.Feature.transformWithOptions(v,false,b));x.setProperties(e);return x};ol.format.IGC.prototype.readFeatures;ol.format.IGC.prototype.readFeaturesFromText=function(a,b){var c=this.readFeatureFromText(a,b);if(c){return[c]}else{return[]}};ol.format.IGC.prototype.readProjection;goog.provide("ol.style.IconImage");goog.require("ol");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");goog.require("ol.style");goog.require("ol.style.ImageState");ol.style.IconImage=function(a,b,c,d,e,f){ol.events.EventTarget.call(this);this.hitDetectionImage_=null;this.image_=!a?new Image:a;if(d!==null){this.image_.crossOrigin=d}this.canvas_=f?document.createElement("CANVAS"):null;this.color_=f;this.imageListenerKeys_=null;this.imageState_=e;this.size_=c;this.src_=b;this.tainting_=false;if(this.imageState_==ol.style.ImageState.LOADED){this.determineTainting_()}};ol.inherits(ol.style.IconImage,ol.events.EventTarget);ol.style.IconImage.get=function(a,b,c,d,e,f){var g=ol.style.iconImageCache;var h=g.get(b,d,f);if(!h){h=new ol.style.IconImage(a,b,c,d,e,f);g.set(b,d,f,h)}return h};ol.style.IconImage.prototype.determineTainting_=function(){var a=ol.dom.createCanvasContext2D(1,1);try{a.drawImage(this.image_,0,0);a.getImageData(0,0,1,1)}catch(b){this.tainting_=true}};ol.style.IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.style.IconImage.prototype.handleImageError_=function(){this.imageState_=ol.style.ImageState.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.handleImageLoad_=function(){this.imageState_=ol.style.ImageState.LOADED;if(this.size_){this.image_.width=this.size_[0];this.image_.height=this.size_[1]}this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.determineTainting_();this.replaceColor_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.getImage=function(a){return this.canvas_?this.canvas_:this.image_};ol.style.IconImage.prototype.getImageState=function(){return this.imageState_};ol.style.IconImage.prototype.getHitDetectionImage=function(a){if(!this.hitDetectionImage_){if(this.tainting_){var b=this.size_[0];var c=this.size_[1];var d=ol.dom.createCanvasContext2D(b,c);d.fillRect(0,0,b,c);this.hitDetectionImage_=d.canvas}else{this.hitDetectionImage_=this.image_}}return this.hitDetectionImage_};ol.style.IconImage.prototype.getSize=function(){return this.size_};ol.style.IconImage.prototype.getSrc=function(){return this.src_};ol.style.IconImage.prototype.load=function(){if(this.imageState_==ol.style.ImageState.IDLE){goog.DEBUG&&console.assert(this.src_!==undefined,"this.src_ must not be undefined");goog.DEBUG&&console.assert(!this.imageListenerKeys_,"no listener keys existing");this.imageState_=ol.style.ImageState.LOADING;this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(a){this.handleImageError_()}}};ol.style.IconImage.prototype.replaceColor_=function(){if(this.tainting_||this.color_===null){return}this.canvas_.width=this.image_.width;this.canvas_.height=this.image_.height;var a=this.canvas_.getContext("2d");a.drawImage(this.image_,0,0);var b=a.getImageData(0,0,this.image_.width,this.image_.height);var c=b.data;var d=this.color_[0]/255;var e=this.color_[1]/255;var f=this.color_[2]/255;for(var g=0,h=c.length;g<h;g+=4){c[g]*=d;c[g+1]*=e;c[g+2]*=f}a.putImageData(b,0,0)};ol.style.IconImage.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.style.Icon");goog.provide("ol.style.IconAnchorUnits");goog.provide("ol.style.IconOrigin");goog.require("ol");goog.require("ol.asserts");goog.require("ol.color");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.style.IconImage");goog.require("ol.style.Image");goog.require("ol.style.ImageState");ol.style.IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"};ol.style.IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};ol.style.Icon=function(a){var b=a||{};this.anchor_=b.anchor!==undefined?b.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=b.anchorOrigin!==undefined?b.anchorOrigin:ol.style.IconOrigin.TOP_LEFT;this.anchorXUnits_=b.anchorXUnits!==undefined?b.anchorXUnits:ol.style.IconAnchorUnits.FRACTION;this.anchorYUnits_=b.anchorYUnits!==undefined?b.anchorYUnits:ol.style.IconAnchorUnits.FRACTION;var c=b.crossOrigin!==undefined?b.crossOrigin:null;var d=b.img!==undefined?b.img:null;var e=b.imgSize!==undefined?b.imgSize:null;var f=b.src;ol.asserts.assert(!(f!==undefined&&d),4);ol.asserts.assert(!d||d&&e,5);if((f===undefined||f.length===0)&&d){f=d.src||ol.getUid(d).toString()}ol.asserts.assert(f!==undefined&&f.length>0,6);var g=b.src!==undefined?ol.style.ImageState.IDLE:ol.style.ImageState.LOADED;var h=b.color!==undefined?ol.color.asArray(b.color):null;this.iconImage_=ol.style.IconImage.get(d,f,e,c,g,h);this.offset_=b.offset!==undefined?b.offset:[0,0];this.offsetOrigin_=b.offsetOrigin!==undefined?b.offsetOrigin:ol.style.IconOrigin.TOP_LEFT;this.origin_=null;this.size_=b.size!==undefined?b.size:null;var i=b.opacity!==undefined?b.opacity:1;var j=b.rotateWithView!==undefined?b.rotateWithView:false;var k=b.rotation!==undefined?b.rotation:0;var l=b.scale!==undefined?b.scale:1;var m=b.snapToPixel!==undefined?b.snapToPixel:true;ol.style.Image.call(this,{opacity:i,rotation:k,scale:l,snapToPixel:m,rotateWithView:j})};ol.inherits(ol.style.Icon,ol.style.Image);ol.style.Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_){return this.normalizedAnchor_}var a=this.anchor_;var b=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(!b){return null}a=this.anchor_.slice();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION){a[0]*=b[0]}if(this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){a[1]*=b[1]}}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(!b){return null}if(a===this.anchor_){a=this.anchor_.slice()}if(this.anchorOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){a[0]=-a[0]+b[0]}if(this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){a[1]=-a[1]+b[1]}}this.normalizedAnchor_=a;return this.normalizedAnchor_};ol.style.Icon.prototype.getImage=function(a){return this.iconImage_.getImage(a)};ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()};ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()};ol.style.Icon.prototype.getHitDetectionImage=function(a){return this.iconImage_.getHitDetectionImage(a)};ol.style.Icon.prototype.getOrigin=function(){if(this.origin_){return this.origin_}var a=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var b=this.getSize();var c=this.iconImage_.getSize();if(!b||!c){return null}a=a.slice();if(this.offsetOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){a[0]=c[0]-b[0]-a[0]}if(this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){a[1]=c[1]-b[1]-a[1]}}this.origin_=a;return this.origin_};ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()};ol.style.Icon.prototype.getSize=function(){return!this.size_?this.iconImage_.getSize():this.size_};ol.style.Icon.prototype.listenImageChange=function(a,b){return ol.events.listen(this.iconImage_,ol.events.EventType.CHANGE,a,b)};ol.style.Icon.prototype.load=function(){this.iconImage_.load()};ol.style.Icon.prototype.unlistenImageChange=function(a,b){ol.events.unlisten(this.iconImage_,ol.events.EventType.CHANGE,a,b)};goog.provide("ol.style.Text");goog.require("ol.style.Fill");ol.style.Text=function(a){var b=a||{};this.font_=b.font;this.rotation_=b.rotation;this.rotateWithView_=b.rotateWithView;this.scale_=b.scale;this.text_=b.text;this.textAlign_=b.textAlign;this.textBaseline_=b.textBaseline;this.fill_=b.fill!==undefined?b.fill:new ol.style.Fill({color:ol.style.Text.DEFAULT_FILL_COLOR_});this.stroke_=b.stroke!==undefined?b.stroke:null;this.offsetX_=b.offsetX!==undefined?b.offsetX:0;this.offsetY_=b.offsetY!==undefined?b.offsetY:0};ol.style.Text.DEFAULT_FILL_COLOR_="#333";ol.style.Text.prototype.getFont=function(){return this.font_};ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_};ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_};ol.style.Text.prototype.getFill=function(){return this.fill_};ol.style.Text.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Text.prototype.getRotation=function(){return this.rotation_};ol.style.Text.prototype.getScale=function(){return this.scale_};ol.style.Text.prototype.getStroke=function(){return this.stroke_};ol.style.Text.prototype.getText=function(){return this.text_};ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_};ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_};ol.style.Text.prototype.setFont=function(a){this.font_=a};ol.style.Text.prototype.setOffsetX=function(a){this.offsetX_=a};ol.style.Text.prototype.setOffsetY=function(a){this.offsetY_=a};ol.style.Text.prototype.setFill=function(a){this.fill_=a};ol.style.Text.prototype.setRotation=function(a){this.rotation_=a};ol.style.Text.prototype.setScale=function(a){this.scale_=a};ol.style.Text.prototype.setStroke=function(a){this.stroke_=a};ol.style.Text.prototype.setText=function(a){this.text_=a};ol.style.Text.prototype.setTextAlign=function(a){this.textAlign_=a};ol.style.Text.prototype.setTextBaseline=function(a){this.textBaseline_=a};goog.provide("ol.format.KML");goog.require("goog.object");goog.require("ol");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.color");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.style.Fill");goog.require("ol.style.Icon");goog.require("ol.style.IconAnchorUnits");goog.require("ol.style.IconOrigin");goog.require("ol.style.Stroke");goog.require("ol.style.Style");goog.require("ol.style.Text");goog.require("ol.xml");ol.format.KML=function(a){var b=a?a:{};ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.defaultStyle_=b.defaultStyle?b.defaultStyle:ol.format.KML.DEFAULT_STYLE_ARRAY_||ol.format.KML.createStyleDefaults_();this.extractStyles_=b.extractStyles!==undefined?b.extractStyles:true;this.writeStyles_=b.writeStyles!==undefined?b.writeStyles:true;this.sharedStyles_={};this.showPointNames_=b.showPointNames!==undefined?b.showPointNames:true};ol.inherits(ol.format.KML,ol.format.XMLFeature);ol.format.KML.EXTENSIONS_=[".kml"];ol.format.KML.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"];ol.format.KML.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"];ol.format.KML.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 "+"https://developers.google.com/kml/schema/kml22gx.xsd";ol.format.KML.createStyleDefaults_=function(){ol.format.KML.DEFAULT_COLOR_=[255,255,255,1];ol.format.KML.DEFAULT_FILL_STYLE_=new ol.style.Fill({color:ol.format.KML.DEFAULT_COLOR_});ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2];ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_=[64,64];ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png";ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_=.5;ol.format.KML.DEFAULT_IMAGE_STYLE_=new ol.style.Icon({anchor:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,src:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_});ol.format.KML.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:ol.format.KML.DEFAULT_COLOR_,width:1});ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_=new ol.style.Stroke({color:[51,51,51,1],width:2});ol.format.KML.DEFAULT_TEXT_STYLE_=new ol.style.Text({font:"bold 16px Helvetica",fill:ol.format.KML.DEFAULT_FILL_STYLE_,stroke:ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_,scale:.8});ol.format.KML.DEFAULT_STYLE_=new ol.style.Style({fill:ol.format.KML.DEFAULT_FILL_STYLE_,image:ol.format.KML.DEFAULT_IMAGE_STYLE_,text:ol.format.KML.DEFAULT_TEXT_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,zIndex:0});ol.format.KML.DEFAULT_STYLE_ARRAY_=[ol.format.KML.DEFAULT_STYLE_];return ol.format.KML.DEFAULT_STYLE_ARRAY_};ol.format.KML.ICON_ANCHOR_UNITS_MAP_={fraction:ol.style.IconAnchorUnits.FRACTION,pixels:ol.style.IconAnchorUnits.PIXELS};ol.format.KML.createNameStyleFunction_=function(a,b){var c=null;var d=[0,0];var e="start";if(a.getImage()){var f=a.getImage().getImageSize();if(f&&f.length==2){d[0]=a.getImage().getScale()*f[0]/2;d[1]=-a.getImage().getScale()*f[1]/2;e="left"}}if(!ol.obj.isEmpty(a.getText())){c=goog.object.clone(a.getText());c.setText(b);c.setTextAlign(e);c.setOffsetX(d[0]);c.setOffsetY(d[1])}else{c=new ol.style.Text({text:b,offsetX:d[0],offsetY:d[1],textAlign:e})}var g=new ol.style.Style({
text:c});return g};ol.format.KML.createFeatureStyleFunction_=function(a,b,c,d,e){return function(f){var g=e;var h;var i="";if(g){if(this.getGeometry()){g=this.getGeometry().getType()===ol.geom.GeometryType.POINT}}if(g){i=this.get("name");g=g&&i}if(a){if(g){h=ol.format.KML.createNameStyleFunction_(a[0],i);return a.concat(h)}return a}if(b){var j=ol.format.KML.findStyle_(b,c,d);if(g){h=ol.format.KML.createNameStyleFunction_(j[0],i);return j.concat(h)}return j}if(g){h=ol.format.KML.createNameStyleFunction_(c[0],i);return c.concat(h)}return c}};ol.format.KML.findStyle_=function(a,b,c){if(Array.isArray(a)){return a}else if(typeof a==="string"){if(!(a in c)&&"#"+a in c){a="#"+a}return ol.format.KML.findStyle_(c[a],b,c)}else{return b}};ol.format.KML.readColor_=function(a){var b=ol.xml.getAllTextContent(a,false);var c=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(b);if(c){var d=c[1];return[parseInt(d.substr(6,2),16),parseInt(d.substr(4,2),16),parseInt(d.substr(2,2),16),parseInt(d.substr(0,2),16)/255]}else{return undefined}};ol.format.KML.readFlatCoordinates_=function(a){var b=ol.xml.getAllTextContent(a,false);var c=[];var d=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;var e;while(e=d.exec(b)){var f=parseFloat(e[1]);var g=parseFloat(e[2]);var h=e[3]?parseFloat(e[3]):0;c.push(f,g,h);b=b.substr(e[0].length)}if(b!==""){return undefined}return c};ol.format.KML.readURI_=function(a){var b=ol.xml.getAllTextContent(a,false).trim();if(a.baseURI){var c=new URL(b,a.baseURI);return c.href}else{return b}};ol.format.KML.readVec2_=function(a){var b=a.getAttribute("xunits");var c=a.getAttribute("yunits");return{x:parseFloat(a.getAttribute("x")),xunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[b],y:parseFloat(a.getAttribute("y")),yunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[c]}};ol.format.KML.readScale_=function(a){var b=ol.format.XSD.readDecimal(a);if(b!==undefined){return Math.sqrt(b)}else{return undefined}};ol.format.KML.readStyleMapValue_=function(a,b){return ol.xml.pushParseAndPop(undefined,ol.format.KML.STYLE_MAP_PARSERS_,a,b)};ol.format.KML.IconStyleParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be an ELEMENT");goog.DEBUG&&console.assert(a.localName=="IconStyle","localName should be IconStyle");var c=ol.xml.pushParseAndPop({},ol.format.KML.ICON_STYLE_PARSERS_,a,b);if(!c){return}var d=b[b.length-1];var e="Icon"in c?c["Icon"]:{};var f;var g=e["href"];if(g){f=g}else{f=ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_}var h,i,j;var k=c["hotSpot"];if(k){h=[k.x,k.y];i=k.xunits;j=k.yunits}else if(f===ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){h=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_;i=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_;j=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_}else if(/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(f)){h=[.5,0];i=ol.style.IconAnchorUnits.FRACTION;j=ol.style.IconAnchorUnits.FRACTION}var l;var m=e["x"];var n=e["y"];if(m!==undefined&&n!==undefined){l=[m,n]}var o;var p=e["w"];var q=e["h"];if(p!==undefined&&q!==undefined){o=[p,q]}var r;var s=c["heading"];if(s!==undefined){r=ol.math.toRadians(s)}var t=c["scale"];if(f==ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){o=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_;if(t===undefined){t=ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_}}var u=new ol.style.Icon({anchor:h,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:i,anchorYUnits:j,crossOrigin:"anonymous",offset:l,offsetOrigin:ol.style.IconOrigin.BOTTOM_LEFT,rotation:r,scale:t,size:o,src:f});d["imageStyle"]=u};ol.format.KML.LabelStyleParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="LabelStyle","localName should be LabelStyle");var c=ol.xml.pushParseAndPop({},ol.format.KML.LABEL_STYLE_PARSERS_,a,b);if(!c){return}var d=b[b.length-1];var e=new ol.style.Text({fill:new ol.style.Fill({color:"color"in c?c["color"]:ol.format.KML.DEFAULT_COLOR_}),scale:c["scale"]});d["textStyle"]=e};ol.format.KML.LineStyleParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="LineStyle","localName should be LineStyle");var c=ol.xml.pushParseAndPop({},ol.format.KML.LINE_STYLE_PARSERS_,a,b);if(!c){return}var d=b[b.length-1];var e=new ol.style.Stroke({color:"color"in c?c["color"]:ol.format.KML.DEFAULT_COLOR_,width:"width"in c?c["width"]:1});d["strokeStyle"]=e};ol.format.KML.PolyStyleParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="PolyStyle","localName should be PolyStyle");var c=ol.xml.pushParseAndPop({},ol.format.KML.POLY_STYLE_PARSERS_,a,b);if(!c){return}var d=b[b.length-1];var e=new ol.style.Fill({color:"color"in c?c["color"]:ol.format.KML.DEFAULT_COLOR_});d["fillStyle"]=e;var f=c["fill"];if(f!==undefined){d["fill"]=f}var g=c["outline"];if(g!==undefined){d["outline"]=g}};ol.format.KML.readFlatLinearRing_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="LinearRing","localName should be LinearRing");return ol.xml.pushParseAndPop(null,ol.format.KML.FLAT_LINEAR_RING_PARSERS_,a,b)};ol.format.KML.gxCoordParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(ol.array.includes(ol.format.KML.GX_NAMESPACE_URIS_,a.namespaceURI),"namespaceURI of the node should be known to the KML parser");goog.DEBUG&&console.assert(a.localName=="coord","localName should be coord");var c=b[b.length-1];var d=c.flatCoordinates;var e=ol.xml.getAllTextContent(a,false);var f=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i;var g=f.exec(e);if(g){var h=parseFloat(g[1]);var i=parseFloat(g[2]);var j=parseFloat(g[3]);d.push(h,i,j,0)}else{d.push(0,0,0,0)}};ol.format.KML.readGxMultiTrack_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(ol.array.includes(ol.format.KML.GX_NAMESPACE_URIS_,a.namespaceURI),"namespaceURI of the node should be known to the KML parser");goog.DEBUG&&console.assert(a.localName=="MultiTrack","localName should be MultiTrack");var c=ol.xml.pushParseAndPop([],ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_,a,b);if(!c){return undefined}var d=new ol.geom.MultiLineString(null);d.setLineStrings(c);return d};ol.format.KML.readGxTrack_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(ol.array.includes(ol.format.KML.GX_NAMESPACE_URIS_,a.namespaceURI),"namespaceURI of the node should be known to the KML parser");goog.DEBUG&&console.assert(a.localName=="Track","localName should be Track");var c=ol.xml.pushParseAndPop({flatCoordinates:[],whens:[]},ol.format.KML.GX_TRACK_PARSERS_,a,b);if(!c){return undefined}var d=c.flatCoordinates;var e=c.whens;goog.DEBUG&&console.assert(d.length/4==e.length,"the length of the flatCoordinates array divided by 4 should be the "+"length of the whens array");var f,g;for(f=0,g=Math.min(d.length,e.length);f<g;++f){d[4*f+3]=e[f]}var h=new ol.geom.LineString(null);h.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,d);return h};ol.format.KML.readIcon_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Icon","localName should be Icon");var c=ol.xml.pushParseAndPop({},ol.format.KML.ICON_PARSERS_,a,b);if(c){return c}else{return null}};ol.format.KML.readFlatCoordinatesFromNode_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");return ol.xml.pushParseAndPop(null,ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_,a,b)};ol.format.KML.readLineString_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="LineString","localName should be LineString");var c=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,a,b);var d=ol.format.KML.readFlatCoordinatesFromNode_(a,b);if(d){var e=new ol.geom.LineString(null);e.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,d);e.setProperties(c);return e}else{return undefined}};ol.format.KML.readLinearRing_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="LinearRing","localName should be LinearRing");var c=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,a,b);var d=ol.format.KML.readFlatCoordinatesFromNode_(a,b);if(d){var e=new ol.geom.Polygon(null);e.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,d,[d.length]);e.setProperties(c);return e}else{return undefined}};ol.format.KML.readMultiGeometry_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="MultiGeometry","localName should be MultiGeometry");var c=ol.xml.pushParseAndPop([],ol.format.KML.MULTI_GEOMETRY_PARSERS_,a,b);if(!c){return null}if(c.length===0){return new ol.geom.GeometryCollection(c)}var d;var e=true;var f=c[0].getType();var g,h,i;for(h=1,i=c.length;h<i;++h){g=c[h];if(g.getType()!=f){e=false;break}}if(e){var j;var k;if(f==ol.geom.GeometryType.POINT){var l=c[0];j=l.getLayout();k=l.getFlatCoordinates();for(h=1,i=c.length;h<i;++h){g=c[h];goog.DEBUG&&console.assert(g.getLayout()==j,"geometry layout should be consistent");ol.array.extend(k,g.getFlatCoordinates())}d=new ol.geom.MultiPoint(null);d.setFlatCoordinates(j,k);ol.format.KML.setCommonGeometryProperties_(d,c)}else if(f==ol.geom.GeometryType.LINE_STRING){d=new ol.geom.MultiLineString(null);d.setLineStrings(c);ol.format.KML.setCommonGeometryProperties_(d,c)}else if(f==ol.geom.GeometryType.POLYGON){d=new ol.geom.MultiPolygon(null);d.setPolygons(c);ol.format.KML.setCommonGeometryProperties_(d,c)}else if(f==ol.geom.GeometryType.GEOMETRY_COLLECTION){d=new ol.geom.GeometryCollection(c)}else{ol.asserts.assert(false,37)}}else{d=new ol.geom.GeometryCollection(c)}return d};ol.format.KML.readPoint_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Point","localName should be Point");var c=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,a,b);var d=ol.format.KML.readFlatCoordinatesFromNode_(a,b);if(d){var e=new ol.geom.Point(null);goog.DEBUG&&console.assert(d.length==3,"flatCoordinates should have a length of 3");e.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,d);e.setProperties(c);return e}else{return undefined}};ol.format.KML.readPolygon_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Polygon","localName should be Polygon");var c=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,a,b);var d=ol.xml.pushParseAndPop([null],ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_,a,b);if(d&&d[0]){var e=new ol.geom.Polygon(null);var f=d[0];var g=[f.length];var h,i;for(h=1,i=d.length;h<i;++h){ol.array.extend(f,d[h]);g.push(f.length)}e.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,f,g);e.setProperties(c);return e}else{return undefined}};ol.format.KML.readStyle_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Style","localName should be Style");var c=ol.xml.pushParseAndPop({},ol.format.KML.STYLE_PARSERS_,a,b);if(!c){return null}var d="fillStyle"in c?c["fillStyle"]:ol.format.KML.DEFAULT_FILL_STYLE_;var e=c["fill"];if(e!==undefined&&!e){d=null}var f="imageStyle"in c?c["imageStyle"]:ol.format.KML.DEFAULT_IMAGE_STYLE_;var g="textStyle"in c?c["textStyle"]:ol.format.KML.DEFAULT_TEXT_STYLE_;var h="strokeStyle"in c?c["strokeStyle"]:ol.format.KML.DEFAULT_STROKE_STYLE_;var i=c["outline"];if(i!==undefined&&!i){h=null}return[new ol.style.Style({fill:d,image:f,stroke:h,text:g,zIndex:undefined})]};ol.format.KML.setCommonGeometryProperties_=function(a,b){var c=b.length;var d=new Array(b.length);var e=new Array(b.length);var f,g,h,i;h=i=false;for(g=0;g<c;++g){f=b[g];d[g]=f.get("extrude");e[g]=f.get("altitudeMode");h=h||d[g]!==undefined;i=i||e[g]}if(h){a.set("extrude",d)}if(i){a.set("altitudeMode",e)}};ol.format.KML.DataParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Data","localName should be Data");var c=a.getAttribute("name");if(c!==null){var d=ol.xml.pushParseAndPop(undefined,ol.format.KML.DATA_PARSERS_,a,b);if(d){var e=b[b.length-1];e[c]=d}}};ol.format.KML.ExtendedDataParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="ExtendedData","localName should be ExtendedData");ol.xml.parseNode(ol.format.KML.EXTENDED_DATA_PARSERS_,a,b)};ol.format.KML.PairDataParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Pair","localName should be Pair");var c=ol.xml.pushParseAndPop({},ol.format.KML.PAIR_PARSERS_,a,b);if(!c){return}var d=c["key"];if(d&&d=="normal"){var e=c["styleUrl"];if(e){b[b.length-1]=e}var f=c["Style"];if(f){b[b.length-1]=f}}};ol.format.KML.PlacemarkStyleMapParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="StyleMap","localName should be StyleMap");var c=ol.format.KML.readStyleMapValue_(a,b);if(!c){return}var d=b[b.length-1];if(Array.isArray(c)){d["Style"]=c}else if(typeof c==="string"){d["styleUrl"]=c}else{ol.asserts.assert(false,38)}};ol.format.KML.SchemaDataParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="SchemaData","localName should be SchemaData");ol.xml.parseNode(ol.format.KML.SCHEMA_DATA_PARSERS_,a,b)};ol.format.KML.SimpleDataParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="SimpleData","localName should be SimpleData");var c=a.getAttribute("name");if(c!==null){var d=ol.format.XSD.readString(a);var e=b[b.length-1];e[c]=d}};ol.format.KML.innerBoundaryIsParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="innerBoundaryIs","localName should be innerBoundaryIs");var c=ol.xml.pushParseAndPop(undefined,ol.format.KML.INNER_BOUNDARY_IS_PARSERS_,a,b);if(c){var d=b[b.length-1];goog.DEBUG&&console.assert(Array.isArray(d),"flatLinearRings should be an array");goog.DEBUG&&console.assert(d.length>0,"flatLinearRings array should not be empty");d.push(c)}};ol.format.KML.outerBoundaryIsParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="outerBoundaryIs","localName should be outerBoundaryIs");var c=ol.xml.pushParseAndPop(undefined,ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_,a,b);if(c){var d=b[b.length-1];goog.DEBUG&&console.assert(Array.isArray(d),"flatLinearRings should be an array");goog.DEBUG&&console.assert(d.length>0,"flatLinearRings array should not be empty");d[0]=c}};ol.format.KML.LinkParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Link","localName should be Link");ol.xml.parseNode(ol.format.KML.LINK_PARSERS_,a,b)};ol.format.KML.whenParser_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="when","localName should be when");var c=b[b.length-1];var d=c.whens;var e=ol.xml.getAllTextContent(a,false);var f=Date.parse(e);d.push(isNaN(f)?0:f)};ol.format.KML.DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{value:ol.xml.makeReplacer(ol.format.XSD.readString)});ol.format.KML.EXTENDED_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.format.KML.DataParser_,SchemaData:ol.format.KML.SchemaDataParser_});ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.KML.FLAT_LINEAR_RING_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{innerBoundaryIs:ol.format.KML.innerBoundaryIsParser_,outerBoundaryIs:ol.format.KML.outerBoundaryIsParser_});ol.format.KML.GX_TRACK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{when:ol.format.KML.whenParser_},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{coord:ol.format.KML.gxCoordParser_}));ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.ICON_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),y:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),w:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),h:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}));ol.format.KML.ICON_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeObjectPropertySetter(ol.format.KML.readIcon_),heading:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),hotSpot:ol.xml.makeObjectPropertySetter(ol.format.KML.readVec2_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.INNER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.LABEL_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.LINE_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),width:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.MULTI_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeArrayPusher(ol.format.KML.readLineString_),LinearRing:ol.xml.makeArrayPusher(ol.format.KML.readLinearRing_),MultiGeometry:ol.xml.makeArrayPusher(ol.format.KML.readMultiGeometry_),Point:ol.xml.makeArrayPusher(ol.format.KML.readPoint_),Polygon:ol.xml.makeArrayPusher(ol.format.KML.readPolygon_)});ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{Track:ol.xml.makeArrayPusher(ol.format.KML.readGxTrack_)});ol.format.KML.NETWORK_LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Link:ol.format.KML.LinkParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.PAIR_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),key:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.PLACEMARK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,MultiGeometry:ol.xml.makeObjectPropertySetter(ol.format.KML.readMultiGeometry_,"geometry"),LineString:ol.xml.makeObjectPropertySetter(ol.format.KML.readLineString_,"geometry"),LinearRing:ol.xml.makeObjectPropertySetter(ol.format.KML.readLinearRing_,"geometry"),Point:ol.xml.makeObjectPropertySetter(ol.format.KML.readPoint_,"geometry"),Polygon:ol.xml.makeObjectPropertySetter(ol.format.KML.readPolygon_,"geometry"),Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),StyleMap:ol.format.KML.PlacemarkStyleMapParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{MultiTrack:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxMultiTrack_,"geometry"),Track:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxTrack_,"geometry")}));ol.format.KML.POLY_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),fill:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),outline:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.SCHEMA_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{SimpleData:ol.format.KML.SimpleDataParser_});ol.format.KML.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.format.KML.IconStyleParser_,LabelStyle:ol.format.KML.LabelStyleParser_,LineStyle:ol.format.KML.LineStyleParser_,PolyStyle:ol.format.KML.PolyStyleParser_});ol.format.KML.STYLE_MAP_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Pair:ol.format.KML.PairDataParser_});ol.format.KML.prototype.getExtensions=function(){return ol.format.KML.EXTENSIONS_};ol.format.KML.prototype.readDocumentOrFolder_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var c=a.localName;goog.DEBUG&&console.assert(c=="Document"||c=="Folder","localName should be Document or Folder");var d=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:ol.xml.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});var e=ol.xml.pushParseAndPop([],d,a,b,this);if(e){return e}else{return undefined}};ol.format.KML.prototype.readPlacemark_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Placemark","localName should be Placemark");var c=ol.xml.pushParseAndPop({geometry:null},ol.format.KML.PLACEMARK_PARSERS_,a,b);if(!c){return undefined}var d=new ol.Feature;var e=a.getAttribute("id");if(e!==null){d.setId(e)}var f=b[0];var g=c["geometry"];if(g){ol.format.Feature.transformWithOptions(g,false,f)}d.setGeometry(g);delete c["geometry"];if(this.extractStyles_){var h=c["Style"];var i=c["styleUrl"];var j=ol.format.KML.createFeatureStyleFunction_(h,i,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);d.setStyle(j)}delete c["Style"];d.setProperties(c);return d};ol.format.KML.prototype.readSharedStyle_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Style","localName should be Style");var c=a.getAttribute("id");if(c!==null){var d=ol.format.KML.readStyle_(a,b);if(d){var e;if(a.baseURI){var f=new URL("#"+c,a.baseURI);e=f.href}else{e="#"+c}this.sharedStyles_[e]=d}}};ol.format.KML.prototype.readSharedStyleMap_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="StyleMap","localName should be StyleMap");var c=a.getAttribute("id");if(c===null){return}var d=ol.format.KML.readStyleMapValue_(a,b);if(!d){return}var e;if(a.baseURI){var f=new URL("#"+c,a.baseURI);e=f.href}else{e="#"+c}this.sharedStyles_[e]=d};ol.format.KML.prototype.readFeature;ol.format.KML.prototype.readFeatureFromNode=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)){return null}goog.DEBUG&&console.assert(a.localName=="Placemark","localName should be Placemark");var c=this.readPlacemark_(a,[this.getReadOptions(a,b)]);if(c){return c}else{return null}};ol.format.KML.prototype.readFeatures;ol.format.KML.prototype.readFeaturesFromNode=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)){return[]}var c;var d=a.localName;if(d=="Document"||d=="Folder"){c=this.readDocumentOrFolder_(a,[this.getReadOptions(a,b)]);if(c){return c}else{return[]}}else if(d=="Placemark"){var e=this.readPlacemark_(a,[this.getReadOptions(a,b)]);if(e){return[e]}else{return[]}}else if(d=="kml"){c=[];var f;for(f=a.firstElementChild;f;f=f.nextElementSibling){var g=this.readFeaturesFromNode(f,b);if(g){ol.array.extend(c,g)}}return c}else{return[]}};ol.format.KML.prototype.readName=function(a){if(ol.xml.isDocument(a)){return this.readNameFromDocument(a)}else if(ol.xml.isNode(a)){return this.readNameFromNode(a)}else if(typeof a==="string"){var b=ol.xml.parse(a);return this.readNameFromDocument(b)}else{return undefined}};ol.format.KML.prototype.readNameFromDocument=function(a){var b;for(b=a.firstChild;b;b=b.nextSibling){if(b.nodeType==Node.ELEMENT_NODE){var c=this.readNameFromNode(b);if(c){return c}}}return undefined};ol.format.KML.prototype.readNameFromNode=function(a){var b;for(b=a.firstElementChild;b;b=b.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)&&b.localName=="name"){return ol.format.XSD.readString(b)}}for(b=a.firstElementChild;b;b=b.nextElementSibling){var c=b.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)&&(c=="Document"||c=="Folder"||c=="Placemark"||c=="kml")){var d=this.readNameFromNode(b);if(d){return d}}}return undefined};ol.format.KML.prototype.readNetworkLinks=function(a){var b=[];if(ol.xml.isDocument(a)){ol.array.extend(b,this.readNetworkLinksFromDocument(a))}else if(ol.xml.isNode(a)){ol.array.extend(b,this.readNetworkLinksFromNode(a))}else if(typeof a==="string"){var c=ol.xml.parse(a);ol.array.extend(b,this.readNetworkLinksFromDocument(c))}return b};ol.format.KML.prototype.readNetworkLinksFromDocument=function(a){var b,c=[];for(b=a.firstChild;b;b=b.nextSibling){if(b.nodeType==Node.ELEMENT_NODE){ol.array.extend(c,this.readNetworkLinksFromNode(b))}}return c};ol.format.KML.prototype.readNetworkLinksFromNode=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)&&b.localName=="NetworkLink"){var d=ol.xml.pushParseAndPop({},ol.format.KML.NETWORK_LINK_PARSERS_,b,[]);c.push(d)}}for(b=a.firstElementChild;b;b=b.nextElementSibling){var e=b.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,b.namespaceURI)&&(e=="Document"||e=="Folder"||e=="kml")){ol.array.extend(c,this.readNetworkLinksFromNode(b))}}return c};ol.format.KML.prototype.readProjection;ol.format.KML.writeColorTextNode_=function(a,b){var c=ol.color.asArray(b);var d=c.length==4?c[3]:1;var e=[d*255,c[2],c[1],c[0]];var f;for(f=0;f<4;++f){var g=parseInt(e[f],10).toString(16);e[f]=g.length==1?"0"+g:g}ol.format.XSD.writeStringTextNode(a,e.join(""))};ol.format.KML.writeCoordinatesTextNode_=function(a,b,c){var d=c[c.length-1];var e=d["layout"];var f=d["stride"];var g;if(e==ol.geom.GeometryLayout.XY||e==ol.geom.GeometryLayout.XYM){g=2}else if(e==ol.geom.GeometryLayout.XYZ||e==ol.geom.GeometryLayout.XYZM){g=3}else{ol.asserts.assert(false,34)}var h,i;var j=b.length;var k="";if(j>0){k+=b[0];for(h=1;h<g;++h){k+=","+b[h]}for(i=f;i<j;i+=f){k+=" "+b[i];for(h=1;h<g;++h){k+=","+b[i+h]}}}ol.format.XSD.writeStringTextNode(a,k)};ol.format.KML.writeDocument_=function(a,b,c){var d={node:a};ol.xml.pushSerializeAndPop(d,ol.format.KML.DOCUMENT_SERIALIZERS_,ol.format.KML.DOCUMENT_NODE_FACTORY_,b,c,undefined,this)};ol.format.KML.writeIcon_=function(a,b,c){var d={node:a};var e=c[c.length-1].node;var f=ol.format.KML.ICON_SEQUENCE_[e.namespaceURI];var g=ol.xml.makeSequence(b,f);ol.xml.pushSerializeAndPop(d,ol.format.KML.ICON_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,g,c,f);f=ol.format.KML.ICON_SEQUENCE_[ol.format.KML.GX_NAMESPACE_URIS_[0]];g=ol.xml.makeSequence(b,f);ol.xml.pushSerializeAndPop(d,ol.format.KML.ICON_SERIALIZERS_,ol.format.KML.GX_NODE_FACTORY_,g,c,f)};ol.format.KML.writeIconStyle_=function(a,b,c){var d={node:a};var e={};var f=b.getSrc();var g=b.getSize();var h=b.getImageSize();var i={href:f};if(g){i["w"]=g[0];i["h"]=g[1];var j=b.getAnchor();var k=b.getOrigin();if(k&&h&&k[0]!==0&&k[1]!==g[1]){i["x"]=k[0];i["y"]=h[1]-(k[1]+g[1])}if(j&&j[0]!==0&&j[1]!==g[1]){var l={x:j[0],xunits:ol.style.IconAnchorUnits.PIXELS,y:g[1]-j[1],yunits:ol.style.IconAnchorUnits.PIXELS};e["hotSpot"]=l}}e["Icon"]=i;var m=b.getScale();if(m!==1){e["scale"]=m}var n=b.getRotation();if(n!==0){e["heading"]=n}var o=c[c.length-1].node;var p=ol.format.KML.ICON_STYLE_SEQUENCE_[o.namespaceURI];var q=ol.xml.makeSequence(e,p);ol.xml.pushSerializeAndPop(d,ol.format.KML.ICON_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,q,c,p)};ol.format.KML.writeLabelStyle_=function(a,b,c){var d={node:a};var e={};var f=b.getFill();if(f){e["color"]=f.getColor()}var g=b.getScale();if(g&&g!==1){e["scale"]=g}var h=c[c.length-1].node;var i=ol.format.KML.LABEL_STYLE_SEQUENCE_[h.namespaceURI];var j=ol.xml.makeSequence(e,i);ol.xml.pushSerializeAndPop(d,ol.format.KML.LABEL_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,j,c,i)};ol.format.KML.writeLineStyle_=function(a,b,c){var d={node:a};var e={color:b.getColor(),width:b.getWidth()};var f=c[c.length-1].node;var g=ol.format.KML.LINE_STYLE_SEQUENCE_[f.namespaceURI];var h=ol.xml.makeSequence(e,g);ol.xml.pushSerializeAndPop(d,ol.format.KML.LINE_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,h,c,g)};ol.format.KML.writeMultiGeometry_=function(a,b,c){var d={node:a};var e=b.getType();var f;var g;if(e==ol.geom.GeometryType.GEOMETRY_COLLECTION){f=b.getGeometries();g=ol.format.KML.GEOMETRY_NODE_FACTORY_}else if(e==ol.geom.GeometryType.MULTI_POINT){f=b.getPoints();g=ol.format.KML.POINT_NODE_FACTORY_}else if(e==ol.geom.GeometryType.MULTI_LINE_STRING){f=b.getLineStrings();g=ol.format.KML.LINE_STRING_NODE_FACTORY_}else if(e==ol.geom.GeometryType.MULTI_POLYGON){f=b.getPolygons();g=ol.format.KML.POLYGON_NODE_FACTORY_}else{ol.asserts.assert(false,39)}ol.xml.pushSerializeAndPop(d,ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_,g,f,c);
};ol.format.KML.writeBoundaryIs_=function(a,b,c){var d={node:a};ol.xml.pushSerializeAndPop(d,ol.format.KML.BOUNDARY_IS_SERIALIZERS_,ol.format.KML.LINEAR_RING_NODE_FACTORY_,[b],c)};ol.format.KML.writePlacemark_=function(a,b,c){var d={node:a};if(b.getId()){a.setAttribute("id",b.getId())}var e=b.getProperties();var f=b.getStyleFunction();if(f){var g=f.call(b,0);if(g){var h=Array.isArray(g)?g[0]:g;if(this.writeStyles_){e["Style"]=h}var i=h.getText();if(i){e["name"]=i.getText()}}}var j=c[c.length-1].node;var k=ol.format.KML.PLACEMARK_SEQUENCE_[j.namespaceURI];var l=ol.xml.makeSequence(e,k);ol.xml.pushSerializeAndPop(d,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,c,k);var m=c[0];var n=b.getGeometry();if(n){n=ol.format.Feature.transformWithOptions(n,true,m)}ol.xml.pushSerializeAndPop(d,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.GEOMETRY_NODE_FACTORY_,[n],c)};ol.format.KML.writePrimitiveGeometry_=function(a,b,c){goog.DEBUG&&console.assert(b instanceof ol.geom.Point||b instanceof ol.geom.LineString||b instanceof ol.geom.LinearRing,"geometry should be one of ol.geom.Point, ol.geom.LineString "+"or ol.geom.LinearRing");var d=b.getFlatCoordinates();var e={node:a};e["layout"]=b.getLayout();e["stride"]=b.getStride();ol.xml.pushSerializeAndPop(e,ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,ol.format.KML.COORDINATES_NODE_FACTORY_,[d],c)};ol.format.KML.writePolygon_=function(a,b,c){var d=b.getLinearRings();goog.DEBUG&&console.assert(d.length>0,"linearRings should not be empty");var e=d.shift();var f={node:a};ol.xml.pushSerializeAndPop(f,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_,d,c);ol.xml.pushSerializeAndPop(f,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_,[e],c)};ol.format.KML.writePolyStyle_=function(a,b,c){var d={node:a};ol.xml.pushSerializeAndPop(d,ol.format.KML.POLY_STYLE_SERIALIZERS_,ol.format.KML.COLOR_NODE_FACTORY_,[b.getColor()],c)};ol.format.KML.writeScaleTextNode_=function(a,b){ol.format.XSD.writeDecimalTextNode(a,Math.round(b*b*1e6)/1e6)};ol.format.KML.writeStyle_=function(a,b,c){var d={node:a};var e={};var f=b.getFill();var g=b.getStroke();var h=b.getImage();var i=b.getText();if(h instanceof ol.style.Icon){e["IconStyle"]=h}if(i){e["LabelStyle"]=i}if(g){e["LineStyle"]=g}if(f){e["PolyStyle"]=f}var j=c[c.length-1].node;var k=ol.format.KML.STYLE_SEQUENCE_[j.namespaceURI];var l=ol.xml.makeSequence(e,k);ol.xml.pushSerializeAndPop(d,ol.format.KML.STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,c,k)};ol.format.KML.writeVec2_=function(a,b){a.setAttribute("x",b.x);a.setAttribute("y",b.y);a.setAttribute("xunits",b.xunits);a.setAttribute("yunits",b.yunits)};ol.format.KML.KML_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["Document","Placemark"]);ol.format.KML.KML_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeChildAppender(ol.format.KML.writeDocument_),Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.DOCUMENT_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"};ol.format.KML.ICON_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["href"],ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,["x","y","w","h"]));ol.format.KML.ICON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),y:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),w:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),h:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)}));ol.format.KML.ICON_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]);ol.format.KML.ICON_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeChildAppender(ol.format.KML.writeIcon_),heading:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),hotSpot:ol.xml.makeChildAppender(ol.format.KML.writeVec2_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LABEL_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","scale"]);ol.format.KML.LABEL_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LINE_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","width"]);ol.format.KML.LINE_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),width:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)});ol.format.KML.BOUNDARY_IS_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_)});ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),GeometryCollection:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_)});ol.format.KML.PLACEMARK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]);ol.format.KML.PLACEMARK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{MultiGeometry:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_),LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),Style:ol.xml.makeChildAppender(ol.format.KML.writeStyle_),address:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),description:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),open:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),phoneNumber:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),styleUrl:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),visibility:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode)});ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeChildAppender(ol.format.KML.writeCoordinatesTextNode_)});ol.format.KML.POLYGON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_)});ol.format.KML.POLY_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_)});ol.format.KML.STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]);ol.format.KML.STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.xml.makeChildAppender(ol.format.KML.writeIconStyle_),LabelStyle:ol.xml.makeChildAppender(ol.format.KML.writeLabelStyle_),LineStyle:ol.xml.makeChildAppender(ol.format.KML.writeLineStyle_),PolyStyle:ol.xml.makeChildAppender(ol.format.KML.writePolyStyle_)});ol.format.KML.GX_NODE_FACTORY_=function(a,b,c){return ol.xml.createElementNS(ol.format.KML.GX_NAMESPACE_URIS_[0],"gx:"+c)};ol.format.KML.DOCUMENT_NODE_FACTORY_=function(a,b,c){var d=b[b.length-1].node;goog.DEBUG&&console.assert(ol.xml.isNode(d),"parentNode should be an XML node");return ol.xml.createElementNS(d.namespaceURI,"Placemark")};ol.format.KML.GEOMETRY_NODE_FACTORY_=function(a,b,c){if(a){var d=b[b.length-1].node;goog.DEBUG&&console.assert(ol.xml.isNode(d),"parentNode should be an XML node");return ol.xml.createElementNS(d.namespaceURI,ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_[a.getType()])}};ol.format.KML.COLOR_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("color");ol.format.KML.COORDINATES_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("coordinates");ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("innerBoundaryIs");ol.format.KML.POINT_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Point");ol.format.KML.LINE_STRING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LineString");ol.format.KML.LINEAR_RING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LinearRing");ol.format.KML.POLYGON_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Polygon");ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("outerBoundaryIs");ol.format.KML.prototype.writeFeatures;ol.format.KML.prototype.writeFeaturesNode=function(a,b){b=this.adaptOptions(b);var c=ol.xml.createElementNS(ol.format.KML.NAMESPACE_URIS_[4],"kml");var d="http://www.w3.org/2000/xmlns/";var e="http://www.w3.org/2001/XMLSchema-instance";ol.xml.setAttributeNS(c,d,"xmlns:gx",ol.format.KML.GX_NAMESPACE_URIS_[0]);ol.xml.setAttributeNS(c,d,"xmlns:xsi",e);ol.xml.setAttributeNS(c,e,"xsi:schemaLocation",ol.format.KML.SCHEMA_LOCATION_);var f={node:c};var g={};if(a.length>1){g["Document"]=a}else if(a.length==1){g["Placemark"]=a[0]}var h=ol.format.KML.KML_SEQUENCE_[c.namespaceURI];var i=ol.xml.makeSequence(g,h);ol.xml.pushSerializeAndPop(f,ol.format.KML.KML_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,i,[b],h,this);return c};goog.provide("ol.ext.pbf");ol.ext.pbf;(function(){var a={};var b={exports:a};var c;(function(d){if(typeof a==="object"&&typeof b!=="undefined"){b.exports=d()}else if(typeof c==="function"&&c.amd){c([],d)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.pbf=d()}})((function(){var a,b,c;return (function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i=typeof require=="function"&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,(function(b){var c=a[g][1][b];return e(c?c:b)}),k,k.exports,d,a,b,c)}return b[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<c.length;g++)e(c[g]);return e})({1:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g;var h=e*8-d-1;var i=(1<<h)-1;var j=i>>1;var k=-7;var l=c?e-1:0;var m=c?-1:1;var n=a[b+l];l+=m;f=n&(1<<-k)-1;n>>=-k;k+=h;for(;k>0;f=f*256+a[b+l],l+=m,k-=8){}g=f&(1<<-k)-1;f>>=-k;k+=d;for(;k>0;g=g*256+a[b+l],l+=m,k-=8){}if(f===0){f=1-j}else if(f===i){return g?NaN:(n?-1:1)*Infinity}else{g=g+Math.pow(2,d);f=f-j}return(n?-1:1)*g*Math.pow(2,f-d)};c.write=function(a,b,c,d,e,f){var g,h,i;var j=f*8-e-1;var k=(1<<j)-1;var l=k>>1;var m=e===23?Math.pow(2,-24)-Math.pow(2,-77):0;var n=d?0:f-1;var o=d?1:-1;var p=b<0||b===0&&1/b<0?1:0;b=Math.abs(b);if(isNaN(b)||b===Infinity){h=isNaN(b)?1:0;g=k}else{g=Math.floor(Math.log(b)/Math.LN2);if(b*(i=Math.pow(2,-g))<1){g--;i*=2}if(g+l>=1){b+=m/i}else{b+=m*Math.pow(2,1-l)}if(b*i>=2){g++;i/=2}if(g+l>=k){h=0;g=k}else if(g+l>=1){h=(b*i-1)*Math.pow(2,e);g=g+l}else{h=b*Math.pow(2,l-1)*Math.pow(2,e);g=0}}for(;e>=8;a[c+n]=h&255,n+=o,h/=256,e-=8){}g=g<<e|h;j+=e;for(;j>0;a[c+n]=g&255,n+=o,g/=256,j-=8){}a[c+n-o]|=p*128}},{}],2:[function(a,b,c){"use strict";b.exports=f;var d=a("ieee754");var e;function f(a){var b;if(a&&a.length){b=a;a=b.length}var c=new Uint8Array(a||0);if(b)c.set(b);c.readUInt32LE=e.readUInt32LE;c.writeUInt32LE=e.writeUInt32LE;c.readInt32LE=e.readInt32LE;c.writeInt32LE=e.writeInt32LE;c.readFloatLE=e.readFloatLE;c.writeFloatLE=e.writeFloatLE;c.readDoubleLE=e.readDoubleLE;c.writeDoubleLE=e.writeDoubleLE;c.toString=e.toString;c.write=e.write;c.slice=e.slice;c.copy=e.copy;c._isBuffer=true;return c}var g,h;e={readUInt32LE:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},writeUInt32LE:function(a,b){this[b]=a;this[b+1]=a>>>8;this[b+2]=a>>>16;this[b+3]=a>>>24},readInt32LE:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+(this[a+3]<<24)},readFloatLE:function(a){return d.read(this,a,true,23,4)},readDoubleLE:function(a){return d.read(this,a,true,52,8)},writeFloatLE:function(a,b){return d.write(this,a,b,true,23,4)},writeDoubleLE:function(a,b){return d.write(this,a,b,true,52,8)},toString:function(a,b,c){var d="",e="";b=b||0;c=Math.min(this.length,c||this.length);for(var f=b;f<c;f++){var g=this[f];if(g<=127){d+=decodeURIComponent(e)+String.fromCharCode(g);e=""}else{e+="%"+g.toString(16)}}d+=decodeURIComponent(e);return d},write:function(a,b){var c=a===g?h:i(a);for(var d=0;d<c.length;d++){this[b+d]=c[d]}},slice:function(a,b){return this.subarray(a,b)},copy:function(a,b){b=b||0;for(var c=0;c<this.length;c++){a[b+c]=this[c]}}};e.writeInt32LE=e.writeUInt32LE;f.byteLength=function(a){g=a;h=i(a);return h.length};f.isBuffer=function(a){return!!(a&&a._isBuffer)};function i(a){var b=a.length,c=[];for(var d=0,e,f;d<b;d++){e=a.charCodeAt(d);if(e>55295&&e<57344){if(f){if(e<56320){c.push(239,191,189);f=e;continue}else{e=f-55296<<10|e-56320|65536;f=null}}else{if(e>56319||d+1===b)c.push(239,191,189);else f=e;continue}}else if(f){c.push(239,191,189);f=null}if(e<128)c.push(e);else if(e<2048)c.push(e>>6|192,e&63|128);else if(e<65536)c.push(e>>12|224,e>>6&63|128,e&63|128);else c.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}return c}},{ieee754:1}],3:[function(a,b,c){(function(c){"use strict";b.exports=e;var d=c.Buffer||a("./buffer");function e(a){this.buf=!d.isBuffer(a)?new d(a||0):a;this.pos=0;this.length=this.buf.length}e.Varint=0;e.Fixed64=1;e.Bytes=2;e.Fixed32=5;var f=(1<<16)*(1<<16),g=1/f,h=Math.pow(2,63);e.prototype={destroy:function(){this.buf=null},readFields:function(a,b,c){c=c||this.length;while(this.pos<c){var d=this.readVarint(),e=d>>3,f=this.pos;a(e,b,this);if(this.pos===f)this.skip(d)}return b},readMessage:function(a,b){return this.readFields(a,b,this.readVarint()+this.pos)},readFixed32:function(){var a=this.buf.readUInt32LE(this.pos);this.pos+=4;return a},readSFixed32:function(){var a=this.buf.readInt32LE(this.pos);this.pos+=4;return a},readFixed64:function(){var a=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*f;this.pos+=8;return a},readSFixed64:function(){var a=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*f;this.pos+=8;return a},readFloat:function(){var a=this.buf.readFloatLE(this.pos);this.pos+=4;return a},readDouble:function(){var a=this.buf.readDoubleLE(this.pos);this.pos+=8;return a},readVarint:function(){var a=this.buf,b,c;c=a[this.pos++];b=c&127;if(c<128)return b;c=a[this.pos++];b|=(c&127)<<7;if(c<128)return b;c=a[this.pos++];b|=(c&127)<<14;if(c<128)return b;c=a[this.pos++];b|=(c&127)<<21;if(c<128)return b;return i(b,this)},readVarint64:function(){var a=this.pos,b=this.readVarint();if(b<h)return b;var c=this.pos-2;while(this.buf[c]===255)c--;if(c<a)c=a;b=0;for(var d=0;d<c-a+1;d++){var e=~this.buf[a+d]&127;b+=d<4?e<<d*7:e*Math.pow(2,d*7)}return-b-1},readSVarint:function(){var a=this.readVarint();return a%2===1?(a+1)/-2:a/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var a=this.readVarint()+this.pos,b=this.buf.toString("utf8",this.pos,a);this.pos=a;return b},readBytes:function(){var a=this.readVarint()+this.pos,b=this.buf.slice(this.pos,a);this.pos=a;return b},readPackedVarint:function(){var a=this.readVarint()+this.pos,b=[];while(this.pos<a)b.push(this.readVarint());return b},readPackedSVarint:function(){var a=this.readVarint()+this.pos,b=[];while(this.pos<a)b.push(this.readSVarint());return b},readPackedBoolean:function(){var a=this.readVarint()+this.pos,b=[];while(this.pos<a)b.push(this.readBoolean());return b},readPackedFloat:function(){var a=this.readVarint()+this.pos,b=[];while(this.pos<a)b.push(this.readFloat());return b},readPackedDouble:function(){var a=this.readVarint()+this.pos,b=[];while(this.pos<a)b.push(this.readDouble());return b},readPackedFixed32:function(){var a=this.readVarint()+this.pos,b=[];while(this.pos<a)b.push(this.readFixed32());return b},readPackedSFixed32:function(){var a=this.readVarint()+this.pos,b=[];while(this.pos<a)b.push(this.readSFixed32());return b},readPackedFixed64:function(){var a=this.readVarint()+this.pos,b=[];while(this.pos<a)b.push(this.readFixed64());return b},readPackedSFixed64:function(){var a=this.readVarint()+this.pos,b=[];while(this.pos<a)b.push(this.readSFixed64());return b},skip:function(a){var b=a&7;if(b===e.Varint)while(this.buf[this.pos++]>127){}else if(b===e.Bytes)this.pos=this.readVarint()+this.pos;else if(b===e.Fixed32)this.pos+=4;else if(b===e.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+b)},writeTag:function(a,b){this.writeVarint(a<<3|b)},realloc:function(a){var b=this.length||16;while(b<this.pos+a)b*=2;if(b!==this.length){var c=new d(b);this.buf.copy(c);this.buf=c;this.length=b}},finish:function(){this.length=this.pos;this.pos=0;return this.buf.slice(0,this.length)},writeFixed32:function(a){this.realloc(4);this.buf.writeUInt32LE(a,this.pos);this.pos+=4},writeSFixed32:function(a){this.realloc(4);this.buf.writeInt32LE(a,this.pos);this.pos+=4},writeFixed64:function(a){this.realloc(8);this.buf.writeInt32LE(a&-1,this.pos);this.buf.writeUInt32LE(Math.floor(a*g),this.pos+4);this.pos+=8},writeSFixed64:function(a){this.realloc(8);this.buf.writeInt32LE(a&-1,this.pos);this.buf.writeInt32LE(Math.floor(a*g),this.pos+4);this.pos+=8},writeVarint:function(a){a=+a;if(a>268435455){j(a,this);return}this.realloc(4);this.buf[this.pos++]=a&127|(a>127?128:0);if(a<=127)return;this.buf[this.pos++]=(a>>>=7)&127|(a>127?128:0);if(a<=127)return;this.buf[this.pos++]=(a>>>=7)&127|(a>127?128:0);if(a<=127)return;this.buf[this.pos++]=a>>>7&127},writeSVarint:function(a){this.writeVarint(a<0?-a*2-1:a*2)},writeBoolean:function(a){this.writeVarint(Boolean(a))},writeString:function(a){a=String(a);var b=d.byteLength(a);this.writeVarint(b);this.realloc(b);this.buf.write(a,this.pos);this.pos+=b},writeFloat:function(a){this.realloc(4);this.buf.writeFloatLE(a,this.pos);this.pos+=4},writeDouble:function(a){this.realloc(8);this.buf.writeDoubleLE(a,this.pos);this.pos+=8},writeBytes:function(a){var b=a.length;this.writeVarint(b);this.realloc(b);for(var c=0;c<b;c++)this.buf[this.pos++]=a[c]},writeRawMessage:function(a,b){this.pos++;var c=this.pos;a(b,this);var d=this.pos-c;if(d>=128)k(c,d,this);this.pos=c-1;this.writeVarint(d);this.pos+=d},writeMessage:function(a,b,c){this.writeTag(a,e.Bytes);this.writeRawMessage(b,c)},writePackedVarint:function(a,b){this.writeMessage(a,l,b)},writePackedSVarint:function(a,b){this.writeMessage(a,m,b)},writePackedBoolean:function(a,b){this.writeMessage(a,p,b)},writePackedFloat:function(a,b){this.writeMessage(a,n,b)},writePackedDouble:function(a,b){this.writeMessage(a,o,b)},writePackedFixed32:function(a,b){this.writeMessage(a,q,b)},writePackedSFixed32:function(a,b){this.writeMessage(a,r,b)},writePackedFixed64:function(a,b){this.writeMessage(a,s,b)},writePackedSFixed64:function(a,b){this.writeMessage(a,t,b)},writeBytesField:function(a,b){this.writeTag(a,e.Bytes);this.writeBytes(b)},writeFixed32Field:function(a,b){this.writeTag(a,e.Fixed32);this.writeFixed32(b)},writeSFixed32Field:function(a,b){this.writeTag(a,e.Fixed32);this.writeSFixed32(b)},writeFixed64Field:function(a,b){this.writeTag(a,e.Fixed64);this.writeFixed64(b)},writeSFixed64Field:function(a,b){this.writeTag(a,e.Fixed64);this.writeSFixed64(b)},writeVarintField:function(a,b){this.writeTag(a,e.Varint);this.writeVarint(b)},writeSVarintField:function(a,b){this.writeTag(a,e.Varint);this.writeSVarint(b)},writeStringField:function(a,b){this.writeTag(a,e.Bytes);this.writeString(b)},writeFloatField:function(a,b){this.writeTag(a,e.Fixed32);this.writeFloat(b)},writeDoubleField:function(a,b){this.writeTag(a,e.Fixed64);this.writeDouble(b)},writeBooleanField:function(a,b){this.writeVarintField(a,Boolean(b))}};function i(a,b){var c=b.buf,d;d=c[b.pos++];a+=(d&127)*268435456;if(d<128)return a;d=c[b.pos++];a+=(d&127)*34359738368;if(d<128)return a;d=c[b.pos++];a+=(d&127)*4398046511104;if(d<128)return a;d=c[b.pos++];a+=(d&127)*562949953421312;if(d<128)return a;d=c[b.pos++];a+=(d&127)*72057594037927940;if(d<128)return a;d=c[b.pos++];a+=(d&127)*0x8000000000000000;if(d<128)return a;throw new Error("Expected varint not more than 10 bytes")}function j(a,b){b.realloc(10);var c=b.pos+10;while(a>=1){if(b.pos>=c)throw new Error("Given varint doesn't fit into 10 bytes");var d=a&255;b.buf[b.pos++]=d|(a>=128?128:0);a/=128}}function k(a,b,c){var d=b<=16383?1:b<=2097151?2:b<=268435455?3:Math.ceil(Math.log(b)/(Math.LN2*7));c.realloc(d);for(var e=c.pos-1;e>=a;e--)c.buf[e+d]=c.buf[e]}function l(a,b){for(var c=0;c<a.length;c++)b.writeVarint(a[c])}function m(a,b){for(var c=0;c<a.length;c++)b.writeSVarint(a[c])}function n(a,b){for(var c=0;c<a.length;c++)b.writeFloat(a[c])}function o(a,b){for(var c=0;c<a.length;c++)b.writeDouble(a[c])}function p(a,b){for(var c=0;c<a.length;c++)b.writeBoolean(a[c])}function q(a,b){for(var c=0;c<a.length;c++)b.writeFixed32(a[c])}function r(a,b){for(var c=0;c<a.length;c++)b.writeSFixed32(a[c])}function s(a,b){for(var c=0;c<a.length;c++)b.writeFixed64(a[c])}function t(a,b){for(var c=0;c<a.length;c++)b.writeSFixed64(a[c])}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./buffer":2}]},{},[3])(3)}));ol.ext.pbf=b.exports})();goog.provide("ol.ext.vectortile");ol.ext.vectortile;(function(){var a={};var b={exports:a};var c;(function(d){if(typeof a==="object"&&typeof b!=="undefined"){b.exports=d()}else if(typeof c==="function"&&c.amd){c([],d)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.vectortile=d()}})((function(){var a,b,c;return (function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i=typeof require=="function"&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,(function(b){var c=a[g][1][b];return e(c?c:b)}),k,k.exports,d,a,b,c)}return b[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<c.length;g++)e(c[g]);return e})({1:[function(a,b,c){"use strict";b.exports=d;function d(a,b){this.x=a;this.y=b}d.prototype={clone:function(){return new d(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var b=a.x-this.x,c=a.y-this.y;return b*b+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,b){return Math.atan2(this.x*b-this.y*a,this.x*a+this.y*b)},_matMult:function(a){var b=a[0]*this.x+a[1]*this.y,c=a[2]*this.x+a[3]*this.y;this.x=b;this.y=c;return this},_add:function(a){this.x+=a.x;this.y+=a.y;return this},_sub:function(a){this.x-=a.x;this.y-=a.y;return this},_mult:function(a){this.x*=a;this.y*=a;return this},_div:function(a){this.x/=a;this.y/=a;return this},_unit:function(){this._div(this.mag());return this},_perp:function(){var a=this.y;this.y=this.x;this.x=-a;return this},_rotate:function(a){var b=Math.cos(a),c=Math.sin(a),d=b*this.x-c*this.y,e=c*this.x+b*this.y;this.x=d;this.y=e;return this},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}};d.convert=function(a){if(a instanceof d){return a}if(Array.isArray(a)){return new d(a[0],a[1])}return a}},{}],2:[function(a,b,c){b.exports.VectorTile=a("./lib/vectortile.js");b.exports.VectorTileFeature=a("./lib/vectortilefeature.js");b.exports.VectorTileLayer=a("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(a,b,c){"use strict";var d=a("./vectortilelayer");b.exports=e;function e(a,b){this.layers=a.readFields(f,{},b)}function f(a,b,c){if(a===3){var e=new d(c,c.readVarint()+c.pos);if(e.length)b[e.name]=e}}},{"./vectortilelayer":5}],4:[function(a,b,c){"use strict";var d=a("point-geometry");b.exports=e;function e(a,b,c,d,e){this.properties={};this.extent=c;this.type=0;this._pbf=a;this._geometry=-1;this._keys=d;this._values=e;a.readFields(f,this,b)}function f(a,b,c){if(a==1)b.id=c.readVarint();else if(a==2)g(c,b);else if(a==3)b.type=c.readVarint();else if(a==4)b._geometry=c.pos}function g(a,b){var c=a.readVarint()+a.pos;while(a.pos<c){var d=b._keys[a.readVarint()],e=b._values[a.readVarint()];b.properties[d]=e}}e.types=["Unknown","Point","LineString","Polygon"];e.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;var b=a.readVarint()+a.pos,c=1,e=0,f=0,g=0,h=[],i;while(a.pos<b){if(!e){var j=a.readVarint();c=j&7;e=j>>3}e--;if(c===1||c===2){f+=a.readSVarint();g+=a.readSVarint();if(c===1){if(i)h.push(i);i=[]}i.push(new d(f,g))}else if(c===7){if(i){i.push(i[0].clone())}}else{throw new Error("unknown command "+c)}}if(i)h.push(i);return h};e.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;var b=a.readVarint()+a.pos,c=1,d=0,e=0,f=0,g=Infinity,h=-Infinity,i=Infinity,j=-Infinity;while(a.pos<b){if(!d){var k=a.readVarint();c=k&7;d=k>>3}d--;if(c===1||c===2){e+=a.readSVarint();f+=a.readSVarint();if(e<g)g=e;if(e>h)h=e;if(f<i)i=f;if(f>j)j=f}else if(c!==7){throw new Error("unknown command "+c)}}return[g,i,h,j]};e.prototype.toGeoJSON=function(a,b,c){var d=this.extent*Math.pow(2,c),f=this.extent*a,g=this.extent*b,i=this.loadGeometry(),j=e.types[this.type],k,l;function m(a){for(var b=0;b<a.length;b++){var c=a[b],e=180-(c.y+g)*360/d;a[b]=[(c.x+f)*360/d-180,360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90]}}switch(this.type){case 1:var n=[];for(k=0;k<i.length;k++){n[k]=i[k][0]}i=n;m(i);break;case 2:for(k=0;k<i.length;k++){m(i[k])}break;case 3:i=h(i);for(k=0;k<i.length;k++){for(l=0;l<i[k].length;l++){m(i[k][l])}}break}if(i.length===1){i=i[0]}else{j="Multi"+j}var o={type:"Feature",geometry:{type:j,coordinates:i},properties:this.properties};if("id"in this){o.id=this.id}return o};function h(a){var b=a.length;if(b<=1)return[a];var c=[],d,e;for(var f=0;f<b;f++){var g=i(a[f]);if(g===0)continue;if(e===undefined)e=g<0;if(e===g<0){if(d)c.push(d);d=[a[f]]}else{d.push(a[f])}}if(d)c.push(d);return c}function i(a){var b=0;for(var c=0,d=a.length,e=d-1,f,g;c<d;e=c++){f=a[c];g=a[e];b+=(g.x-f.x)*(f.y+g.y)}return b}},{"point-geometry":1}],5:[function(a,b,c){"use strict";var d=a("./vectortilefeature.js");b.exports=e;function e(a,b){this.version=1;this.name=null;this.extent=4096;this.length=0;this._pbf=a;this._keys=[];this._values=[];this._features=[];a.readFields(f,this,b);this.length=this._features.length}function f(a,b,c){if(a===15)b.version=c.readVarint();else if(a===1)b.name=c.readString();else if(a===5)b.extent=c.readVarint();else if(a===2)b._features.push(c.pos);else if(a===3)b._keys.push(c.readString());else if(a===4)b._values.push(g(c))}function g(a){var b=null,c=a.readVarint()+a.pos;while(a.pos<c){var d=a.readVarint()>>3;b=d===1?a.readString():d===2?a.readFloat():d===3?a.readDouble():d===4?a.readVarint64():d===5?a.readVarint():d===6?a.readSVarint():d===7?a.readBoolean():null}return b}e.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var b=this._pbf.readVarint()+this._pbf.pos;return new d(this._pbf,b,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":4}]},{},[2])(2)}));ol.ext.vectortile=b.exports})();goog.provide("ol.render.Feature");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryType");ol.render.Feature=function(a,b,c,d){this.extent_;goog.DEBUG&&console.assert(a===ol.geom.GeometryType.POINT||a===ol.geom.GeometryType.MULTI_POINT||a===ol.geom.GeometryType.LINE_STRING||a===ol.geom.GeometryType.MULTI_LINE_STRING||a===ol.geom.GeometryType.POLYGON,"Need a Point, MultiPoint, LineString, MultiLineString or Polygon type");this.type_=a;this.flatCoordinates_=b;this.ends_=c;this.properties_=d};ol.render.Feature.prototype.get=function(a){return this.properties_[a]};ol.render.Feature.prototype.getEnds=function(){return this.ends_};ol.render.Feature.prototype.getExtent=function(){if(!this.extent_){this.extent_=this.type_===ol.geom.GeometryType.POINT?ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates_):ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates_,0,this.flatCoordinates_.length,2)}return this.extent_};ol.render.Feature.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};ol.render.Feature.prototype.getFlatCoordinates=ol.render.Feature.prototype.getOrientedFlatCoordinates;ol.render.Feature.prototype.getGeometry=function(){return this};ol.render.Feature.prototype.getProperties=function(){return this.properties_};ol.render.Feature.prototype.getSimplifiedGeometry=ol.render.Feature.prototype.getGeometry;ol.render.Feature.prototype.getStride=function(){return 2};ol.render.Feature.prototype.getStyleFunction=ol.nullFunction;ol.render.Feature.prototype.getType=function(){return this.type_};goog.provide("ol.format.MVT");goog.require("ol");goog.require("ol.ext.pbf");goog.require("ol.ext.vectortile");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.render.Feature");ol.format.MVT=function(a){ol.format.Feature.call(this);var b=a?a:{};this.defaultDataProjection=new ol.proj.Projection({code:"",units:ol.proj.Units.TILE_PIXELS});this.featureClass_=b.featureClass?b.featureClass:ol.render.Feature;this.geometryName_=b.geometryName?b.geometryName:"geometry";this.layerName_=b.layerName?b.layerName:"layer";this.layers_=b.layers?b.layers:null};ol.inherits(ol.format.MVT,ol.format.Feature);ol.format.MVT.prototype.getType=function(){return ol.format.FormatType.ARRAY_BUFFER};ol.format.MVT.prototype.readFeature_=function(a,b,c){var d=new this.featureClass_;var e=a.id;var f=a.properties;f[this.layerName_]=b;var g=ol.format.Feature.transformWithOptions(ol.format.MVT.readGeometry_(a),false,this.adaptOptions(c));if(g){f[this.geometryName_]=g}d.setId(e);d.setProperties(f);d.setGeometryName(this.geometryName_);return d};ol.format.MVT.prototype.readRenderFeature_=function(a,b){var c=a.loadGeometry();var d=[];var e=[];ol.format.MVT.calculateFlatCoordinates_(c,e,d);var f=a.type;var g;if(f===1){g=c.length===1?ol.geom.GeometryType.POINT:ol.geom.GeometryType.MULTI_POINT}else if(f===2){if(c.length===1){g=ol.geom.GeometryType.LINE_STRING}else{g=ol.geom.GeometryType.MULTI_LINE_STRING}}else if(f===3){g=ol.geom.GeometryType.POLYGON}var h=a.properties;h[this.layerName_]=b;return new this.featureClass_(g,e,d,h)};ol.format.MVT.prototype.readFeatures=function(a,b){
var c=this.layers_;var d=new ol.ext.pbf(a);var e=new ol.ext.vectortile.VectorTile(d);var f=[];var g=this.featureClass_;var h,i;for(var j in e.layers){if(c&&c.indexOf(j)==-1){continue}h=e.layers[j];for(var k=0,l=h.length;k<l;++k){if(g===ol.render.Feature){i=this.readRenderFeature_(h.feature(k),j)}else{i=this.readFeature_(h.feature(k),j,b)}f.push(i)}}return f};ol.format.MVT.prototype.readProjection=function(a){return this.defaultDataProjection};ol.format.MVT.prototype.setLayers=function(a){this.layers_=a};ol.format.MVT.calculateFlatCoordinates_=function(a,b,c){var d=0;for(var e=0,f=a.length;e<f;++e){var g=a[e];var h,i;for(h=0,i=g.length;h<i;++h){var j=g[h];b.push(j.x,j.y)}d+=2*h;c.push(d)}};ol.format.MVT.readGeometry_=function(a){var b=a.type;if(b===0){return null}var c=a.loadGeometry();var d=[];var e=[];ol.format.MVT.calculateFlatCoordinates_(c,e,d);var f;if(b===1){f=c.length===1?new ol.geom.Point(null):new ol.geom.MultiPoint(null)}else if(b===2){if(c.length===1){f=new ol.geom.LineString(null)}else{f=new ol.geom.MultiLineString(null)}}else if(b===3){f=new ol.geom.Polygon(null)}f.setFlatCoordinates(ol.geom.GeometryLayout.XY,e,d);return f};goog.provide("ol.format.ogc.filter.Filter");goog.require("ol");ol.format.ogc.filter.Filter=function(a){this.tagName_=a};ol.format.ogc.filter.Filter.prototype.getTagName=function(){return this.tagName_};goog.provide("ol.format.ogc.filter.Logical");goog.require("ol");goog.require("ol.format.ogc.filter.Filter");ol.format.ogc.filter.Logical=function(a){ol.format.ogc.filter.Filter.call(this,a)};ol.inherits(ol.format.ogc.filter.Logical,ol.format.ogc.filter.Filter);goog.provide("ol.format.ogc.filter.LogicalBinary");goog.require("ol");goog.require("ol.format.ogc.filter.Logical");ol.format.ogc.filter.LogicalBinary=function(a,b,c){ol.format.ogc.filter.Logical.call(this,a);this.conditionA=b;this.conditionB=c};ol.inherits(ol.format.ogc.filter.LogicalBinary,ol.format.ogc.filter.Logical);goog.provide("ol.format.ogc.filter.And");goog.require("ol");goog.require("ol.format.ogc.filter.LogicalBinary");ol.format.ogc.filter.And=function(a,b){ol.format.ogc.filter.LogicalBinary.call(this,"And",a,b)};ol.inherits(ol.format.ogc.filter.And,ol.format.ogc.filter.LogicalBinary);goog.provide("ol.format.ogc.filter.Bbox");goog.require("ol");goog.require("ol.format.ogc.filter.Filter");ol.format.ogc.filter.Bbox=function(a,b,c){ol.format.ogc.filter.Filter.call(this,"BBOX");this.geometryName=a;this.extent=b;this.srsName=c};ol.inherits(ol.format.ogc.filter.Bbox,ol.format.ogc.filter.Filter);goog.provide("ol.format.ogc.filter.Comparison");goog.require("ol");goog.require("ol.format.ogc.filter.Filter");ol.format.ogc.filter.Comparison=function(a,b){ol.format.ogc.filter.Filter.call(this,a);this.propertyName=b};ol.inherits(ol.format.ogc.filter.Comparison,ol.format.ogc.filter.Filter);goog.provide("ol.format.ogc.filter.ComparisonBinary");goog.require("ol");goog.require("ol.format.ogc.filter.Comparison");ol.format.ogc.filter.ComparisonBinary=function(a,b,c,d){ol.format.ogc.filter.Comparison.call(this,a,b);this.expression=c;this.matchCase=d};ol.inherits(ol.format.ogc.filter.ComparisonBinary,ol.format.ogc.filter.Comparison);goog.provide("ol.format.ogc.filter.EqualTo");goog.require("ol");goog.require("ol.format.ogc.filter.ComparisonBinary");ol.format.ogc.filter.EqualTo=function(a,b,c){ol.format.ogc.filter.ComparisonBinary.call(this,"PropertyIsEqualTo",a,b,c)};ol.inherits(ol.format.ogc.filter.EqualTo,ol.format.ogc.filter.ComparisonBinary);goog.provide("ol.format.ogc.filter.GreaterThan");goog.require("ol");goog.require("ol.format.ogc.filter.ComparisonBinary");ol.format.ogc.filter.GreaterThan=function(a,b){ol.format.ogc.filter.ComparisonBinary.call(this,"PropertyIsGreaterThan",a,b)};ol.inherits(ol.format.ogc.filter.GreaterThan,ol.format.ogc.filter.ComparisonBinary);goog.provide("ol.format.ogc.filter.GreaterThanOrEqualTo");goog.require("ol");goog.require("ol.format.ogc.filter.ComparisonBinary");ol.format.ogc.filter.GreaterThanOrEqualTo=function(a,b){ol.format.ogc.filter.ComparisonBinary.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)};ol.inherits(ol.format.ogc.filter.GreaterThanOrEqualTo,ol.format.ogc.filter.ComparisonBinary);goog.provide("ol.format.ogc.filter.Spatial");goog.require("ol");goog.require("ol.format.ogc.filter.Filter");ol.format.ogc.filter.Spatial=function(a,b,c,d){ol.format.ogc.filter.Filter.call(this,a);this.geometryName=b||"the_geom";this.geometry=c;this.srsName=d};ol.inherits(ol.format.ogc.filter.Spatial,ol.format.ogc.filter.Filter);goog.provide("ol.format.ogc.filter.Intersects");goog.require("ol");goog.require("ol.format.ogc.filter.Spatial");ol.format.ogc.filter.Intersects=function(a,b,c){ol.format.ogc.filter.Spatial.call(this,"Intersects",a,b,c)};ol.inherits(ol.format.ogc.filter.Intersects,ol.format.ogc.filter.Spatial);goog.provide("ol.format.ogc.filter.IsBetween");goog.require("ol");goog.require("ol.format.ogc.filter.Comparison");ol.format.ogc.filter.IsBetween=function(a,b,c){ol.format.ogc.filter.Comparison.call(this,"PropertyIsBetween",a);this.lowerBoundary=b;this.upperBoundary=c};ol.inherits(ol.format.ogc.filter.IsBetween,ol.format.ogc.filter.Comparison);goog.provide("ol.format.ogc.filter.IsLike");goog.require("ol");goog.require("ol.format.ogc.filter.Comparison");ol.format.ogc.filter.IsLike=function(a,b,c,d,e,f){ol.format.ogc.filter.Comparison.call(this,"PropertyIsLike",a);this.pattern=b;this.wildCard=c!==undefined?c:"*";this.singleChar=d!==undefined?d:".";this.escapeChar=e!==undefined?e:"!";this.matchCase=f};ol.inherits(ol.format.ogc.filter.IsLike,ol.format.ogc.filter.Comparison);goog.provide("ol.format.ogc.filter.IsNull");goog.require("ol");goog.require("ol.format.ogc.filter.Comparison");ol.format.ogc.filter.IsNull=function(a){ol.format.ogc.filter.Comparison.call(this,"PropertyIsNull",a)};ol.inherits(ol.format.ogc.filter.IsNull,ol.format.ogc.filter.Comparison);goog.provide("ol.format.ogc.filter.LessThan");goog.require("ol");goog.require("ol.format.ogc.filter.ComparisonBinary");ol.format.ogc.filter.LessThan=function(a,b){ol.format.ogc.filter.ComparisonBinary.call(this,"PropertyIsLessThan",a,b)};ol.inherits(ol.format.ogc.filter.LessThan,ol.format.ogc.filter.ComparisonBinary);goog.provide("ol.format.ogc.filter.LessThanOrEqualTo");goog.require("ol");goog.require("ol.format.ogc.filter.ComparisonBinary");ol.format.ogc.filter.LessThanOrEqualTo=function(a,b){ol.format.ogc.filter.ComparisonBinary.call(this,"PropertyIsLessThanOrEqualTo",a,b)};ol.inherits(ol.format.ogc.filter.LessThanOrEqualTo,ol.format.ogc.filter.ComparisonBinary);goog.provide("ol.format.ogc.filter.Not");goog.require("ol");goog.require("ol.format.ogc.filter.Logical");ol.format.ogc.filter.Not=function(a){ol.format.ogc.filter.Logical.call(this,"Not");this.condition=a};ol.inherits(ol.format.ogc.filter.Not,ol.format.ogc.filter.Logical);goog.provide("ol.format.ogc.filter.NotEqualTo");goog.require("ol");goog.require("ol.format.ogc.filter.ComparisonBinary");ol.format.ogc.filter.NotEqualTo=function(a,b,c){ol.format.ogc.filter.ComparisonBinary.call(this,"PropertyIsNotEqualTo",a,b,c)};ol.inherits(ol.format.ogc.filter.NotEqualTo,ol.format.ogc.filter.ComparisonBinary);goog.provide("ol.format.ogc.filter.Or");goog.require("ol");goog.require("ol.format.ogc.filter.LogicalBinary");ol.format.ogc.filter.Or=function(a,b){ol.format.ogc.filter.LogicalBinary.call(this,"Or",a,b)};ol.inherits(ol.format.ogc.filter.Or,ol.format.ogc.filter.LogicalBinary);goog.provide("ol.format.ogc.filter.Within");goog.require("ol");goog.require("ol.format.ogc.filter.Spatial");ol.format.ogc.filter.Within=function(a,b,c){ol.format.ogc.filter.Spatial.call(this,"Within",a,b,c)};ol.inherits(ol.format.ogc.filter.Within,ol.format.ogc.filter.Spatial);goog.provide("ol.format.ogc.filter");goog.require("ol");goog.require("ol.format.ogc.filter.And");goog.require("ol.format.ogc.filter.Bbox");goog.require("ol.format.ogc.filter.EqualTo");goog.require("ol.format.ogc.filter.GreaterThan");goog.require("ol.format.ogc.filter.GreaterThanOrEqualTo");goog.require("ol.format.ogc.filter.Intersects");goog.require("ol.format.ogc.filter.IsBetween");goog.require("ol.format.ogc.filter.IsLike");goog.require("ol.format.ogc.filter.IsNull");goog.require("ol.format.ogc.filter.LessThan");goog.require("ol.format.ogc.filter.LessThanOrEqualTo");goog.require("ol.format.ogc.filter.Not");goog.require("ol.format.ogc.filter.NotEqualTo");goog.require("ol.format.ogc.filter.Or");goog.require("ol.format.ogc.filter.Within");ol.format.ogc.filter.and=function(a,b){return new ol.format.ogc.filter.And(a,b)};ol.format.ogc.filter.or=function(a,b){return new ol.format.ogc.filter.Or(a,b)};ol.format.ogc.filter.not=function(a){return new ol.format.ogc.filter.Not(a)};ol.format.ogc.filter.bbox=function(a,b,c){return new ol.format.ogc.filter.Bbox(a,b,c)};ol.format.ogc.filter.intersects=function(a,b,c){return new ol.format.ogc.filter.Intersects(a,b,c)};ol.format.ogc.filter.within=function(a,b,c){return new ol.format.ogc.filter.Within(a,b,c)};ol.format.ogc.filter.equalTo=function(a,b,c){return new ol.format.ogc.filter.EqualTo(a,b,c)};ol.format.ogc.filter.notEqualTo=function(a,b,c){return new ol.format.ogc.filter.NotEqualTo(a,b,c)};ol.format.ogc.filter.lessThan=function(a,b){return new ol.format.ogc.filter.LessThan(a,b)};ol.format.ogc.filter.lessThanOrEqualTo=function(a,b){return new ol.format.ogc.filter.LessThanOrEqualTo(a,b)};ol.format.ogc.filter.greaterThan=function(a,b){return new ol.format.ogc.filter.GreaterThan(a,b)};ol.format.ogc.filter.greaterThanOrEqualTo=function(a,b){return new ol.format.ogc.filter.GreaterThanOrEqualTo(a,b)};ol.format.ogc.filter.isNull=function(a){return new ol.format.ogc.filter.IsNull(a)};ol.format.ogc.filter.between=function(a,b,c){return new ol.format.ogc.filter.IsBetween(a,b,c)};ol.format.ogc.filter.like=function(a,b,c,d,e,f){return new ol.format.ogc.filter.IsLike(a,b,c,d,e,f)};goog.provide("ol.format.OSMXML");goog.require("ol");goog.require("ol.array");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.OSMXML=function(){ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326")};ol.inherits(ol.format.OSMXML,ol.format.XMLFeature);ol.format.OSMXML.EXTENSIONS_=[".osm"];ol.format.OSMXML.prototype.getExtensions=function(){return ol.format.OSMXML.EXTENSIONS_};ol.format.OSMXML.readNode_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="node","localName should be node");var c=b[0];var d=b[b.length-1];var e=a.getAttribute("id");var f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.nodes[e]=f;var g=ol.xml.pushParseAndPop({tags:{}},ol.format.OSMXML.NODE_PARSERS_,a,b);if(!ol.obj.isEmpty(g.tags)){var h=new ol.geom.Point(f);ol.format.Feature.transformWithOptions(h,false,c);var i=new ol.Feature(h);i.setId(e);i.setProperties(g.tags);d.features.push(i)}};ol.format.OSMXML.readWay_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="way","localName should be way");var c=b[0];var d=a.getAttribute("id");var e=ol.xml.pushParseAndPop({ndrefs:[],tags:{}},ol.format.OSMXML.WAY_PARSERS_,a,b);var f=b[b.length-1];var g=[];for(var h=0,i=e.ndrefs.length;h<i;h++){var j=f.nodes[e.ndrefs[h]];ol.array.extend(g,j)}var k;if(e.ndrefs[0]==e.ndrefs[e.ndrefs.length-1]){k=new ol.geom.Polygon(null);k.setFlatCoordinates(ol.geom.GeometryLayout.XY,g,[g.length])}else{k=new ol.geom.LineString(null);k.setFlatCoordinates(ol.geom.GeometryLayout.XY,g)}ol.format.Feature.transformWithOptions(k,false,c);var l=new ol.Feature(k);l.setId(d);l.setProperties(e.tags);f.features.push(l)};ol.format.OSMXML.readNd_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="nd","localName should be nd");var c=b[b.length-1];c.ndrefs.push(a.getAttribute("ref"))};ol.format.OSMXML.readTag_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="tag","localName should be tag");var c=b[b.length-1];c.tags[a.getAttribute("k")]=a.getAttribute("v")};ol.format.OSMXML.NAMESPACE_URIS_=[null];ol.format.OSMXML.WAY_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{nd:ol.format.OSMXML.readNd_,tag:ol.format.OSMXML.readTag_});ol.format.OSMXML.PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{node:ol.format.OSMXML.readNode_,way:ol.format.OSMXML.readWay_});ol.format.OSMXML.NODE_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{tag:ol.format.OSMXML.readTag_});ol.format.OSMXML.prototype.readFeatures;ol.format.OSMXML.prototype.readFeaturesFromNode=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var c=this.getReadOptions(a,b);if(a.localName=="osm"){var d=ol.xml.pushParseAndPop({nodes:{},features:[]},ol.format.OSMXML.PARSERS_,a,[c]);if(d.features){return d.features}}return[]};ol.format.OSMXML.prototype.readProjection;goog.provide("ol.format.XLink");ol.format.XLink.NAMESPACE_URI="http://www.w3.org/1999/xlink";ol.format.XLink.readHref=function(a){return a.getAttributeNS(ol.format.XLink.NAMESPACE_URI,"href")};goog.provide("ol.format.XML");goog.require("ol.xml");ol.format.XML=function(){};ol.format.XML.prototype.read=function(a){if(ol.xml.isDocument(a)){return this.readFromDocument(a)}else if(ol.xml.isNode(a)){return this.readFromNode(a)}else if(typeof a==="string"){var b=ol.xml.parse(a);return this.readFromDocument(b)}else{return null}};ol.format.XML.prototype.readFromDocument=function(a){};ol.format.XML.prototype.readFromNode=function(a){};goog.provide("ol.format.OWS");goog.require("ol");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.OWS=function(){ol.format.XML.call(this)};ol.inherits(ol.format.OWS,ol.format.XML);ol.format.OWS.prototype.readFromDocument=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be DOCUMENT");for(var b=a.firstChild;b;b=b.nextSibling){if(b.nodeType==Node.ELEMENT_NODE){return this.readFromNode(b)}}return null};ol.format.OWS.prototype.readFromNode=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var b=ol.xml.pushParseAndPop({},ol.format.OWS.PARSERS_,a,[]);return b?b:null};ol.format.OWS.readAddress_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Address","localName should be Address");return ol.xml.pushParseAndPop({},ol.format.OWS.ADDRESS_PARSERS_,a,b)};ol.format.OWS.readAllowedValues_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="AllowedValues","localName should be AllowedValues");return ol.xml.pushParseAndPop({},ol.format.OWS.ALLOWED_VALUES_PARSERS_,a,b)};ol.format.OWS.readConstraint_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Constraint","localName should be Constraint");var c=a.getAttribute("name");if(!c){return undefined}return ol.xml.pushParseAndPop({name:c},ol.format.OWS.CONSTRAINT_PARSERS_,a,b)};ol.format.OWS.readContactInfo_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="ContactInfo","localName should be ContactInfo");return ol.xml.pushParseAndPop({},ol.format.OWS.CONTACT_INFO_PARSERS_,a,b)};ol.format.OWS.readDcp_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="DCP","localName should be DCP");return ol.xml.pushParseAndPop({},ol.format.OWS.DCP_PARSERS_,a,b)};ol.format.OWS.readGet_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Get","localName should be Get");var c=ol.format.XLink.readHref(a);if(!c){return undefined}return ol.xml.pushParseAndPop({href:c},ol.format.OWS.REQUEST_METHOD_PARSERS_,a,b)};ol.format.OWS.readHttp_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="HTTP","localName should be HTTP");return ol.xml.pushParseAndPop({},ol.format.OWS.HTTP_PARSERS_,a,b)};ol.format.OWS.readOperation_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Operation","localName should be Operation");var c=a.getAttribute("name");var d=ol.xml.pushParseAndPop({},ol.format.OWS.OPERATION_PARSERS_,a,b);if(!d){return undefined}var e=b[b.length-1];e[c]=d};ol.format.OWS.readOperationsMetadata_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="OperationsMetadata","localName should be OperationsMetadata");return ol.xml.pushParseAndPop({},ol.format.OWS.OPERATIONS_METADATA_PARSERS_,a,b)};ol.format.OWS.readPhone_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Phone","localName should be Phone");return ol.xml.pushParseAndPop({},ol.format.OWS.PHONE_PARSERS_,a,b)};ol.format.OWS.readServiceIdentification_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="ServiceIdentification","localName should be ServiceIdentification");return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_,a,b)};ol.format.OWS.readServiceContact_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="ServiceContact","localName should be ServiceContact");return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_CONTACT_PARSERS_,a,b)};ol.format.OWS.readServiceProvider_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="ServiceProvider","localName should be ServiceProvider");return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_PROVIDER_PARSERS_,a,b)};ol.format.OWS.readValue_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Value","localName should be Value");return ol.format.XSD.readString(a)};ol.format.OWS.NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"];ol.format.OWS.PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ServiceIdentification:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceIdentification_),ServiceProvider:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceProvider_),OperationsMetadata:ol.xml.makeObjectPropertySetter(ol.format.OWS.readOperationsMetadata_)});ol.format.OWS.ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DeliveryPoint:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AdministrativeArea:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostalCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.ALLOWED_VALUES_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Value:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readValue_)});ol.format.OWS.CONSTRAINT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{AllowedValues:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAllowedValues_)});ol.format.OWS.CONTACT_INFO_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Phone:ol.xml.makeObjectPropertySetter(ol.format.OWS.readPhone_),Address:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAddress_)});ol.format.OWS.DCP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readHttp_)});ol.format.OWS.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readGet_),Post:undefined});ol.format.OWS.OPERATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DCP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readDcp_)});ol.format.OWS.OPERATIONS_METADATA_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Operation:ol.format.OWS.readOperation_});ol.format.OWS.PHONE_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Voice:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Facsimile:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.REQUEST_METHOD_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Constraint:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readConstraint_)});ol.format.OWS.SERVICE_CONTACT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{IndividualName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PositionName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactInfo:ol.xml.makeObjectPropertySetter(ol.format.OWS.readContactInfo_)});ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceTypeVersion:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.SERVICE_PROVIDER_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ProviderName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ProviderSite:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ServiceContact:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceContact_)});goog.provide("ol.geom.flat.flip");ol.geom.flat.flip.flipXY=function(a,b,c,d,e,f){var g,h;if(e!==undefined){g=e;h=f!==undefined?f:0}else{g=[];h=0}var i=b;while(i<c){var j=a[i++];g[h++]=a[i++];g[h++]=j;for(var k=2;k<d;++k){g[h++]=a[i++]}}g.length=h;return g};goog.provide("ol.format.Polyline");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.flip");goog.require("ol.geom.flat.inflate");goog.require("ol.proj");ol.format.Polyline=function(a){var b=a?a:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.factor_=b.factor?b.factor:1e5;this.geometryLayout_=b.geometryLayout?b.geometryLayout:ol.geom.GeometryLayout.XY};ol.inherits(ol.format.Polyline,ol.format.TextFeature);ol.format.Polyline.encodeDeltas=function(a,b,c){var d=c?c:1e5;var e;var f=new Array(b);for(e=0;e<b;++e){f[e]=0}var g,h;for(g=0,h=a.length;g<h;){for(e=0;e<b;++e,++g){var i=a[g];var j=i-f[e];f[e]=i;a[g]=j}}return ol.format.Polyline.encodeFloats(a,d)};ol.format.Polyline.decodeDeltas=function(a,b,c){var d=c?c:1e5;var e;var f=new Array(b);for(e=0;e<b;++e){f[e]=0}var g=ol.format.Polyline.decodeFloats(a,d);var h,i;for(h=0,i=g.length;h<i;){for(e=0;e<b;++e,++h){f[e]+=g[h];g[h]=f[e]}}return g};ol.format.Polyline.encodeFloats=function(a,b){var c=b?b:1e5;var d,e;for(d=0,e=a.length;d<e;++d){a[d]=Math.round(a[d]*c)}return ol.format.Polyline.encodeSignedIntegers(a)};ol.format.Polyline.decodeFloats=function(a,b){var c=b?b:1e5;var d=ol.format.Polyline.decodeSignedIntegers(a);var e,f;for(e=0,f=d.length;e<f;++e){d[e]/=c}return d};ol.format.Polyline.encodeSignedIntegers=function(a){var b,c;for(b=0,c=a.length;b<c;++b){var d=a[b];a[b]=d<0?~(d<<1):d<<1}return ol.format.Polyline.encodeUnsignedIntegers(a)};ol.format.Polyline.decodeSignedIntegers=function(a){var b=ol.format.Polyline.decodeUnsignedIntegers(a);var c,d;for(c=0,d=b.length;c<d;++c){var e=b[c];b[c]=e&1?~(e>>1):e>>1}return b};ol.format.Polyline.encodeUnsignedIntegers=function(a){var b="";var c,d;for(c=0,d=a.length;c<d;++c){b+=ol.format.Polyline.encodeUnsignedInteger(a[c])}return b};ol.format.Polyline.decodeUnsignedIntegers=function(a){var b=[];var c=0;var d=0;var e,f;for(e=0,f=a.length;e<f;++e){var g=a.charCodeAt(e)-63;c|=(g&31)<<d;if(g<32){b.push(c);c=0;d=0}else{d+=5}}return b};ol.format.Polyline.encodeUnsignedInteger=function(a){var b,c="";while(a>=32){b=(32|a&31)+63;c+=String.fromCharCode(b);a>>=5}b=a+63;c+=String.fromCharCode(b);return c};ol.format.Polyline.prototype.readFeature;ol.format.Polyline.prototype.readFeatureFromText=function(a,b){var c=this.readGeometryFromText(a,b);return new ol.Feature(c)};ol.format.Polyline.prototype.readFeatures;ol.format.Polyline.prototype.readFeaturesFromText=function(a,b){var c=this.readFeatureFromText(a,b);return[c]};ol.format.Polyline.prototype.readGeometry;ol.format.Polyline.prototype.readGeometryFromText=function(a,b){var c=ol.geom.SimpleGeometry.getStrideForLayout(this.geometryLayout_);var d=ol.format.Polyline.decodeDeltas(a,c,this.factor_);ol.geom.flat.flip.flipXY(d,0,d.length,c,d);var e=ol.geom.flat.inflate.coordinates(d,0,d.length,c);return ol.format.Feature.transformWithOptions(new ol.geom.LineString(e,this.geometryLayout_),false,this.adaptOptions(b))};ol.format.Polyline.prototype.readProjection;ol.format.Polyline.prototype.writeFeatureText=function(a,b){var c=a.getGeometry();if(c){return this.writeGeometryText(c,b)}else{ol.asserts.assert(false,40);return""}};ol.format.Polyline.prototype.writeFeaturesText=function(a,b){goog.DEBUG&&console.assert(a.length==1,"features array should have 1 item");return this.writeFeatureText(a[0],b)};ol.format.Polyline.prototype.writeGeometry;ol.format.Polyline.prototype.writeGeometryText=function(a,b){a=ol.format.Feature.transformWithOptions(a,true,this.adaptOptions(b));var c=a.getFlatCoordinates();var d=a.getStride();ol.geom.flat.flip.flipXY(c,0,c.length,d,c);return ol.format.Polyline.encodeDeltas(c,d,this.factor_)};goog.provide("ol.format.TopoJSON");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");ol.format.TopoJSON=function(a){var b=a?a:{};ol.format.JSONFeature.call(this);this.defaultDataProjection=ol.proj.get(b.defaultDataProjection?b.defaultDataProjection:"EPSG:4326")};ol.inherits(ol.format.TopoJSON,ol.format.JSONFeature);ol.format.TopoJSON.EXTENSIONS_=[".topojson"];ol.format.TopoJSON.concatenateArcs_=function(a,b){var c=[];var d,e;var f,g;var h,i;for(f=0,g=a.length;f<g;++f){d=a[f];if(f>0){c.pop()}if(d>=0){e=b[d]}else{e=b[~d].slice().reverse()}c.push.apply(c,e)}for(h=0,i=c.length;h<i;++h){c[h]=c[h].slice()}return c};ol.format.TopoJSON.readPointGeometry_=function(a,b,c){var d=a.coordinates;if(b&&c){ol.format.TopoJSON.transformVertex_(d,b,c)}return new ol.geom.Point(d)};ol.format.TopoJSON.readMultiPointGeometry_=function(a,b,c){var d=a.coordinates;var e,f;if(b&&c){for(e=0,f=d.length;e<f;++e){ol.format.TopoJSON.transformVertex_(d[e],b,c)}}return new ol.geom.MultiPoint(d)};ol.format.TopoJSON.readLineStringGeometry_=function(a,b){var c=ol.format.TopoJSON.concatenateArcs_(a.arcs,b);return new ol.geom.LineString(c)};ol.format.TopoJSON.readMultiLineStringGeometry_=function(a,b){var c=[];var d,e;for(d=0,e=a.arcs.length;d<e;++d){c[d]=ol.format.TopoJSON.concatenateArcs_(a.arcs[d],b)}return new ol.geom.MultiLineString(c)};ol.format.TopoJSON.readPolygonGeometry_=function(a,b){var c=[];var d,e;for(d=0,e=a.arcs.length;d<e;++d){c[d]=ol.format.TopoJSON.concatenateArcs_(a.arcs[d],b)}return new ol.geom.Polygon(c)};ol.format.TopoJSON.readMultiPolygonGeometry_=function(a,b){var c=[];var d,e,f,g;var h,i;for(h=0,i=a.arcs.length;h<i;++h){d=a.arcs[h];e=[];for(f=0,g=d.length;f<g;++f){e[f]=ol.format.TopoJSON.concatenateArcs_(d[f],b)}c[h]=e}return new ol.geom.MultiPolygon(c)};ol.format.TopoJSON.prototype.getExtensions=function(){return ol.format.TopoJSON.EXTENSIONS_};ol.format.TopoJSON.readFeaturesFromGeometryCollection_=function(a,b,c,d,e){var f=a.geometries;var g=[];var h,i;for(h=0,i=f.length;h<i;++h){g[h]=ol.format.TopoJSON.readFeatureFromGeometry_(f[h],b,c,d,e)}return g};ol.format.TopoJSON.readFeatureFromGeometry_=function(a,b,c,d,e){var f;var g=a.type;var h=ol.format.TopoJSON.GEOMETRY_READERS_[g];if(g==="Point"||g==="MultiPoint"){f=h(a,c,d)}else{f=h(a,b)}var i=new ol.Feature;i.setGeometry(ol.format.Feature.transformWithOptions(f,false,e));if(a.id!==undefined){i.setId(a.id)}if(a.properties){i.setProperties(a.properties)}return i};ol.format.TopoJSON.prototype.readFeatures;ol.format.TopoJSON.prototype.readFeaturesFromObject=function(a,b){if(a.type=="Topology"){var c=a;var d,e=null,f=null;if(c.transform){d=c.transform;e=d.scale;f=d.translate}var g=c.arcs;if(d){ol.format.TopoJSON.transformArcs_(g,e,f)}var h=[];var i=ol.obj.getValues(c.objects);var j,k;var l;for(j=0,k=i.length;j<k;++j){if(i[j].type==="GeometryCollection"){l=i[j];h.push.apply(h,ol.format.TopoJSON.readFeaturesFromGeometryCollection_(l,g,e,f,b))}else{l=i[j];h.push(ol.format.TopoJSON.readFeatureFromGeometry_(l,g,e,f,b))}}return h}else{return[]}};ol.format.TopoJSON.transformArcs_=function(a,b,c){var d,e;for(d=0,e=a.length;d<e;++d){ol.format.TopoJSON.transformArc_(a[d],b,c)}};ol.format.TopoJSON.transformArc_=function(a,b,c){var d=0;var e=0;var f;var g,h;for(g=0,h=a.length;g<h;++g){f=a[g];d+=f[0];e+=f[1];f[0]=d;f[1]=e;ol.format.TopoJSON.transformVertex_(f,b,c)}};ol.format.TopoJSON.transformVertex_=function(a,b,c){a[0]=a[0]*b[0]+c[0];a[1]=a[1]*b[1]+c[1]};ol.format.TopoJSON.prototype.readProjection=function(a){return this.defaultDataProjection};ol.format.TopoJSON.GEOMETRY_READERS_={Point:ol.format.TopoJSON.readPointGeometry_,LineString:ol.format.TopoJSON.readLineStringGeometry_,Polygon:ol.format.TopoJSON.readPolygonGeometry_,MultiPoint:ol.format.TopoJSON.readMultiPointGeometry_,MultiLineString:ol.format.TopoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.TopoJSON.readMultiPolygonGeometry_};goog.provide("ol.format.WFS");goog.require("ol");goog.require("ol.asserts");goog.require("ol.format.GML3");goog.require("ol.format.GMLBase");goog.require("ol.format.ogc.filter");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.Geometry");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.WFS=function(a){var b=a?a:{};this.featureType_=b.featureType;this.featureNS_=b.featureNS;this.gmlFormat_=b.gmlFormat?b.gmlFormat:new ol.format.GML3;this.schemaLocation_=b.schemaLocation?b.schemaLocation:ol.format.WFS.SCHEMA_LOCATION;ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WFS,ol.format.XMLFeature);ol.format.WFS.FEATURE_PREFIX="feature";ol.format.WFS.XMLNS="http://www.w3.org/2000/xmlns/";ol.format.WFS.SCHEMA_LOCATION="http://www.opengis.net/wfs "+"http://schemas.opengis.net/wfs/1.1.0/wfs.xsd";ol.format.WFS.prototype.readFeatures;ol.format.WFS.prototype.readFeaturesFromNode=function(a,b){var c={featureType:this.featureType_,featureNS:this.featureNS_};ol.obj.assign(c,this.getReadOptions(a,b?b:{}));var d=[c];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]["featureMember"]=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);
var e=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,a,d,this.gmlFormat_);if(!e){e=[]}return e};ol.format.WFS.prototype.readTransactionResponse=function(a){if(ol.xml.isDocument(a)){return this.readTransactionResponseFromDocument(a)}else if(ol.xml.isNode(a)){return this.readTransactionResponseFromNode(a)}else if(typeof a==="string"){var b=ol.xml.parse(a);return this.readTransactionResponseFromDocument(b)}else{return undefined}};ol.format.WFS.prototype.readFeatureCollectionMetadata=function(a){if(ol.xml.isDocument(a)){return this.readFeatureCollectionMetadataFromDocument(a)}else if(ol.xml.isNode(a)){return this.readFeatureCollectionMetadataFromNode(a)}else if(typeof a==="string"){var b=ol.xml.parse(a);return this.readFeatureCollectionMetadataFromDocument(b)}else{return undefined}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromDocument=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be DOCUMENT");for(var b=a.firstChild;b;b=b.nextSibling){if(b.nodeType==Node.ELEMENT_NODE){return this.readFeatureCollectionMetadataFromNode(b)}}return undefined};ol.format.WFS.FEATURE_COLLECTION_PARSERS_={"http://www.opengis.net/gml":{boundedBy:ol.xml.makeObjectPropertySetter(ol.format.GMLBase.prototype.readGeometryElement,"bounds")}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromNode=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="FeatureCollection","localName should be FeatureCollection");var b={};var c=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("numberOfFeatures"));b["numberOfFeatures"]=c;return ol.xml.pushParseAndPop(b,ol.format.WFS.FEATURE_COLLECTION_PARSERS_,a,[],this.gmlFormat_)};ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_={"http://www.opengis.net/wfs":{totalInserted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalUpdated:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalDeleted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}};ol.format.WFS.readTransactionSummary_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_,a,b)};ol.format.WFS.OGC_FID_PARSERS_={"http://www.opengis.net/ogc":{FeatureId:ol.xml.makeArrayPusher((function(a,b){return a.getAttribute("fid")}))}};ol.format.WFS.fidParser_=function(a,b){ol.xml.parseNode(ol.format.WFS.OGC_FID_PARSERS_,a,b)};ol.format.WFS.INSERT_RESULTS_PARSERS_={"http://www.opengis.net/wfs":{Feature:ol.format.WFS.fidParser_}};ol.format.WFS.readInsertResults_=function(a,b){return ol.xml.pushParseAndPop([],ol.format.WFS.INSERT_RESULTS_PARSERS_,a,b)};ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_={"http://www.opengis.net/wfs":{TransactionSummary:ol.xml.makeObjectPropertySetter(ol.format.WFS.readTransactionSummary_,"transactionSummary"),InsertResults:ol.xml.makeObjectPropertySetter(ol.format.WFS.readInsertResults_,"insertIds")}};ol.format.WFS.prototype.readTransactionResponseFromDocument=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be DOCUMENT");for(var b=a.firstChild;b;b=b.nextSibling){if(b.nodeType==Node.ELEMENT_NODE){return this.readTransactionResponseFromNode(b)}}return undefined};ol.format.WFS.prototype.readTransactionResponseFromNode=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should  be ELEMENT");goog.DEBUG&&console.assert(a.localName=="TransactionResponse","localName should be TransactionResponse");return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_,a,[])};ol.format.WFS.QUERY_SERIALIZERS_={"http://www.opengis.net/wfs":{PropertyName:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.WFS.writeFeature_=function(a,b,c){var d=c[c.length-1];var e=d["featureType"];var f=d["featureNS"];var g=ol.xml.createElementNS(f,e);a.appendChild(g);ol.format.GML3.prototype.writeFeatureElement(g,b,c)};ol.format.WFS.writeOgcFidFilter_=function(a,b,c){var d=ol.xml.createElementNS("http://www.opengis.net/ogc","Filter");var e=ol.xml.createElementNS("http://www.opengis.net/ogc","FeatureId");d.appendChild(e);e.setAttribute("fid",b);a.appendChild(d)};ol.format.WFS.writeDelete_=function(a,b,c){var d=c[c.length-1];ol.asserts.assert(b.getId()!==undefined,26);var e=d["featureType"];var f=d["featurePrefix"];f=f?f:ol.format.WFS.FEATURE_PREFIX;var g=d["featureNS"];a.setAttribute("typeName",f+":"+e);ol.xml.setAttributeNS(a,ol.format.WFS.XMLNS,"xmlns:"+f,g);var h=b.getId();if(h!==undefined){ol.format.WFS.writeOgcFidFilter_(a,h,c)}};ol.format.WFS.writeUpdate_=function(a,b,c){var d=c[c.length-1];ol.asserts.assert(b.getId()!==undefined,27);var e=d["featureType"];var f=d["featurePrefix"];f=f?f:ol.format.WFS.FEATURE_PREFIX;var g=d["featureNS"];a.setAttribute("typeName",f+":"+e);ol.xml.setAttributeNS(a,ol.format.WFS.XMLNS,"xmlns:"+f,g);var h=b.getId();if(h!==undefined){var i=b.getKeys();var j=[];for(var k=0,l=i.length;k<l;k++){var m=b.get(i[k]);if(m!==undefined){j.push({name:i[k],value:m})}}ol.xml.pushSerializeAndPop({node:a,srsName:d["srsName"]},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Property"),j,c);ol.format.WFS.writeOgcFidFilter_(a,h,c)}};ol.format.WFS.writeProperty_=function(a,b,c){var d=ol.xml.createElementNS("http://www.opengis.net/wfs","Name");a.appendChild(d);ol.format.XSD.writeStringTextNode(d,b.name);if(b.value!==undefined&&b.value!==null){var e=ol.xml.createElementNS("http://www.opengis.net/wfs","Value");a.appendChild(e);if(b.value instanceof ol.geom.Geometry){ol.format.GML3.prototype.writeGeometryElement(e,b.value,c)}else{ol.format.XSD.writeStringTextNode(e,b.value)}}};ol.format.WFS.writeNative_=function(a,b,c){if(b.vendorId){a.setAttribute("vendorId",b.vendorId)}if(b.safeToIgnore!==undefined){a.setAttribute("safeToIgnore",b.safeToIgnore)}if(b.value!==undefined){ol.format.XSD.writeStringTextNode(a,b.value)}};ol.format.WFS.TRANSACTION_SERIALIZERS_={"http://www.opengis.net/wfs":{Insert:ol.xml.makeChildAppender(ol.format.WFS.writeFeature_),Update:ol.xml.makeChildAppender(ol.format.WFS.writeUpdate_),Delete:ol.xml.makeChildAppender(ol.format.WFS.writeDelete_),Property:ol.xml.makeChildAppender(ol.format.WFS.writeProperty_),Native:ol.xml.makeChildAppender(ol.format.WFS.writeNative_)}};ol.format.WFS.writeQuery_=function(a,b,c){var d=c[c.length-1];var e=d["featurePrefix"];var f=d["featureNS"];var g=d["propertyNames"];var h=d["srsName"];var i=e?e+":":"";a.setAttribute("typeName",i+b);if(h){a.setAttribute("srsName",h)}if(f){ol.xml.setAttributeNS(a,ol.format.WFS.XMLNS,"xmlns:"+e,f)}var j=ol.obj.assign({},d);j.node=a;ol.xml.pushSerializeAndPop(j,ol.format.WFS.QUERY_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("PropertyName"),g,c);var k=d["filter"];if(k){var l=ol.xml.createElementNS("http://www.opengis.net/ogc","Filter");a.appendChild(l);ol.format.WFS.writeFilterCondition_(l,k,c)}};ol.format.WFS.writeFilterCondition_=function(a,b,c){var d={node:a};ol.xml.pushSerializeAndPop(d,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(b.getTagName()),[b],c)};ol.format.WFS.writeBboxFilter_=function(a,b,c){var d=c[c.length-1];d["srsName"]=b.srsName;ol.format.WFS.writeOgcPropertyName_(a,b.geometryName);ol.format.GML3.prototype.writeGeometryElement(a,b.extent,c)};ol.format.WFS.writeIntersectsFilter_=function(a,b,c){var d=c[c.length-1];d["srsName"]=b.srsName;ol.format.WFS.writeOgcPropertyName_(a,b.geometryName);ol.format.GML3.prototype.writeGeometryElement(a,b.geometry,c)};ol.format.WFS.writeWithinFilter_=function(a,b,c){var d=c[c.length-1];d["srsName"]=b.srsName;ol.format.WFS.writeOgcPropertyName_(a,b.geometryName);ol.format.GML3.prototype.writeGeometryElement(a,b.geometry,c)};ol.format.WFS.writeLogicalFilter_=function(a,b,c){var d={node:a};var e=b.conditionA;ol.xml.pushSerializeAndPop(d,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(e.getTagName()),[e],c);var f=b.conditionB;ol.xml.pushSerializeAndPop(d,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(f.getTagName()),[f],c)};ol.format.WFS.writeNotFilter_=function(a,b,c){var d={node:a};var e=b.condition;ol.xml.pushSerializeAndPop(d,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(e.getTagName()),[e],c)};ol.format.WFS.writeComparisonFilter_=function(a,b,c){if(b.matchCase!==undefined){a.setAttribute("matchCase",b.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(a,b.propertyName);ol.format.WFS.writeOgcLiteral_(a,""+b.expression)};ol.format.WFS.writeIsNullFilter_=function(a,b,c){ol.format.WFS.writeOgcPropertyName_(a,b.propertyName)};ol.format.WFS.writeIsBetweenFilter_=function(a,b,c){ol.format.WFS.writeOgcPropertyName_(a,b.propertyName);ol.format.WFS.writeOgcExpression_("LowerBoundary",a,""+b.lowerBoundary);ol.format.WFS.writeOgcExpression_("UpperBoundary",a,""+b.upperBoundary)};ol.format.WFS.writeIsLikeFilter_=function(a,b,c){a.setAttribute("wildCard",b.wildCard);a.setAttribute("singleChar",b.singleChar);a.setAttribute("escapeChar",b.escapeChar);if(b.matchCase!==undefined){a.setAttribute("matchCase",b.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(a,b.propertyName);ol.format.WFS.writeOgcLiteral_(a,""+b.pattern)};ol.format.WFS.writeOgcExpression_=function(a,b,c){var d=ol.xml.createElementNS("http://www.opengis.net/ogc",a);ol.format.XSD.writeStringTextNode(d,c);b.appendChild(d)};ol.format.WFS.writeOgcPropertyName_=function(a,b){ol.format.WFS.writeOgcExpression_("PropertyName",a,b)};ol.format.WFS.writeOgcLiteral_=function(a,b){ol.format.WFS.writeOgcExpression_("Literal",a,b)};ol.format.WFS.GETFEATURE_SERIALIZERS_={"http://www.opengis.net/wfs":{Query:ol.xml.makeChildAppender(ol.format.WFS.writeQuery_)},"http://www.opengis.net/ogc":{And:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Or:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Not:ol.xml.makeChildAppender(ol.format.WFS.writeNotFilter_),BBOX:ol.xml.makeChildAppender(ol.format.WFS.writeBboxFilter_),Intersects:ol.xml.makeChildAppender(ol.format.WFS.writeIntersectsFilter_),Within:ol.xml.makeChildAppender(ol.format.WFS.writeWithinFilter_),PropertyIsEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNotEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNull:ol.xml.makeChildAppender(ol.format.WFS.writeIsNullFilter_),PropertyIsBetween:ol.xml.makeChildAppender(ol.format.WFS.writeIsBetweenFilter_),PropertyIsLike:ol.xml.makeChildAppender(ol.format.WFS.writeIsLikeFilter_)}};ol.format.WFS.writeGetFeature_=function(a,b,c){var d=c[c.length-1];var e=ol.obj.assign({},d);e.node=a;ol.xml.pushSerializeAndPop(e,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Query"),b,c)};ol.format.WFS.prototype.writeGetFeature=function(a){var b=ol.xml.createElementNS("http://www.opengis.net/wfs","GetFeature");b.setAttribute("service","WFS");b.setAttribute("version","1.1.0");var c;if(a){if(a.handle){b.setAttribute("handle",a.handle)}if(a.outputFormat){b.setAttribute("outputFormat",a.outputFormat)}if(a.maxFeatures!==undefined){b.setAttribute("maxFeatures",a.maxFeatures)}if(a.resultType){b.setAttribute("resultType",a.resultType)}if(a.startIndex!==undefined){b.setAttribute("startIndex",a.startIndex)}if(a.count!==undefined){b.setAttribute("count",a.count)}c=a.filter;if(a.bbox){ol.asserts.assert(a.geometryName,12);var d=ol.format.ogc.filter.bbox(a.geometryName,a.bbox,a.srsName);if(c){c=ol.format.ogc.filter.and(c,d)}else{c=d}}}ol.xml.setAttributeNS(b,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var e={node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.featureNS_,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]};ol.asserts.assert(Array.isArray(a.featureTypes),11);ol.format.WFS.writeGetFeature_(b,a.featureTypes,[e]);return b};ol.format.WFS.prototype.writeTransaction=function(a,b,c,d){var e=[];var f=ol.xml.createElementNS("http://www.opengis.net/wfs","Transaction");f.setAttribute("service","WFS");f.setAttribute("version","1.1.0");var g;var h;if(d){g=d.gmlOptions?d.gmlOptions:{};if(d.handle){f.setAttribute("handle",d.handle)}}ol.xml.setAttributeNS(f,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);if(a){h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName};ol.obj.assign(h,g);ol.xml.pushSerializeAndPop(h,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Insert"),a,e)}if(b){h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName};ol.obj.assign(h,g);ol.xml.pushSerializeAndPop(h,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Update"),b,e)}if(c){ol.xml.pushSerializeAndPop({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Delete"),c,e)}if(d.nativeElements){ol.xml.pushSerializeAndPop({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Native"),d.nativeElements,e)}return f};ol.format.WFS.prototype.readProjection;ol.format.WFS.prototype.readProjectionFromDocument=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be a DOCUMENT");for(var b=a.firstChild;b;b=b.nextSibling){if(b.nodeType==Node.ELEMENT_NODE){return this.readProjectionFromNode(b)}}return null};ol.format.WFS.prototype.readProjectionFromNode=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="FeatureCollection","localName should be FeatureCollection");if(a.firstElementChild&&a.firstElementChild.firstElementChild){a=a.firstElementChild.firstElementChild;for(var b=a.firstElementChild;b;b=b.nextElementSibling){if(!(b.childNodes.length===0||b.childNodes.length===1&&b.firstChild.nodeType===3)){var c=[{}];this.gmlFormat_.readGeometryElement(b,c);return ol.proj.get(c.pop().srsName)}}}return null};goog.provide("ol.format.WKT");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");ol.format.WKT=function(a){var b=a?a:{};ol.format.TextFeature.call(this);this.splitCollection_=b.splitCollection!==undefined?b.splitCollection:false};ol.inherits(ol.format.WKT,ol.format.TextFeature);ol.format.WKT.EMPTY="EMPTY";ol.format.WKT.encodePointGeometry_=function(a){var b=a.getCoordinates();if(b.length===0){return""}return b[0]+" "+b[1]};ol.format.WKT.encodeMultiPointGeometry_=function(a){var b=[];var c=a.getPoints();for(var d=0,e=c.length;d<e;++d){b.push("("+ol.format.WKT.encodePointGeometry_(c[d])+")")}return b.join(",")};ol.format.WKT.encodeGeometryCollectionGeometry_=function(a){var b=[];var c=a.getGeometries();for(var d=0,e=c.length;d<e;++d){b.push(ol.format.WKT.encode_(c[d]))}return b.join(",")};ol.format.WKT.encodeLineStringGeometry_=function(a){var b=a.getCoordinates();var c=[];for(var d=0,e=b.length;d<e;++d){c.push(b[d][0]+" "+b[d][1])}return c.join(",")};ol.format.WKT.encodeMultiLineStringGeometry_=function(a){var b=[];var c=a.getLineStrings();for(var d=0,e=c.length;d<e;++d){b.push("("+ol.format.WKT.encodeLineStringGeometry_(c[d])+")")}return b.join(",")};ol.format.WKT.encodePolygonGeometry_=function(a){var b=[];var c=a.getLinearRings();for(var d=0,e=c.length;d<e;++d){b.push("("+ol.format.WKT.encodeLineStringGeometry_(c[d])+")")}return b.join(",")};ol.format.WKT.encodeMultiPolygonGeometry_=function(a){var b=[];var c=a.getPolygons();for(var d=0,e=c.length;d<e;++d){b.push("("+ol.format.WKT.encodePolygonGeometry_(c[d])+")")}return b.join(",")};ol.format.WKT.encode_=function(a){var b=a.getType();var c=ol.format.WKT.GeometryEncoder_[b];goog.DEBUG&&console.assert(c,"geometryEncoder should be defined");var d=c(a);b=b.toUpperCase();if(d.length===0){return b+" "+ol.format.WKT.EMPTY}return b+"("+d+")"};ol.format.WKT.GeometryEncoder_={Point:ol.format.WKT.encodePointGeometry_,LineString:ol.format.WKT.encodeLineStringGeometry_,Polygon:ol.format.WKT.encodePolygonGeometry_,MultiPoint:ol.format.WKT.encodeMultiPointGeometry_,MultiLineString:ol.format.WKT.encodeMultiLineStringGeometry_,MultiPolygon:ol.format.WKT.encodeMultiPolygonGeometry_,GeometryCollection:ol.format.WKT.encodeGeometryCollectionGeometry_};ol.format.WKT.prototype.parse_=function(a){var b=new ol.format.WKT.Lexer(a);var c=new ol.format.WKT.Parser(b);return c.parse()};ol.format.WKT.prototype.readFeature;ol.format.WKT.prototype.readFeatureFromText=function(a,b){var c=this.readGeometryFromText(a,b);if(c){var d=new ol.Feature;d.setGeometry(c);return d}return null};ol.format.WKT.prototype.readFeatures;ol.format.WKT.prototype.readFeaturesFromText=function(a,b){var c=[];var d=this.readGeometryFromText(a,b);if(this.splitCollection_&&d.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION){c=d.getGeometriesArray()}else{c=[d]}var e,f=[];for(var g=0,h=c.length;g<h;++g){e=new ol.Feature;e.setGeometry(c[g]);f.push(e)}return f};ol.format.WKT.prototype.readGeometry;ol.format.WKT.prototype.readGeometryFromText=function(a,b){var c=this.parse_(a);if(c){return ol.format.Feature.transformWithOptions(c,false,b)}else{return null}};ol.format.WKT.prototype.writeFeature;ol.format.WKT.prototype.writeFeatureText=function(a,b){var c=a.getGeometry();if(c){return this.writeGeometryText(c,b)}return""};ol.format.WKT.prototype.writeFeatures;ol.format.WKT.prototype.writeFeaturesText=function(a,b){if(a.length==1){return this.writeFeatureText(a[0],b)}var c=[];for(var d=0,e=a.length;d<e;++d){c.push(a[d].getGeometry())}var f=new ol.geom.GeometryCollection(c);return this.writeGeometryText(f,b)};ol.format.WKT.prototype.writeGeometry;ol.format.WKT.prototype.writeGeometryText=function(a,b){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(a,true,b))};ol.format.WKT.TokenType={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6};ol.format.WKT.Lexer=function(a){this.wkt=a;this.index_=-1};ol.format.WKT.Lexer.prototype.isAlpha_=function(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"};ol.format.WKT.Lexer.prototype.isNumeric_=function(a,b){var c=b!==undefined?b:false;return a>="0"&&a<="9"||a=="."&&!c};ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(a){return a==" "||a=="\t"||a=="\r"||a=="\n"};ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};ol.format.WKT.Lexer.prototype.nextToken=function(){var a=this.nextChar_();var b={position:this.index_,value:a};if(a=="("){b.type=ol.format.WKT.TokenType.LEFT_PAREN}else if(a==","){b.type=ol.format.WKT.TokenType.COMMA}else if(a==")"){b.type=ol.format.WKT.TokenType.RIGHT_PAREN}else if(this.isNumeric_(a)||a=="-"){b.type=ol.format.WKT.TokenType.NUMBER;b.value=this.readNumber_()}else if(this.isAlpha_(a)){b.type=ol.format.WKT.TokenType.TEXT;b.value=this.readText_()}else if(this.isWhiteSpace_(a)){return this.nextToken()}else if(a===""){b.type=ol.format.WKT.TokenType.EOF}else{throw new Error("Unexpected character: "+a)}return b};ol.format.WKT.Lexer.prototype.readNumber_=function(){var a,b=this.index_;var c=false;var d=false;do{if(a=="."){c=true}else if(a=="e"||a=="E"){d=true}a=this.nextChar_()}while(this.isNumeric_(a,c)||!d&&(a=="e"||a=="E")||d&&(a=="-"||a=="+"));return parseFloat(this.wkt.substring(b,this.index_--))};ol.format.WKT.Lexer.prototype.readText_=function(){var a,b=this.index_;do{a=this.nextChar_()}while(this.isAlpha_(a));return this.wkt.substring(b,this.index_--).toUpperCase()};ol.format.WKT.Parser=function(a){this.lexer_=a;this.token_;this.dimension_=2};ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};ol.format.WKT.Parser.prototype.match=function(a){var b=this.token_.type==a;if(b){this.consume_()}return b};ol.format.WKT.Parser.prototype.parse=function(){this.consume_();var a=this.parseGeometry_();goog.DEBUG&&console.assert(this.token_.type==ol.format.WKT.TokenType.EOF,"token type should be end of file");return a};ol.format.WKT.Parser.prototype.parseGeometry_=function(){var a=this.token_;if(this.match(ol.format.WKT.TokenType.TEXT)){var b=a.value;if(b==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase()){var c=this.parseGeometryCollectionText_();return new ol.geom.GeometryCollection(c)}else{var d=ol.format.WKT.Parser.GeometryParser_[b];var e=ol.format.WKT.Parser.GeometryConstructor_[b];if(!d||!e){throw new Error("Invalid geometry type: "+b)}var f=d.call(this);return new e(f)}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var a=[];do{a.push(this.parseGeometry_())}while(this.match(ol.format.WKT.TokenType.COMMA));if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN)){return a}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var a=this.parsePoint_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN)){return a}}else if(this.isEmptyGeometry_()){return null}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var a=this.parsePointList_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN)){return a}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var a=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN)){return a}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var a;if(this.token_.type==ol.format.WKT.TokenType.LEFT_PAREN){a=this.parsePointTextList_()}else{a=this.parsePointList_()}if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN)){return a}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var a=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN)){return a}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType.LEFT_PAREN)){var a=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType.RIGHT_PAREN)){return a}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePoint_=function(){var a=[];for(var b=0;b<this.dimension_;++b){var c=this.token_;if(this.match(ol.format.WKT.TokenType.NUMBER)){a.push(c.value)}else{break}}if(a.length==this.dimension_){return a}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointList_=function(){var a=[this.parsePoint_()];while(this.match(ol.format.WKT.TokenType.COMMA)){a.push(this.parsePoint_())}return a};ol.format.WKT.Parser.prototype.parsePointTextList_=function(){var a=[this.parsePointText_()];while(this.match(ol.format.WKT.TokenType.COMMA)){a.push(this.parsePointText_())}return a};ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){var a=[this.parseLineStringText_()];while(this.match(ol.format.WKT.TokenType.COMMA)){a.push(this.parseLineStringText_())}return a};ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){var a=[this.parsePolygonText_()];while(this.match(ol.format.WKT.TokenType.COMMA)){a.push(this.parsePolygonText_())}return a};ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var a=this.token_.type==ol.format.WKT.TokenType.TEXT&&this.token_.value==ol.format.WKT.EMPTY;if(a){this.consume_()}return a};ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};ol.format.WKT.Parser.GeometryConstructor_={POINT:ol.geom.Point,LINESTRING:ol.geom.LineString,POLYGON:ol.geom.Polygon,MULTIPOINT:ol.geom.MultiPoint,MULTILINESTRING:ol.geom.MultiLineString,MULTIPOLYGON:ol.geom.MultiPolygon};ol.format.WKT.Parser.GeometryParser_={POINT:ol.format.WKT.Parser.prototype.parsePointText_,LINESTRING:ol.format.WKT.Parser.prototype.parseLineStringText_,POLYGON:ol.format.WKT.Parser.prototype.parsePolygonText_,MULTIPOINT:ol.format.WKT.Parser.prototype.parseMultiPointText_,MULTILINESTRING:ol.format.WKT.Parser.prototype.parseMultiLineStringText_,MULTIPOLYGON:ol.format.WKT.Parser.prototype.parseMultiPolygonText_};goog.provide("ol.format.WMSCapabilities");goog.require("ol");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.WMSCapabilities=function(){ol.format.XML.call(this);this.version=undefined};ol.inherits(ol.format.WMSCapabilities,ol.format.XML);ol.format.WMSCapabilities.prototype.read;ol.format.WMSCapabilities.prototype.readFromDocument=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be DOCUMENT");for(var b=a.firstChild;b;b=b.nextSibling){if(b.nodeType==Node.ELEMENT_NODE){return this.readFromNode(b)}}return null};ol.format.WMSCapabilities.prototype.readFromNode=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="WMS_Capabilities"||a.localName=="WMT_MS_Capabilities","localName should be WMS_Capabilities or WMT_MS_Capabilities");this.version=a.getAttribute("version").trim();var b=ol.xml.pushParseAndPop({version:this.version},ol.format.WMSCapabilities.PARSERS_,a,[]);return b?b:null};ol.format.WMSCapabilities.readAttribution_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Attribution","localName should be Attribution");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_,a,b)};ol.format.WMSCapabilities.readBoundingBox_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="BoundingBox","localName should be BoundingBox");var c=[ol.format.XSD.readDecimalString(a.getAttribute("minx")),ol.format.XSD.readDecimalString(a.getAttribute("miny")),ol.format.XSD.readDecimalString(a.getAttribute("maxx")),ol.format.XSD.readDecimalString(a.getAttribute("maxy"))];var d=[ol.format.XSD.readDecimalString(a.getAttribute("resx")),ol.format.XSD.readDecimalString(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:c,res:d}};ol.format.WMSCapabilities.readEXGeographicBoundingBox_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="EX_GeographicBoundingBox","localName should be EX_GeographicBoundingBox");var c=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,a,b);if(!c){return undefined}var d=c["westBoundLongitude"];var e=c["southBoundLatitude"];var f=c["eastBoundLongitude"];var g=c["northBoundLatitude"];if(d===undefined||e===undefined||f===undefined||g===undefined){return undefined}return[d,e,f,g]};ol.format.WMSCapabilities.readCapability_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Capability","localName should be Capability");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CAPABILITY_PARSERS_,a,b)};ol.format.WMSCapabilities.readService_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Service","localName should be Service");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.SERVICE_PARSERS_,a,b)};ol.format.WMSCapabilities.readContactInformation_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType shpuld be ELEMENT");goog.DEBUG&&console.assert(a.localName=="ContactInformation","localName should be ContactInformation");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_,a,b)};ol.format.WMSCapabilities.readContactPersonPrimary_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="ContactPersonPrimary","localName should be ContactPersonPrimary");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_,a,b)};ol.format.WMSCapabilities.readContactAddress_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="ContactAddress","localName should be ContactAddress");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_,a,b)};ol.format.WMSCapabilities.readException_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Exception","localName should be Exception");return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.EXCEPTION_PARSERS_,a,b)};ol.format.WMSCapabilities.readCapabilityLayer_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Layer","localName should be Layer");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,a,b)};ol.format.WMSCapabilities.readLayer_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Layer","localName should be Layer");var c=b[b.length-1];var d=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,a,b);if(!d){return undefined}var e=ol.format.XSD.readBooleanString(a.getAttribute("queryable"));if(e===undefined){e=c["queryable"]}d["queryable"]=e!==undefined?e:false;var f=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("cascaded"));if(f===undefined){f=c["cascaded"]}d["cascaded"]=f;var g=ol.format.XSD.readBooleanString(a.getAttribute("opaque"));if(g===undefined){g=c["opaque"]}d["opaque"]=g!==undefined?g:false;var h=ol.format.XSD.readBooleanString(a.getAttribute("noSubsets"));if(h===undefined){h=c["noSubsets"]}d["noSubsets"]=h!==undefined?h:false;var i=ol.format.XSD.readDecimalString(a.getAttribute("fixedWidth"));if(!i){i=c["fixedWidth"]}d["fixedWidth"]=i;var j=ol.format.XSD.readDecimalString(a.getAttribute("fixedHeight"));if(!j){j=c["fixedHeight"]}d["fixedHeight"]=j;var k=["Style","CRS","AuthorityURL"];k.forEach((function(a){if(a in c){var b=d[a]||[];d[a]=b.concat(c[a])}}));var l=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];l.forEach((function(a){if(!(a in d)){var b=c[a];d[a]=b}}));return d};ol.format.WMSCapabilities.readDimension_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");
goog.DEBUG&&console.assert(a.localName=="Dimension","localName should be Dimension");var c={name:a.getAttribute("name"),units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),"default":a.getAttribute("default"),multipleValues:ol.format.XSD.readBooleanString(a.getAttribute("multipleValues")),nearestValue:ol.format.XSD.readBooleanString(a.getAttribute("nearestValue")),current:ol.format.XSD.readBooleanString(a.getAttribute("current")),values:ol.format.XSD.readString(a)};return c};ol.format.WMSCapabilities.readFormatOnlineresource_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,a,b)};ol.format.WMSCapabilities.readRequest_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Request","localName should be Request");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.REQUEST_PARSERS_,a,b)};ol.format.WMSCapabilities.readDCPType_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="DCPType","localName should be DCPType");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.DCPTYPE_PARSERS_,a,b)};ol.format.WMSCapabilities.readHTTP_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="HTTP","localName should be HTTP");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.HTTP_PARSERS_,a,b)};ol.format.WMSCapabilities.readOperationType_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_,a,b)};ol.format.WMSCapabilities.readSizedFormatOnlineresource_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var c=ol.format.WMSCapabilities.readFormatOnlineresource_(a,b);if(c){var d=[ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("width")),ol.format.XSD.readNonNegativeIntegerString(a.getAttribute("height"))];c["size"]=d;return c}return undefined};ol.format.WMSCapabilities.readAuthorityURL_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="AuthorityURL","localName should be AuthorityURL");var c=ol.format.WMSCapabilities.readFormatOnlineresource_(a,b);if(c){c["name"]=a.getAttribute("name");return c}return undefined};ol.format.WMSCapabilities.readMetadataURL_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="MetadataURL","localName should be MetadataURL");var c=ol.format.WMSCapabilities.readFormatOnlineresource_(a,b);if(c){c["type"]=a.getAttribute("type");return c}return undefined};ol.format.WMSCapabilities.readStyle_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Style","localName should be Style");return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.STYLE_PARSERS_,a,b)};ol.format.WMSCapabilities.readKeywordList_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="KeywordList","localName should be KeywordList");return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_,a,b)};ol.format.WMSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wms"];ol.format.WMSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Service:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readService_),Capability:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapability_)});ol.format.WMSCapabilities.CAPABILITY_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Request:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readRequest_),Exception:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readException_),Layer:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapabilityLayer_)});ol.format.WMSCapabilities.SERVICE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ContactInformation:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactInformation_),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LayerLimit:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)});ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPersonPrimary:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactPersonPrimary_),ContactPosition:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactAddress:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactAddress_),ContactVoiceTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactFacsimileTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPerson:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactOrganization:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{AddressType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),StateOrProvince:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.EXCEPTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeArrayPusher(ol.format.XSD.readString)});ol.format.WMSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),CRS:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),EX_GeographicBoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readEXGeographicBoundingBox_),BoundingBox:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readBoundingBox_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDimension_),Attribution:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readAttribution_),AuthorityURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readAuthorityURL_),Identifier:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),MetadataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readMetadataURL_),DataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),FeatureListURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),Style:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readStyle_),MinScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),MaxScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readLayer_)});ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),LogoURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readSizedFormatOnlineresource_)});ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{westBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),eastBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),southBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),northBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.WMSCapabilities.REQUEST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{GetCapabilities:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetMap:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetFeatureInfo:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_)});ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),DCPType:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDCPType_)});ol.format.WMSCapabilities.DCPTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readHTTP_)});ol.format.WMSCapabilities.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),Post:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readSizedFormatOnlineresource_),StyleSheetURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),StyleURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)});ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Keyword:ol.xml.makeArrayPusher(ol.format.XSD.readString)});goog.provide("ol.format.WMSGetFeatureInfo");goog.require("ol");goog.require("ol.array");goog.require("ol.format.GML2");goog.require("ol.format.XMLFeature");goog.require("ol.obj");goog.require("ol.xml");ol.format.WMSGetFeatureInfo=function(a){var b=a?a:{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver";this.gmlFormat_=new ol.format.GML2;this.layers_=b.layers?b.layers:null;ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WMSGetFeatureInfo,ol.format.XMLFeature);ol.format.WMSGetFeatureInfo.featureIdentifier_="_feature";ol.format.WMSGetFeatureInfo.layerIdentifier_="_layer";ol.format.WMSGetFeatureInfo.prototype.readFeatures_=function(a,b){a.setAttribute("namespaceURI",this.featureNS_);goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var c=a.localName;var d=[];if(a.childNodes.length===0){return d}if(c=="msGMLOutput"){for(var e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];if(g.nodeType!==Node.ELEMENT_NODE){continue}var h=b[0];goog.DEBUG&&console.assert(g.localName.indexOf(ol.format.WMSGetFeatureInfo.layerIdentifier_)>=0,"localName of layer node should match layerIdentifier");var i=ol.format.WMSGetFeatureInfo.layerIdentifier_;var j=g.localName.replace(i,"");if(this.layers_&&!ol.array.includes(this.layers_,j)){continue}var k=j+ol.format.WMSGetFeatureInfo.featureIdentifier_;h["featureType"]=k;h["featureNS"]=this.featureNS_;var l={};l[k]=ol.xml.makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var m=ol.xml.makeStructureNS([h["featureNS"],null],l);g.setAttribute("namespaceURI",this.featureNS_);var n=ol.xml.pushParseAndPop([],m,g,b,this.gmlFormat_);if(n){ol.array.extend(d,n)}}}if(c=="FeatureCollection"){var o=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,a,[{}],this.gmlFormat_);if(o){d=o}}return d};ol.format.WMSGetFeatureInfo.prototype.readFeatures;ol.format.WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(a,b){var c={};if(b){ol.obj.assign(c,this.getReadOptions(a,b))}return this.readFeatures_(a,[c])};goog.provide("ol.format.WMTSCapabilities");goog.require("ol");goog.require("ol.extent");goog.require("ol.format.OWS");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.WMTSCapabilities=function(){ol.format.XML.call(this);this.owsParser_=new ol.format.OWS};ol.inherits(ol.format.WMTSCapabilities,ol.format.XML);ol.format.WMTSCapabilities.prototype.read;ol.format.WMTSCapabilities.prototype.readFromDocument=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be DOCUMENT");for(var b=a.firstChild;b;b=b.nextSibling){if(b.nodeType==Node.ELEMENT_NODE){return this.readFromNode(b)}}return null};ol.format.WMTSCapabilities.prototype.readFromNode=function(a){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Capabilities","localName should be Capabilities");var b=a.getAttribute("version").trim();var c=this.owsParser_.readFromNode(a);if(!c){return null}c["version"]=b;c=ol.xml.pushParseAndPop(c,ol.format.WMTSCapabilities.PARSERS_,a,[]);return c?c:null};ol.format.WMTSCapabilities.readContents_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Contents","localName should be Contents");return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.CONTENTS_PARSERS_,a,b)};ol.format.WMTSCapabilities.readLayer_=function(a,b){goog.DEBUG&&console.assert(a.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");goog.DEBUG&&console.assert(a.localName=="Layer","localName should be Layer");return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.LAYER_PARSERS_,a,b)};ol.format.WMTSCapabilities.readTileMatrixSet_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_PARSERS_,a,b)};ol.format.WMTSCapabilities.readStyle_=function(a,b){var c=ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.STYLE_PARSERS_,a,b);if(!c){return undefined}var d=a.getAttribute("isDefault")==="true";c["isDefault"]=d;return c};ol.format.WMTSCapabilities.readTileMatrixSetLink_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_,a,b)};ol.format.WMTSCapabilities.readDimensions_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.DIMENSION_PARSERS_,a,b)};ol.format.WMTSCapabilities.readResourceUrl_=function(a,b){var c=a.getAttribute("format");var d=a.getAttribute("template");var e=a.getAttribute("resourceType");var f={};if(c){f["format"]=c}if(d){f["template"]=d}if(e){f["resourceType"]=e}return f};ol.format.WMTSCapabilities.readWgs84BoundingBox_=function(a,b){var c=ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.WGS84_BBOX_READERS_,a,b);if(c.length!=2){return undefined}return ol.extent.boundingExtent(c)};ol.format.WMTSCapabilities.readLegendUrl_=function(a,b){var c={};c["format"]=a.getAttribute("format");c["href"]=ol.format.XLink.readHref(a);return c};ol.format.WMTSCapabilities.readCoordinates_=function(a,b){var c=ol.format.XSD.readString(a).split(" ");if(!c||c.length!=2){return undefined}var d=+c[0];var e=+c[1];if(isNaN(d)||isNaN(e)){return undefined}return[d,e]};ol.format.WMTSCapabilities.readTileMatrix_=function(a,b){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TM_PARSERS_,a,b)};ol.format.WMTSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wmts/1.0"];ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"];ol.format.WMTSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Contents:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readContents_)});ol.format.WMTSCapabilities.CONTENTS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLayer_),TileMatrixSet:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSet_)});ol.format.WMTSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readStyle_),Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),TileMatrixSetLink:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSetLink_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readDimensions_),ResourceURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readResourceUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),WGS84BoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readWgs84BoundingBox_),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLegendUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMTSCapabilities.DIMENSION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Default:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Value:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.WGS84_BBOX_READERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{LowerCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_),UpperCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_)});ol.format.WMTSCapabilities.TMS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{WellKnownScaleSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrix:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrix_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{SupportedCRS:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TM_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TopLeftCorner:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readCoordinates_),ScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),TileWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),TileHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));goog.provide("ol.Geolocation");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.Object");goog.require("ol.geom.Polygon");goog.require("ol.has");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.sphere.WGS84");ol.GeolocationProperty={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"};ol.Geolocation=function(a){ol.Object.call(this);var b=a||{};this.position_=null;this.transform_=ol.proj.identityTransform;this.watchId_=undefined;ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.PROJECTION),this.handleProjectionChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.TRACKING),this.handleTrackingChanged_,this);if(b.projection!==undefined){this.setProjection(ol.proj.get(b.projection))}if(b.trackingOptions!==undefined){this.setTrackingOptions(b.trackingOptions)}this.setTracking(b.tracking!==undefined?b.tracking:false)};ol.inherits(ol.Geolocation,ol.Object);ol.Geolocation.prototype.disposeInternal=function(){this.setTracking(false);ol.Object.prototype.disposeInternal.call(this)};ol.Geolocation.prototype.handleProjectionChanged_=function(){var a=this.getProjection();if(a){this.transform_=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),a);if(this.position_){this.set(ol.GeolocationProperty.POSITION,this.transform_(this.position_))}}};ol.Geolocation.prototype.handleTrackingChanged_=function(){if(ol.has.GEOLOCATION){var a=this.getTracking();if(a&&this.watchId_===undefined){this.watchId_=ol.global.navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions())}else if(!a&&this.watchId_!==undefined){ol.global.navigator.geolocation.clearWatch(this.watchId_);this.watchId_=undefined}}};ol.Geolocation.prototype.positionChange_=function(a){var b=a.coords;this.set(ol.GeolocationProperty.ACCURACY,b.accuracy);this.set(ol.GeolocationProperty.ALTITUDE,b.altitude===null?undefined:b.altitude);this.set(ol.GeolocationProperty.ALTITUDE_ACCURACY,b.altitudeAccuracy===null?undefined:b.altitudeAccuracy);this.set(ol.GeolocationProperty.HEADING,b.heading===null?undefined:ol.math.toRadians(b.heading));if(!this.position_){this.position_=[b.longitude,b.latitude]}else{this.position_[0]=b.longitude;this.position_[1]=b.latitude}var c=this.transform_(this.position_);this.set(ol.GeolocationProperty.POSITION,c);this.set(ol.GeolocationProperty.SPEED,b.speed===null?undefined:b.speed);var d=ol.geom.Polygon.circular(ol.sphere.WGS84,this.position_,b.accuracy);d.applyTransform(this.transform_);this.set(ol.GeolocationProperty.ACCURACY_GEOMETRY,d);this.changed()};ol.Geolocation.prototype.positionError_=function(a){a.type=ol.events.EventType.ERROR;this.setTracking(false);this.dispatchEvent(a)};ol.Geolocation.prototype.getAccuracy=function(){return this.get(ol.GeolocationProperty.ACCURACY)};ol.Geolocation.prototype.getAccuracyGeometry=function(){return this.get(ol.GeolocationProperty.ACCURACY_GEOMETRY)||null};ol.Geolocation.prototype.getAltitude=function(){return this.get(ol.GeolocationProperty.ALTITUDE)};ol.Geolocation.prototype.getAltitudeAccuracy=function(){return this.get(ol.GeolocationProperty.ALTITUDE_ACCURACY)};ol.Geolocation.prototype.getHeading=function(){return this.get(ol.GeolocationProperty.HEADING)};ol.Geolocation.prototype.getPosition=function(){return this.get(ol.GeolocationProperty.POSITION)};ol.Geolocation.prototype.getProjection=function(){return this.get(ol.GeolocationProperty.PROJECTION)};ol.Geolocation.prototype.getSpeed=function(){return this.get(ol.GeolocationProperty.SPEED)};ol.Geolocation.prototype.getTracking=function(){return this.get(ol.GeolocationProperty.TRACKING)};ol.Geolocation.prototype.getTrackingOptions=function(){return this.get(ol.GeolocationProperty.TRACKING_OPTIONS)};ol.Geolocation.prototype.setProjection=function(a){this.set(ol.GeolocationProperty.PROJECTION,a)};ol.Geolocation.prototype.setTracking=function(a){this.set(ol.GeolocationProperty.TRACKING,a)};ol.Geolocation.prototype.setTrackingOptions=function(a){this.set(ol.GeolocationProperty.TRACKING_OPTIONS,a)};goog.provide("ol.geom.Circle");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");ol.geom.Circle=function(a,b,c){ol.geom.SimpleGeometry.call(this);var d=b?b:0;this.setCenterAndRadius(a,d,c)};ol.inherits(ol.geom.Circle,ol.geom.SimpleGeometry);ol.geom.Circle.prototype.clone=function(){var a=new ol.geom.Circle(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.Circle.prototype.closestPointXY=function(a,b,c,d){var e=this.flatCoordinates;var f=a-e[0];var g=b-e[1];var h=f*f+g*g;if(h<d){var i;if(h===0){for(i=0;i<this.stride;++i){c[i]=e[i]}}else{var j=this.getRadius()/Math.sqrt(h);c[0]=e[0]+j*f;c[1]=e[1]+j*g;for(i=2;i<this.stride;++i){c[i]=e[i]}}c.length=this.stride;return h}else{return d}};ol.geom.Circle.prototype.containsXY=function(a,b){var c=this.flatCoordinates;var d=a-c[0];var e=b-c[1];return d*d+e*e<=this.getRadiusSquared_()};ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.Circle.prototype.computeExtent=function(a){var b=this.flatCoordinates;var c=b[this.stride]-b[0];return ol.extent.createOrUpdate(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)};ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};ol.geom.Circle.prototype.getRadiusSquared_=function(){var a=this.flatCoordinates[this.stride]-this.flatCoordinates[0];var b=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return a*a+b*b};ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE};ol.geom.Circle.prototype.intersectsExtent=function(a){var b=this.getExtent();if(ol.extent.intersects(a,b)){var c=this.getCenter();if(a[0]<=c[0]&&a[2]>=c[0]){return true}if(a[1]<=c[1]&&a[3]>=c[1]){return true}return ol.extent.forEachCorner(a,this.intersectsCoordinate,this)}return false};ol.geom.Circle.prototype.setCenter=function(a){var b=this.stride;goog.DEBUG&&console.assert(a.length==b,"center array length should match stride");var c=this.flatCoordinates[b]-this.flatCoordinates[0];var d=a.slice();d[b]=d[0]+c;var e;for(e=1;e<b;++e){d[b+e]=a[e]}this.setFlatCoordinates(this.layout,d)};ol.geom.Circle.prototype.setCenterAndRadius=function(a,b,c){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(c,a,0);if(!this.flatCoordinates){this.flatCoordinates=[]}var d=this.flatCoordinates;var e=ol.geom.flat.deflate.coordinate(d,0,a,this.stride);d[e++]=d[0]+b;var f,g;for(f=1,g=this.stride;f<g;++f){d[e++]=d[f]}d.length=e;this.changed()}};ol.geom.Circle.prototype.setFlatCoordinates=function(a,b){this.setFlatCoordinatesInternal(a,b);this.changed()};ol.geom.Circle.prototype.setRadius=function(a){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+a;this.changed()};ol.geom.Circle.prototype.transform;goog.provide("ol.geom.flat.geodesic");goog.require("ol.math");goog.require("ol.proj");ol.geom.flat.geodesic.line_=function(a,b,c){var d=[];var e=a(0);var f=a(1);var g=b(e);var h=b(f);var i=[f,e];var j=[h,g];var k=[1,0];var l={};var m=1e5;var n,o,p,q,r,s;while(--m>0&&k.length>0){p=k.pop();e=i.pop();g=j.pop();s=p.toString();if(!(s in l)){d.push(g[0],g[1]);l[s]=true}q=k.pop();f=i.pop();h=j.pop();r=(p+q)/2;n=a(r);o=b(n);if(ol.math.squaredSegmentDistance(o[0],o[1],g[0],g[1],h[0],h[1])<c){d.push(h[0],h[1]);s=q.toString();goog.DEBUG&&console.assert(!(s in l),"fractions object should contain key : "+s);l[s]=true}else{k.push(q,r,r,p);j.push(h,o,o,g);i.push(f,n,n,e)}}goog.DEBUG&&console.assert(m>0,"maxIterations should be more than 0");return d};ol.geom.flat.geodesic.greatCircleArc=function(a,b,c,d,e,f){var g=ol.proj.get("EPSG:4326");var h=Math.cos(ol.math.toRadians(b));var i=Math.sin(ol.math.toRadians(b));var j=Math.cos(ol.math.toRadians(d));var k=Math.sin(ol.math.toRadians(d));var l=Math.cos(ol.math.toRadians(c-a));var m=Math.sin(ol.math.toRadians(c-a));var n=i*k+h*j*l;return ol.geom.flat.geodesic.line_((function(b){if(1<=n){return[c,d]}var e=b*Math.acos(n);var f=Math.cos(e);var g=Math.sin(e);var o=m*j;var p=h*k-i*j*l;var q=Math.atan2(o,p);var r=Math.asin(i*f+h*g*Math.cos(q));var s=ol.math.toRadians(a)+Math.atan2(Math.sin(q)*g*h,f-i*Math.sin(r));return[ol.math.toDegrees(s),ol.math.toDegrees(r)]}),ol.proj.getTransform(g,e),f)};ol.geom.flat.geodesic.meridian=function(a,b,c,d,e){var f=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_((function(d){return[a,b+(c-b)*d]}),ol.proj.getTransform(f,d),e)};ol.geom.flat.geodesic.parallel=function(a,b,c,d,e){var f=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_((function(d){return[b+(c-b)*d,a]}),ol.proj.getTransform(f,d),e)};goog.provide("ol.Graticule");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.flat.geodesic");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.render.EventType");goog.require("ol.style.Stroke");ol.Graticule=function(a){var b=a||{};this.map_=null;this.projection_=null;this.maxLat_=Infinity;this.maxLon_=Infinity;this.minLat_=-Infinity;this.minLon_=-Infinity;this.maxLatP_=Infinity;this.maxLonP_=Infinity;this.minLatP_=-Infinity;this.minLonP_=-Infinity;this.targetSize_=b.targetSize!==undefined?b.targetSize:100;this.maxLines_=b.maxLines!==undefined?b.maxLines:100;goog.DEBUG&&console.assert(this.maxLines_>0,"this.maxLines_ should be more than 0");this.meridians_=[];this.parallels_=[];this.strokeStyle_=b.strokeStyle!==undefined?b.strokeStyle:ol.Graticule.DEFAULT_STROKE_STYLE_;this.fromLonLatTransform_=undefined;this.toLonLatTransform_=undefined;this.projectionCenterLonLat_=null;this.setMap(b.map!==undefined?b.map:null)};ol.Graticule.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:"rgba(0,0,0,0.2)"});ol.Graticule.intervals_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];ol.Graticule.prototype.addMeridian_=function(a,b,c,d,e,f){var g=this.getMeridian_(a,b,c,d,f);if(ol.extent.intersects(g.getExtent(),e)){this.meridians_[f++]=g}return f};ol.Graticule.prototype.addParallel_=function(a,b,c,d,e,f){var g=this.getParallel_(a,b,c,d,f);if(ol.extent.intersects(g.getExtent(),e)){this.parallels_[f++]=g}return f};ol.Graticule.prototype.createGraticule_=function(a,b,c,d){var e=this.getInterval_(c);if(e==-1){this.meridians_.length=this.parallels_.length=0;return}var f=this.toLonLatTransform_(b);var g=f[0];var h=f[1];var i=this.maxLines_;var j,k,l,m;var n=[Math.max(a[0],this.minLonP_),Math.max(a[1],this.minLatP_),Math.min(a[2],this.maxLonP_),Math.min(a[3],this.maxLatP_)];n=ol.proj.transformExtent(n,this.projection_,"EPSG:4326");var o=n[3];var p=n[2];var q=n[1];var r=n[0];g=Math.floor(g/e)*e;m=ol.math.clamp(g,this.minLon_,this.maxLon_);k=this.addMeridian_(m,q,o,d,a,0);j=0;while(m!=this.minLon_&&j++<i){
m=Math.max(m-e,this.minLon_);k=this.addMeridian_(m,q,o,d,a,k)}m=ol.math.clamp(g,this.minLon_,this.maxLon_);j=0;while(m!=this.maxLon_&&j++<i){m=Math.min(m+e,this.maxLon_);k=this.addMeridian_(m,q,o,d,a,k)}this.meridians_.length=k;h=Math.floor(h/e)*e;l=ol.math.clamp(h,this.minLat_,this.maxLat_);k=this.addParallel_(l,r,p,d,a,0);j=0;while(l!=this.minLat_&&j++<i){l=Math.max(l-e,this.minLat_);k=this.addParallel_(l,r,p,d,a,k)}l=ol.math.clamp(h,this.minLat_,this.maxLat_);j=0;while(l!=this.maxLat_&&j++<i){l=Math.min(l+e,this.maxLat_);k=this.addParallel_(l,r,p,d,a,k)}this.parallels_.length=k};ol.Graticule.prototype.getInterval_=function(a){var b=this.projectionCenterLonLat_[0];var c=this.projectionCenterLonLat_[1];var d=-1;var e,f,g,h;var i=Math.pow(this.targetSize_*a,2);var j=[];var k=[];for(e=0,f=ol.Graticule.intervals_.length;e<f;++e){g=ol.Graticule.intervals_[e]/2;j[0]=b-g;j[1]=c-g;k[0]=b+g;k[1]=c+g;this.fromLonLatTransform_(j,j);this.fromLonLatTransform_(k,k);h=Math.pow(k[0]-j[0],2)+Math.pow(k[1]-j[1],2);if(h<=i){break}d=ol.Graticule.intervals_[e]}return d};ol.Graticule.prototype.getMap=function(){return this.map_};ol.Graticule.prototype.getMeridian_=function(a,b,c,d,e){goog.DEBUG&&console.assert(a>=this.minLon_,"lon should be larger than or equal to this.minLon_");goog.DEBUG&&console.assert(a<=this.maxLon_,"lon should be smaller than or equal to this.maxLon_");var f=ol.geom.flat.geodesic.meridian(a,b,c,this.projection_,d);goog.DEBUG&&console.assert(f.length>0,"flatCoordinates cannot be empty");var g=this.meridians_[e]!==undefined?this.meridians_[e]:new ol.geom.LineString(null);g.setFlatCoordinates(ol.geom.GeometryLayout.XY,f);return g};ol.Graticule.prototype.getMeridians=function(){return this.meridians_};ol.Graticule.prototype.getParallel_=function(a,b,c,d,e){goog.DEBUG&&console.assert(a>=this.minLat_,"lat should be larger than or equal to this.minLat_");goog.DEBUG&&console.assert(a<=this.maxLat_,"lat should be smaller than or equal to this.maxLat_");var f=ol.geom.flat.geodesic.parallel(a,this.minLon_,this.maxLon_,this.projection_,d);goog.DEBUG&&console.assert(f.length>0,"flatCoordinates cannot be empty");var g=this.parallels_[e]!==undefined?this.parallels_[e]:new ol.geom.LineString(null);g.setFlatCoordinates(ol.geom.GeometryLayout.XY,f);return g};ol.Graticule.prototype.getParallels=function(){return this.parallels_};ol.Graticule.prototype.handlePostCompose_=function(a){var b=a.vectorContext;var c=a.frameState;var d=c.extent;var e=c.viewState;var f=e.center;var g=e.projection;var h=e.resolution;var i=c.pixelRatio;var j=h*h/(4*i*i);var k=!this.projection_||!ol.proj.equivalent(this.projection_,g);if(k){this.updateProjectionInfo_(g)}var l=0;if(g.canWrapX()){var m=g.getExtent();var n=ol.extent.getWidth(m);var o=c.focus[0];if(o<m[0]||o>m[2]){var p=Math.ceil((m[0]-o)/n);l=n*p;d=[d[0]+l,d[1],d[2]+l,d[3]]}}this.createGraticule_(d,f,h,j);b.setFillStrokeStyle(null,this.strokeStyle_);var q,r,s;for(q=0,r=this.meridians_.length;q<r;++q){s=this.meridians_[q];b.drawLineString(s,null)}for(q=0,r=this.parallels_.length;q<r;++q){s=this.parallels_[q];b.drawLineString(s,null)}};ol.Graticule.prototype.updateProjectionInfo_=function(a){var b=ol.proj.get("EPSG:4326");var c=a.getExtent();var d=a.getWorldExtent();var e=ol.proj.transformExtent(d,b,a);var f=d[3];var g=d[2];var h=d[1];var i=d[0];var j=e[3];var k=e[2];var l=e[1];var m=e[0];goog.DEBUG&&console.assert(f!==undefined,"maxLat should be defined");goog.DEBUG&&console.assert(g!==undefined,"maxLon should be defined");goog.DEBUG&&console.assert(h!==undefined,"minLat should be defined");goog.DEBUG&&console.assert(i!==undefined,"minLon should be defined");goog.DEBUG&&console.assert(j!==undefined,"projected maxLat should be defined");goog.DEBUG&&console.assert(k!==undefined,"projected maxLon should be defined");goog.DEBUG&&console.assert(l!==undefined,"projected minLat should be defined");goog.DEBUG&&console.assert(m!==undefined,"projected minLon should be defined");this.maxLat_=f;this.maxLon_=g;this.minLat_=h;this.minLon_=i;this.maxLatP_=j;this.maxLonP_=k;this.minLatP_=l;this.minLonP_=m;this.fromLonLatTransform_=ol.proj.getTransform(b,a);this.toLonLatTransform_=ol.proj.getTransform(a,b);this.projectionCenterLonLat_=this.toLonLatTransform_(ol.extent.getCenter(c));this.projection_=a};ol.Graticule.prototype.setMap=function(a){if(this.map_){this.map_.un(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);this.map_.render()}if(a){a.on(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);a.render()}this.map_=a};goog.provide("ol.Image");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");ol.Image=function(a,b,c,d,e,f,g){ol.ImageBase.call(this,a,b,c,ol.ImageState.IDLE,d);this.src_=e;this.image_=new Image;if(f!==null){this.image_.crossOrigin=f}this.imageByContext_={};this.imageListenerKeys_=null;this.state=ol.ImageState.IDLE;this.imageLoadFunction_=g};ol.inherits(ol.Image,ol.ImageBase);ol.Image.prototype.getImage=function(a){if(a!==undefined){var b;var c=ol.getUid(a);if(c in this.imageByContext_){return this.imageByContext_[c]}else if(ol.obj.isEmpty(this.imageByContext_)){b=this.image_}else{b=this.image_.cloneNode(false)}this.imageByContext_[c]=b;return b}else{return this.image_}};ol.Image.prototype.handleImageError_=function(){this.state=ol.ImageState.ERROR;this.unlistenImage_();this.changed()};ol.Image.prototype.handleImageLoad_=function(){if(this.resolution===undefined){this.resolution=ol.extent.getHeight(this.extent)/this.image_.height}this.state=ol.ImageState.LOADED;this.unlistenImage_();this.changed()};ol.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE||this.state==ol.ImageState.ERROR){this.state=ol.ImageState.LOADING;this.changed();goog.DEBUG&&console.assert(!this.imageListenerKeys_,"this.imageListenerKeys_ should be null");this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.imageLoadFunction_(this,this.src_)}};ol.Image.prototype.setImage=function(a){this.image_=a};ol.Image.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.ImageTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.obj");ol.ImageTile=function(a,b,c,d,e){ol.Tile.call(this,a,b);this.src_=c;this.image_=new Image;if(d!==null){this.image_.crossOrigin=d}this.imageByContext_={};this.imageListenerKeys_=null;this.tileLoadFunction_=e};ol.inherits(ol.ImageTile,ol.Tile);ol.ImageTile.prototype.disposeInternal=function(){if(this.state==ol.Tile.State.LOADING){this.unlistenImage_()}if(this.interimTile){this.interimTile.dispose()}this.state=ol.Tile.State.ABORT;this.changed();ol.Tile.prototype.disposeInternal.call(this)};ol.ImageTile.prototype.getImage=function(a){if(a!==undefined){var b;var c=ol.getUid(a);if(c in this.imageByContext_){return this.imageByContext_[c]}else if(ol.obj.isEmpty(this.imageByContext_)){b=this.image_}else{b=this.image_.cloneNode(false)}this.imageByContext_[c]=b;return b}else{return this.image_}};ol.ImageTile.prototype.getKey=function(){return this.src_};ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.Tile.State.ERROR;this.unlistenImage_();this.changed()};ol.ImageTile.prototype.handleImageLoad_=function(){if(this.image_.naturalWidth&&this.image_.naturalHeight){this.state=ol.Tile.State.LOADED}else{this.state=ol.Tile.State.EMPTY}this.unlistenImage_();this.changed()};ol.ImageTile.prototype.load=function(){if(this.state==ol.Tile.State.IDLE||this.state==ol.Tile.State.ERROR){this.state=ol.Tile.State.LOADING;this.changed();goog.DEBUG&&console.assert(!this.imageListenerKeys_,"this.imageListenerKeys_ should be null");this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.tileLoadFunction_(this,this.src_)}};ol.ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.interaction.DragAndDrop");goog.provide("ol.interaction.DragAndDropEvent");goog.require("ol");goog.require("ol.functions");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.interaction.Interaction");goog.require("ol.proj");ol.interaction.DragAndDrop=function(a){var b=a?a:{};ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DragAndDrop.handleEvent});this.formatConstructors_=b.formatConstructors?b.formatConstructors:[];this.projection_=b.projection?ol.proj.get(b.projection):null;this.dropListenKeys_=null;this.target=b.target?b.target:null};ol.inherits(ol.interaction.DragAndDrop,ol.interaction.Interaction);ol.interaction.DragAndDrop.handleDrop_=function(a){var b=a.dataTransfer.files;var c,d,e;for(c=0,d=b.length;c<d;++c){e=b.item(c);var f=new FileReader;f.addEventListener(ol.events.EventType.LOAD,this.handleResult_.bind(this,e));f.readAsText(e)}};ol.interaction.DragAndDrop.handleStop_=function(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"};ol.interaction.DragAndDrop.prototype.handleResult_=function(a,b){var c=b.target.result;var d=this.getMap();var e=this.projection_;if(!e){var f=d.getView();e=f.getProjection();goog.DEBUG&&console.assert(e!==undefined,"projection should be defined")}var g=this.formatConstructors_;var h=[];var i,j;for(i=0,j=g.length;i<j;++i){var k=g[i];var l=new k;h=this.tryReadFeatures_(l,c,{featureProjection:e});if(h&&h.length>0){break}}this.dispatchEvent(new ol.interaction.DragAndDropEvent(ol.interaction.DragAndDropEventType.ADD_FEATURES,a,h,e))};ol.interaction.DragAndDrop.handleEvent=ol.functions.TRUE;ol.interaction.DragAndDrop.prototype.setMap=function(a){if(this.dropListenKeys_){this.dropListenKeys_.forEach(ol.events.unlistenByKey);this.dropListenKeys_=null}ol.interaction.Interaction.prototype.setMap.call(this,a);if(a){var b=this.target?this.target:a.getViewport();this.dropListenKeys_=[ol.events.listen(b,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleDrop_,this),ol.events.listen(b,ol.events.EventType.DRAGENTER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(b,ol.events.EventType.DRAGOVER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(b,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleStop_,this)]}};ol.interaction.DragAndDrop.prototype.tryReadFeatures_=function(a,b,c){try{return a.readFeatures(b,c)}catch(d){return null}};ol.interaction.DragAndDropEventType={ADD_FEATURES:"addfeatures"};ol.interaction.DragAndDropEvent=function(a,b,c,d){ol.events.Event.call(this,a);this.features=c;this.file=b;this.projection=d};ol.inherits(ol.interaction.DragAndDropEvent,ol.events.Event);goog.provide("ol.interaction.DragRotateAndZoom");goog.require("ol");goog.require("ol.View");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.DragRotateAndZoom=function(a){var b=a?a:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotateAndZoom.handleDownEvent_,handleDragEvent:ol.interaction.DragRotateAndZoom.handleDragEvent_,handleUpEvent:ol.interaction.DragRotateAndZoom.handleUpEvent_});this.condition_=b.condition?b.condition:ol.events.condition.shiftKeyOnly;this.lastAngle_=undefined;this.lastMagnitude_=undefined;this.lastScaleDelta_=0;this.duration_=b.duration!==undefined?b.duration:400};ol.inherits(ol.interaction.DragRotateAndZoom,ol.interaction.Pointer);ol.interaction.DragRotateAndZoom.handleDragEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return}var b=a.map;var c=b.getSize();var d=a.pixel;var e=d[0]-c[0]/2;var f=c[1]/2-d[1];var g=Math.atan2(f,e);var h=Math.sqrt(e*e+f*f);var i=b.getView();if(this.lastAngle_!==undefined){var j=g-this.lastAngle_;ol.interaction.Interaction.rotateWithoutConstraints(b,i,i.getRotation()-j)}this.lastAngle_=g;if(this.lastMagnitude_!==undefined){var k=this.lastMagnitude_*(i.getResolution()/h);ol.interaction.Interaction.zoomWithoutConstraints(b,i,k)}if(this.lastMagnitude_!==undefined){this.lastScaleDelta_=this.lastMagnitude_/h}this.lastMagnitude_=h};ol.interaction.DragRotateAndZoom.handleUpEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return true}var b=a.map;var c=b.getView();c.setHint(ol.View.Hint.INTERACTING,-1);var d=this.lastScaleDelta_-1;ol.interaction.Interaction.rotate(b,c,c.getRotation());ol.interaction.Interaction.zoom(b,c,c.getResolution(),undefined,this.duration_,d);this.lastScaleDelta_=0;return false};ol.interaction.DragRotateAndZoom.handleDownEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return false}if(this.condition_(a)){a.map.getView().setHint(ol.View.Hint.INTERACTING,1);this.lastAngle_=undefined;this.lastMagnitude_=undefined;return true}else{return false}};goog.provide("ol.loadingstrategy");ol.loadingstrategy.all=function(a,b){return[[-Infinity,-Infinity,Infinity,Infinity]]};ol.loadingstrategy.bbox=function(a,b){return[a]};ol.loadingstrategy.tile=function(a){return function(b,c){var d=a.getZForResolution(c);var e=a.getTileRangeForExtentAndZ(b,d);var f=[];var g=[d,0,0];for(g[1]=e.minX;g[1]<=e.maxX;++g[1]){for(g[2]=e.minY;g[2]<=e.maxY;++g[2]){f.push(a.getTileCoordExtent(g))}}return f}};goog.provide("ol.ext.rbush");ol.ext.rbush;(function(){var a={};var b={exports:a};var c;(function(d){if(typeof a==="object"&&typeof b!=="undefined"){b.exports=d()}else if(typeof c==="function"&&c.amd){c([],d)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.rbush=d()}})((function(){var a,b,c;return (function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i=typeof require=="function"&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,(function(b){var c=a[g][1][b];return e(c?c:b)}),k,k.exports,d,a,b,c)}return b[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<c.length;g++)e(c[g]);return e})({1:[function(a,b,c){"use strict";b.exports=d;function d(a,b,c,g,h){c=c||0;g=g||a.length-1;h=h||f;while(g>c){if(g-c>600){var i=g-c+1;var j=b-c+1;var k=Math.log(i);var l=.5*Math.exp(2*k/3);var m=.5*Math.sqrt(k*l*(i-l)/i)*(j-i/2<0?-1:1);var n=Math.max(c,Math.floor(b-j*l/i+m));var o=Math.min(g,Math.floor(b+(i-j)*l/i+m));d(a,b,n,o,h)}var p=a[b];var q=c;var r=g;e(a,c,b);if(h(a[g],p)>0)e(a,c,g);while(q<r){e(a,q,r);q++;r--;while(h(a[q],p)<0)q++;while(h(a[r],p)>0)r--}if(h(a[c],p)===0)e(a,c,r);else{r++;e(a,r,g)}if(r<=b)c=r+1;if(b<=r)g=r-1}}function e(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function f(a,b){return a<b?-1:a>b?1:0}},{}],2:[function(a,b,c){"use strict";b.exports=e;var d=a("quickselect");function e(a,b){if(!(this instanceof e))return new e(a,b);this._maxEntries=Math.max(4,a||9);this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4));if(b){this._initFormat(b)}this.clear()}e.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],d=this.toBBox;if(!q(a,b))return c;var e=[],f,g,h,i;while(b){for(f=0,g=b.children.length;f<g;f++){h=b.children[f];i=b.leaf?d(h):h;if(q(a,i)){if(b.leaf)c.push(h);else if(p(a,i))this._all(h,c);else e.push(h)}}b=e.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!q(a,b))return false;var d=[],e,f,g,h;while(b){for(e=0,f=b.children.length;e<f;e++){g=b.children[e];h=b.leaf?c(g):g;if(q(a,h)){if(b.leaf||p(a,h))return true;d.push(g)}}b=d.pop()}return false},load:function(a){if(!(a&&a.length))return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++){this.insert(a[b])}return this}var d=this._build(a.slice(),0,a.length-1,0);if(!this.data.children.length){this.data=d}else if(this.data.height===d.height){this._splitRoot(this.data,d)}else{if(this.data.height<d.height){var e=this.data;this.data=d;d=e}this._insert(d,this.data.height-d.height-1,true)}return this},insert:function(a){if(a)this._insert(a,this.data.height-1);return this},clear:function(){this.data=r([]);return this},remove:function(a,b){if(!a)return this;var c=this.data,d=this.toBBox(a),e=[],g=[],h,i,j,k;while(c||e.length){if(!c){c=e.pop();i=e[e.length-1];h=g.pop();k=true}if(c.leaf){j=f(a,c.children,b);if(j!==-1){c.children.splice(j,1);e.push(c);this._condense(e);return this}}if(!k&&!c.leaf&&p(c,d)){e.push(c);g.push(h);h=0;i=c;c=c.children[0]}else if(i){h++;c=i.children[h];k=false}else c=null}return this},toBBox:function(a){return a},compareMinX:j,compareMinY:k,toJSON:function(){return this.data},fromJSON:function(a){this.data=a;return this},_all:function(a,b){var c=[];while(a){if(a.leaf)b.push.apply(b,a.children);else c.push.apply(c,a.children);a=c.pop()}return b},_build:function(a,b,c,d){var e=c-b+1,f=this._maxEntries,h;if(e<=f){h=r(a.slice(b,c+1));g(h,this.toBBox);return h}if(!d){d=Math.ceil(Math.log(e)/Math.log(f));f=Math.ceil(e/Math.pow(f,d-1))}h=r([]);h.leaf=false;h.height=d;var i=Math.ceil(e/f),j=i*Math.ceil(Math.sqrt(f)),k,l,m,n;s(a,b,c,j,this.compareMinX);for(k=b;k<=c;k+=j){m=Math.min(k+j-1,c);s(a,k,m,i,this.compareMinY);for(l=k;l<=m;l+=i){n=Math.min(l+i-1,m);h.children.push(this._build(a,l,n,d-1))}}g(h,this.toBBox);return h},_chooseSubtree:function(a,b,c,d){var e,f,g,h,i,j,k,m;while(true){d.push(b);if(b.leaf||d.length-1===c)break;k=m=Infinity;for(e=0,f=b.children.length;e<f;e++){g=b.children[e];i=l(g);j=n(a,g)-i;if(j<m){m=j;k=i<k?i:k;h=g}else if(j===m){if(i<k){k=i;h=g}}}b=h||b.children[0]}return b},_insert:function(a,b,c){var d=this.toBBox,e=c?a:d(a),f=[];var g=this._chooseSubtree(e,this.data,b,f);g.children.push(a);i(g,e);while(b>=0){if(f[b].children.length>this._maxEntries){this._split(f,b);b--}else break}this._adjustParentBBoxes(e,f,b)},_split:function(a,b){var c=a[b],d=c.children.length,e=this._minEntries;this._chooseSplitAxis(c,e,d);var f=this._chooseSplitIndex(c,e,d);var h=r(c.children.splice(f,c.children.length-f));h.height=c.height;h.leaf=c.leaf;g(c,this.toBBox);g(h,this.toBBox);if(b)a[b-1].children.push(h);else this._splitRoot(c,h)},_splitRoot:function(a,b){this.data=r([a,b]);this.data.height=a.height+1;this.data.leaf=false;g(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,c){var d,e,f,g,i,j,k,m;j=k=Infinity;for(d=b;d<=c-b;d++){e=h(a,0,d,this.toBBox);f=h(a,d,c,this.toBBox);g=o(e,f);i=l(e)+l(f);if(g<j){j=g;m=d;k=i<k?i:k}else if(g===j){if(i<k){k=i;m=d}}}return m},_chooseSplitAxis:function(a,b,c){var d=a.leaf?this.compareMinX:j,e=a.leaf?this.compareMinY:k,f=this._allDistMargin(a,b,c,d),g=this._allDistMargin(a,b,c,e);if(f<g)a.children.sort(d)},_allDistMargin:function(a,b,c,d){a.children.sort(d);var e=this.toBBox,f=h(a,0,b,e),g=h(a,c-b,c,e),j=m(f)+m(g),k,l;for(k=b;k<c-b;k++){l=a.children[k];i(f,a.leaf?e(l):l);j+=m(f)}for(k=c-b-1;k>=b;k--){l=a.children[k];i(g,a.leaf?e(l):l);j+=m(g)}return j},_adjustParentBBoxes:function(a,b,c){for(var d=c;d>=0;d--){i(b[d],a)}},_condense:function(a){for(var b=a.length-1,c;b>=0;b--){if(a[b].children.length===0){if(b>0){c=a[b-1].children;c.splice(c.indexOf(a[b]),1)}else this.clear()}else g(a[b],this.toBBox)}},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0]));this.compareMinY=new Function("a","b",b.join(a[1]));this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};function f(a,b,c){if(!c)return b.indexOf(a);for(var d=0;d<b.length;d++){if(c(a,b[d]))return d}return-1}function g(a,b){h(a,0,a.children.length,b,a)}function h(a,b,c,d,e){if(!e)e=r(null);e.minX=Infinity;e.minY=Infinity;e.maxX=-Infinity;e.maxY=-Infinity;for(var f=b,g;f<c;f++){g=a.children[f];i(e,a.leaf?d(g):g)}return e}function i(a,b){a.minX=Math.min(a.minX,b.minX);a.minY=Math.min(a.minY,b.minY);a.maxX=Math.max(a.maxX,b.maxX);a.maxY=Math.max(a.maxY,b.maxY);return a}function j(a,b){return a.minX-b.minX}function k(a,b){return a.minY-b.minY}function l(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function m(a){return a.maxX-a.minX+(a.maxY-a.minY)}function n(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function o(a,b){var c=Math.max(a.minX,b.minX),d=Math.max(a.minY,b.minY),e=Math.min(a.maxX,b.maxX),f=Math.min(a.maxY,b.maxY);return Math.max(0,e-c)*Math.max(0,f-d)}function p(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function q(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function r(a){return{children:a,height:1,leaf:true,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function s(a,b,c,e,f){var g=[b,c],h;while(g.length){c=g.pop();b=g.pop();if(c-b<=e)continue;h=b+Math.ceil((c-b)/e/2)*e;d(a,h,b,c,f);g.push(b,h,h,c)}}},{quickselect:1}]},{},[2])(2)}));ol.ext.rbush=b.exports})();goog.provide("ol.structs.RBush");goog.require("ol");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.obj");ol.structs.RBush=function(a){this.rbush_=ol.ext.rbush(a);this.items_={};if(goog.DEBUG){this.readers_=0}};ol.structs.RBush.prototype.insert=function(a,b){if(goog.DEBUG&&this.readers_){throw new Error("Can not insert value while reading")}var c={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:b};this.rbush_.insert(c);goog.DEBUG&&console.assert(!(ol.getUid(b)in this.items_),"uid (%s) of value (%s) already exists",ol.getUid(b),b);this.items_[ol.getUid(b)]=c};ol.structs.RBush.prototype.load=function(a,b){if(goog.DEBUG&&this.readers_){throw new Error("Can not insert values while reading")}goog.DEBUG&&console.assert(a.length===b.length,"extens and values must have same length (%s === %s)",a.length,b.length);var c=new Array(b.length);for(var d=0,e=b.length;d<e;d++){var f=a[d];var g=b[d];var h={minX:f[0],minY:f[1],maxX:f[2],maxY:f[3],value:g};c[d]=h;goog.DEBUG&&console.assert(!(ol.getUid(g)in this.items_),"uid (%s) of value (%s) already exists",ol.getUid(g),g);this.items_[ol.getUid(g)]=h}this.rbush_.load(c)};ol.structs.RBush.prototype.remove=function(a){if(goog.DEBUG&&this.readers_){throw new Error("Can not remove value while reading")}var b=ol.getUid(a);goog.DEBUG&&console.assert(b in this.items_,"uid (%s) of value (%s) does not exist",b,a);var c=this.items_[b];delete this.items_[b];return this.rbush_.remove(c)!==null};ol.structs.RBush.prototype.update=function(a,b){goog.DEBUG&&console.assert(ol.getUid(b)in this.items_,"uid (%s) of value (%s) does not exist",ol.getUid(b),b);var c=this.items_[ol.getUid(b)];var d=[c.minX,c.minY,c.maxX,c.maxY];if(!ol.extent.equals(d,a)){if(goog.DEBUG&&this.readers_){throw new Error("Can not update extent while reading")}this.remove(b);this.insert(a,b)}};ol.structs.RBush.prototype.getAll=function(){var a=this.rbush_.all();return a.map((function(a){return a.value}))};ol.structs.RBush.prototype.getInExtent=function(a){var b={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]};var c=this.rbush_.search(b);return c.map((function(a){return a.value}))};ol.structs.RBush.prototype.forEach=function(a,b){if(goog.DEBUG){++this.readers_;try{return this.forEach_(this.getAll(),a,b)}finally{--this.readers_}}else{return this.forEach_(this.getAll(),a,b)}};ol.structs.RBush.prototype.forEachInExtent=function(a,b,c){if(goog.DEBUG){++this.readers_;try{return this.forEach_(this.getInExtent(a),b,c)}finally{--this.readers_}}else{return this.forEach_(this.getInExtent(a),b,c)}};ol.structs.RBush.prototype.forEach_=function(a,b,c){var d;for(var e=0,f=a.length;e<f;e++){d=b.call(c,a[e]);if(d){return d}}return d};ol.structs.RBush.prototype.isEmpty=function(){return ol.obj.isEmpty(this.items_)};ol.structs.RBush.prototype.clear=function(){this.rbush_.clear();this.items_={}};ol.structs.RBush.prototype.getExtent=function(a){var b=this.rbush_.data;return[b.minX,b.minY,b.maxX,b.maxY]};goog.provide("ol.source.Vector");goog.provide("ol.source.VectorEvent");goog.provide("ol.source.VectorEventType");goog.require("ol");goog.require("ol.Collection");goog.require("ol.ObjectEventType");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.featureloader");goog.require("ol.functions");goog.require("ol.loadingstrategy");goog.require("ol.obj");goog.require("ol.source.Source");goog.require("ol.source.State");goog.require("ol.structs.RBush");ol.source.VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};ol.source.Vector=function(a){var b=a||{};ol.source.Source.call(this,{attributions:b.attributions,logo:b.logo,projection:undefined,state:ol.source.State.READY,wrapX:b.wrapX!==undefined?b.wrapX:true});this.loader_=ol.nullFunction;this.format_=b.format;this.overlaps_=b.overlaps==undefined?true:b.overlaps;this.url_=b.url;if(b.loader!==undefined){this.loader_=b.loader}else if(this.url_!==undefined){ol.asserts.assert(this.format_,7);this.loader_=ol.featureloader.xhr(this.url_,this.format_)}this.strategy_=b.strategy!==undefined?b.strategy:ol.loadingstrategy.all;var c=b.useSpatialIndex!==undefined?b.useSpatialIndex:true;this.featuresRtree_=c?new ol.structs.RBush:null;this.loadedExtentsRtree_=new ol.structs.RBush;this.nullGeometryFeatures_={};this.idIndex_={};this.undefIdIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;var d,e;if(b.features instanceof ol.Collection){d=b.features;e=d.getArray()}else if(Array.isArray(b.features)){e=b.features}if(!c&&d===undefined){d=new ol.Collection(e)}if(e!==undefined){this.addFeaturesInternal(e)}if(d!==undefined){this.bindFeaturesCollection_(d)}};ol.inherits(ol.source.Vector,ol.source.Source);ol.source.Vector.prototype.addFeature=function(a){this.addFeatureInternal(a);this.changed()};ol.source.Vector.prototype.addFeatureInternal=function(a){var b=ol.getUid(a).toString();if(!this.addToIndex_(b,a)){return}this.setupChangeEvents_(b,a);var c=a.getGeometry();if(c){var d=c.getExtent();if(this.featuresRtree_){this.featuresRtree_.insert(d,a)}}else{this.nullGeometryFeatures_[b]=a}this.dispatchEvent(new ol.source.VectorEvent(ol.source.VectorEventType.ADDFEATURE,a))};ol.source.Vector.prototype.setupChangeEvents_=function(a,b){goog.DEBUG&&console.assert(!(a in this.featureChangeKeys_),"key (%s) not yet registered in featureChangeKey",a);this.featureChangeKeys_[a]=[ol.events.listen(b,ol.events.EventType.CHANGE,this.handleFeatureChange_,this),ol.events.listen(b,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]};ol.source.Vector.prototype.addToIndex_=function(a,b){var c=true;var d=b.getId();if(d!==undefined){if(!(d.toString()in this.idIndex_)){this.idIndex_[d.toString()]=b}else{c=false}}else{ol.asserts.assert(!(a in this.undefIdIndex_),30);this.undefIdIndex_[a]=b}return c};ol.source.Vector.prototype.addFeatures=function(a){this.addFeaturesInternal(a);this.changed()};ol.source.Vector.prototype.addFeaturesInternal=function(a){var b,c,d,e;var f=[];var g=[];var h=[];for(c=0,d=a.length;c<d;c++){e=a[c];b=ol.getUid(e).toString();if(this.addToIndex_(b,e)){g.push(e)}}for(c=0,d=g.length;c<d;c++){e=g[c];b=ol.getUid(e).toString();this.setupChangeEvents_(b,e);var i=e.getGeometry();if(i){var j=i.getExtent();f.push(j);h.push(e)}else{this.nullGeometryFeatures_[b]=e}}if(this.featuresRtree_){this.featuresRtree_.load(f,h)}for(c=0,d=g.length;c<d;c++){this.dispatchEvent(new ol.source.VectorEvent(ol.source.VectorEventType.ADDFEATURE,g[c]))}};ol.source.Vector.prototype.bindFeaturesCollection_=function(a){goog.DEBUG&&console.assert(!this.featuresCollection_,"bindFeaturesCollection can only be called once");var b=false;ol.events.listen(this,ol.source.VectorEventType.ADDFEATURE,(function(c){if(!b){b=true;a.push(c.feature);b=false}}));ol.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,(function(c){if(!b){b=true;a.remove(c.feature);b=false}}));ol.events.listen(a,ol.Collection.EventType.ADD,(function(a){if(!b){b=true;this.addFeature(a.element);b=false}}),this);ol.events.listen(a,ol.Collection.EventType.REMOVE,(function(a){if(!b){b=true;this.removeFeature(a.element);b=false}}),this);this.featuresCollection_=a};ol.source.Vector.prototype.clear=function(a){if(a){for(var b in this.featureChangeKeys_){var c=this.featureChangeKeys_[b];c.forEach(ol.events.unlistenByKey)}if(!this.featuresCollection_){this.featureChangeKeys_={};this.idIndex_={};this.undefIdIndex_={}}}else{if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var d in this.nullGeometryFeatures_){this.removeFeatureInternal(this.nullGeometryFeatures_[d])}}}if(this.featuresCollection_){this.featuresCollection_.clear()}goog.DEBUG&&console.assert(ol.obj.isEmpty(this.featureChangeKeys_),"featureChangeKeys is an empty object now");goog.DEBUG&&console.assert(ol.obj.isEmpty(this.idIndex_),"idIndex is an empty object now");goog.DEBUG&&console.assert(ol.obj.isEmpty(this.undefIdIndex_),"undefIdIndex is an empty object now");if(this.featuresRtree_){this.featuresRtree_.clear()}this.loadedExtentsRtree_.clear();this.nullGeometryFeatures_={};var e=new ol.source.VectorEvent(ol.source.VectorEventType.CLEAR);this.dispatchEvent(e);this.changed()};ol.source.Vector.prototype.forEachFeature=function(a,b){if(this.featuresRtree_){return this.featuresRtree_.forEach(a,b)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(a,b)}};ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(a,b,c){var d=[a[0],a[1],a[0],a[1]];return this.forEachFeatureInExtent(d,(function(d){var e=d.getGeometry();goog.DEBUG&&console.assert(e,"feature geometry is defined and not null");if(e.intersectsCoordinate(a)){return b.call(c,d)}else{return undefined}}))};ol.source.Vector.prototype.forEachFeatureInExtent=function(a,b,c){if(this.featuresRtree_){return this.featuresRtree_.forEachInExtent(a,b,c)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(b,c)}};ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(a,b,c){return this.forEachFeatureInExtent(a,(function(d){var e=d.getGeometry();goog.DEBUG&&console.assert(e,"feature geometry is defined and not null");if(e.intersectsExtent(a)){var f=b.call(c,d);if(f){return f}}}))};ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_};ol.source.Vector.prototype.getFeatures=function(){var a;if(this.featuresCollection_){a=this.featuresCollection_.getArray()}else if(this.featuresRtree_){a=this.featuresRtree_.getAll();if(!ol.obj.isEmpty(this.nullGeometryFeatures_)){ol.array.extend(a,ol.obj.getValues(this.nullGeometryFeatures_))}}return a};ol.source.Vector.prototype.getFeaturesAtCoordinate=function(a){var b=[];this.forEachFeatureAtCoordinateDirect(a,(function(a){b.push(a)}));return b};ol.source.Vector.prototype.getFeaturesInExtent=function(a){goog.DEBUG&&console.assert(this.featuresRtree_,"getFeaturesInExtent does not work when useSpatialIndex is set to false");return this.featuresRtree_.getInExtent(a)};ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(a,b){var c=a[0];var d=a[1];var e=null;var f=[NaN,NaN];var g=Infinity;var h=[-Infinity,-Infinity,Infinity,Infinity];goog.DEBUG&&console.assert(this.featuresRtree_,"getClosestFeatureToCoordinate does not work with useSpatialIndex set "+"to false");var i=b?b:ol.functions.TRUE;this.featuresRtree_.forEachInExtent(h,(function(a){if(i(a)){var b=a.getGeometry();goog.DEBUG&&console.assert(b,"feature geometry is defined and not null");var j=g;g=b.closestPointXY(c,d,f,g);if(g<j){e=a;var k=Math.sqrt(g);h[0]=c-k;h[1]=d-k;h[2]=c+k;h[3]=d+k}}}));return e};ol.source.Vector.prototype.getExtent=function(){goog.DEBUG&&console.assert(this.featuresRtree_,"getExtent does not work when useSpatialIndex is set to false");return this.featuresRtree_.getExtent()};ol.source.Vector.prototype.getFeatureById=function(a){var b=this.idIndex_[a.toString()];
return b!==undefined?b:null};ol.source.Vector.prototype.getFormat=function(){return this.format_};ol.source.Vector.prototype.getOverlaps=function(){return this.overlaps_};ol.source.Vector.prototype.getUrl=function(){return this.url_};ol.source.Vector.prototype.handleFeatureChange_=function(a){var b=a.target;var c=ol.getUid(b).toString();var d=b.getGeometry();if(!d){if(!(c in this.nullGeometryFeatures_)){if(this.featuresRtree_){this.featuresRtree_.remove(b)}this.nullGeometryFeatures_[c]=b}}else{var e=d.getExtent();if(c in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[c];if(this.featuresRtree_){this.featuresRtree_.insert(e,b)}}else{if(this.featuresRtree_){this.featuresRtree_.update(e,b)}}}var f=b.getId();var g;if(f!==undefined){var h=f.toString();if(c in this.undefIdIndex_){delete this.undefIdIndex_[c];this.idIndex_[h]=b}else{if(this.idIndex_[h]!==b){g=this.removeFromIdIndex_(b);goog.DEBUG&&console.assert(g,"Expected feature to be removed from index");this.idIndex_[h]=b}}}else{if(!(c in this.undefIdIndex_)){g=this.removeFromIdIndex_(b);goog.DEBUG&&console.assert(g,"Expected feature to be removed from index");this.undefIdIndex_[c]=b}else{goog.DEBUG&&console.assert(this.undefIdIndex_[c]===b,"feature keyed under %s in undefIdKeys",c)}}this.changed();this.dispatchEvent(new ol.source.VectorEvent(ol.source.VectorEventType.CHANGEFEATURE,b))};ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ol.obj.isEmpty(this.nullGeometryFeatures_)};ol.source.Vector.prototype.loadFeatures=function(a,b,c){var d=this.loadedExtentsRtree_;var e=this.strategy_(a,b);var f,g;for(f=0,g=e.length;f<g;++f){var h=e[f];var i=d.forEachInExtent(h,(function(a){return ol.extent.containsExtent(a.extent,h)}));if(!i){this.loader_.call(this,h,b,c);d.insert(h,{extent:h.slice()})}}};ol.source.Vector.prototype.removeFeature=function(a){var b=ol.getUid(a).toString();if(b in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[b]}else{if(this.featuresRtree_){this.featuresRtree_.remove(a)}}this.removeFeatureInternal(a);this.changed()};ol.source.Vector.prototype.removeFeatureInternal=function(a){var b=ol.getUid(a).toString();goog.DEBUG&&console.assert(b in this.featureChangeKeys_,"featureKey exists in featureChangeKeys");this.featureChangeKeys_[b].forEach(ol.events.unlistenByKey);delete this.featureChangeKeys_[b];var c=a.getId();if(c!==undefined){delete this.idIndex_[c.toString()]}else{delete this.undefIdIndex_[b]}this.dispatchEvent(new ol.source.VectorEvent(ol.source.VectorEventType.REMOVEFEATURE,a))};ol.source.Vector.prototype.removeFromIdIndex_=function(a){var b=false;for(var c in this.idIndex_){if(this.idIndex_[c]===a){delete this.idIndex_[c];b=true;break}}return b};ol.source.VectorEvent=function(a,b){ol.events.Event.call(this,a);this.feature=b};ol.inherits(ol.source.VectorEvent,ol.events.Event);goog.provide("ol.interaction.Draw");goog.provide("ol.interaction.DrawEvent");goog.provide("ol.interaction.DrawEventType");goog.provide("ol.interaction.DrawMode");goog.require("ol");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.Feature");goog.require("ol.MapBrowserEvent.EventType");goog.require("ol.Object");goog.require("ol.coordinate");goog.require("ol.functions");goog.require("ol.events.condition");goog.require("ol.geom.Circle");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.interaction.InteractionProperty");goog.require("ol.interaction.Pointer");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.DrawEventType={DRAWSTART:"drawstart",DRAWEND:"drawend"};ol.interaction.DrawEvent=function(a,b){ol.events.Event.call(this,a);this.feature=b};ol.inherits(ol.interaction.DrawEvent,ol.events.Event);ol.interaction.Draw=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Draw.handleDownEvent_,handleEvent:ol.interaction.Draw.handleEvent,handleUpEvent:ol.interaction.Draw.handleUpEvent_});this.downPx_=null;this.freehand_=false;this.source_=a.source?a.source:null;this.features_=a.features?a.features:null;this.snapTolerance_=a.snapTolerance?a.snapTolerance:12;this.type_=a.type;this.mode_=ol.interaction.Draw.getMode_(this.type_);this.minPoints_=a.minPoints?a.minPoints:this.mode_===ol.interaction.DrawMode.POLYGON?3:2;this.maxPoints_=a.maxPoints?a.maxPoints:Infinity;this.finishCondition_=a.finishCondition?a.finishCondition:ol.functions.TRUE;var b=a.geometryFunction;if(!b){if(this.type_===ol.geom.GeometryType.CIRCLE){b=function(a,b){var c=b?b:new ol.geom.Circle([NaN,NaN]);var d=ol.coordinate.squaredDistance(a[0],a[1]);c.setCenterAndRadius(a[0],Math.sqrt(d));return c}}else{var c;var d=this.mode_;if(d===ol.interaction.DrawMode.POINT){c=ol.geom.Point}else if(d===ol.interaction.DrawMode.LINE_STRING){c=ol.geom.LineString}else if(d===ol.interaction.DrawMode.POLYGON){c=ol.geom.Polygon}b=function(a,b){var d=b;if(d){d.setCoordinates(a)}else{d=new c(a)}return d}}}this.geometryFunction_=b;this.finishCoordinate_=null;this.sketchFeature_=null;this.sketchPoint_=null;this.sketchCoords_=null;this.sketchLine_=null;this.sketchLineCoords_=null;this.squaredClickTolerance_=a.clickTolerance?a.clickTolerance*a.clickTolerance:36;this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:a.wrapX?a.wrapX:false}),style:a.style?a.style:ol.interaction.Draw.getDefaultStyleFunction()});this.geometryName_=a.geometryName;this.condition_=a.condition?a.condition:ol.events.condition.noModifierKeys;this.freehandCondition_=a.freehandCondition?a.freehandCondition:ol.events.condition.shiftKeyOnly;ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.InteractionProperty.ACTIVE),this.updateState_,this)};ol.inherits(ol.interaction.Draw,ol.interaction.Pointer);ol.interaction.Draw.getDefaultStyleFunction=function(){var a=ol.style.Style.createDefaultEditing();return function(b,c){return a[b.getGeometry().getType()]}};ol.interaction.Draw.prototype.setMap=function(a){ol.interaction.Pointer.prototype.setMap.call(this,a);this.updateState_()};ol.interaction.Draw.handleEvent=function(a){if((this.mode_===ol.interaction.DrawMode.LINE_STRING||this.mode_===ol.interaction.DrawMode.POLYGON)&&this.freehandCondition_(a)){this.freehand_=true}var b=!this.freehand_;if(this.freehand_&&a.type===ol.MapBrowserEvent.EventType.POINTERDRAG){this.addToDrawing_(a);b=false}else if(a.type===ol.MapBrowserEvent.EventType.POINTERMOVE){b=this.handlePointerMove_(a)}else if(a.type===ol.MapBrowserEvent.EventType.DBLCLICK){b=false}return ol.interaction.Pointer.handleEvent.call(this,a)&&b};ol.interaction.Draw.handleDownEvent_=function(a){if(this.condition_(a)){this.downPx_=a.pixel;return true}else if(this.freehand_){this.downPx_=a.pixel;if(!this.finishCoordinate_){this.startDrawing_(a)}return true}else{return false}};ol.interaction.Draw.handleUpEvent_=function(a){this.freehand_=false;var b=this.downPx_;var c=a.pixel;var d=b[0]-c[0];var e=b[1]-c[1];var f=d*d+e*e;var g=true;if(f<=this.squaredClickTolerance_){this.handlePointerMove_(a);if(!this.finishCoordinate_){this.startDrawing_(a);if(this.mode_===ol.interaction.DrawMode.POINT){this.finishDrawing()}}else if(this.mode_===ol.interaction.DrawMode.CIRCLE){this.finishDrawing()}else if(this.atFinish_(a)){if(this.finishCondition_(a)){this.finishDrawing()}}else{this.addToDrawing_(a)}g=false}return g};ol.interaction.Draw.prototype.handlePointerMove_=function(a){if(this.finishCoordinate_){this.modifyDrawing_(a)}else{this.createOrUpdateSketchPoint_(a)}return true};ol.interaction.Draw.prototype.atFinish_=function(a){var b=false;if(this.sketchFeature_){var c=false;var d=[this.finishCoordinate_];if(this.mode_===ol.interaction.DrawMode.LINE_STRING){c=this.sketchCoords_.length>this.minPoints_}else if(this.mode_===ol.interaction.DrawMode.POLYGON){c=this.sketchCoords_[0].length>this.minPoints_;d=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]}if(c){var e=a.map;for(var f=0,g=d.length;f<g;f++){var h=d[f];var i=e.getPixelFromCoordinate(h);var j=a.pixel;var k=j[0]-i[0];var l=j[1]-i[1];var m=this.freehand_&&this.freehandCondition_(a);var n=m?1:this.snapTolerance_;b=Math.sqrt(k*k+l*l)<=n;if(b){this.finishCoordinate_=h;break}}}}return b};ol.interaction.Draw.prototype.createOrUpdateSketchPoint_=function(a){var b=a.coordinate.slice();if(!this.sketchPoint_){this.sketchPoint_=new ol.Feature(new ol.geom.Point(b));this.updateSketchFeatures_()}else{var c=this.sketchPoint_.getGeometry();c.setCoordinates(b)}};ol.interaction.Draw.prototype.startDrawing_=function(a){var b=a.coordinate;this.finishCoordinate_=b;if(this.mode_===ol.interaction.DrawMode.POINT){this.sketchCoords_=b.slice()}else if(this.mode_===ol.interaction.DrawMode.POLYGON){this.sketchCoords_=[[b.slice(),b.slice()]];this.sketchLineCoords_=this.sketchCoords_[0]}else{this.sketchCoords_=[b.slice(),b.slice()];if(this.mode_===ol.interaction.DrawMode.CIRCLE){this.sketchLineCoords_=this.sketchCoords_}}if(this.sketchLineCoords_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(this.sketchLineCoords_))}var c=this.geometryFunction_(this.sketchCoords_);goog.DEBUG&&console.assert(c!==undefined,"geometry should be defined");this.sketchFeature_=new ol.Feature;if(this.geometryName_){this.sketchFeature_.setGeometryName(this.geometryName_)}this.sketchFeature_.setGeometry(c);this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.DrawEvent(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.modifyDrawing_=function(a){var b=a.coordinate;var c=this.sketchFeature_.getGeometry();var d,e;if(this.mode_===ol.interaction.DrawMode.POINT){e=this.sketchCoords_}else if(this.mode_===ol.interaction.DrawMode.POLYGON){d=this.sketchCoords_[0];e=d[d.length-1];if(this.atFinish_(a)){b=this.finishCoordinate_.slice()}}else{d=this.sketchCoords_;e=d[d.length-1]}e[0]=b[0];e[1]=b[1];goog.DEBUG&&console.assert(this.sketchCoords_,"sketchCoords_ expected");this.geometryFunction_(this.sketchCoords_,c);if(this.sketchPoint_){var f=this.sketchPoint_.getGeometry();f.setCoordinates(b)}var g;if(c instanceof ol.geom.Polygon&&this.mode_!==ol.interaction.DrawMode.POLYGON){if(!this.sketchLine_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(null))}var h=c.getLinearRing(0);g=this.sketchLine_.getGeometry();g.setFlatCoordinates(h.getLayout(),h.getFlatCoordinates())}else if(this.sketchLineCoords_){g=this.sketchLine_.getGeometry();g.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.addToDrawing_=function(a){var b=a.coordinate;var c=this.sketchFeature_.getGeometry();var d;var e;if(this.mode_===ol.interaction.DrawMode.LINE_STRING){this.finishCoordinate_=b.slice();e=this.sketchCoords_;e.push(b.slice());d=e.length>this.maxPoints_;this.geometryFunction_(e,c)}else if(this.mode_===ol.interaction.DrawMode.POLYGON){e=this.sketchCoords_[0];e.push(b.slice());d=e.length>this.maxPoints_;if(d){this.finishCoordinate_=e[0]}this.geometryFunction_(this.sketchCoords_,c)}this.updateSketchFeatures_();if(d){this.finishDrawing()}};ol.interaction.Draw.prototype.removeLastPoint=function(){var a=this.sketchFeature_.getGeometry();var b,c;if(this.mode_===ol.interaction.DrawMode.LINE_STRING){b=this.sketchCoords_;b.splice(-2,1);this.geometryFunction_(b,a)}else if(this.mode_===ol.interaction.DrawMode.POLYGON){b=this.sketchCoords_[0];b.splice(-2,1);c=this.sketchLine_.getGeometry();c.setCoordinates(b);this.geometryFunction_(this.sketchCoords_,a)}if(b.length===0){this.finishCoordinate_=null}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.finishDrawing=function(){var a=this.abortDrawing_();var b=this.sketchCoords_;var c=a.getGeometry();if(this.mode_===ol.interaction.DrawMode.LINE_STRING){b.pop();this.geometryFunction_(b,c)}else if(this.mode_===ol.interaction.DrawMode.POLYGON){b[0].pop();b[0].push(b[0][0]);this.geometryFunction_(b,c)}if(this.type_===ol.geom.GeometryType.MULTI_POINT){a.setGeometry(new ol.geom.MultiPoint([b]))}else if(this.type_===ol.geom.GeometryType.MULTI_LINE_STRING){a.setGeometry(new ol.geom.MultiLineString([b]))}else if(this.type_===ol.geom.GeometryType.MULTI_POLYGON){a.setGeometry(new ol.geom.MultiPolygon([b]))}this.dispatchEvent(new ol.interaction.DrawEvent(ol.interaction.DrawEventType.DRAWEND,a));if(this.features_){this.features_.push(a)}if(this.source_){this.source_.addFeature(a)}};ol.interaction.Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var a=this.sketchFeature_;if(a){this.sketchFeature_=null;this.sketchPoint_=null;this.sketchLine_=null;this.overlay_.getSource().clear(true)}return a};ol.interaction.Draw.prototype.extend=function(a){var b=a.getGeometry();goog.DEBUG&&console.assert(this.mode_==ol.interaction.DrawMode.LINE_STRING,'interaction mode must be "line"');goog.DEBUG&&console.assert(b.getType()==ol.geom.GeometryType.LINE_STRING,"feature geometry must be a line string");var c=b;this.sketchFeature_=a;this.sketchCoords_=c.getCoordinates();var d=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=d.slice();this.sketchCoords_.push(d.slice());this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.DrawEvent(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Draw.prototype.updateSketchFeatures_=function(){var a=[];if(this.sketchFeature_){a.push(this.sketchFeature_)}if(this.sketchLine_){a.push(this.sketchLine_)}if(this.sketchPoint_){a.push(this.sketchPoint_)}var b=this.overlay_.getSource();b.clear(true);b.addFeatures(a)};ol.interaction.Draw.prototype.updateState_=function(){var a=this.getMap();var b=this.getActive();if(!a||!b){this.abortDrawing_()}this.overlay_.setMap(b?a:null)};ol.interaction.Draw.createRegularPolygon=function(a,b){return function(c,d){var e=c[0];var f=c[1];var g=Math.sqrt(ol.coordinate.squaredDistance(e,f));var h=d?d:ol.geom.Polygon.fromCircle(new ol.geom.Circle(e),a);var i=b?b:Math.atan((f[1]-e[1])/(f[0]-e[0]));ol.geom.Polygon.makeRegular(h,e,g,i);return h}};ol.interaction.Draw.getMode_=function(a){var b;if(a===ol.geom.GeometryType.POINT||a===ol.geom.GeometryType.MULTI_POINT){b=ol.interaction.DrawMode.POINT}else if(a===ol.geom.GeometryType.LINE_STRING||a===ol.geom.GeometryType.MULTI_LINE_STRING){b=ol.interaction.DrawMode.LINE_STRING}else if(a===ol.geom.GeometryType.POLYGON||a===ol.geom.GeometryType.MULTI_POLYGON){b=ol.interaction.DrawMode.POLYGON}else if(a===ol.geom.GeometryType.CIRCLE){b=ol.interaction.DrawMode.CIRCLE}return b};ol.interaction.DrawMode={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"};goog.provide("ol.interaction.Modify");goog.provide("ol.interaction.ModifyEvent");goog.require("ol");goog.require("ol.Collection");goog.require("ol.Feature");goog.require("ol.MapBrowserEvent.EventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.View");goog.require("ol.array");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.interaction.Pointer");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.structs.RBush");goog.require("ol.style.Style");ol.ModifyEventType={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};ol.interaction.ModifyEvent=function(a,b,c){ol.events.Event.call(this,a);this.features=b;this.mapBrowserEvent=c};ol.inherits(ol.interaction.ModifyEvent,ol.events.Event);ol.interaction.Modify=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Modify.handleDownEvent_,handleDragEvent:ol.interaction.Modify.handleDragEvent_,handleEvent:ol.interaction.Modify.handleEvent,handleUpEvent:ol.interaction.Modify.handleUpEvent_});this.condition_=a.condition?a.condition:ol.events.condition.primaryAction;this.defaultDeleteCondition_=function(a){return ol.events.condition.noModifierKeys(a)&&ol.events.condition.singleClick(a)};this.deleteCondition_=a.deleteCondition?a.deleteCondition:this.defaultDeleteCondition_;this.vertexFeature_=null;this.vertexSegments_=null;this.lastPixel_=[0,0];this.ignoreNextSingleClick_=false;this.modified_=false;this.rBush_=new ol.structs.RBush;this.pixelTolerance_=a.pixelTolerance!==undefined?a.pixelTolerance:10;this.snappedToVertex_=false;this.changingFeature_=false;this.dragSegments_=[];this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:!!a.wrapX}),style:a.style?a.style:ol.interaction.Modify.getDefaultStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_};this.features_=a.features;this.features_.forEach(this.addFeature_,this);ol.events.listen(this.features_,ol.Collection.EventType.ADD,this.handleFeatureAdd_,this);ol.events.listen(this.features_,ol.Collection.EventType.REMOVE,this.handleFeatureRemove_,this);this.lastPointerEvent_=null};ol.inherits(ol.interaction.Modify,ol.interaction.Pointer);ol.interaction.Modify.prototype.addFeature_=function(a){var b=a.getGeometry();if(b&&b.getType()in this.SEGMENT_WRITERS_){this.SEGMENT_WRITERS_[b.getType()].call(this,a,b)}var c=this.getMap();if(c){this.handlePointerAtPixel_(this.lastPixel_,c)}ol.events.listen(a,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.willModifyFeatures_=function(a){if(!this.modified_){this.modified_=true;this.dispatchEvent(new ol.interaction.ModifyEvent(ol.ModifyEventType.MODIFYSTART,this.features_,a))}};ol.interaction.Modify.prototype.removeFeature_=function(a){this.removeFeatureSegmentData_(a);if(this.vertexFeature_&&this.features_.getLength()===0){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}ol.events.unlisten(a,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.removeFeatureSegmentData_=function(a){var b=this.rBush_;var c=[];b.forEach((function(b){if(a===b.feature){c.push(b)}}));for(var d=c.length-1;d>=0;--d){b.remove(c[d])}};ol.interaction.Modify.prototype.setMap=function(a){this.overlay_.setMap(a);ol.interaction.Pointer.prototype.setMap.call(this,a)};ol.interaction.Modify.prototype.handleFeatureAdd_=function(a){this.addFeature_(a.element)};ol.interaction.Modify.prototype.handleFeatureChange_=function(a){if(!this.changingFeature_){var b=a.target;this.removeFeature_(b);this.addFeature_(b)}};ol.interaction.Modify.prototype.handleFeatureRemove_=function(a){var b=a.element;this.removeFeature_(b)};ol.interaction.Modify.prototype.writePointGeometry_=function(a,b){var c=b.getCoordinates();var d={feature:a,geometry:b,segment:[c,c]};this.rBush_.insert(b.getExtent(),d)};ol.interaction.Modify.prototype.writeMultiPointGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g;for(e=0,f=c.length;e<f;++e){d=c[e];g={feature:a,geometry:b,depth:[e],index:e,segment:[d,d]};this.rBush_.insert(b.getExtent(),g)}};ol.interaction.Modify.prototype.writeLineStringGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g;for(d=0,e=c.length-1;d<e;++d){f=c.slice(d,d+2);g={feature:a,geometry:b,index:d,segment:f};this.rBush_.insert(ol.extent.boundingExtent(f),g)}};ol.interaction.Modify.prototype.writeMultiLineStringGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g,h,i,j;for(g=0,h=c.length;g<h;++g){d=c[g];for(e=0,f=d.length-1;e<f;++e){i=d.slice(e,e+2);j={feature:a,geometry:b,depth:[g],index:e,segment:i};this.rBush_.insert(ol.extent.boundingExtent(i),j)}}};ol.interaction.Modify.prototype.writePolygonGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g,h,i,j;for(g=0,h=c.length;g<h;++g){d=c[g];for(e=0,f=d.length-1;e<f;++e){i=d.slice(e,e+2);j={feature:a,geometry:b,depth:[g],index:e,segment:i};this.rBush_.insert(ol.extent.boundingExtent(i),j)}}};ol.interaction.Modify.prototype.writeMultiPolygonGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g,h,i,j,k,l,m;for(i=0,j=c.length;i<j;++i){k=c[i];for(g=0,h=k.length;g<h;++g){d=k[g];for(e=0,f=d.length-1;e<f;++e){l=d.slice(e,e+2);m={feature:a,geometry:b,depth:[g,i],index:e,segment:l};this.rBush_.insert(ol.extent.boundingExtent(l),m)}}}};ol.interaction.Modify.prototype.writeGeometryCollectionGeometry_=function(a,b){var c,d=b.getGeometriesArray();for(c=0;c<d.length;++c){this.SEGMENT_WRITERS_[d[c].getType()].call(this,a,d[c])}};ol.interaction.Modify.prototype.createOrUpdateVertexFeature_=function(a){var b=this.vertexFeature_;if(!b){b=new ol.Feature(new ol.geom.Point(a));this.vertexFeature_=b;this.overlay_.getSource().addFeature(b)}else{var c=b.getGeometry();c.setCoordinates(a)}return b};ol.interaction.Modify.compareIndexes_=function(a,b){return a.index-b.index};ol.interaction.Modify.handleDownEvent_=function(a){if(!this.condition_(a)){return false}this.handlePointerAtPixel_(a.pixel,a.map);this.dragSegments_.length=0;this.modified_=false;var b=this.vertexFeature_;if(b){var c=[];var d=b.getGeometry();var e=d.getCoordinates();var f=ol.extent.boundingExtent([e]);var g=this.rBush_.getInExtent(f);var h={};g.sort(ol.interaction.Modify.compareIndexes_);for(var i=0,j=g.length;i<j;++i){var k=g[i];var l=k.segment;var m=ol.getUid(k.feature);var n=k.depth;if(n){m+="-"+n.join("-")}if(!h[m]){h[m]=new Array(2)}if(ol.coordinate.equals(l[0],e)&&!h[m][0]){this.dragSegments_.push([k,0]);h[m][0]=k}else if(ol.coordinate.equals(l[1],e)&&!h[m][1]){if((k.geometry.getType()===ol.geom.GeometryType.LINE_STRING||k.geometry.getType()===ol.geom.GeometryType.MULTI_LINE_STRING)&&h[m][0]&&h[m][0].index===0){continue}this.dragSegments_.push([k,1]);h[m][1]=k}else if(ol.getUid(l)in this.vertexSegments_&&(!h[m][0]&&!h[m][1])){c.push([k,e])}}if(c.length){this.willModifyFeatures_(a)}for(var o=c.length-1;o>=0;--o){this.insertVertex_.apply(this,c[o])}}return!!this.vertexFeature_};ol.interaction.Modify.handleDragEvent_=function(a){this.ignoreNextSingleClick_=false;this.willModifyFeatures_(a);var b=a.coordinate;for(var c=0,d=this.dragSegments_.length;c<d;++c){var e=this.dragSegments_[c];var f=e[0];var g=f.depth;var h=f.geometry;var i=h.getCoordinates();var j=f.segment;var k=e[1];while(b.length<h.getStride()){b.push(0)}switch(h.getType()){case ol.geom.GeometryType.POINT:i=b;j[0]=j[1]=b;break;case ol.geom.GeometryType.MULTI_POINT:i[f.index]=b;j[0]=j[1]=b;break;case ol.geom.GeometryType.LINE_STRING:i[f.index+k]=b;j[k]=b;break;case ol.geom.GeometryType.MULTI_LINE_STRING:i[g[0]][f.index+k]=b;j[k]=b;break;case ol.geom.GeometryType.POLYGON:i[g[0]][f.index+k]=b;j[k]=b;break;case ol.geom.GeometryType.MULTI_POLYGON:i[g[1]][g[0]][f.index+k]=b;j[k]=b;break;default:}this.setGeometryCoordinates_(h,i)}this.createOrUpdateVertexFeature_(b)};ol.interaction.Modify.handleUpEvent_=function(a){var b;for(var c=this.dragSegments_.length-1;c>=0;--c){b=this.dragSegments_[c][0];this.rBush_.update(ol.extent.boundingExtent(b.segment),b)}if(this.modified_){this.dispatchEvent(new ol.interaction.ModifyEvent(ol.ModifyEventType.MODIFYEND,this.features_,a));this.modified_=false}return false};ol.interaction.Modify.handleEvent=function(a){if(!(a instanceof ol.MapBrowserPointerEvent)){return true}this.lastPointerEvent_=a;var b;if(!a.map.getView().getHints()[ol.View.Hint.INTERACTING]&&a.type==ol.MapBrowserEvent.EventType.POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(a)}if(this.vertexFeature_&&this.deleteCondition_(a)){if(a.type!=ol.MapBrowserEvent.EventType.SINGLECLICK||!this.ignoreNextSingleClick_){b=this.removePoint()}else{b=true}}if(a.type==ol.MapBrowserEvent.EventType.SINGLECLICK){this.ignoreNextSingleClick_=false}return ol.interaction.Pointer.handleEvent.call(this,a)&&!b};ol.interaction.Modify.prototype.handlePointerMove_=function(a){this.lastPixel_=a.pixel;this.handlePointerAtPixel_(a.pixel,a.map)};ol.interaction.Modify.prototype.handlePointerAtPixel_=function(a,b){var c=b.getCoordinateFromPixel(a);var d=function(a,b){return ol.coordinate.squaredDistanceToSegment(c,a.segment)-ol.coordinate.squaredDistanceToSegment(c,b.segment)};var e=b.getCoordinateFromPixel([a[0]-this.pixelTolerance_,a[1]+this.pixelTolerance_]);var f=b.getCoordinateFromPixel([a[0]+this.pixelTolerance_,a[1]-this.pixelTolerance_]);var g=ol.extent.boundingExtent([e,f]);var h=this.rBush_;var i=h.getInExtent(g);if(i.length>0){i.sort(d);var j=i[0];var k=j.segment;var l=ol.coordinate.closestOnSegment(c,k);var m=b.getPixelFromCoordinate(l);if(Math.sqrt(ol.coordinate.squaredDistance(a,m))<=this.pixelTolerance_){var n=b.getPixelFromCoordinate(k[0]);var o=b.getPixelFromCoordinate(k[1]);var p=ol.coordinate.squaredDistance(m,n);var q=ol.coordinate.squaredDistance(m,o);var r=Math.sqrt(Math.min(p,q));this.snappedToVertex_=r<=this.pixelTolerance_;if(this.snappedToVertex_){l=p>q?k[1]:k[0]}this.createOrUpdateVertexFeature_(l);var s={};s[ol.getUid(k)]=true;var t;for(var u=1,v=i.length;u<v;++u){t=i[u].segment;if(ol.coordinate.equals(k[0],t[0])&&ol.coordinate.equals(k[1],t[1])||ol.coordinate.equals(k[0],t[1])&&ol.coordinate.equals(k[1],t[0])){s[ol.getUid(t)]=true}else{break}}this.vertexSegments_=s;return}}if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};ol.interaction.Modify.prototype.insertVertex_=function(a,b){var c=a.segment;var d=a.feature;var e=a.geometry;var f=a.depth;var g=a.index;var h;while(b.length<e.getStride()){b.push(0)}switch(e.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:h=e.getCoordinates();h[f[0]].splice(g+1,0,b);break;case ol.geom.GeometryType.POLYGON:h=e.getCoordinates();h[f[0]].splice(g+1,0,b);break;case ol.geom.GeometryType.MULTI_POLYGON:h=e.getCoordinates();h[f[1]][f[0]].splice(g+1,0,b);break;case ol.geom.GeometryType.LINE_STRING:h=e.getCoordinates();h.splice(g+1,0,b);break;default:return}this.setGeometryCoordinates_(e,h);var i=this.rBush_;i.remove(a);this.updateSegmentIndices_(e,g,f,1);var j={segment:[c[0],b],feature:d,geometry:e,depth:f,index:g};i.insert(ol.extent.boundingExtent(j.segment),j);this.dragSegments_.push([j,1]);var k={segment:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1};i.insert(ol.extent.boundingExtent(k.segment),k);this.dragSegments_.push([k,0]);this.ignoreNextSingleClick_=true};ol.interaction.Modify.prototype.removePoint=function(){var a=false;if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ol.MapBrowserEvent.EventType.POINTERDRAG){var b=this.lastPointerEvent_;this.willModifyFeatures_(b);a=this.removeVertex_();this.dispatchEvent(new ol.interaction.ModifyEvent(ol.ModifyEventType.MODIFYEND,this.features_,b));this.modified_=false}return a};ol.interaction.Modify.prototype.removeVertex_=function(){var a=this.dragSegments_;var b={};var c=false;var d,e,f,g,h,i,j;var k,l,m,n;for(h=a.length-1;h>=0;--h){f=a[h];m=f[0];n=ol.getUid(m.feature);if(m.depth){n+="-"+m.depth.join("-")}if(!(n in b)){b[n]={}}if(f[1]===0){b[n].right=m;b[n].index=m.index}else if(f[1]==1){b[n].left=m;b[n].index=m.index+1}}for(n in b){l=b[n].right;j=b[n].left;i=b[n].index;k=i-1;if(j!==undefined){m=j}else{m=l}if(k<0){k=0}g=m.geometry;e=g.getCoordinates();d=e;c=false;switch(g.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:if(e[m.depth[0]].length>2){e[m.depth[0]].splice(i,1);c=true}break;case ol.geom.GeometryType.LINE_STRING:if(e.length>2){e.splice(i,1);c=true}break;case ol.geom.GeometryType.MULTI_POLYGON:d=d[m.depth[1]];case ol.geom.GeometryType.POLYGON:d=d[m.depth[0]];if(d.length>4){if(i==d.length-1){i=0}d.splice(i,1);c=true;if(i===0){d.pop();d.push(d[0]);k=d.length-1}}break;default:}if(c){this.setGeometryCoordinates_(g,e);var o=[];if(j!==undefined){this.rBush_.remove(j);o.push(j.segment[0])}if(l!==undefined){this.rBush_.remove(l);o.push(l.segment[1])}if(j!==undefined&&l!==undefined){goog.DEBUG&&console.assert(k>=0,"newIndex should be larger than 0");var p={depth:m.depth,feature:m.feature,geometry:m.geometry,index:k,segment:o};this.rBush_.insert(ol.extent.boundingExtent(p.segment),p)}this.updateSegmentIndices_(g,i,m.depth,-1);if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}}}return c};ol.interaction.Modify.prototype.setGeometryCoordinates_=function(a,b){this.changingFeature_=true;a.setCoordinates(b);this.changingFeature_=false};ol.interaction.Modify.prototype.updateSegmentIndices_=function(a,b,c,d){this.rBush_.forEachInExtent(a.getExtent(),(function(e){if(e.geometry===a&&(c===undefined||e.depth===undefined||ol.array.equals(e.depth,c))&&e.index>b){e.index+=d}}))};ol.interaction.Modify.getDefaultStyleFunction=function(){var a=ol.style.Style.createDefaultEditing();return function(b,c){return a[ol.geom.GeometryType.POINT]}};goog.provide("ol.interaction.Select");goog.provide("ol.interaction.SelectEvent");goog.provide("ol.interaction.SelectEventType");goog.require("ol");goog.require("ol.asserts");goog.require("ol.functions");goog.require("ol.Collection");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.geom.GeometryType");goog.require("ol.interaction.Interaction");goog.require("ol.layer.Vector");goog.require("ol.obj");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.SelectEventType={SELECT:"select"};ol.interaction.SelectEvent=function(a,b,c,d){ol.events.Event.call(this,a);this.selected=b;this.deselected=c;this.mapBrowserEvent=d};ol.inherits(ol.interaction.SelectEvent,ol.events.Event);ol.interaction.Select=function(a){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.Select.handleEvent});var b=a?a:{};this.condition_=b.condition?b.condition:ol.events.condition.singleClick;this.addCondition_=b.addCondition?b.addCondition:ol.events.condition.never;this.removeCondition_=b.removeCondition?b.removeCondition:ol.events.condition.never;this.toggleCondition_=b.toggleCondition?b.toggleCondition:ol.events.condition.shiftKeyOnly;this.multi_=b.multi?b.multi:false;this.filter_=b.filter?b.filter:ol.functions.TRUE;var c=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,features:b.features,wrapX:b.wrapX}),style:b.style?b.style:ol.interaction.Select.getDefaultStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.featureOverlay_=c;var d;if(b.layers){if(typeof b.layers==="function"){d=b.layers}else{var e=b.layers;d=function(a){return ol.array.includes(e,a)}}}else{d=ol.functions.TRUE}this.layerFilter_=d;this.featureLayerAssociation_={};var f=this.featureOverlay_.getSource().getFeaturesCollection();ol.events.listen(f,ol.Collection.EventType.ADD,this.addFeature_,this);ol.events.listen(f,ol.Collection.EventType.REMOVE,this.removeFeature_,this)};ol.inherits(ol.interaction.Select,ol.interaction.Interaction);ol.interaction.Select.prototype.addFeatureLayerAssociation_=function(a,b){var c=ol.getUid(a);this.featureLayerAssociation_[c]=b};ol.interaction.Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()};ol.interaction.Select.prototype.getLayer=function(a){ol.asserts.assert(a instanceof ol.Feature,42);var b=ol.getUid(a);return this.featureLayerAssociation_[b]};ol.interaction.Select.handleEvent=function(a){if(!this.condition_(a)){return true}var b=this.addCondition_(a);var c=this.removeCondition_(a);var d=this.toggleCondition_(a);var e=!b&&!c&&!d;var f=a.map;var g=this.featureOverlay_.getSource().getFeaturesCollection();var h=[];var i=[];if(e){ol.obj.clear(this.featureLayerAssociation_);f.forEachFeatureAtPixel(a.pixel,(function(a,b){if(this.filter_(a,b)){i.push(a);this.addFeatureLayerAssociation_(a,b);
return!this.multi_}}),this,this.layerFilter_);if(i.length>0&&g.getLength()==1&&g.item(0)==i[0]){i.length=0}else{if(g.getLength()!==0){h=Array.prototype.concat(g.getArray());g.clear()}g.extend(i)}}else{f.forEachFeatureAtPixel(a.pixel,(function(a,e){if(this.filter_(a,e)){if((b||d)&&!ol.array.includes(g.getArray(),a)){i.push(a);this.addFeatureLayerAssociation_(a,e)}else if((c||d)&&ol.array.includes(g.getArray(),a)){h.push(a);this.removeFeatureLayerAssociation_(a)}return!this.multi_}}),this,this.layerFilter_);var j;for(j=h.length-1;j>=0;--j){g.remove(h[j])}g.extend(i)}if(i.length>0||h.length>0){this.dispatchEvent(new ol.interaction.SelectEvent(ol.interaction.SelectEventType.SELECT,i,h,a))}return ol.events.condition.pointerMove(a)};ol.interaction.Select.prototype.setMap=function(a){var b=this.getMap();var c=this.featureOverlay_.getSource().getFeaturesCollection();if(b){c.forEach(b.unskipFeature,b)}ol.interaction.Interaction.prototype.setMap.call(this,a);this.featureOverlay_.setMap(a);if(a){c.forEach(a.skipFeature,a)}};ol.interaction.Select.getDefaultStyleFunction=function(){var a=ol.style.Style.createDefaultEditing();ol.array.extend(a[ol.geom.GeometryType.POLYGON],a[ol.geom.GeometryType.LINE_STRING]);ol.array.extend(a[ol.geom.GeometryType.GEOMETRY_COLLECTION],a[ol.geom.GeometryType.LINE_STRING]);return function(b,c){return a[b.getGeometry().getType()]}};ol.interaction.Select.prototype.addFeature_=function(a){var b=this.getMap();if(b){b.skipFeature(a.element)}};ol.interaction.Select.prototype.removeFeature_=function(a){var b=this.getMap();if(b){b.unskipFeature(a.element)}};ol.interaction.Select.prototype.removeFeatureLayerAssociation_=function(a){var b=ol.getUid(a);delete this.featureLayerAssociation_[b]};goog.provide("ol.interaction.Snap");goog.provide("ol.interaction.SnapProperty");goog.require("ol");goog.require("ol.Collection");goog.require("ol.Object");goog.require("ol.Observable");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.interaction.Pointer");goog.require("ol.functions");goog.require("ol.obj");goog.require("ol.source.VectorEvent");goog.require("ol.source.VectorEventType");goog.require("ol.structs.RBush");ol.interaction.Snap=function(a){ol.interaction.Pointer.call(this,{handleEvent:ol.interaction.Snap.handleEvent_,handleDownEvent:ol.functions.TRUE,handleUpEvent:ol.interaction.Snap.handleUpEvent_});var b=a?a:{};this.source_=b.source?b.source:null;this.vertex_=b.vertex!==undefined?b.vertex:true;this.edge_=b.edge!==undefined?b.edge:true;this.features_=b.features?b.features:null;this.featuresListenerKeys_=[];this.geometryChangeListenerKeys_={};this.geometryModifyListenerKeys_={};this.indexedFeaturesExtents_={};this.pendingFeatures_={};this.pixelCoordinate_=null;this.pixelTolerance_=b.pixelTolerance!==undefined?b.pixelTolerance:10;this.sortByDistance_=ol.interaction.Snap.sortByDistance.bind(this);this.rBush_=new ol.structs.RBush;this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_}};ol.inherits(ol.interaction.Snap,ol.interaction.Pointer);ol.interaction.Snap.prototype.addFeature=function(a,b){var c=b!==undefined?b:true;var d=ol.getUid(a);var e=a.getGeometry();if(e){var f=this.SEGMENT_WRITERS_[e.getType()];if(f){this.indexedFeaturesExtents_[d]=e.getExtent(ol.extent.createEmpty());f.call(this,a,e);if(c){this.geometryModifyListenerKeys_[d]=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleGeometryModify_.bind(this,a),this)}}}if(c){this.geometryChangeListenerKeys_[d]=ol.events.listen(a,ol.Object.getChangeEventType(a.getGeometryName()),this.handleGeometryChange_,this)}};ol.interaction.Snap.prototype.forEachFeatureAdd_=function(a){this.addFeature(a)};ol.interaction.Snap.prototype.forEachFeatureRemove_=function(a){this.removeFeature(a)};ol.interaction.Snap.prototype.getFeatures_=function(){var a;if(this.features_){a=this.features_}else if(this.source_){a=this.source_.getFeatures()}return a};ol.interaction.Snap.prototype.handleFeatureAdd_=function(a){var b;if(a instanceof ol.source.VectorEvent){b=a.feature}else if(a instanceof ol.Collection.Event){b=a.element}this.addFeature(b)};ol.interaction.Snap.prototype.handleFeatureRemove_=function(a){var b;if(a instanceof ol.source.VectorEvent){b=a.feature}else if(a instanceof ol.Collection.Event){b=a.element}this.removeFeature(b)};ol.interaction.Snap.prototype.handleGeometryChange_=function(a){var b=a.target;this.removeFeature(b,true);this.addFeature(b,true)};ol.interaction.Snap.prototype.handleGeometryModify_=function(a,b){if(this.handlingDownUpSequence){var c=ol.getUid(a);if(!(c in this.pendingFeatures_)){this.pendingFeatures_[c]=a}}else{this.updateFeature_(a)}};ol.interaction.Snap.prototype.removeFeature=function(a,b){var c=b!==undefined?b:true;var d=ol.getUid(a);var e=this.indexedFeaturesExtents_[d];if(e){var f=this.rBush_;var g,h=[];f.forEachInExtent(e,(function(b){if(a===b.feature){h.push(b)}}));for(g=h.length-1;g>=0;--g){f.remove(h[g])}if(c){ol.Observable.unByKey(this.geometryModifyListenerKeys_[d]);delete this.geometryModifyListenerKeys_[d]}}if(c){ol.Observable.unByKey(this.geometryChangeListenerKeys_[d]);delete this.geometryChangeListenerKeys_[d]}};ol.interaction.Snap.prototype.setMap=function(a){var b=this.getMap();var c=this.featuresListenerKeys_;var d=this.getFeatures_();if(b){c.forEach(ol.Observable.unByKey);c.length=0;d.forEach(this.forEachFeatureRemove_,this)}ol.interaction.Pointer.prototype.setMap.call(this,a);if(a){if(this.features_){c.push(ol.events.listen(this.features_,ol.Collection.EventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.Collection.EventType.REMOVE,this.handleFeatureRemove_,this))}else if(this.source_){c.push(ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleFeatureAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleFeatureRemove_,this))}d.forEach(this.forEachFeatureAdd_,this)}};ol.interaction.Snap.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Snap.prototype.snapTo=function(a,b,c){var d=c.getCoordinateFromPixel([a[0]-this.pixelTolerance_,a[1]+this.pixelTolerance_]);var e=c.getCoordinateFromPixel([a[0]+this.pixelTolerance_,a[1]-this.pixelTolerance_]);var f=ol.extent.boundingExtent([d,e]);var g=this.rBush_.getInExtent(f);var h=false;var i=false;var j=null;var k=null;var l,m,n,o,p;if(g.length>0){this.pixelCoordinate_=b;g.sort(this.sortByDistance_);var q=g[0].segment;if(this.vertex_&&!this.edge_){m=c.getPixelFromCoordinate(q[0]);n=c.getPixelFromCoordinate(q[1]);o=ol.coordinate.squaredDistance(a,m);p=ol.coordinate.squaredDistance(a,n);l=Math.sqrt(Math.min(o,p));h=l<=this.pixelTolerance_;if(h){i=true;j=o>p?q[1]:q[0];k=c.getPixelFromCoordinate(j)}}else if(this.edge_){j=ol.coordinate.closestOnSegment(b,q);k=c.getPixelFromCoordinate(j);if(Math.sqrt(ol.coordinate.squaredDistance(a,k))<=this.pixelTolerance_){i=true;if(this.vertex_){m=c.getPixelFromCoordinate(q[0]);n=c.getPixelFromCoordinate(q[1]);o=ol.coordinate.squaredDistance(k,m);p=ol.coordinate.squaredDistance(k,n);l=Math.sqrt(Math.min(o,p));h=l<=this.pixelTolerance_;if(h){j=o>p?q[1]:q[0];k=c.getPixelFromCoordinate(j)}}}}if(i){k=[Math.round(k[0]),Math.round(k[1])]}}return{snapped:i,vertex:j,vertexPixel:k}};ol.interaction.Snap.prototype.updateFeature_=function(a){this.removeFeature(a,false);this.addFeature(a,false)};ol.interaction.Snap.prototype.writeGeometryCollectionGeometry_=function(a,b){var c,d=b.getGeometriesArray();for(c=0;c<d.length;++c){this.SEGMENT_WRITERS_[d[c].getType()].call(this,a,d[c])}};ol.interaction.Snap.prototype.writeLineStringGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g;for(d=0,e=c.length-1;d<e;++d){f=c.slice(d,d+2);g={feature:a,segment:f};this.rBush_.insert(ol.extent.boundingExtent(f),g)}};ol.interaction.Snap.prototype.writeMultiLineStringGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g,h,i,j;for(g=0,h=c.length;g<h;++g){d=c[g];for(e=0,f=d.length-1;e<f;++e){i=d.slice(e,e+2);j={feature:a,segment:i};this.rBush_.insert(ol.extent.boundingExtent(i),j)}}};ol.interaction.Snap.prototype.writeMultiPointGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g;for(e=0,f=c.length;e<f;++e){d=c[e];g={feature:a,segment:[d,d]};this.rBush_.insert(b.getExtent(),g)}};ol.interaction.Snap.prototype.writeMultiPolygonGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g,h,i,j,k,l,m;for(i=0,j=c.length;i<j;++i){k=c[i];for(g=0,h=k.length;g<h;++g){d=k[g];for(e=0,f=d.length-1;e<f;++e){l=d.slice(e,e+2);m={feature:a,segment:l};this.rBush_.insert(ol.extent.boundingExtent(l),m)}}}};ol.interaction.Snap.prototype.writePointGeometry_=function(a,b){var c=b.getCoordinates();var d={feature:a,segment:[c,c]};this.rBush_.insert(b.getExtent(),d)};ol.interaction.Snap.prototype.writePolygonGeometry_=function(a,b){var c=b.getCoordinates();var d,e,f,g,h,i,j;for(g=0,h=c.length;g<h;++g){d=c[g];for(e=0,f=d.length-1;e<f;++e){i=d.slice(e,e+2);j={feature:a,segment:i};this.rBush_.insert(ol.extent.boundingExtent(i),j)}}};ol.interaction.Snap.handleEvent_=function(a){var b=this.snapTo(a.pixel,a.coordinate,a.map);if(b.snapped){a.coordinate=b.vertex.slice(0,2);a.pixel=b.vertexPixel}return ol.interaction.Pointer.handleEvent.call(this,a)};ol.interaction.Snap.handleUpEvent_=function(a){var b=ol.obj.getValues(this.pendingFeatures_);if(b.length){b.forEach(this.updateFeature_,this);this.pendingFeatures_={}}return false};ol.interaction.Snap.sortByDistance=function(a,b){return ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,a.segment)-ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,b.segment)};goog.provide("ol.interaction.Translate");goog.provide("ol.interaction.TranslateEvent");goog.require("ol");goog.require("ol.events.Event");goog.require("ol.array");goog.require("ol.interaction.Pointer");ol.interaction.TranslateEventType={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"};ol.interaction.TranslateEvent=function(a,b,c){ol.events.Event.call(this,a);this.features=b;this.coordinate=c};ol.inherits(ol.interaction.TranslateEvent,ol.events.Event);ol.interaction.Translate=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Translate.handleDownEvent_,handleDragEvent:ol.interaction.Translate.handleDragEvent_,handleMoveEvent:ol.interaction.Translate.handleMoveEvent_,handleUpEvent:ol.interaction.Translate.handleUpEvent_});this.previousCursor_=undefined;this.lastCoordinate_=null;this.features_=a.features!==undefined?a.features:null;var b;if(a.layers){if(typeof a.layers==="function"){b=a.layers}else{var c=a.layers;b=function(a){return ol.array.includes(c,a)}}}else{b=ol.functions.TRUE}this.layerFilter_=b;this.lastFeature_=null};ol.inherits(ol.interaction.Translate,ol.interaction.Pointer);ol.interaction.Translate.handleDownEvent_=function(a){this.lastFeature_=this.featuresAtPixel_(a.pixel,a.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=a.coordinate;ol.interaction.Translate.handleMoveEvent_.call(this,a);this.dispatchEvent(new ol.interaction.TranslateEvent(ol.interaction.TranslateEventType.TRANSLATESTART,this.features_,a.coordinate));return true}return false};ol.interaction.Translate.handleUpEvent_=function(a){if(this.lastCoordinate_){this.lastCoordinate_=null;ol.interaction.Translate.handleMoveEvent_.call(this,a);this.dispatchEvent(new ol.interaction.TranslateEvent(ol.interaction.TranslateEventType.TRANSLATEEND,this.features_,a.coordinate));return true}return false};ol.interaction.Translate.handleDragEvent_=function(a){if(this.lastCoordinate_){var b=a.coordinate;var c=b[0]-this.lastCoordinate_[0];var d=b[1]-this.lastCoordinate_[1];if(this.features_){this.features_.forEach((function(a){var b=a.getGeometry();b.translate(c,d);a.setGeometry(b)}))}else if(this.lastFeature_){var e=this.lastFeature_.getGeometry();e.translate(c,d);this.lastFeature_.setGeometry(e)}this.lastCoordinate_=b;this.dispatchEvent(new ol.interaction.TranslateEvent(ol.interaction.TranslateEventType.TRANSLATING,this.features_,b))}};ol.interaction.Translate.handleMoveEvent_=function(a){var b=a.map.getTargetElement();if(this.featuresAtPixel_(a.pixel,a.map)){this.previousCursor_=b.style.cursor;b.style.cursor=this.lastCoordinate_?"-webkit-grabbing":"-webkit-grab";b.style.cursor=this.lastCoordinate_?"grabbing":"grab"}else{b.style.cursor=this.previousCursor_!==undefined?this.previousCursor_:"";this.previousCursor_=undefined}};ol.interaction.Translate.prototype.featuresAtPixel_=function(a,b){var c=null;var d=b.forEachFeatureAtPixel(a,(function(a){return a}),this,this.layerFilter_);if(this.features_&&ol.array.includes(this.features_.getArray(),d)){c=d}return c};goog.provide("ol.layer.Heatmap");goog.require("ol.events");goog.require("ol");goog.require("ol.Object");goog.require("ol.dom");goog.require("ol.layer.Vector");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.render.EventType");goog.require("ol.style.Icon");goog.require("ol.style.Style");ol.layer.HeatmapLayerProperty={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"};ol.layer.Heatmap=function(a){var b=a?a:{};var c=ol.obj.assign({},b);delete c.gradient;delete c.radius;delete c.blur;delete c.shadow;delete c.weight;ol.layer.Vector.call(this,c);this.gradient_=null;this.shadow_=b.shadow!==undefined?b.shadow:250;this.circleImage_=undefined;this.styleCache_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.HeatmapLayerProperty.GRADIENT),this.handleGradientChanged_,this);this.setGradient(b.gradient?b.gradient:ol.layer.Heatmap.DEFAULT_GRADIENT);this.setBlur(b.blur!==undefined?b.blur:15);this.setRadius(b.radius!==undefined?b.radius:8);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.HeatmapLayerProperty.BLUR),this.handleStyleChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.HeatmapLayerProperty.RADIUS),this.handleStyleChanged_,this);this.handleStyleChanged_();var d=b.weight?b.weight:"weight";var e;if(typeof d==="string"){e=function(a){return a.get(d)}}else{e=d}goog.DEBUG&&console.assert(typeof e==="function","weightFunction should be a function");this.setStyle(function(a,b){goog.DEBUG&&console.assert(this.styleCache_,"this.styleCache_ expected");goog.DEBUG&&console.assert(this.circleImage_!==undefined,"this.circleImage_ should be defined");var c=e(a);var d=c!==undefined?ol.math.clamp(c,0,1):1;var f=255*d|0;var g=this.styleCache_[f];if(!g){g=[new ol.style.Style({image:new ol.style.Icon({opacity:d,src:this.circleImage_})})];this.styleCache_[f]=g}return g}.bind(this));this.setRenderOrder(null);ol.events.listen(this,ol.render.EventType.RENDER,this.handleRender_,this)};ol.inherits(ol.layer.Heatmap,ol.layer.Vector);ol.layer.Heatmap.DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"];ol.layer.Heatmap.createGradient_=function(a){var b=1;var c=256;var d=ol.dom.createCanvasContext2D(b,c);var e=d.createLinearGradient(0,0,b,c);var f=1/(a.length-1);for(var g=0,h=a.length;g<h;++g){e.addColorStop(g*f,a[g])}d.fillStyle=e;d.fillRect(0,0,b,c);return d.getImageData(0,0,b,c).data};ol.layer.Heatmap.prototype.createCircle_=function(){var a=this.getRadius();var b=this.getBlur();goog.DEBUG&&console.assert(a!==undefined&&b!==undefined,"radius and blur should be defined");var c=a+b+1;var d=2*c;var e=ol.dom.createCanvasContext2D(d,d);e.shadowOffsetX=e.shadowOffsetY=this.shadow_;e.shadowBlur=b;e.shadowColor="#000";e.beginPath();var f=c-this.shadow_;e.arc(f,f,a,0,Math.PI*2,true);e.fill();return e.canvas.toDataURL()};ol.layer.Heatmap.prototype.getBlur=function(){return this.get(ol.layer.HeatmapLayerProperty.BLUR)};ol.layer.Heatmap.prototype.getGradient=function(){return this.get(ol.layer.HeatmapLayerProperty.GRADIENT)};ol.layer.Heatmap.prototype.getRadius=function(){return this.get(ol.layer.HeatmapLayerProperty.RADIUS)};ol.layer.Heatmap.prototype.handleGradientChanged_=function(){this.gradient_=ol.layer.Heatmap.createGradient_(this.getGradient())};ol.layer.Heatmap.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_();this.styleCache_=new Array(256);this.changed()};ol.layer.Heatmap.prototype.handleRender_=function(a){goog.DEBUG&&console.assert(a.type==ol.render.EventType.RENDER,"event.type should be RENDER");goog.DEBUG&&console.assert(this.gradient_,"this.gradient_ expected");var b=a.context;var c=b.canvas;var d=b.getImageData(0,0,c.width,c.height);var e=d.data;var f,g,h;for(f=0,g=e.length;f<g;f+=4){h=e[f+3]*4;if(h){e[f]=this.gradient_[h];e[f+1]=this.gradient_[h+1];e[f+2]=this.gradient_[h+2]}}b.putImageData(d,0,0)};ol.layer.Heatmap.prototype.setBlur=function(a){this.set(ol.layer.HeatmapLayerProperty.BLUR,a)};ol.layer.Heatmap.prototype.setGradient=function(a){this.set(ol.layer.HeatmapLayerProperty.GRADIENT,a)};ol.layer.Heatmap.prototype.setRadius=function(a){this.set(ol.layer.HeatmapLayerProperty.RADIUS,a)};goog.provide("ol.net");goog.require("ol");ol.net.jsonp=function(a,b,c,d){var e=ol.global.document.createElement("script");var f="olc_"+ol.getUid(b);function g(){delete ol.global[f];e.parentNode.removeChild(e)}e.async=true;e.src=a+(a.indexOf("?")==-1?"?":"&")+(d||"callback")+"="+f;var h=ol.global.setTimeout((function(){g();if(c){c()}}),1e4);ol.global[f]=function(a){ol.global.clearTimeout(h);g();b(a)};ol.global.document.getElementsByTagName("head")[0].appendChild(e)};goog.provide("ol.render");goog.require("ol.has");goog.require("ol.transform");goog.require("ol.render.canvas.Immediate");ol.render.toContext=function(a,b){var c=a.canvas;var d=b?b:{};var e=d.pixelRatio||ol.has.DEVICE_PIXEL_RATIO;var f=d.size;if(f){c.width=f[0]*e;c.height=f[1]*e;c.style.width=f[0]+"px";c.style.height=f[1]+"px"}var g=[0,0,c.width,c.height];var h=ol.transform.scale(ol.transform.create(),e,e);return new ol.render.canvas.Immediate(a,e,g,h,0)};goog.provide("ol.reproj.Tile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.reproj");goog.require("ol.reproj.Triangulation");ol.reproj.Tile=function(a,b,c,d,e,f,g,h,i,j,k){ol.Tile.call(this,e,ol.Tile.State.IDLE);this.renderEdges_=k!==undefined?k:false;this.pixelRatio_=g;this.gutter_=h;this.canvas_=null;this.canvasByContext_={};this.sourceTileGrid_=b;this.targetTileGrid_=d;this.wrappedTileCoord_=f?f:e;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;var l=d.getTileCoordExtent(this.wrappedTileCoord_);var m=this.targetTileGrid_.getExtent();var n=this.sourceTileGrid_.getExtent();var o=m?ol.extent.getIntersection(l,m):l;if(ol.extent.getArea(o)===0){this.state=ol.Tile.State.EMPTY;return}var p=a.getExtent();if(p){if(!n){n=p}else{n=ol.extent.getIntersection(n,p)}}var q=d.getResolution(this.wrappedTileCoord_[0]);var r=ol.extent.getCenter(o);var s=ol.reproj.calculateSourceResolution(a,c,r,q);if(!isFinite(s)||s<=0){this.state=ol.Tile.State.EMPTY;return}var t=j!==undefined?j:ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(a,c,o,n,s*t);if(this.triangulation_.getTriangles().length===0){this.state=ol.Tile.State.EMPTY;return}this.sourceZ_=b.getZForResolution(s);var u=this.triangulation_.calculateSourceExtent();if(n){if(a.canWrapX()){u[1]=ol.math.clamp(u[1],n[1],n[3]);u[3]=ol.math.clamp(u[3],n[1],n[3])}else{u=ol.extent.getIntersection(u,n)}}if(!ol.extent.getArea(u)){this.state=ol.Tile.State.EMPTY}else{var v=b.getTileRangeForExtentAndZ(u,this.sourceZ_);var w=v.getWidth()*v.getHeight();if(goog.DEBUG&&!(w<ol.RASTER_REPROJECTION_MAX_SOURCE_TILES)){console.assert(false,"reasonable number of tiles is required");this.state=ol.Tile.State.ERROR;return}for(var x=v.minX;x<=v.maxX;x++){for(var y=v.minY;y<=v.maxY;y++){var z=i(this.sourceZ_,x,y,g);if(z){this.sourceTiles_.push(z)}}}if(this.sourceTiles_.length===0){this.state=ol.Tile.State.EMPTY}}};ol.inherits(ol.reproj.Tile,ol.Tile);ol.reproj.Tile.prototype.disposeInternal=function(){if(this.state==ol.Tile.State.LOADING){this.unlistenSources_()}ol.Tile.prototype.disposeInternal.call(this)};ol.reproj.Tile.prototype.getImage=function(a){if(a!==undefined){var b;var c=ol.getUid(a);if(c in this.canvasByContext_){return this.canvasByContext_[c]}else if(ol.obj.isEmpty(this.canvasByContext_)){b=this.canvas_}else{b=this.canvas_.cloneNode(false)}this.canvasByContext_[c]=b;return b}else{return this.canvas_}};ol.reproj.Tile.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach((function(b,c,d){if(b&&b.getState()==ol.Tile.State.LOADED){a.push({extent:this.sourceTileGrid_.getTileCoordExtent(b.tileCoord),image:b.getImage()})}}),this);this.sourceTiles_.length=0;if(a.length===0){this.state=ol.Tile.State.ERROR}else{var b=this.wrappedTileCoord_[0];var c=this.targetTileGrid_.getTileSize(b);var d=typeof c==="number"?c:c[0];var e=typeof c==="number"?c:c[1];var f=this.targetTileGrid_.getResolution(b);var g=this.sourceTileGrid_.getResolution(this.sourceZ_);var h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ol.reproj.render(d,e,this.pixelRatio_,g,this.sourceTileGrid_.getExtent(),f,h,this.triangulation_,a,this.gutter_,this.renderEdges_);this.state=ol.Tile.State.LOADED}this.changed()};ol.reproj.Tile.prototype.load=function(){if(this.state==ol.Tile.State.IDLE){this.state=ol.Tile.State.LOADING;this.changed();var a=0;goog.DEBUG&&console.assert(!this.sourcesListenerKeys_,"this.sourcesListenerKeys_ should be null");this.sourcesListenerKeys_=[];this.sourceTiles_.forEach((function(b,c,d){var e=b.getState();if(e==ol.Tile.State.IDLE||e==ol.Tile.State.LOADING){a++;var f;f=ol.events.listen(b,ol.events.EventType.CHANGE,(function(c){var d=b.getState();if(d==ol.Tile.State.LOADED||d==ol.Tile.State.ERROR||d==ol.Tile.State.EMPTY){ol.events.unlistenByKey(f);a--;goog.DEBUG&&console.assert(a>=0,"leftToLoad should not be negative");if(a===0){this.unlistenSources_();this.reproject_()}}}),this);this.sourcesListenerKeys_.push(f)}}),this);this.sourceTiles_.forEach((function(a,b,c){var d=a.getState();if(d==ol.Tile.State.IDLE){a.load()}}));if(a===0){var b=ol.global;b.setTimeout(this.reproject_.bind(this),0)}}};ol.reproj.Tile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ol.events.unlistenByKey);this.sourcesListenerKeys_=null};goog.provide("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.math");goog.require("ol.tilecoord");ol.TileUrlFunction.createFromTemplate=function(a,b){var c=/\{z\}/g;var d=/\{x\}/g;var e=/\{y\}/g;var f=/\{-y\}/g;return function(g,h,i){if(!g){return undefined}else{return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,(function(){var a=-g[2]-1;return a.toString()})).replace(f,(function(){var a=g[0];var c=b.getFullTileRange(a);ol.asserts.assert(c,55);var d=c.getHeight()+g[2];return d.toString()}))}}};ol.TileUrlFunction.createFromTemplates=function(a,b){var c=a.length;var d=new Array(c);for(var e=0;e<c;++e){d[e]=ol.TileUrlFunction.createFromTemplate(a[e],b)}return ol.TileUrlFunction.createFromTileUrlFunctions(d)};ol.TileUrlFunction.createFromTileUrlFunctions=function(a){goog.DEBUG&&console.assert(a.length>0,"Length of tile url functions should be greater than 0");if(a.length===1){return a[0]}return function(b,c,d){if(!b){return undefined}else{var e=ol.tilecoord.hash(b);var f=ol.math.modulo(e,a.length);return a[f](b,c,d)}}};ol.TileUrlFunction.nullTileUrlFunction=function(a,b,c){return undefined};ol.TileUrlFunction.expandUrl=function(a){var b=[];var c=/\{(\d)-(\d)\}/.exec(a)||/\{([a-z])-([a-z])\}/.exec(a);if(c){var d=c[1].charCodeAt(0);var e=c[2].charCodeAt(0);var f;for(f=d;f<=e;++f){b.push(a.replace(c[0],String.fromCharCode(f)))}}else{b.push(a)}return b};goog.provide("ol.TileCache");goog.require("ol");goog.require("ol.structs.LRUCache");goog.require("ol.tilecoord");ol.TileCache=function(a){ol.structs.LRUCache.call(this);this.highWaterMark_=a!==undefined?a:2048};ol.inherits(ol.TileCache,ol.structs.LRUCache);ol.TileCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark_};ol.TileCache.prototype.expireCache=function(a){var b,c;while(this.canExpireCache()){b=this.peekLast();c=b.tileCoord[0].toString();if(c in a&&a[c].contains(b.tileCoord)){break}else{this.pop().dispose()}}};ol.TileCache.prototype.pruneTileRange=function(a){var b=this.getCount(),c;while(b--){c=this.peekLastKey();if(a.contains(ol.tilecoord.createFromString(c))){this.pop().dispose()}else{this.get(c)}}};goog.provide("ol.source.Tile");goog.provide("ol.source.TileEvent");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileCache");goog.require("ol.events.Event");goog.require("ol.proj");goog.require("ol.size");goog.require("ol.source.Source");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.Tile=function(a){ol.source.Source.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX});this.opaque_=a.opaque!==undefined?a.opaque:false;this.tilePixelRatio_=a.tilePixelRatio!==undefined?a.tilePixelRatio:1;this.tileGrid=a.tileGrid!==undefined?a.tileGrid:null;this.tileCache=new ol.TileCache(a.cacheSize);this.tmpSize=[0,0];this.key_=""};ol.inherits(ol.source.Tile,ol.source.Source);ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};ol.source.Tile.prototype.expireCache=function(a,b){var c=this.getTileCacheForProjection(a);if(c){c.expireCache(b)}};ol.source.Tile.prototype.forEachLoadedTile=function(a,b,c,d){var e=this.getTileCacheForProjection(a);if(!e){return false}var f=true;var g,h,i;for(var j=c.minX;j<=c.maxX;++j){for(var k=c.minY;k<=c.maxY;++k){h=this.getKeyZXY(b,j,k);i=false;if(e.containsKey(h)){g=e.get(h);i=g.getState()===ol.Tile.State.LOADED;if(i){i=d(g)!==false}}if(!i){f=false}}}return f};ol.source.Tile.prototype.getGutter=function(a){return 0};ol.source.Tile.prototype.getKey=function(){return this.key_};ol.source.Tile.prototype.setKey=function(a){if(this.key_!==a){this.key_=a;this.changed()}};ol.source.Tile.prototype.getKeyZXY=ol.tilecoord.getKeyZXY;ol.source.Tile.prototype.getOpaque=function(a){return this.opaque_};ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};ol.source.Tile.prototype.getTile=function(a,b,c,d,e){};ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid};ol.source.Tile.prototype.getTileGridForProjection=function(a){if(!this.tileGrid){return ol.tilegrid.getForProjection(a)}else{return this.tileGrid}};ol.source.Tile.prototype.getTileCacheForProjection=function(a){var b=this.getProjection();if(b&&!ol.proj.equivalent(b,a)){return null}else{return this.tileCache}};ol.source.Tile.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};ol.source.Tile.prototype.getTilePixelSize=function(a,b,c){var d=this.getTileGridForProjection(c);var e=this.getTilePixelRatio(b);var f=ol.size.toSize(d.getTileSize(a),this.tmpSize);if(e==1){return f}else{return ol.size.scale(f,e,this.tmpSize)}};ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(a,b){var c=b!==undefined?b:this.getProjection();var d=this.getTileGridForProjection(c);if(this.getWrapX()&&c.isGlobal()){a=ol.tilegrid.wrapX(d,a,c)}return ol.tilecoord.withinExtentAndZ(a,d)?a:null};ol.source.Tile.prototype.refresh=function(){this.tileCache.clear();this.changed()};ol.source.Tile.prototype.useTile=ol.nullFunction;ol.source.TileEvent=function(a,b){ol.events.Event.call(this,a);this.tile=b};ol.inherits(ol.source.TileEvent,ol.events.Event);ol.source.TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};goog.provide("ol.source.UrlTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileUrlFunction");goog.require("ol.source.Tile");goog.require("ol.source.TileEvent");ol.source.UrlTile=function(a){ol.source.Tile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX});this.tileLoadFunction=a.tileLoadFunction;this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.nullTileUrlFunction;this.urls=null;if(a.urls){this.setUrls(a.urls)}else if(a.url){this.setUrl(a.url)}if(a.tileUrlFunction){this.setTileUrlFunction(a.tileUrlFunction)}};ol.inherits(ol.source.UrlTile,ol.source.Tile);ol.source.UrlTile.prototype.fixedTileUrlFunction;ol.source.UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};ol.source.UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction};ol.source.UrlTile.prototype.getUrls=function(){return this.urls};ol.source.UrlTile.prototype.handleTileChange=function(a){var b=a.target;switch(b.getState()){case ol.Tile.State.LOADING:this.dispatchEvent(new ol.source.TileEvent(ol.source.TileEventType.TILELOADSTART,b));break;case ol.Tile.State.LOADED:this.dispatchEvent(new ol.source.TileEvent(ol.source.TileEventType.TILELOADEND,b));break;case ol.Tile.State.ERROR:this.dispatchEvent(new ol.source.TileEvent(ol.source.TileEventType.TILELOADERROR,b));break;default:}};ol.source.UrlTile.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};ol.source.UrlTile.prototype.setTileUrlFunction=function(a,b){this.tileUrlFunction=a;if(typeof b!=="undefined"){this.setKey(b)}else{this.changed()}};ol.source.UrlTile.prototype.setUrl=function(a){var b=this.urls=ol.TileUrlFunction.expandUrl(a);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(b,this.tileGrid),a)};ol.source.UrlTile.prototype.setUrls=function(a){this.urls=a;var b=a.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(a,this.tileGrid),b)};ol.source.UrlTile.prototype.useTile=function(a,b,c){var d=this.getKeyZXY(a,b,c);if(this.tileCache.containsKey(d)){this.tileCache.get(d)}};goog.provide("ol.source.TileImage");goog.require("ol");goog.require("ol.ImageTile");goog.require("ol.Tile");goog.require("ol.TileCache");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.proj");goog.require("ol.reproj.Tile");goog.require("ol.source.UrlTile");goog.require("ol.tilegrid");ol.source.TileImage=function(a){ol.source.UrlTile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX});this.crossOrigin=a.crossOrigin!==undefined?a.crossOrigin:null;this.tileClass=a.tileClass!==undefined?a.tileClass:ol.ImageTile;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=a.reprojectionErrorThreshold;this.renderReprojectionEdges_=false};ol.inherits(ol.source.TileImage,ol.source.UrlTile);ol.source.TileImage.prototype.canExpireCache=function(){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.canExpireCache.call(this)}if(this.tileCache.canExpireCache()){return true}else{for(var a in this.tileCacheForProjection){if(this.tileCacheForProjection[a].canExpireCache()){return true}}}return false};ol.source.TileImage.prototype.expireCache=function(a,b){if(!ol.ENABLE_RASTER_REPROJECTION){ol.source.UrlTile.prototype.expireCache.call(this,a,b);return}var c=this.getTileCacheForProjection(a);this.tileCache.expireCache(this.tileCache==c?b:{});for(var d in this.tileCacheForProjection){var e=this.tileCacheForProjection[d];e.expireCache(e==c?b:{})}};ol.source.TileImage.prototype.getGutter=function(a){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&a&&!ol.proj.equivalent(this.getProjection(),a)){
return 0}else{return this.getGutterInternal()}};ol.source.TileImage.prototype.getGutterInternal=function(){return 0};ol.source.TileImage.prototype.getOpaque=function(a){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&a&&!ol.proj.equivalent(this.getProjection(),a)){return false}else{return ol.source.UrlTile.prototype.getOpaque.call(this,a)}};ol.source.TileImage.prototype.getTileGridForProjection=function(a){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileGridForProjection.call(this,a)}var b=this.getProjection();if(this.tileGrid&&(!b||ol.proj.equivalent(b,a))){return this.tileGrid}else{var c=ol.getUid(a).toString();if(!(c in this.tileGridForProjection)){this.tileGridForProjection[c]=ol.tilegrid.getForProjection(a)}return this.tileGridForProjection[c]}};ol.source.TileImage.prototype.getTileCacheForProjection=function(a){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileCacheForProjection.call(this,a)}var b=this.getProjection();if(!b||ol.proj.equivalent(b,a)){return this.tileCache}else{var c=ol.getUid(a).toString();if(!(c in this.tileCacheForProjection)){this.tileCacheForProjection[c]=new ol.TileCache}return this.tileCacheForProjection[c]}};ol.source.TileImage.prototype.createTile_=function(a,b,c,d,e,f){var g=[a,b,c];var h=this.getTileCoordForTileUrlFunction(g,e);var i=h?this.tileUrlFunction(h,d,e):undefined;var j=new this.tileClass(g,i!==undefined?ol.Tile.State.IDLE:ol.Tile.State.EMPTY,i!==undefined?i:"",this.crossOrigin,this.tileLoadFunction);j.key=f;ol.events.listen(j,ol.events.EventType.CHANGE,this.handleTileChange,this);return j};ol.source.TileImage.prototype.getTile=function(a,b,c,d,e){if(!ol.ENABLE_RASTER_REPROJECTION||!this.getProjection()||!e||ol.proj.equivalent(this.getProjection(),e)){return this.getTileInternal(a,b,c,d,e)}else{var f=this.getTileCacheForProjection(e);var g=[a,b,c];var h;var i=this.getKeyZXY.apply(this,g);if(f.containsKey(i)){h=f.get(i)}var j=this.getKey();if(h&&h.key==j){return h}else{var k=this.getProjection();var l=this.getTileGridForProjection(k);var m=this.getTileGridForProjection(e);var n=this.getTileCoordForTileUrlFunction(g,e);var o=new ol.reproj.Tile(k,l,e,m,g,n,this.getTilePixelRatio(d),this.getGutterInternal(),function(a,b,c,d){return this.getTileInternal(a,b,c,d,k)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);o.key=j;if(h){o.interimTile=h;f.replace(i,o)}else{f.set(i,o)}return o}}};ol.source.TileImage.prototype.getTileInternal=function(a,b,c,d,e){var f=null;var g=this.getKeyZXY(a,b,c);var h=this.getKey();if(!this.tileCache.containsKey(g)){f=this.createTile_(a,b,c,d,e,h);this.tileCache.set(g,f)}else{f=this.tileCache.get(g);if(f.key!=h){var i=f;if(f.interimTile&&f.interimTile.key==h){goog.DEBUG&&console.assert(f.interimTile.getState()==ol.Tile.State.LOADED);goog.DEBUG&&console.assert(f.interimTile.interimTile===null);f=f.interimTile;if(i.getState()==ol.Tile.State.LOADED){f.interimTile=i}}else{f=this.createTile_(a,b,c,d,e,h);if(i.getState()==ol.Tile.State.LOADED){f.interimTile=i}else if(i.interimTile&&i.interimTile.getState()==ol.Tile.State.LOADED){f.interimTile=i.interimTile;i.interimTile=null}}if(f.interimTile){f.interimTile.interimTile=null}this.tileCache.replace(g,f)}}return f};ol.source.TileImage.prototype.setRenderReprojectionEdges=function(a){if(!ol.ENABLE_RASTER_REPROJECTION||this.renderReprojectionEdges_==a){return}this.renderReprojectionEdges_=a;for(var b in this.tileCacheForProjection){this.tileCacheForProjection[b].clear()}this.changed()};ol.source.TileImage.prototype.setTileGridForProjection=function(a,b){if(ol.ENABLE_RASTER_REPROJECTION){var c=ol.proj.get(a);if(c){var d=ol.getUid(c).toString();if(!(d in this.tileGridForProjection)){this.tileGridForProjection[d]=b}}}};ol.source.TileImage.defaultTileLoadFunction=function(a,b){a.getImage().src=b};goog.provide("ol.source.BingMaps");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.TileUrlFunction");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.TileImage");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.BingMaps=function(a){ol.source.TileImage.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:true,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:a.tileLoadFunction,wrapX:a.wrapX!==undefined?a.wrapX:true});this.culture_=a.culture!==undefined?a.culture:"en-us";this.maxZoom_=a.maxZoom!==undefined?a.maxZoom:-1;var b="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+a.imagerySet+"?uriScheme=https&include=ImageryProviders&key="+a.key;ol.net.jsonp(b,this.handleImageryMetadataResponse.bind(this),undefined,"jsonp")};ol.inherits(ol.source.BingMaps,ol.source.TileImage);ol.source.BingMaps.TOS_ATTRIBUTION=new ol.Attribution({html:'<a class="ol-attribution-bing-tos" '+'href="http://www.microsoft.com/maps/product/terms.html">'+"Terms of Use</a>"});ol.source.BingMaps.prototype.handleImageryMetadataResponse=function(a){if(a.statusCode!=200||a.statusDescription!="OK"||a.authenticationResultCode!="ValidCredentials"||a.resourceSets.length!=1||a.resourceSets[0].resources.length!=1){this.setState(ol.source.State.ERROR);return}var b=a.brandLogoUri;if(b.indexOf("https")==-1){b=b.replace("http","https")}var c=a.resourceSets[0].resources[0];goog.DEBUG&&console.assert(c.imageWidth==c.imageHeight,"resource has imageWidth equal to imageHeight, i.e. is square");var d=this.maxZoom_==-1?c.zoomMax:this.maxZoom_;var e=this.getProjection();var f=ol.tilegrid.extentFromProjection(e);var g=c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight];var h=ol.tilegrid.createXYZ({extent:f,minZoom:c.zoomMin,maxZoom:d,tileSize:g});this.tileGrid=h;var i=this.culture_;this.tileUrlFunction=ol.TileUrlFunction.createFromTileUrlFunctions(c.imageUrlSubdomains.map((function(a){var b=[0,0,0];var d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",i);return function(a,c,f){goog.DEBUG&&console.assert(ol.proj.equivalent(f,e),"projections are equivalent");if(!a){return undefined}else{ol.tilecoord.createOrUpdate(a[0],a[1],-a[2]-1,b);return d.replace("{quadkey}",ol.tilecoord.quadKey(b))}}})));if(c.imageryProviders){var j=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),this.getProjection());var k=c.imageryProviders.map((function(a){var b=a.attribution;var c={};a.coverageAreas.forEach((function(a){var b=a.zoomMin;var e=Math.min(a.zoomMax,d);var f=a.bbox;var g=[f[1],f[0],f[3],f[2]];var i=ol.extent.applyTransform(g,j);var k,l,m;for(l=b;l<=e;++l){m=l.toString();k=h.getTileRangeForExtentAndZ(i,l);if(m in c){c[m].push(k)}else{c[m]=[k]}}}));return new ol.Attribution({html:b,tileRanges:c})}));k.push(ol.source.BingMaps.TOS_ATTRIBUTION);this.setAttributions(k)}this.setLogo(b);this.setState(ol.source.State.READY)};goog.provide("ol.source.XYZ");goog.require("ol");goog.require("ol.source.TileImage");goog.require("ol.tilegrid");ol.source.XYZ=function(a){var b=a||{};var c=b.projection!==undefined?b.projection:"EPSG:3857";var d=b.tileGrid!==undefined?b.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(c),maxZoom:b.maxZoom,minZoom:b.minZoom,tileSize:b.tileSize});ol.source.TileImage.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,logo:b.logo,opaque:b.opaque,projection:c,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileGrid:d,tileLoadFunction:b.tileLoadFunction,tilePixelRatio:b.tilePixelRatio,tileUrlFunction:b.tileUrlFunction,url:b.url,urls:b.urls,wrapX:b.wrapX!==undefined?b.wrapX:true})};ol.inherits(ol.source.XYZ,ol.source.TileImage);goog.provide("ol.source.CartoDB");goog.require("ol");goog.require("ol.obj");goog.require("ol.source.State");goog.require("ol.source.XYZ");ol.source.CartoDB=function(a){this.account_=a.account;this.mapId_=a.map||"";this.config_=a.config||{};this.templateCache_={};ol.source.XYZ.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:a.maxZoom!==undefined?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:ol.source.State.LOADING,wrapX:a.wrapX});this.initializeMap_()};ol.inherits(ol.source.CartoDB,ol.source.XYZ);ol.source.CartoDB.prototype.getConfig=function(){return this.config_};ol.source.CartoDB.prototype.updateConfig=function(a){ol.obj.assign(this.config_,a);this.initializeMap_()};ol.source.CartoDB.prototype.setConfig=function(a){this.config_=a||{};this.initializeMap_()};ol.source.CartoDB.prototype.initializeMap_=function(){var a=JSON.stringify(this.config_);if(this.templateCache_[a]){this.applyTemplate_(this.templateCache_[a]);return}var b="https://"+this.account_+".cartodb.com/api/v1/map";if(this.mapId_){b+="/named/"+this.mapId_}var c=new XMLHttpRequest;c.addEventListener("load",this.handleInitResponse_.bind(this,a));c.addEventListener("error",this.handleInitError_.bind(this));c.open("POST",b);c.setRequestHeader("Content-type","application/json");c.send(JSON.stringify(this.config_))};ol.source.CartoDB.prototype.handleInitResponse_=function(a,b){var c=b.target;if(!c.status||c.status>=200&&c.status<300){var d;try{d=JSON.parse(c.responseText)}catch(e){this.setState(ol.source.State.ERROR);return}this.applyTemplate_(d);this.templateCache_[a]=d;this.setState(ol.source.State.READY)}else{this.setState(ol.source.State.ERROR)}};ol.source.CartoDB.prototype.handleInitError_=function(a){this.setState(ol.source.State.ERROR)};ol.source.CartoDB.prototype.applyTemplate_=function(a){var b="https://"+a.cdn_url.https+"/"+this.account_+"/api/v1/map/"+a.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(b)};goog.provide("ol.source.Cluster");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.coordinate");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.geom.Point");goog.require("ol.source.Vector");ol.source.Cluster=function(a){ol.source.Vector.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX});this.resolution_=undefined;this.distance_=a.distance!==undefined?a.distance:20;this.features_=[];this.geometryFunction_=a.geometryFunction||function(a){var b=a.getGeometry();ol.asserts.assert(b instanceof ol.geom.Point,10);return b};this.source_=a.source;this.source_.on(ol.events.EventType.CHANGE,ol.source.Cluster.prototype.refresh_,this)};ol.inherits(ol.source.Cluster,ol.source.Vector);ol.source.Cluster.prototype.getSource=function(){return this.source_};ol.source.Cluster.prototype.loadFeatures=function(a,b,c){this.source_.loadFeatures(a,b,c);if(b!==this.resolution_){this.clear();this.resolution_=b;this.cluster_();this.addFeatures(this.features_)}};ol.source.Cluster.prototype.setDistance=function(a){this.distance_=a;this.refresh_()};ol.source.Cluster.prototype.refresh_=function(){this.clear();this.cluster_();this.addFeatures(this.features_);this.changed()};ol.source.Cluster.prototype.cluster_=function(){if(this.resolution_===undefined){return}this.features_.length=0;var a=ol.extent.createEmpty();var b=this.distance_*this.resolution_;var c=this.source_.getFeatures();var d={};for(var e=0,f=c.length;e<f;e++){var g=c[e];if(!(ol.getUid(g).toString()in d)){var h=this.geometryFunction_(g);if(h){var i=h.getCoordinates();ol.extent.createOrUpdateFromCoordinate(i,a);ol.extent.buffer(a,b,a);var j=this.source_.getFeaturesInExtent(a);goog.DEBUG&&console.assert(j.length>=1,"at least one neighbor found");j=j.filter((function(a){var b=ol.getUid(a).toString();if(!(b in d)){d[b]=true;return true}else{return false}}));this.features_.push(this.createCluster_(j))}}}goog.DEBUG&&console.assert(Object.keys(d).length==this.source_.getFeatures().length,"number of clustered equals number of features in the source")};ol.source.Cluster.prototype.createCluster_=function(a){var b=[0,0];for(var c=a.length-1;c>=0;--c){var d=this.geometryFunction_(a[c]);if(d){ol.coordinate.add(b,d.getCoordinates())}else{a.splice(c,1)}}ol.coordinate.scale(b,1/a.length);var e=new ol.Feature(new ol.geom.Point(b));e.set("features",a);return e};goog.provide("ol.uri");ol.uri.appendParams=function(a,b){var c=[];Object.keys(b).forEach((function(a){if(b[a]!==null&&b[a]!==undefined){c.push(a+"="+encodeURIComponent(b[a]))}}));var d=c.join("&");a=a.replace(/[?&]$/,"");a=a.indexOf("?")===-1?a+"?":a+"&";return a+d};goog.provide("ol.source.ImageArcGISRest");goog.require("ol");goog.require("ol.Image");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.source.Image");goog.require("ol.uri");ol.source.ImageArcGISRest=function(a){var b=a||{};ol.source.Image.call(this,{attributions:b.attributions,logo:b.logo,projection:b.projection,resolutions:b.resolutions});this.crossOrigin_=b.crossOrigin!==undefined?b.crossOrigin:null;this.url_=b.url;this.imageLoadFunction_=b.imageLoadFunction!==undefined?b.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=b.params||{};this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=b.ratio!==undefined?b.ratio:1.5};ol.inherits(ol.source.ImageArcGISRest,ol.source.Image);ol.source.ImageArcGISRest.prototype.getParams=function(){return this.params_};ol.source.ImageArcGISRest.prototype.getImageInternal=function(a,b,c,d){if(this.url_===undefined){return null}b=this.findNearestResolution(b);var e=this.image_;if(e&&this.renderedRevision_==this.getRevision()&&e.getResolution()==b&&e.getPixelRatio()==c&&ol.extent.containsExtent(e.getExtent(),a)){return e}var f={F:"image",FORMAT:"PNG32",TRANSPARENT:true};ol.obj.assign(f,this.params_);a=a.slice();var g=(a[0]+a[2])/2;var h=(a[1]+a[3])/2;if(this.ratio_!=1){var i=this.ratio_*ol.extent.getWidth(a)/2;var j=this.ratio_*ol.extent.getHeight(a)/2;a[0]=g-i;a[1]=h-j;a[2]=g+i;a[3]=h+j}var k=b/c;var l=Math.ceil(ol.extent.getWidth(a)/k);var m=Math.ceil(ol.extent.getHeight(a)/k);a[0]=g-k*l/2;a[2]=g+k*l/2;a[1]=h-k*m/2;a[3]=h+k*m/2;this.imageSize_[0]=l;this.imageSize_[1]=m;var n=this.getRequestUrl_(a,this.imageSize_,c,d,f);this.image_=new ol.Image(a,b,c,this.getAttributions(),n,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageArcGISRest.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageArcGISRest.prototype.getRequestUrl_=function(a,b,c,d,e){goog.DEBUG&&console.assert(this.url_!==undefined,"url is defined");var f=d.getCode().split(":").pop();e["SIZE"]=b[0]+","+b[1];e["BBOX"]=a.join(",");e["BBOXSR"]=f;e["IMAGESR"]=f;e["DPI"]=90*c;var g=this.url_;var h=g.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");if(h==g){ol.asserts.assert(false,50)}return ol.uri.appendParams(h,e)};ol.source.ImageArcGISRest.prototype.getUrl=function(){return this.url_};ol.source.ImageArcGISRest.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};ol.source.ImageArcGISRest.prototype.setUrl=function(a){if(a!=this.url_){this.url_=a;this.image_=null;this.changed()}};ol.source.ImageArcGISRest.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.image_=null;this.changed()};goog.provide("ol.source.ImageMapGuide");goog.require("ol");goog.require("ol.Image");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.source.Image");goog.require("ol.uri");ol.source.ImageMapGuide=function(a){ol.source.Image.call(this,{projection:a.projection,resolutions:a.resolutions});this.crossOrigin_=a.crossOrigin!==undefined?a.crossOrigin:null;this.displayDpi_=a.displayDpi!==undefined?a.displayDpi:96;this.params_=a.params||{};this.url_=a.url;this.imageLoadFunction_=a.imageLoadFunction!==undefined?a.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.hidpi_=a.hidpi!==undefined?a.hidpi:true;this.metersPerUnit_=a.metersPerUnit!==undefined?a.metersPerUnit:1;this.ratio_=a.ratio!==undefined?a.ratio:1;this.useOverlay_=a.useOverlay!==undefined?a.useOverlay:false;this.image_=null;this.renderedRevision_=0};ol.inherits(ol.source.ImageMapGuide,ol.source.Image);ol.source.ImageMapGuide.prototype.getParams=function(){return this.params_};ol.source.ImageMapGuide.prototype.getImageInternal=function(a,b,c,d){b=this.findNearestResolution(b);c=this.hidpi_?c:1;var e=this.image_;if(e&&this.renderedRevision_==this.getRevision()&&e.getResolution()==b&&e.getPixelRatio()==c&&ol.extent.containsExtent(e.getExtent(),a)){return e}if(this.ratio_!=1){a=a.slice();ol.extent.scaleFromCenter(a,this.ratio_)}var f=ol.extent.getWidth(a)/b;var g=ol.extent.getHeight(a)/b;var h=[f*c,g*c];if(this.url_!==undefined){var i=this.getUrl(this.url_,this.params_,a,h,d);e=new ol.Image(a,b,c,this.getAttributions(),i,this.crossOrigin_,this.imageLoadFunction_);ol.events.listen(e,ol.events.EventType.CHANGE,this.handleImageChange,this)}else{e=null}this.image_=e;this.renderedRevision_=this.getRevision();return e};ol.source.ImageMapGuide.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageMapGuide.getScale=function(a,b,c,d){var e=ol.extent.getWidth(a);var f=ol.extent.getHeight(a);var g=b[0];var h=b[1];var i=.0254/d;if(h*e>g*f){return e*c/(g*i)}else{return f*c/(h*i)}};ol.source.ImageMapGuide.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.changed()};ol.source.ImageMapGuide.prototype.getUrl=function(a,b,c,d,e){var f=ol.source.ImageMapGuide.getScale(c,d,this.metersPerUnit_,this.displayDpi_);var g=ol.extent.getCenter(c);var h={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(d[0]),SETDISPLAYHEIGHT:Math.round(d[1]),SETVIEWSCALE:f,SETVIEWCENTERX:g[0],SETVIEWCENTERY:g[1]};ol.obj.assign(h,b);return ol.uri.appendParams(a,h)};ol.source.ImageMapGuide.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};goog.provide("ol.source.ImageStatic");goog.require("ol");goog.require("ol.Image");goog.require("ol.ImageState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.source.Image");ol.source.ImageStatic=function(a){var b=a.imageExtent;var c=a.crossOrigin!==undefined?a.crossOrigin:null;var d=a.imageLoadFunction!==undefined?a.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;ol.source.Image.call(this,{attributions:a.attributions,logo:a.logo,projection:ol.proj.get(a.projection)});this.image_=new ol.Image(b,undefined,1,this.getAttributions(),a.url,c,d);this.imageSize_=a.imageSize?a.imageSize:null;ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this)};ol.inherits(ol.source.ImageStatic,ol.source.Image);ol.source.ImageStatic.prototype.getImageInternal=function(a,b,c,d){if(ol.extent.intersects(a,this.image_.getExtent())){return this.image_}return null};ol.source.ImageStatic.prototype.handleImageChange=function(a){if(this.image_.getState()==ol.ImageState.LOADED){var b=this.image_.getExtent();var c=this.image_.getImage();var d,e;if(this.imageSize_){d=this.imageSize_[0];e=this.imageSize_[1]}else{d=c.width;e=c.height}var f=ol.extent.getHeight(b)/e;var g=Math.ceil(ol.extent.getWidth(b)/f);if(g!=d){var h=ol.dom.createCanvasContext2D(g,e);var i=h.canvas;h.drawImage(c,0,0,d,e,0,0,i.width,i.height);this.image_.setImage(i)}}ol.source.Image.prototype.handleImageChange.call(this,a)};goog.provide("ol.source.wms");goog.provide("ol.source.wms.ServerType");ol.source.wms.ServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};goog.provide("ol.source.ImageWMS");goog.require("ol");goog.require("ol.Image");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.source.Image");goog.require("ol.source.wms.ServerType");goog.require("ol.string");goog.require("ol.uri");ol.source.ImageWMS=function(a){var b=a||{};ol.source.Image.call(this,{attributions:b.attributions,logo:b.logo,projection:b.projection,resolutions:b.resolutions});this.crossOrigin_=b.crossOrigin!==undefined?b.crossOrigin:null;this.url_=b.url;this.imageLoadFunction_=b.imageLoadFunction!==undefined?b.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=b.params||{};this.v13_=true;this.updateV13_();this.serverType_=b.serverType;this.hidpi_=b.hidpi!==undefined?b.hidpi:true;this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=b.ratio!==undefined?b.ratio:1.5};ol.inherits(ol.source.ImageWMS,ol.source.Image);ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_=[101,101];ol.source.ImageWMS.prototype.getGetFeatureInfoUrl=function(a,b,c,d){goog.DEBUG&&console.assert(!("VERSION"in d),"key VERSION is not allowed in params");if(this.url_===undefined){return undefined}var e=ol.extent.getForViewAndSize(a,b,0,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_);var f={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};ol.obj.assign(f,this.params_,d);var g=Math.floor((a[0]-e[0])/b);var h=Math.floor((e[3]-a[1])/b);f[this.v13_?"I":"X"]=g;f[this.v13_?"J":"Y"]=h;return this.getRequestUrl_(e,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,1,ol.proj.get(c),f)};ol.source.ImageWMS.prototype.getParams=function(){return this.params_};ol.source.ImageWMS.prototype.getImageInternal=function(a,b,c,d){if(this.url_===undefined){return null}b=this.findNearestResolution(b);if(c!=1&&(!this.hidpi_||this.serverType_===undefined)){c=1}a=a.slice();var e=(a[0]+a[2])/2;var f=(a[1]+a[3])/2;var g=b/c;var h=ol.extent.getWidth(a)/g;var i=ol.extent.getHeight(a)/g;var j=this.image_;if(j&&this.renderedRevision_==this.getRevision()&&j.getResolution()==b&&j.getPixelRatio()==c&&ol.extent.containsExtent(j.getExtent(),a)){return j}if(this.ratio_!=1){var k=this.ratio_*ol.extent.getWidth(a)/2;var l=this.ratio_*ol.extent.getHeight(a)/2;a[0]=e-k;a[1]=f-l;a[2]=e+k;a[3]=f+l}var m={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};ol.obj.assign(m,this.params_);this.imageSize_[0]=Math.ceil(h*this.ratio_);this.imageSize_[1]=Math.ceil(i*this.ratio_);var n=this.getRequestUrl_(a,this.imageSize_,c,d,m);this.image_=new ol.Image(a,b,c,this.getAttributions(),n,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageWMS.prototype.getRequestUrl_=function(a,b,c,d,e){ol.asserts.assert(this.url_!==undefined,9);e[this.v13_?"CRS":"SRS"]=d.getCode();if(!("STYLES"in this.params_)){e["STYLES"]=""}if(c!=1){switch(this.serverType_){case ol.source.wms.ServerType.GEOSERVER:var f=90*c+.5|0;if("FORMAT_OPTIONS"in e){e["FORMAT_OPTIONS"]+=";dpi:"+f}else{e["FORMAT_OPTIONS"]="dpi:"+f}break;case ol.source.wms.ServerType.MAPSERVER:e["MAP_RESOLUTION"]=90*c;break;case ol.source.wms.ServerType.CARMENTA_SERVER:case ol.source.wms.ServerType.QGIS:e["DPI"]=90*c;break;default:ol.asserts.assert(false,8);break}}e["WIDTH"]=b[0];e["HEIGHT"]=b[1];var g=d.getAxisOrientation();var h;if(this.v13_&&g.substr(0,2)=="ne"){h=[a[1],a[0],a[3],a[2]]}else{h=a}e["BBOX"]=h.join(",");return ol.uri.appendParams(this.url_,e)};ol.source.ImageWMS.prototype.getUrl=function(){return this.url_};ol.source.ImageWMS.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};ol.source.ImageWMS.prototype.setUrl=function(a){if(a!=this.url_){this.url_=a;this.image_=null;this.changed()}};ol.source.ImageWMS.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.updateV13_();this.image_=null;this.changed()};ol.source.ImageWMS.prototype.updateV13_=function(){var a=this.params_["VERSION"]||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(a,"1.3")>=0};goog.provide("ol.source.OSM");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.source.XYZ");ol.source.OSM=function(a){var b=a||{};var c;if(b.attributions!==undefined){c=b.attributions}else{c=[ol.source.OSM.ATTRIBUTION]}var d=b.crossOrigin!==undefined?b.crossOrigin:"anonymous";var e=b.url!==undefined?b.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";ol.source.XYZ.call(this,{attributions:c,cacheSize:b.cacheSize,crossOrigin:d,opaque:b.opaque!==undefined?b.opaque:true,maxZoom:b.maxZoom!==undefined?b.maxZoom:19,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileLoadFunction:b.tileLoadFunction,url:e,wrapX:b.wrapX})};ol.inherits(ol.source.OSM,ol.source.XYZ);ol.source.OSM.ATTRIBUTION=new ol.Attribution({html:"&copy; "+'<a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> '+"contributors."});goog.provide("ol.ext.pixelworks");ol.ext.pixelworks;(function(){var a={};var b={exports:a};var c;(function(d){if(typeof a==="object"&&typeof b!=="undefined"){b.exports=d()}else if(typeof c==="function"&&c.amd){c([],d)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.pixelworks=d()}})((function(){var a,b,c;return (function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i=typeof require=="function"&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,(function(b){var c=a[g][1][b];return e(c?c:b)}),k,k.exports,d,a,b,c)}return b[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<c.length;g++)e(c[g]);return e})({1:[function(a,b,c){var d=a("./processor");c.Processor=d},{"./processor":2}],2:[function(a,b,c){var d=a("./util").newImageData;function e(a){var b=true;try{new ImageData(10,10)}catch(c){b=false}function d(a,c,d){if(b){return new ImageData(a,c,d)}else{return{data:a,width:c,height:d}}}return function(b){var c=b["buffers"];var e=b["meta"];var f=b["imageOps"];var g=b["width"];var h=b["height"];var i=c.length;var j=c[0].byteLength;var k,l;if(f){var m=new Array(i);for(l=0;l<i;++l){m[l]=d(new Uint8ClampedArray(c[l]),g,h)}k=a(m,e).data}else{k=new Uint8ClampedArray(j);var n=new Array(i);var o=new Array(i);for(l=0;l<i;++l){n[l]=new Uint8ClampedArray(c[l]);o[l]=[0,0,0,0]}for(var p=0;p<j;p+=4){for(var q=0;q<i;++q){var r=n[q];o[q][0]=r[p];o[q][1]=r[p+1];o[q][2]=r[p+2];o[q][3]=r[p+3]}var s=a(o,e);k[p]=s[0];k[p+1]=s[1];k[p+2]=s[2];k[p+3]=s[3]}}return k.buffer}}function f(a,b){var c=Object.keys(a.lib||{}).map((function(b){return"var "+b+" = "+a.lib[b].toString()+";"}));var d=c.concat(["var __minion__ = ("+e.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);var f=new Blob(d,{type:"text/javascript"});var g=URL.createObjectURL(f);var h=new Worker(g);h.addEventListener("message",b);return h}function g(a,b){var c=e(a.operation);return{postMessage:function(a){setTimeout((function(){b({data:{buffer:c(a),meta:a["meta"]}})}),0)}}}function h(a){this._imageOps=!!a.imageOps;var b;if(a.threads===0){b=0}else if(this._imageOps){b=1}else{b=a.threads||1}var c=[];if(b){for(var d=0;d<b;++d){c[d]=f(a,this._onWorkerMessage.bind(this,d))}}else{c[0]=g(a,this._onWorkerMessage.bind(this,0))}this._workers=c;this._queue=[];this._maxQueueLength=a.queue||Infinity;this._running=0;this._dataLookup={};this._job=null}h.prototype.process=function(a,b,c){this._enqueue({inputs:a,meta:b,callback:c});this._dispatch()};h.prototype.destroy=function(){for(var a in this){this[a]=null}this._destroyed=true};h.prototype._enqueue=function(a){this._queue.push(a);while(this._queue.length>this._maxQueueLength){this._queue.shift().callback(null,null)}};h.prototype._dispatch=function(){if(this._running===0&&this._queue.length>0){var a=this._job=this._queue.shift();var b=a.inputs[0].width;var c=a.inputs[0].height;var d=a.inputs.map((function(a){return a.data.buffer}));var e=this._workers.length;this._running=e;if(e===1){this._workers[0].postMessage({buffers:d,meta:a.meta,imageOps:this._imageOps,width:b,height:c},d)}else{var f=a.inputs[0].data.length;var g=4*Math.ceil(f/4/e);for(var h=0;h<e;++h){var i=h*g;var j=[];for(var k=0,l=d.length;k<l;++k){j.push(d[h].slice(i,i+g))}this._workers[h].postMessage({buffers:j,meta:a.meta,imageOps:this._imageOps,width:b,height:c},j)}}}};h.prototype._onWorkerMessage=function(a,b){if(this._destroyed){return}this._dataLookup[a]=b.data;--this._running;if(this._running===0){this._resolveJob()}};h.prototype._resolveJob=function(){var a=this._job;var b=this._workers.length;var c,e;if(b===1){c=new Uint8ClampedArray(this._dataLookup[0]["buffer"]);e=this._dataLookup[0]["meta"]}else{var f=a.inputs[0].data.length;c=new Uint8ClampedArray(f);e=new Array(f);var g=4*Math.ceil(f/4/b);for(var h=0;h<b;++h){var i=this._dataLookup[h]["buffer"];var j=h*g;c.set(new Uint8ClampedArray(i),j);e[h]=this._dataLookup[h]["meta"]}}this._job=null;this._dataLookup={};a.callback(null,d(c,a.inputs[0].width,a.inputs[0].height),e);this._dispatch()};b.exports=h},{"./util":3}],3:[function(a,b,c){var d=true;try{new ImageData(10,10)}catch(e){d=false}var f=document.createElement("canvas").getContext("2d");function g(a,b,c){if(d){return new ImageData(a,b,c)}else{var e=f.createImageData(b,c);e.data.set(a);return e}}c.newImageData=g},{}]},{},[1])(1)}));ol.ext.pixelworks=b.exports})();goog.provide("ol.source.Raster");goog.provide("ol.RasterOperationType");goog.provide("ol.source.RasterEvent");goog.provide("ol.source.RasterEventType");goog.require("ol");goog.require("ol.transform");goog.require("ol.ImageCanvas");goog.require("ol.TileQueue");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.ext.pixelworks");goog.require("ol.extent");goog.require("ol.layer.Image");goog.require("ol.layer.Tile");goog.require("ol.obj");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.source.Image");goog.require("ol.source.State");goog.require("ol.source.Tile");ol.RasterOperationType={PIXEL:"pixel",IMAGE:"image"};ol.source.Raster=function(a){this.worker_=null;this.operationType_=a.operationType!==undefined?a.operationType:ol.RasterOperationType.PIXEL;this.threads_=a.threads!==undefined?a.threads:1;this.renderers_=ol.source.Raster.createRenderers_(a.sources);for(var b=0,c=this.renderers_.length;b<c;++b){ol.events.listen(this.renderers_[b],ol.events.EventType.CHANGE,this.changed,this)}this.canvasContext_=ol.dom.createCanvasContext2D();this.tileQueue_=new ol.TileQueue(function(){return 1},this.changed.bind(this));var d=ol.source.Raster.getLayerStatesArray_(this.renderers_);var e={};for(var f=0,g=d.length;f<g;++f){e[ol.getUid(d[f].layer)]=d[f]}this.renderedState_=null;this.renderedImageCanvas_=null;this.frameState_={animate:false,attributions:{},coordinateToPixelTransform:ol.transform.create(),extent:null,focus:null,index:0,layerStates:e,layerStatesArray:d,logos:{},pixelRatio:1,pixelToCoordinateTransform:ol.transform.create(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};ol.source.Image.call(this,{});if(a.operation!==undefined){this.setOperation(a.operation,a.lib)}};ol.inherits(ol.source.Raster,ol.source.Image);ol.source.Raster.prototype.setOperation=function(a,b){this.worker_=new ol.ext.pixelworks.Processor({operation:a,imageOps:this.operationType_===ol.RasterOperationType.IMAGE,
queue:1,lib:b,threads:this.threads_});this.changed()};ol.source.Raster.prototype.updateFrameState_=function(a,b,c){var d=ol.obj.assign({},this.frameState_);d.viewState=ol.obj.assign({},d.viewState);var e=ol.extent.getCenter(a);var f=Math.round(ol.extent.getWidth(a)/b);var g=Math.round(ol.extent.getHeight(a)/b);d.extent=a;d.focus=ol.extent.getCenter(a);d.size[0]=f;d.size[1]=g;var h=d.viewState;h.center=e;h.projection=c;h.resolution=b;return d};ol.source.Raster.prototype.isDirty_=function(a,b){var c=this.renderedState_;return!c||this.getRevision()!==c.revision||b!==c.resolution||!ol.extent.equals(a,c.extent)};ol.source.Raster.prototype.getImage=function(a,b,c,d){if(!this.allSourcesReady_()){return null}var e=a.slice();if(!this.isDirty_(e,b)){return this.renderedImageCanvas_}var f=this.canvasContext_;var g=f.canvas;var h=Math.round(ol.extent.getWidth(e)/b);var i=Math.round(ol.extent.getHeight(e)/b);if(h!==g.width||i!==g.height){g.width=h;g.height=i}var j=this.updateFrameState_(e,b,d);var k=new ol.ImageCanvas(e,b,1,this.getAttributions(),g,this.composeFrame_.bind(this,j));this.renderedImageCanvas_=k;this.renderedState_={extent:e,resolution:b,revision:this.getRevision()};return k};ol.source.Raster.prototype.allSourcesReady_=function(){var a=true;var b;for(var c=0,d=this.renderers_.length;c<d;++c){b=this.renderers_[c].getLayer().getSource();if(b.getState()!==ol.source.State.READY){a=false;break}}return a};ol.source.Raster.prototype.composeFrame_=function(a,b){var c=this.renderers_.length;var d=new Array(c);for(var e=0;e<c;++e){var f=ol.source.Raster.getImageData_(this.renderers_[e],a,a.layerStatesArray[e]);if(f){d[e]=f}else{return}}var g={};this.dispatchEvent(new ol.source.RasterEvent(ol.source.RasterEventType.BEFOREOPERATIONS,a,g));this.worker_.process(d,g,this.onWorkerComplete_.bind(this,a,b));a.tileQueue.loadMoreTiles(16,16)};ol.source.Raster.prototype.onWorkerComplete_=function(a,b,c,d,e){if(c){b(c);return}if(!d){return}this.dispatchEvent(new ol.source.RasterEvent(ol.source.RasterEventType.AFTEROPERATIONS,a,e));var f=a.viewState.resolution/a.pixelRatio;if(!this.isDirty_(a.extent,f)){this.canvasContext_.putImageData(d,0,0)}b(null)};ol.source.Raster.getImageData_=function(a,b,c){if(!a.prepareFrame(b,c)){return null}var d=b.size[0];var e=b.size[1];if(!ol.source.Raster.context_){ol.source.Raster.context_=ol.dom.createCanvasContext2D(d,e)}else{var f=ol.source.Raster.context_.canvas;if(f.width!==d||f.height!==e){ol.source.Raster.context_=ol.dom.createCanvasContext2D(d,e)}else{ol.source.Raster.context_.clearRect(0,0,d,e)}}a.composeFrame(b,c,ol.source.Raster.context_);return ol.source.Raster.context_.getImageData(0,0,d,e)};ol.source.Raster.context_=null;ol.source.Raster.getLayerStatesArray_=function(a){return a.map((function(a){return a.getLayer().getLayerState()}))};ol.source.Raster.createRenderers_=function(a){var b=a.length;var c=new Array(b);for(var d=0;d<b;++d){c[d]=ol.source.Raster.createRenderer_(a[d])}return c};ol.source.Raster.createRenderer_=function(a){var b=null;if(a instanceof ol.source.Tile){b=ol.source.Raster.createTileRenderer_(a)}else if(a instanceof ol.source.Image){b=ol.source.Raster.createImageRenderer_(a)}else{goog.DEBUG&&console.assert(false,"Unsupported source type: "+a)}return b};ol.source.Raster.createImageRenderer_=function(a){var b=new ol.layer.Image({source:a});return new ol.renderer.canvas.ImageLayer(b)};ol.source.Raster.createTileRenderer_=function(a){var b=new ol.layer.Tile({source:a});return new ol.renderer.canvas.TileLayer(b)};ol.source.RasterEvent=function(a,b,c){ol.events.Event.call(this,a);this.extent=b.extent;this.resolution=b.viewState.resolution/b.pixelRatio;this.data=c};ol.inherits(ol.source.RasterEvent,ol.events.Event);ol.source.RasterEventType={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};goog.provide("ol.source.Stamen");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.source.OSM");goog.require("ol.source.XYZ");ol.source.StamenLayerConfig={terrain:{extension:"jpg",opaque:true},"terrain-background":{extension:"jpg",opaque:true},"terrain-labels":{extension:"png",opaque:false},"terrain-lines":{extension:"png",opaque:false},"toner-background":{extension:"png",opaque:true},toner:{extension:"png",opaque:true},"toner-hybrid":{extension:"png",opaque:false},"toner-labels":{extension:"png",opaque:false},"toner-lines":{extension:"png",opaque:false},"toner-lite":{extension:"png",opaque:true},watercolor:{extension:"jpg",opaque:true}};ol.source.StamenProviderConfig={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};ol.source.Stamen=function(a){var b=a.layer.indexOf("-");var c=b==-1?a.layer:a.layer.slice(0,b);goog.DEBUG&&console.assert(c in ol.source.StamenProviderConfig,"known provider configured");var d=ol.source.StamenProviderConfig[c];goog.DEBUG&&console.assert(a.layer in ol.source.StamenLayerConfig,"known layer configured");var e=ol.source.StamenLayerConfig[a.layer];var f=a.url!==undefined?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+e.extension;ol.source.XYZ.call(this,{attributions:ol.source.Stamen.ATTRIBUTIONS,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:a.maxZoom!=undefined?a.maxZoom:d.maxZoom,minZoom:a.minZoom!=undefined?a.minZoom:d.minZoom,opaque:e.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:f})};ol.inherits(ol.source.Stamen,ol.source.XYZ);ol.source.Stamen.ATTRIBUTIONS=[new ol.Attribution({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, '+'under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY'+" 3.0</a>."}),ol.source.OSM.ATTRIBUTION];goog.provide("ol.source.TileArcGISRest");goog.require("ol");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.tilecoord");goog.require("ol.uri");ol.source.TileArcGISRest=function(a){var b=a||{};ol.source.TileImage.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,logo:b.logo,projection:b.projection,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileGrid:b.tileGrid,tileLoadFunction:b.tileLoadFunction,url:b.url,urls:b.urls,wrapX:b.wrapX!==undefined?b.wrapX:true});this.params_=b.params||{};this.tmpExtent_=ol.extent.createEmpty()};ol.inherits(ol.source.TileArcGISRest,ol.source.TileImage);ol.source.TileArcGISRest.prototype.getParams=function(){return this.params_};ol.source.TileArcGISRest.prototype.getRequestUrl_=function(a,b,c,d,e,f){var g=this.urls;if(!g){return undefined}var h=e.getCode().split(":").pop();f["SIZE"]=b[0]+","+b[1];f["BBOX"]=c.join(",");f["BBOXSR"]=h;f["IMAGESR"]=h;f["DPI"]=Math.round(f["DPI"]?f["DPI"]*d:90*d);var i;if(g.length==1){i=g[0]}else{var j=ol.math.modulo(ol.tilecoord.hash(a),g.length);i=g[j]}var k=i.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");if(k==i){ol.asserts.assert(false,50)}return ol.uri.appendParams(k,f)};ol.source.TileArcGISRest.prototype.getTilePixelRatio=function(a){return a};ol.source.TileArcGISRest.prototype.fixedTileUrlFunction=function(a,b,c){var d=this.getTileGrid();if(!d){d=this.getTileGridForProjection(c)}if(d.getResolutions().length<=a[0]){return undefined}var e=d.getTileCoordExtent(a,this.tmpExtent_);var f=ol.size.toSize(d.getTileSize(a[0]),this.tmpSize);if(b!=1){f=ol.size.scale(f,b,this.tmpSize)}var g={F:"image",FORMAT:"PNG32",TRANSPARENT:true};ol.obj.assign(g,this.params_);return this.getRequestUrl_(a,f,e,b,c,g)};ol.source.TileArcGISRest.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.changed()};goog.provide("ol.source.TileDebug");goog.require("ol");goog.require("ol.Tile");goog.require("ol.dom");goog.require("ol.size");goog.require("ol.source.Tile");ol.DebugTile_=function(a,b,c){ol.Tile.call(this,a,ol.Tile.State.LOADED);this.tileSize_=b;this.text_=c;this.canvasByContext_={}};ol.inherits(ol.DebugTile_,ol.Tile);ol.DebugTile_.prototype.getImage=function(a){var b=a!==undefined?ol.getUid(a):-1;if(b in this.canvasByContext_){return this.canvasByContext_[b]}else{var c=this.tileSize_;var d=ol.dom.createCanvasContext2D(c[0],c[1]);d.strokeStyle="black";d.strokeRect(.5,.5,c[0]+.5,c[1]+.5);d.fillStyle="black";d.textAlign="center";d.textBaseline="middle";d.font="24px sans-serif";d.fillText(this.text_,c[0]/2,c[1]/2);this.canvasByContext_[b]=d.canvas;return d.canvas}};ol.source.TileDebug=function(a){ol.source.Tile.call(this,{opaque:false,projection:a.projection,tileGrid:a.tileGrid,wrapX:a.wrapX!==undefined?a.wrapX:true})};ol.inherits(ol.source.TileDebug,ol.source.Tile);ol.source.TileDebug.prototype.getTile=function(a,b,c){var d=this.getKeyZXY(a,b,c);if(this.tileCache.containsKey(d)){return this.tileCache.get(d)}else{var e=ol.size.toSize(this.tileGrid.getTileSize(a));var f=[a,b,c];var g=this.getTileCoordForTileUrlFunction(f);var h=!g?"":this.getTileCoordForTileUrlFunction(g).toString();var i=new ol.DebugTile_(f,e,h);this.tileCache.set(d,i);return i}};goog.provide("ol.source.TileJSON");goog.provide("ol.tilejson");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.TileUrlFunction");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.TileImage");goog.require("ol.tilegrid");ol.source.TileJSON=function(a){this.tileJSON_=null;ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:a.tileLoadFunction,wrapX:a.wrapX!==undefined?a.wrapX:true});if(a.jsonp){ol.net.jsonp(a.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else{var b=new XMLHttpRequest;b.addEventListener("load",this.onXHRLoad_.bind(this));b.addEventListener("error",this.onXHRError_.bind(this));b.open("GET",a.url);b.send()}};ol.inherits(ol.source.TileJSON,ol.source.TileImage);ol.source.TileJSON.prototype.onXHRLoad_=function(a){var b=a.target;if(!b.status||b.status>=200&&b.status<300){var c;try{c=JSON.parse(b.responseText)}catch(d){this.handleTileJSONError();return}this.handleTileJSONResponse(c)}else{this.handleTileJSONError()}};ol.source.TileJSON.prototype.onXHRError_=function(a){this.handleTileJSONError()};ol.source.TileJSON.prototype.getTileJSON=function(){return this.tileJSON_};ol.source.TileJSON.prototype.handleTileJSONResponse=function(a){var b=ol.proj.get("EPSG:4326");var c=this.getProjection();var d;if(a.bounds!==undefined){var e=ol.proj.getTransformFromProjections(b,c);d=ol.extent.applyTransform(a.bounds,e)}if(a.scheme!==undefined){goog.DEBUG&&console.assert(a.scheme=="xyz",'tileJSON-scheme is "xyz"')}var f=a.minzoom||0;var g=a.maxzoom||22;var h=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(c),maxZoom:g,minZoom:f});this.tileGrid=h;this.tileUrlFunction=ol.TileUrlFunction.createFromTemplates(a.tiles,h);if(a.attribution!==undefined&&!this.getAttributions()){var i=d!==undefined?d:b.getExtent();var j={};var k,l;for(k=f;k<=g;++k){l=k.toString();j[l]=[h.getTileRangeForExtentAndZ(i,k)]}this.setAttributions([new ol.Attribution({html:a.attribution,tileRanges:j})])}this.tileJSON_=a;this.setState(ol.source.State.READY)};ol.source.TileJSON.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};goog.provide("ol.source.TileUTFGrid");goog.require("goog.async.nextTick");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.Tile");goog.require("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.Tile");goog.require("ol.tilegrid");ol.source.TileUTFGrid=function(a){ol.source.Tile.call(this,{projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING});this.preemptive_=a.preemptive!==undefined?a.preemptive:true;this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction;this.template_=undefined;this.jsonp_=a.jsonp||false;if(a.url){if(this.jsonp_){ol.net.jsonp(a.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else{var b=new XMLHttpRequest;b.addEventListener("load",this.onXHRLoad_.bind(this));b.addEventListener("error",this.onXHRError_.bind(this));b.open("GET",a.url);b.send()}}else if(a.tileJSON){this.handleTileJSONResponse(a.tileJSON)}else{ol.asserts.assert(false,51)}};ol.inherits(ol.source.TileUTFGrid,ol.source.Tile);ol.source.TileUTFGrid.prototype.onXHRLoad_=function(a){var b=a.target;if(!b.status||b.status>=200&&b.status<300){var c;try{c=JSON.parse(b.responseText)}catch(d){this.handleTileJSONError();return}this.handleTileJSONResponse(c)}else{this.handleTileJSONError()}};ol.source.TileUTFGrid.prototype.onXHRError_=function(a){this.handleTileJSONError()};ol.source.TileUTFGrid.prototype.getTemplate=function(){return this.template_};ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution=function(a,b,c,d,e){if(this.tileGrid){var f=this.tileGrid.getTileCoordForCoordAndResolution(a,b);var g=this.getTile(f[0],f[1],f[2],1,this.getProjection());g.forDataAtCoordinate(a,c,d,e)}else{if(e===true){goog.async.nextTick((function(){c.call(d,null)}))}else{c.call(d,null)}}};ol.source.TileUTFGrid.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};ol.source.TileUTFGrid.prototype.handleTileJSONResponse=function(a){var b=ol.proj.get("EPSG:4326");var c=this.getProjection();var d;if(a.bounds!==undefined){var e=ol.proj.getTransformFromProjections(b,c);d=ol.extent.applyTransform(a.bounds,e)}if(a.scheme!==undefined){goog.DEBUG&&console.assert(a.scheme=="xyz",'tileJSON-scheme is "xyz"')}var f=a.minzoom||0;var g=a.maxzoom||22;var h=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(c),maxZoom:g,minZoom:f});this.tileGrid=h;this.template_=a.template;var i=a.grids;if(!i){this.setState(ol.source.State.ERROR);return}this.tileUrlFunction_=ol.TileUrlFunction.createFromTemplates(i,h);if(a.attribution!==undefined){var j=d!==undefined?d:b.getExtent();var k={};var l,m;for(l=f;l<=g;++l){m=l.toString();k[m]=[h.getTileRangeForExtentAndZ(j,l)]}this.setAttributions([new ol.Attribution({html:a.attribution,tileRanges:k})])}this.setState(ol.source.State.READY)};ol.source.TileUTFGrid.prototype.getTile=function(a,b,c,d,e){var f=this.getKeyZXY(a,b,c);if(this.tileCache.containsKey(f)){return this.tileCache.get(f)}else{goog.DEBUG&&console.assert(e,"argument projection is truthy");var g=[a,b,c];var h=this.getTileCoordForTileUrlFunction(g,e);var i=this.tileUrlFunction_(h,d,e);var j=new ol.source.TileUTFGridTile_(g,i!==undefined?ol.Tile.State.IDLE:ol.Tile.State.EMPTY,i!==undefined?i:"",this.tileGrid.getTileCoordExtent(g),this.preemptive_,this.jsonp_);this.tileCache.set(f,j);return j}};ol.source.TileUTFGrid.prototype.useTile=function(a,b,c){var d=this.getKeyZXY(a,b,c);if(this.tileCache.containsKey(d)){this.tileCache.get(d)}};ol.source.TileUTFGridTile_=function(a,b,c,d,e,f){ol.Tile.call(this,a,b);this.src_=c;this.extent_=d;this.preemptive_=e;this.grid_=null;this.keys_=null;this.data_=null;this.jsonp_=f};ol.inherits(ol.source.TileUTFGridTile_,ol.Tile);ol.source.TileUTFGridTile_.prototype.getImage=function(a){return null};ol.source.TileUTFGridTile_.prototype.getData=function(a){if(!this.grid_||!this.keys_){return null}var b=(a[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]);var c=(a[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]);var d=this.grid_[Math.floor((1-c)*this.grid_.length)];if(typeof d!=="string"){return null}var e=d.charCodeAt(Math.floor(b*d.length));if(e>=93){e--}if(e>=35){e--}e-=32;var f=null;if(e in this.keys_){var g=this.keys_[e];if(this.data_&&g in this.data_){f=this.data_[g]}else{f=g}}return f};ol.source.TileUTFGridTile_.prototype.forDataAtCoordinate=function(a,b,c,d){if(this.state==ol.Tile.State.IDLE&&d===true){ol.events.listenOnce(this,ol.events.EventType.CHANGE,(function(d){b.call(c,this.getData(a))}),this);this.loadInternal_()}else{if(d===true){goog.async.nextTick((function(){b.call(c,this.getData(a))}),this)}else{b.call(c,this.getData(a))}}};ol.source.TileUTFGridTile_.prototype.getKey=function(){return this.src_};ol.source.TileUTFGridTile_.prototype.handleError_=function(){this.state=ol.Tile.State.ERROR;this.changed()};ol.source.TileUTFGridTile_.prototype.handleLoad_=function(a){this.grid_=a.grid;this.keys_=a.keys;this.data_=a.data;this.state=ol.Tile.State.EMPTY;this.changed()};ol.source.TileUTFGridTile_.prototype.loadInternal_=function(){if(this.state==ol.Tile.State.IDLE){this.state=ol.Tile.State.LOADING;if(this.jsonp_){ol.net.jsonp(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this))}else{var a=new XMLHttpRequest;a.addEventListener("load",this.onXHRLoad_.bind(this));a.addEventListener("error",this.onXHRError_.bind(this));a.open("GET",this.src_);a.send()}}};ol.source.TileUTFGridTile_.prototype.onXHRLoad_=function(a){var b=a.target;if(!b.status||b.status>=200&&b.status<300){var c;try{c=JSON.parse(b.responseText)}catch(d){this.handleError_();return}this.handleLoad_(c)}else{this.handleError_()}};ol.source.TileUTFGridTile_.prototype.onXHRError_=function(a){this.handleError_()};ol.source.TileUTFGridTile_.prototype.load=function(){if(this.preemptive_){this.loadInternal_()}};goog.provide("ol.source.TileWMS");goog.require("ol");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.source.wms.ServerType");goog.require("ol.tilecoord");goog.require("ol.string");goog.require("ol.uri");ol.source.TileWMS=function(a){var b=a||{};var c=b.params||{};var d="TRANSPARENT"in c?c["TRANSPARENT"]:true;ol.source.TileImage.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,logo:b.logo,opaque:!d,projection:b.projection,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileGrid:b.tileGrid,tileLoadFunction:b.tileLoadFunction,url:b.url,urls:b.urls,wrapX:b.wrapX!==undefined?b.wrapX:true});this.gutter_=b.gutter!==undefined?b.gutter:0;this.params_=c;this.v13_=true;this.serverType_=b.serverType;this.hidpi_=b.hidpi!==undefined?b.hidpi:true;this.coordKeyPrefix_="";this.resetCoordKeyPrefix_();this.tmpExtent_=ol.extent.createEmpty();this.updateV13_();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileWMS,ol.source.TileImage);ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(a,b,c,d){goog.DEBUG&&console.assert(!("VERSION"in d),"key VERSION is not allowed in params");var e=ol.proj.get(c);var f=this.getTileGrid();if(!f){f=this.getTileGridForProjection(e)}var g=f.getTileCoordForCoordAndResolution(a,b);if(f.getResolutions().length<=g[0]){return undefined}var h=f.getResolution(g[0]);var i=f.getTileCoordExtent(g,this.tmpExtent_);var j=ol.size.toSize(f.getTileSize(g[0]),this.tmpSize);var k=this.gutter_;if(k!==0){j=ol.size.buffer(j,k,this.tmpSize);i=ol.extent.buffer(i,h*k,i)}var l={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};ol.obj.assign(l,this.params_,d);var m=Math.floor((a[0]-i[0])/h);var n=Math.floor((i[3]-a[1])/h);l[this.v13_?"I":"X"]=m;l[this.v13_?"J":"Y"]=n;return this.getRequestUrl_(g,j,i,1,e,l)};ol.source.TileWMS.prototype.getGutterInternal=function(){return this.gutter_};ol.source.TileWMS.prototype.getKeyZXY=function(a,b,c){return this.coordKeyPrefix_+ol.source.TileImage.prototype.getKeyZXY.call(this,a,b,c)};ol.source.TileWMS.prototype.getParams=function(){return this.params_};ol.source.TileWMS.prototype.getRequestUrl_=function(a,b,c,d,e,f){var g=this.urls;if(!g){return undefined}f["WIDTH"]=b[0];f["HEIGHT"]=b[1];f[this.v13_?"CRS":"SRS"]=e.getCode();if(!("STYLES"in this.params_)){f["STYLES"]=""}if(d!=1){switch(this.serverType_){case ol.source.wms.ServerType.GEOSERVER:var h=90*d+.5|0;if("FORMAT_OPTIONS"in f){f["FORMAT_OPTIONS"]+=";dpi:"+h}else{f["FORMAT_OPTIONS"]="dpi:"+h}break;case ol.source.wms.ServerType.MAPSERVER:f["MAP_RESOLUTION"]=90*d;break;case ol.source.wms.ServerType.CARMENTA_SERVER:case ol.source.wms.ServerType.QGIS:f["DPI"]=90*d;break;default:ol.asserts.assert(false,52);break}}var i=e.getAxisOrientation();var j=c;if(this.v13_&&i.substr(0,2)=="ne"){var k;k=c[0];j[0]=c[1];j[1]=k;k=c[2];j[2]=c[3];j[3]=k}f["BBOX"]=j.join(",");var l;if(g.length==1){l=g[0]}else{var m=ol.math.modulo(ol.tilecoord.hash(a),g.length);l=g[m]}return ol.uri.appendParams(l,f)};ol.source.TileWMS.prototype.getTilePixelRatio=function(a){return!this.hidpi_||this.serverType_===undefined?1:a};ol.source.TileWMS.prototype.resetCoordKeyPrefix_=function(){var a=0;var b=[];if(this.urls){var c,d;for(c=0,d=this.urls.length;c<d;++c){b[a++]=this.urls[c]}}this.coordKeyPrefix_=b.join("#")};ol.source.TileWMS.prototype.getKeyForParams_=function(){var a=0;var b=[];for(var c in this.params_){b[a++]=c+"-"+this.params_[c]}return b.join("/")};ol.source.TileWMS.prototype.fixedTileUrlFunction=function(a,b,c){var d=this.getTileGrid();if(!d){d=this.getTileGridForProjection(c)}if(d.getResolutions().length<=a[0]){return undefined}if(b!=1&&(!this.hidpi_||this.serverType_===undefined)){b=1}var e=d.getResolution(a[0]);var f=d.getTileCoordExtent(a,this.tmpExtent_);var g=ol.size.toSize(d.getTileSize(a[0]),this.tmpSize);var h=this.gutter_;if(h!==0){g=ol.size.buffer(g,h,this.tmpSize);f=ol.extent.buffer(f,e*h,f)}if(b!=1){g=ol.size.scale(g,b,this.tmpSize)}var i={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};ol.obj.assign(i,this.params_);return this.getRequestUrl_(a,g,f,b,c,i)};ol.source.TileWMS.prototype.setUrls=function(a){ol.source.TileImage.prototype.setUrls.call(this,a);this.resetCoordKeyPrefix_()};ol.source.TileWMS.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.resetCoordKeyPrefix_();this.updateV13_();this.setKey(this.getKeyForParams_())};ol.source.TileWMS.prototype.updateV13_=function(){var a=this.params_["VERSION"]||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(a,"1.3")>=0};goog.provide("ol.VectorTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.dom");ol.VectorTile=function(a,b,c,d,e){ol.Tile.call(this,a,b);this.context_=ol.dom.createCanvasContext2D();this.format_=d;this.features_=null;this.loader_;this.projection_;this.replayState_={dirty:false,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1,replayGroup:null,skippedFeatures:[]};this.tileLoadFunction_=e;this.url_=c};ol.inherits(ol.VectorTile,ol.Tile);ol.VectorTile.prototype.getContext=function(){return this.context_};ol.VectorTile.prototype.getImage=function(){return this.replayState_.renderedTileRevision==-1?null:this.context_.canvas};ol.VectorTile.prototype.getFormat=function(){return this.format_};ol.VectorTile.prototype.getFeatures=function(){return this.features_};ol.VectorTile.prototype.getReplayState=function(){return this.replayState_};ol.VectorTile.prototype.getKey=function(){return this.url_};ol.VectorTile.prototype.getProjection=function(){return this.projection_};ol.VectorTile.prototype.load=function(){if(this.state==ol.Tile.State.IDLE){this.setState(ol.Tile.State.LOADING);this.tileLoadFunction_(this,this.url_);this.loader_(null,NaN,null)}};ol.VectorTile.prototype.setFeatures=function(a){this.features_=a;this.setState(ol.Tile.State.LOADED)};ol.VectorTile.prototype.setProjection=function(a){this.projection_=a};ol.VectorTile.prototype.setState=function(a){this.state=a;this.changed()};ol.VectorTile.prototype.setLoader=function(a){this.loader_=a};goog.provide("ol.source.VectorTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.VectorTile");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.featureloader");goog.require("ol.size");goog.require("ol.source.UrlTile");ol.source.VectorTile=function(a){ol.source.UrlTile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize!==undefined?a.cacheSize:128,extent:a.extent,logo:a.logo,opaque:false,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ol.source.VectorTile.defaultTileLoadFunction,tileUrlFunction:a.tileUrlFunction,tilePixelRatio:a.tilePixelRatio,url:a.url,urls:a.urls,wrapX:a.wrapX===undefined?true:a.wrapX});this.format_=a.format?a.format:null;this.overlaps_=a.overlaps==undefined?true:a.overlaps;this.tileClass=a.tileClass?a.tileClass:ol.VectorTile};ol.inherits(ol.source.VectorTile,ol.source.UrlTile);ol.source.VectorTile.prototype.getOverlaps=function(){return this.overlaps_};ol.source.VectorTile.prototype.getTile=function(a,b,c,d,e){var f=this.getKeyZXY(a,b,c);if(this.tileCache.containsKey(f)){return this.tileCache.get(f)}else{var g=[a,b,c];var h=this.getTileCoordForTileUrlFunction(g,e);var i=h?this.tileUrlFunction(h,d,e):undefined;var j=new this.tileClass(g,i!==undefined?ol.Tile.State.IDLE:ol.Tile.State.EMPTY,i!==undefined?i:"",this.format_,this.tileLoadFunction);ol.events.listen(j,ol.events.EventType.CHANGE,this.handleTileChange,this);this.tileCache.set(f,j);return j}};ol.source.VectorTile.prototype.getTilePixelRatio=function(a){return a==undefined?ol.source.UrlTile.prototype.getTilePixelRatio.call(this,a):a};ol.source.VectorTile.prototype.getTilePixelSize=function(a,b,c){var d=ol.size.toSize(this.tileGrid.getTileSize(a));return[Math.round(d[0]*b),Math.round(d[1]*b)]};ol.source.VectorTile.defaultTileLoadFunction=function(a,b){a.setLoader(ol.featureloader.tile(b,a.getFormat()))};goog.provide("ol.tilegrid.WMTS");goog.require("ol");goog.require("ol.proj");goog.require("ol.tilegrid.TileGrid");ol.tilegrid.WMTS=function(a){goog.DEBUG&&console.assert(a.resolutions.length==a.matrixIds.length,"options resolutions and matrixIds must have equal length (%s == %s)",a.resolutions.length,a.matrixIds.length);this.matrixIds_=a.matrixIds;ol.tilegrid.TileGrid.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})};ol.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid);ol.tilegrid.WMTS.prototype.getMatrixId=function(a){goog.DEBUG&&console.assert(0<=a&&a<this.matrixIds_.length,"attempted to retrieve matrixId for illegal z (%s)",a);return this.matrixIds_[a]};ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_};ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(a,b){var c=[];var d=[];var e=[];var f=[];var g=[];var h="SupportedCRS";var i="TileMatrix";var j="Identifier";var k="ScaleDenominator";var l="TopLeftCorner";var m="TileWidth";var n="TileHeight";var o;o=ol.proj.get(a[h].replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var p=o.getMetersPerUnit();var q=o.getAxisOrientation().substr(0,2)=="ne";a[i].sort((function(a,b){return b[k]-a[k]}));a[i].forEach((function(a,b,h){d.push(a[j]);var i=a[k]*28e-5/p;var o=a[m];var r=a[n];if(q){e.push([a[l][1],a[l][0]])}else{e.push(a[l])}c.push(i);f.push(o==r?o:[o,r]);g.push([a["MatrixWidth"],-a["MatrixHeight"]])}));return new ol.tilegrid.WMTS({extent:b,origins:e,resolutions:c,matrixIds:d,tileSizes:f,sizes:g})};goog.provide("ol.source.WMTS");goog.provide("ol.source.WMTSRequestEncoding");goog.require("ol");goog.require("ol.TileUrlFunction");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.source.TileImage");goog.require("ol.tilegrid.WMTS");goog.require("ol.uri");ol.source.WMTSRequestEncoding={KVP:"KVP",REST:"REST"};ol.source.WMTS=function(a){this.version_=a.version!==undefined?a.version:"1.0.0";this.format_=a.format!==undefined?a.format:"image/jpeg";this.dimensions_=a.dimensions!==undefined?a.dimensions:{};this.layer_=a.layer;this.matrixSet_=a.matrixSet;this.style_=a.style;var b=a.urls;if(b===undefined&&a.url!==undefined){b=ol.TileUrlFunction.expandUrl(a.url)}this.requestEncoding_=a.requestEncoding!==undefined?a.requestEncoding:ol.source.WMTSRequestEncoding.KVP;var c=this.requestEncoding_;var d=a.tileGrid;var e={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};if(c==ol.source.WMTSRequestEncoding.KVP){ol.obj.assign(e,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_})}var f=this.dimensions_;function g(a){a=c==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(a,e):a.replace(/\{(\w+?)\}/g,(function(a,b){return b.toLowerCase()in e?e[b.toLowerCase()]:a}));return function(b,e,g){if(!b){return undefined}else{var h={TileMatrix:d.getMatrixId(b[0]),TileCol:b[1],TileRow:-b[2]-1};ol.obj.assign(h,f);var i=a;if(c==ol.source.WMTSRequestEncoding.KVP){i=ol.uri.appendParams(i,h)}else{i=i.replace(/\{(\w+?)\}/g,(function(a,b){return h[b]}))}return i}}}var h=b&&b.length>0?ol.TileUrlFunction.createFromTileUrlFunctions(b.map(g)):ol.TileUrlFunction.nullTileUrlFunction;ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:d,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:b,wrapX:a.wrapX!==undefined?a.wrapX:false});this.setKey(this.getKeyForDimensions_())};ol.inherits(ol.source.WMTS,ol.source.TileImage);ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_};ol.source.WMTS.prototype.getFormat=function(){return this.format_};ol.source.WMTS.prototype.getLayer=function(){return this.layer_};ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_};ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_};ol.source.WMTS.prototype.getStyle=function(){return this.style_};ol.source.WMTS.prototype.getVersion=function(){return this.version_};ol.source.WMTS.prototype.getKeyForDimensions_=function(){var a=0;var b=[];for(var c in this.dimensions_){b[a++]=c+"-"+this.dimensions_[c]}return b.join("/")};ol.source.WMTS.prototype.updateDimensions=function(a){ol.obj.assign(this.dimensions_,a);this.setKey(this.getKeyForDimensions_())};ol.source.WMTS.optionsFromCapabilities=function(a,b){goog.DEBUG&&console.assert(b["layer"],'config "layer" must not be null');var c=a["Contents"]["Layer"];var d=ol.array.find(c,(function(a,c,d){return a["Identifier"]==b["layer"]}));goog.DEBUG&&console.assert(d,"found a matching layer in Contents/Layer");goog.DEBUG&&console.assert(d["TileMatrixSetLink"].length>0,"layer has TileMatrixSetLink");var e=a["Contents"]["TileMatrixSet"];var f,g;if(d["TileMatrixSetLink"].length>1){if("projection"in b){f=ol.array.findIndex(d["TileMatrixSetLink"],(function(a,c,d){var f=ol.array.find(e,(function(b){return b["Identifier"]==a["TileMatrixSet"]}));return f["SupportedCRS"].replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")==b["projection"]}))}else{f=ol.array.findIndex(d["TileMatrixSetLink"],(function(a,c,d){return a["TileMatrixSet"]==b["matrixSet"]}))}}else{f=0}if(f<0){f=0}g=d["TileMatrixSetLink"][f]["TileMatrixSet"];goog.DEBUG&&console.assert(g,"TileMatrixSet must not be null");var h=d["Format"][0];if("format"in b){h=b["format"]}f=ol.array.findIndex(d["Style"],(function(a,c,d){if("style"in b){return a["Title"]==b["style"]}else{return a["isDefault"]}}));if(f<0){f=0}var i=d["Style"][f]["Identifier"];var j={};if("Dimension"in d){d["Dimension"].forEach((function(a,b,c){var d=a["Identifier"];var e=a["Default"];if(e!==undefined){goog.DEBUG&&console.assert(ol.array.includes(a["Value"],e),"default value contained in values")}else{e=a["Value"][0]}goog.DEBUG&&console.assert(e!==undefined,"value could be found");j[d]=e}))}var k=a["Contents"]["TileMatrixSet"];var l=ol.array.find(k,(function(a,b,c){return a["Identifier"]==g}));goog.DEBUG&&console.assert(l,"found matrixSet in Contents/TileMatrixSet");var m;if("projection"in b){m=ol.proj.get(b["projection"])}else{m=ol.proj.get(l["SupportedCRS"].replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))}var n=d["WGS84BoundingBox"];var o,p;if(n!==undefined){
var q=ol.proj.get("EPSG:4326").getExtent();p=n[0]==q[0]&&n[2]==q[2];o=ol.proj.transformExtent(n,"EPSG:4326",m);var r=m.getExtent();if(r){if(!ol.extent.containsExtent(r,o)){o=undefined}}}var s=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(l,o);var t=[];var u=b["requestEncoding"];u=u!==undefined?u:"";goog.DEBUG&&console.assert(ol.array.includes(["REST","RESTful","KVP",""],u),'requestEncoding (%s) is one of "REST", "RESTful", "KVP" or ""',u);if("OperationsMetadata"in a&&"GetTile"in a["OperationsMetadata"]){var v=a["OperationsMetadata"]["GetTile"]["DCP"]["HTTP"]["Get"];goog.DEBUG&&console.assert(v.length>=1);for(var w=0,x=v.length;w<x;++w){var y=ol.array.find(v[w]["Constraint"],(function(a){return a["name"]=="GetEncoding"}));var z=y["AllowedValues"]["Value"];goog.DEBUG&&console.assert(z.length>=1);if(u===""){u=z[0]}if(u===ol.source.WMTSRequestEncoding.KVP){if(ol.array.includes(z,ol.source.WMTSRequestEncoding.KVP)){t.push(v[w]["href"])}}else{break}}}if(t.length===0){u=ol.source.WMTSRequestEncoding.REST;d["ResourceURL"].forEach((function(a){if(a["resourceType"]==="tile"){h=a["format"];t.push(a["template"])}}))}goog.DEBUG&&console.assert(t.length>0,"At least one URL found");return{urls:t,layer:b["layer"],matrixSet:g,format:h,projection:m,requestEncoding:u,tileGrid:s,style:i,dimensions:j,wrapX:p}};goog.provide("ol.source.Zoomify");goog.require("ol");goog.require("ol.ImageTile");goog.require("ol.Tile");goog.require("ol.asserts");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.source.TileImage");goog.require("ol.tilegrid.TileGrid");ol.source.ZoomifyTierSizeCalculation={DEFAULT:"default",TRUNCATED:"truncated"};ol.source.Zoomify=function(a){var b=a||{};var c=b.size;var d=b.tierSizeCalculation!==undefined?b.tierSizeCalculation:ol.source.ZoomifyTierSizeCalculation.DEFAULT;var e=c[0];var f=c[1];var g=[];var h=ol.DEFAULT_TILE_SIZE;switch(d){case ol.source.ZoomifyTierSizeCalculation.DEFAULT:while(e>h||f>h){g.push([Math.ceil(e/h),Math.ceil(f/h)]);h+=h}break;case ol.source.ZoomifyTierSizeCalculation.TRUNCATED:var i=e;var j=f;while(i>h||j>h){g.push([Math.ceil(i/h),Math.ceil(j/h)]);i>>=1;j>>=1}break;default:ol.asserts.assert(false,53);break}g.push([1,1]);g.reverse();var k=[1];var l=[0];var m,n;for(m=1,n=g.length;m<n;m++){k.push(1<<m);l.push(g[m-1][0]*g[m-1][1]+l[m-1])}k.reverse();var o=[0,-c[1],c[0],0];var p=new ol.tilegrid.TileGrid({extent:o,origin:ol.extent.getTopLeft(o),resolutions:k});var q=b.url;function r(a,b,c){if(!a){return undefined}else{var d=a[0];var e=a[1];var f=-a[2]-1;var h=e+f*g[d][0]+l[d];var i=h/ol.DEFAULT_TILE_SIZE|0;return q+"TileGroup"+i+"/"+d+"-"+e+"-"+f+".jpg"}}ol.source.TileImage.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,logo:b.logo,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileClass:ol.source.ZoomifyTile_,tileGrid:p,tileUrlFunction:r})};ol.inherits(ol.source.Zoomify,ol.source.TileImage);ol.source.ZoomifyTile_=function(a,b,c,d,e){ol.ImageTile.call(this,a,b,c,d,e);this.zoomifyImageByContext_={}};ol.inherits(ol.source.ZoomifyTile_,ol.ImageTile);ol.source.ZoomifyTile_.prototype.getImage=function(a){var b=ol.DEFAULT_TILE_SIZE;var c=a!==undefined?ol.getUid(a).toString():"";if(c in this.zoomifyImageByContext_){return this.zoomifyImageByContext_[c]}else{var d=ol.ImageTile.prototype.getImage.call(this,a);if(this.state==ol.Tile.State.LOADED){if(d.width==b&&d.height==b){this.zoomifyImageByContext_[c]=d;return d}else{var e=ol.dom.createCanvasContext2D(b,b);e.drawImage(d,0,0);this.zoomifyImageByContext_[c]=e.canvas;return e.canvas}}else{return d}}};goog.provide("ol.style.AtlasManager");goog.provide("ol.style.Atlas");goog.require("ol");goog.require("ol.dom");ol.style.AtlasManager=function(a){var b=a||{};this.currentSize_=b.initialSize!==undefined?b.initialSize:ol.INITIAL_ATLAS_SIZE;this.maxSize_=b.maxSize!==undefined?b.maxSize:ol.MAX_ATLAS_SIZE!=-1?ol.MAX_ATLAS_SIZE:ol.WEBGL_MAX_TEXTURE_SIZE!==undefined?ol.WEBGL_MAX_TEXTURE_SIZE:2048;this.space_=b.space!==undefined?b.space:1;this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)];this.currentHitSize_=this.currentSize_;this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]};ol.style.AtlasManager.prototype.getInfo=function(a){var b=this.getInfo_(this.atlases_,a);if(!b){return null}var c=this.getInfo_(this.hitAtlases_,a);return this.mergeInfos_(b,c)};ol.style.AtlasManager.prototype.getInfo_=function(a,b){var c,d,e,f;for(e=0,f=a.length;e<f;++e){c=a[e];d=c.get(b);if(d){return d}}return null};ol.style.AtlasManager.prototype.mergeInfos_=function(a,b){goog.DEBUG&&console.assert(a.offsetX===b.offsetX,"in order to merge, offsetX of info and hitInfo must be equal");goog.DEBUG&&console.assert(a.offsetY===b.offsetY,"in order to merge, offsetY of info and hitInfo must be equal");return{offsetX:a.offsetX,offsetY:a.offsetY,image:a.image,hitImage:b.image}};ol.style.AtlasManager.prototype.add=function(a,b,c,d,e,f){if(b+this.space_>this.maxSize_||c+this.space_>this.maxSize_){return null}var g=this.add_(false,a,b,c,d,f);if(!g){return null}var h=e!==undefined?e:ol.nullFunction;var i=this.add_(true,a,b,c,h,f);return this.mergeInfos_(g,i)};ol.style.AtlasManager.prototype.add_=function(a,b,c,d,e,f){var g=a?this.hitAtlases_:this.atlases_;var h,i,j,k;for(j=0,k=g.length;j<k;++j){h=g[j];i=h.add(b,c,d,e,f);if(i){return i}else if(!i&&j===k-1){var l;if(a){l=Math.min(this.currentHitSize_*2,this.maxSize_);this.currentHitSize_=l}else{l=Math.min(this.currentSize_*2,this.maxSize_);this.currentSize_=l}h=new ol.style.Atlas(l,this.space_);g.push(h);++k}}goog.DEBUG&&console.assert(false,"Failed to add to atlasmanager");return null};ol.style.Atlas=function(a,b){this.space_=b;this.emptyBlocks_=[{x:0,y:0,width:a,height:a}];this.entries_={};this.context_=ol.dom.createCanvasContext2D(a,a);this.canvas_=this.context_.canvas};ol.style.Atlas.prototype.get=function(a){return this.entries_[a]||null};ol.style.Atlas.prototype.add=function(a,b,c,d,e){var f,g,h;for(g=0,h=this.emptyBlocks_.length;g<h;++g){f=this.emptyBlocks_[g];if(f.width>=b+this.space_&&f.height>=c+this.space_){var i={offsetX:f.x+this.space_,offsetY:f.y+this.space_,image:this.canvas_};this.entries_[a]=i;d.call(e,this.context_,f.x+this.space_,f.y+this.space_);this.split_(g,f,b+this.space_,c+this.space_);return i}}return null};ol.style.Atlas.prototype.split_=function(a,b,c,d){var e=b.width-c;var f=b.height-d;var g;var h;if(e>f){g={x:b.x+c,y:b.y,width:b.width-c,height:b.height};h={x:b.x,y:b.y+d,width:c,height:b.height-d};this.updateBlocks_(a,g,h)}else{g={x:b.x+c,y:b.y,width:b.width-c,height:d};h={x:b.x,y:b.y+d,width:b.width,height:b.height-d};this.updateBlocks_(a,g,h)}};ol.style.Atlas.prototype.updateBlocks_=function(a,b,c){var d=[a,1];if(b.width>0&&b.height>0){d.push(b)}if(c.width>0&&c.height>0){d.push(c)}this.emptyBlocks_.splice.apply(this.emptyBlocks_,d)};goog.provide("ol.style.RegularShape");goog.require("ol");goog.require("ol.color");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.has");goog.require("ol.render.canvas");goog.require("ol.style.Image");goog.require("ol.style.ImageState");ol.style.RegularShape=function(a){goog.DEBUG&&console.assert(a.radius!==undefined||a.radius1!==undefined,'must provide either "radius" or "radius1"');this.checksums_=null;this.canvas_=null;this.hitDetectionCanvas_=null;this.fill_=a.fill!==undefined?a.fill:null;this.origin_=[0,0];this.points_=a.points;this.radius_=a.radius!==undefined?a.radius:a.radius1;this.radius2_=a.radius2!==undefined?a.radius2:this.radius_;this.angle_=a.angle!==undefined?a.angle:0;this.stroke_=a.stroke!==undefined?a.stroke:null;this.anchor_=null;this.size_=null;this.imageSize_=null;this.hitDetectionImageSize_=null;this.render_(a.atlasManager);var b=a.snapToPixel!==undefined?a.snapToPixel:true;var c=a.rotateWithView!==undefined?a.rotateWithView:false;ol.style.Image.call(this,{opacity:1,rotateWithView:c,rotation:a.rotation!==undefined?a.rotation:0,scale:1,snapToPixel:b})};ol.inherits(ol.style.RegularShape,ol.style.Image);ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_};ol.style.RegularShape.prototype.getAngle=function(){return this.angle_};ol.style.RegularShape.prototype.getFill=function(){return this.fill_};ol.style.RegularShape.prototype.getHitDetectionImage=function(a){return this.hitDetectionCanvas_};ol.style.RegularShape.prototype.getImage=function(a){return this.canvas_};ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_};ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};ol.style.RegularShape.prototype.getImageState=function(){return ol.style.ImageState.LOADED};ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_};ol.style.RegularShape.prototype.getPoints=function(){return this.points_};ol.style.RegularShape.prototype.getRadius=function(){return this.radius_};ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_};ol.style.RegularShape.prototype.getSize=function(){return this.size_};ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_};ol.style.RegularShape.prototype.listenImageChange=ol.nullFunction;ol.style.RegularShape.prototype.load=ol.nullFunction;ol.style.RegularShape.prototype.unlistenImageChange=ol.nullFunction;ol.style.RegularShape.prototype.render_=function(a){var b;var c="";var d="";var e=0;var f=null;var g;var h=0;if(this.stroke_){g=ol.color.asString(this.stroke_.getColor());h=this.stroke_.getWidth();if(h===undefined){h=ol.render.canvas.defaultLineWidth}f=this.stroke_.getLineDash();if(!ol.has.CANVAS_LINE_DASH){f=null}d=this.stroke_.getLineJoin();if(d===undefined){d=ol.render.canvas.defaultLineJoin}c=this.stroke_.getLineCap();if(c===undefined){c=ol.render.canvas.defaultLineCap}e=this.stroke_.getMiterLimit();if(e===undefined){e=ol.render.canvas.defaultMiterLimit}}var i=2*(this.radius_+h)+1;var j={strokeStyle:g,strokeWidth:h,size:i,lineCap:c,lineDash:f,lineJoin:d,miterLimit:e};if(a===undefined){var k=ol.dom.createCanvasContext2D(i,i);this.canvas_=k.canvas;i=this.canvas_.width;b=i;this.draw_(j,k,0,0);this.createHitDetectionCanvas_(j)}else{i=Math.round(i);var l=!this.fill_;var m;if(l){m=this.drawHitDetectionCanvas_.bind(this,j)}var n=this.getChecksum();var o=a.add(n,i,i,this.draw_.bind(this,j),m);goog.DEBUG&&console.assert(o,"shape size is too large");this.canvas_=o.image;this.origin_=[o.offsetX,o.offsetY];b=o.image.width;if(l){this.hitDetectionCanvas_=o.hitImage;this.hitDetectionImageSize_=[o.hitImage.width,o.hitImage.height]}else{this.hitDetectionCanvas_=this.canvas_;this.hitDetectionImageSize_=[b,b]}}this.anchor_=[i/2,i/2];this.size_=[i,i];this.imageSize_=[b,b]};ol.style.RegularShape.prototype.draw_=function(a,b,c,d){var e,f,g;b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();if(this.radius2_!==this.radius_){this.points_=2*this.points_}for(e=0;e<=this.points_;e++){f=e*2*Math.PI/this.points_-Math.PI/2+this.angle_;g=e%2===0?this.radius_:this.radius2_;b.lineTo(a.size/2+g*Math.cos(f),a.size/2+g*Math.sin(f))}if(this.fill_){b.fillStyle=ol.colorlike.asColorLike(this.fill_.getColor());b.fill()}if(this.stroke_){b.strokeStyle=a.strokeStyle;b.lineWidth=a.strokeWidth;if(a.lineDash){b.setLineDash(a.lineDash)}b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.miterLimit=a.miterLimit;b.stroke()}b.closePath()};ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(a){this.hitDetectionImageSize_=[a.size,a.size];if(this.fill_){this.hitDetectionCanvas_=this.canvas_;return}var b=ol.dom.createCanvasContext2D(a.size,a.size);this.hitDetectionCanvas_=b.canvas;this.drawHitDetectionCanvas_(a,b,0,0)};ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();if(this.radius2_!==this.radius_){this.points_=2*this.points_}var e,f,g;for(e=0;e<=this.points_;e++){g=e*2*Math.PI/this.points_-Math.PI/2+this.angle_;f=e%2===0?this.radius_:this.radius2_;b.lineTo(a.size/2+f*Math.cos(g),a.size/2+f*Math.sin(g))}b.fillStyle=ol.render.canvas.defaultFillStyle;b.fill();if(this.stroke_){b.strokeStyle=a.strokeStyle;b.lineWidth=a.strokeWidth;if(a.lineDash){b.setLineDash(a.lineDash)}b.stroke()}b.closePath()};ol.style.RegularShape.prototype.getChecksum=function(){var a=this.stroke_?this.stroke_.getChecksum():"-";var b=this.fill_?this.fill_.getChecksum():"-";var c=!this.checksums_||(a!=this.checksums_[1]||b!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]);if(c){var d="r"+a+b+(this.radius_!==undefined?this.radius_.toString():"-")+(this.radius2_!==undefined?this.radius2_.toString():"-")+(this.angle_!==undefined?this.angle_.toString():"-")+(this.points_!==undefined?this.points_.toString():"-");this.checksums_=[d,a,b,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};goog.addDependency("demos/editor/equationeditor.js",["goog.demos.editor.EquationEditor"],["goog.ui.equation.EquationEditorDialog"]);goog.addDependency("demos/editor/helloworld.js",["goog.demos.editor.HelloWorld"],["goog.dom","goog.dom.TagName","goog.editor.Plugin"]);goog.addDependency("demos/editor/helloworlddialog.js",["goog.demos.editor.HelloWorldDialog","goog.demos.editor.HelloWorldDialog.OkEvent"],["goog.dom.TagName","goog.events.Event","goog.string","goog.ui.editor.AbstractDialog","goog.ui.editor.AbstractDialog.Builder","goog.ui.editor.AbstractDialog.EventType"]);goog.addDependency("demos/editor/helloworlddialogplugin.js",["goog.demos.editor.HelloWorldDialogPlugin","goog.demos.editor.HelloWorldDialogPlugin.Command"],["goog.demos.editor.HelloWorldDialog","goog.dom.TagName","goog.editor.plugins.AbstractDialogPlugin","goog.editor.range","goog.functions","goog.ui.editor.AbstractDialog.EventType"]);goog.require("ol");goog.require("ol.AssertionError");goog.require("ol.Attribution");goog.require("ol.Collection");goog.require("ol.DeviceOrientation");goog.require("ol.DragBoxEvent");goog.require("ol.Feature");goog.require("ol.Geolocation");goog.require("ol.Graticule");goog.require("ol.Image");goog.require("ol.ImageTile");goog.require("ol.Kinetic");goog.require("ol.Map");goog.require("ol.MapBrowserEvent");goog.require("ol.MapBrowserEvent.EventType");goog.require("ol.MapBrowserEventHandler");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.MapEvent");goog.require("ol.MapEventType");goog.require("ol.MapProperty");goog.require("ol.Object");goog.require("ol.ObjectEvent");goog.require("ol.ObjectEventType");goog.require("ol.Observable");goog.require("ol.Overlay");goog.require("ol.OverlayPositioning");goog.require("ol.RasterOperationType");goog.require("ol.Sphere");goog.require("ol.Tile");goog.require("ol.VectorTile");goog.require("ol.View");goog.require("ol.animation");goog.require("ol.color");goog.require("ol.colorlike");goog.require("ol.control");goog.require("ol.control.Attribution");goog.require("ol.control.Control");goog.require("ol.control.FullScreen");goog.require("ol.control.MousePosition");goog.require("ol.control.OverviewMap");goog.require("ol.control.Rotate");goog.require("ol.control.ScaleLine");goog.require("ol.control.Zoom");goog.require("ol.control.ZoomSlider");goog.require("ol.control.ZoomToExtent");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.extent.Corner");goog.require("ol.extent.Relationship");goog.require("ol.featureloader");goog.require("ol.format.EsriJSON");goog.require("ol.format.Feature");goog.require("ol.format.GML");goog.require("ol.format.GML2");goog.require("ol.format.GML3");goog.require("ol.format.GMLBase");goog.require("ol.format.GPX");goog.require("ol.format.GeoJSON");goog.require("ol.format.IGC");goog.require("ol.format.IGCZ");goog.require("ol.format.KML");goog.require("ol.format.MVT");goog.require("ol.format.OSMXML");goog.require("ol.format.Polyline");goog.require("ol.format.TopoJSON");goog.require("ol.format.WFS");goog.require("ol.format.WKT");goog.require("ol.format.WMSCapabilities");goog.require("ol.format.WMSGetFeatureInfo");goog.require("ol.format.WMTSCapabilities");goog.require("ol.format.ogc.filter");goog.require("ol.format.ogc.filter.And");goog.require("ol.format.ogc.filter.Bbox");goog.require("ol.format.ogc.filter.Comparison");goog.require("ol.format.ogc.filter.ComparisonBinary");goog.require("ol.format.ogc.filter.EqualTo");goog.require("ol.format.ogc.filter.Filter");goog.require("ol.format.ogc.filter.GreaterThan");goog.require("ol.format.ogc.filter.GreaterThanOrEqualTo");goog.require("ol.format.ogc.filter.Intersects");goog.require("ol.format.ogc.filter.IsBetween");goog.require("ol.format.ogc.filter.IsLike");goog.require("ol.format.ogc.filter.IsNull");goog.require("ol.format.ogc.filter.LessThan");goog.require("ol.format.ogc.filter.LessThanOrEqualTo");goog.require("ol.format.ogc.filter.Not");goog.require("ol.format.ogc.filter.NotEqualTo");goog.require("ol.format.ogc.filter.Or");goog.require("ol.format.ogc.filter.Spatial");goog.require("ol.format.ogc.filter.Within");goog.require("ol.geom.Circle");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.has");goog.require("ol.interaction");goog.require("ol.interaction.DoubleClickZoom");goog.require("ol.interaction.DragAndDrop");goog.require("ol.interaction.DragAndDropEvent");goog.require("ol.interaction.DragBox");goog.require("ol.interaction.DragPan");goog.require("ol.interaction.DragRotate");goog.require("ol.interaction.DragRotateAndZoom");goog.require("ol.interaction.DragZoom");goog.require("ol.interaction.Draw");goog.require("ol.interaction.DrawEvent");goog.require("ol.interaction.DrawEventType");goog.require("ol.interaction.DrawMode");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.InteractionProperty");goog.require("ol.interaction.KeyboardPan");goog.require("ol.interaction.KeyboardZoom");goog.require("ol.interaction.Modify");goog.require("ol.interaction.ModifyEvent");goog.require("ol.interaction.MouseWheelZoom");goog.require("ol.interaction.PinchRotate");goog.require("ol.interaction.PinchZoom");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.Select");goog.require("ol.interaction.SelectEvent");goog.require("ol.interaction.SelectEventType");goog.require("ol.interaction.Snap");goog.require("ol.interaction.SnapProperty");goog.require("ol.interaction.Translate");goog.require("ol.interaction.TranslateEvent");goog.require("ol.layer.Base");goog.require("ol.layer.Group");goog.require("ol.layer.Heatmap");goog.require("ol.layer.Image");goog.require("ol.layer.Layer");goog.require("ol.layer.LayerProperty");goog.require("ol.layer.Tile");goog.require("ol.layer.Vector");goog.require("ol.layer.VectorTile");goog.require("ol.loadingstrategy");goog.require("ol.proj");goog.require("ol.proj.METERS_PER_UNIT");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.proj.common");goog.require("ol.render");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.Feature");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas.Immediate");goog.require("ol.render.webgl.Immediate");goog.require("ol.size");goog.require("ol.source.BingMaps");goog.require("ol.source.CartoDB");goog.require("ol.source.Cluster");goog.require("ol.source.Image");goog.require("ol.source.ImageArcGISRest");goog.require("ol.source.ImageCanvas");goog.require("ol.source.ImageEvent");goog.require("ol.source.ImageMapGuide");goog.require("ol.source.ImageStatic");goog.require("ol.source.ImageVector");goog.require("ol.source.ImageWMS");goog.require("ol.source.OSM");goog.require("ol.source.Raster");goog.require("ol.source.RasterEvent");goog.require("ol.source.RasterEventType");goog.require("ol.source.Source");goog.require("ol.source.Stamen");goog.require("ol.source.State");goog.require("ol.source.Tile");goog.require("ol.source.TileArcGISRest");goog.require("ol.source.TileDebug");goog.require("ol.source.TileEvent");goog.require("ol.source.TileImage");goog.require("ol.source.TileJSON");goog.require("ol.source.TileUTFGrid");goog.require("ol.source.TileWMS");goog.require("ol.source.UrlTile");goog.require("ol.source.Vector");goog.require("ol.source.VectorEvent");goog.require("ol.source.VectorEventType");goog.require("ol.source.VectorTile");goog.require("ol.source.WMTS");goog.require("ol.source.WMTSRequestEncoding");goog.require("ol.source.XYZ");goog.require("ol.source.Zoomify");goog.require("ol.style.Atlas");goog.require("ol.style.AtlasManager");goog.require("ol.style.Circle");goog.require("ol.style.Fill");goog.require("ol.style.Icon");goog.require("ol.style.IconAnchorUnits");goog.require("ol.style.IconOrigin");goog.require("ol.style.Image");goog.require("ol.style.ImageState");goog.require("ol.style.RegularShape");goog.require("ol.style.Stroke");goog.require("ol.style.Style");goog.require("ol.style.Text");goog.require("ol.tilegrid");goog.require("ol.tilegrid.TileGrid");goog.require("ol.tilegrid.WMTS");goog.require("ol.tilejson");goog.require("ol.webgl.Context");goog.require("ol.xml");goog.exportSymbol("ol.animation.bounce",ol.animation.bounce,OPENLAYERS);goog.exportSymbol("ol.animation.pan",ol.animation.pan,OPENLAYERS);goog.exportSymbol("ol.animation.rotate",ol.animation.rotate,OPENLAYERS);goog.exportSymbol("ol.animation.zoom",ol.animation.zoom,OPENLAYERS);goog.exportProperty(ol.AssertionError.prototype,"code",ol.AssertionError.prototype.code);goog.exportSymbol("ol.Attribution",ol.Attribution,OPENLAYERS);goog.exportProperty(ol.Attribution.prototype,"getHTML",ol.Attribution.prototype.getHTML);goog.exportSymbol("ol.Collection",ol.Collection,OPENLAYERS);goog.exportProperty(ol.Collection.prototype,"clear",ol.Collection.prototype.clear);goog.exportProperty(ol.Collection.prototype,"extend",ol.Collection.prototype.extend);goog.exportProperty(ol.Collection.prototype,"forEach",ol.Collection.prototype.forEach);goog.exportProperty(ol.Collection.prototype,"getArray",ol.Collection.prototype.getArray);goog.exportProperty(ol.Collection.prototype,"item",ol.Collection.prototype.item);goog.exportProperty(ol.Collection.prototype,"getLength",ol.Collection.prototype.getLength);goog.exportProperty(ol.Collection.prototype,"insertAt",ol.Collection.prototype.insertAt);goog.exportProperty(ol.Collection.prototype,"pop",ol.Collection.prototype.pop);goog.exportProperty(ol.Collection.prototype,"push",ol.Collection.prototype.push);goog.exportProperty(ol.Collection.prototype,"remove",ol.Collection.prototype.remove);goog.exportProperty(ol.Collection.prototype,"removeAt",ol.Collection.prototype.removeAt);goog.exportProperty(ol.Collection.prototype,"setAt",ol.Collection.prototype.setAt);goog.exportProperty(ol.Collection.Event.prototype,"element",ol.Collection.Event.prototype.element);goog.exportSymbol("ol.color.asArray",ol.color.asArray,OPENLAYERS);goog.exportSymbol("ol.color.asString",ol.color.asString,OPENLAYERS);goog.exportSymbol("ol.colorlike.asColorLike",ol.colorlike.asColorLike,OPENLAYERS);goog.exportSymbol("ol.coordinate.add",ol.coordinate.add,OPENLAYERS);goog.exportSymbol("ol.coordinate.createStringXY",ol.coordinate.createStringXY,OPENLAYERS);goog.exportSymbol("ol.coordinate.format",ol.coordinate.format,OPENLAYERS);goog.exportSymbol("ol.coordinate.rotate",ol.coordinate.rotate,OPENLAYERS);goog.exportSymbol("ol.coordinate.toStringHDMS",ol.coordinate.toStringHDMS,OPENLAYERS);goog.exportSymbol("ol.coordinate.toStringXY",ol.coordinate.toStringXY,OPENLAYERS);goog.exportSymbol("ol.DeviceOrientation",ol.DeviceOrientation,OPENLAYERS);goog.exportProperty(ol.DeviceOrientation.prototype,"getAlpha",ol.DeviceOrientation.prototype.getAlpha);goog.exportProperty(ol.DeviceOrientation.prototype,"getBeta",ol.DeviceOrientation.prototype.getBeta);goog.exportProperty(ol.DeviceOrientation.prototype,"getGamma",ol.DeviceOrientation.prototype.getGamma);goog.exportProperty(ol.DeviceOrientation.prototype,"getHeading",ol.DeviceOrientation.prototype.getHeading);goog.exportProperty(ol.DeviceOrientation.prototype,"getTracking",ol.DeviceOrientation.prototype.getTracking);goog.exportProperty(ol.DeviceOrientation.prototype,"setTracking",ol.DeviceOrientation.prototype.setTracking);goog.exportSymbol("ol.easing.easeIn",ol.easing.easeIn,OPENLAYERS);goog.exportSymbol("ol.easing.easeOut",ol.easing.easeOut,OPENLAYERS);goog.exportSymbol("ol.easing.inAndOut",ol.easing.inAndOut,OPENLAYERS);goog.exportSymbol("ol.easing.linear",ol.easing.linear,OPENLAYERS);goog.exportSymbol("ol.easing.upAndDown",ol.easing.upAndDown,OPENLAYERS);goog.exportSymbol("ol.extent.boundingExtent",ol.extent.boundingExtent,OPENLAYERS);goog.exportSymbol("ol.extent.buffer",ol.extent.buffer,OPENLAYERS);goog.exportSymbol("ol.extent.containsCoordinate",ol.extent.containsCoordinate,OPENLAYERS);goog.exportSymbol("ol.extent.containsExtent",ol.extent.containsExtent,OPENLAYERS);goog.exportSymbol("ol.extent.containsXY",ol.extent.containsXY,OPENLAYERS);goog.exportSymbol("ol.extent.createEmpty",ol.extent.createEmpty,OPENLAYERS);goog.exportSymbol("ol.extent.equals",ol.extent.equals,OPENLAYERS);goog.exportSymbol("ol.extent.extend",ol.extent.extend,OPENLAYERS);goog.exportSymbol("ol.extent.getBottomLeft",ol.extent.getBottomLeft,OPENLAYERS);goog.exportSymbol("ol.extent.getBottomRight",ol.extent.getBottomRight,OPENLAYERS);goog.exportSymbol("ol.extent.getCenter",ol.extent.getCenter,OPENLAYERS);goog.exportSymbol("ol.extent.getHeight",ol.extent.getHeight,OPENLAYERS);goog.exportSymbol("ol.extent.getIntersection",ol.extent.getIntersection,OPENLAYERS);goog.exportSymbol("ol.extent.getSize",ol.extent.getSize,OPENLAYERS);goog.exportSymbol("ol.extent.getTopLeft",ol.extent.getTopLeft,OPENLAYERS);goog.exportSymbol("ol.extent.getTopRight",ol.extent.getTopRight,OPENLAYERS);goog.exportSymbol("ol.extent.getWidth",ol.extent.getWidth,OPENLAYERS);goog.exportSymbol("ol.extent.intersects",ol.extent.intersects,OPENLAYERS);goog.exportSymbol("ol.extent.isEmpty",ol.extent.isEmpty,OPENLAYERS);goog.exportSymbol("ol.extent.applyTransform",ol.extent.applyTransform,OPENLAYERS);goog.exportSymbol("ol.Feature",ol.Feature,OPENLAYERS);goog.exportProperty(ol.Feature.prototype,"clone",ol.Feature.prototype.clone);goog.exportProperty(ol.Feature.prototype,"getGeometry",ol.Feature.prototype.getGeometry);goog.exportProperty(ol.Feature.prototype,"getId",ol.Feature.prototype.getId);goog.exportProperty(ol.Feature.prototype,"getGeometryName",ol.Feature.prototype.getGeometryName);goog.exportProperty(ol.Feature.prototype,"getStyle",ol.Feature.prototype.getStyle);goog.exportProperty(ol.Feature.prototype,"getStyleFunction",ol.Feature.prototype.getStyleFunction);goog.exportProperty(ol.Feature.prototype,"setGeometry",ol.Feature.prototype.setGeometry);goog.exportProperty(ol.Feature.prototype,"setStyle",ol.Feature.prototype.setStyle);goog.exportProperty(ol.Feature.prototype,"setId",ol.Feature.prototype.setId);goog.exportProperty(ol.Feature.prototype,"setGeometryName",ol.Feature.prototype.setGeometryName);goog.exportSymbol("ol.featureloader.tile",ol.featureloader.tile,OPENLAYERS);goog.exportSymbol("ol.featureloader.xhr",ol.featureloader.xhr,OPENLAYERS);goog.exportSymbol("ol.Geolocation",ol.Geolocation,OPENLAYERS);goog.exportProperty(ol.Geolocation.prototype,"getAccuracy",ol.Geolocation.prototype.getAccuracy);goog.exportProperty(ol.Geolocation.prototype,"getAccuracyGeometry",ol.Geolocation.prototype.getAccuracyGeometry);goog.exportProperty(ol.Geolocation.prototype,"getAltitude",ol.Geolocation.prototype.getAltitude);goog.exportProperty(ol.Geolocation.prototype,"getAltitudeAccuracy",ol.Geolocation.prototype.getAltitudeAccuracy);goog.exportProperty(ol.Geolocation.prototype,"getHeading",ol.Geolocation.prototype.getHeading);goog.exportProperty(ol.Geolocation.prototype,"getPosition",ol.Geolocation.prototype.getPosition);goog.exportProperty(ol.Geolocation.prototype,"getProjection",ol.Geolocation.prototype.getProjection);goog.exportProperty(ol.Geolocation.prototype,"getSpeed",ol.Geolocation.prototype.getSpeed);goog.exportProperty(ol.Geolocation.prototype,"getTracking",ol.Geolocation.prototype.getTracking);goog.exportProperty(ol.Geolocation.prototype,"getTrackingOptions",ol.Geolocation.prototype.getTrackingOptions);goog.exportProperty(ol.Geolocation.prototype,"setProjection",ol.Geolocation.prototype.setProjection);goog.exportProperty(ol.Geolocation.prototype,"setTracking",ol.Geolocation.prototype.setTracking);goog.exportProperty(ol.Geolocation.prototype,"setTrackingOptions",ol.Geolocation.prototype.setTrackingOptions);goog.exportSymbol("ol.Graticule",ol.Graticule,OPENLAYERS);goog.exportProperty(ol.Graticule.prototype,"getMap",ol.Graticule.prototype.getMap);goog.exportProperty(ol.Graticule.prototype,"getMeridians",ol.Graticule.prototype.getMeridians);goog.exportProperty(ol.Graticule.prototype,"getParallels",ol.Graticule.prototype.getParallels);goog.exportProperty(ol.Graticule.prototype,"setMap",ol.Graticule.prototype.setMap);goog.exportSymbol("ol.has.DEVICE_PIXEL_RATIO",ol.has.DEVICE_PIXEL_RATIO,OPENLAYERS);goog.exportSymbol("ol.has.CANVAS",ol.has.CANVAS,OPENLAYERS);goog.exportSymbol("ol.has.DEVICE_ORIENTATION",ol.has.DEVICE_ORIENTATION,OPENLAYERS);goog.exportSymbol("ol.has.GEOLOCATION",ol.has.GEOLOCATION,OPENLAYERS);goog.exportSymbol("ol.has.TOUCH",ol.has.TOUCH,OPENLAYERS);goog.exportSymbol("ol.has.WEBGL",ol.has.WEBGL,OPENLAYERS);goog.exportProperty(ol.Image.prototype,"getImage",ol.Image.prototype.getImage);goog.exportProperty(ol.Image.prototype,"load",ol.Image.prototype.load);goog.exportProperty(ol.ImageTile.prototype,"getImage",ol.ImageTile.prototype.getImage);goog.exportProperty(ol.ImageTile.prototype,"load",ol.ImageTile.prototype.load);goog.exportSymbol("ol.inherits",ol.inherits,OPENLAYERS);goog.exportSymbol("ol.Kinetic",ol.Kinetic,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.all",ol.loadingstrategy.all,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.bbox",ol.loadingstrategy.bbox,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.tile",ol.loadingstrategy.tile,OPENLAYERS);goog.exportSymbol("ol.Map",ol.Map,OPENLAYERS);goog.exportProperty(ol.Map.prototype,"addControl",ol.Map.prototype.addControl);goog.exportProperty(ol.Map.prototype,"addInteraction",ol.Map.prototype.addInteraction);goog.exportProperty(ol.Map.prototype,"addLayer",ol.Map.prototype.addLayer);goog.exportProperty(ol.Map.prototype,"addOverlay",ol.Map.prototype.addOverlay);goog.exportProperty(ol.Map.prototype,"beforeRender",ol.Map.prototype.beforeRender);goog.exportProperty(ol.Map.prototype,"forEachFeatureAtPixel",ol.Map.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.Map.prototype,"forEachLayerAtPixel",ol.Map.prototype.forEachLayerAtPixel);goog.exportProperty(ol.Map.prototype,"hasFeatureAtPixel",ol.Map.prototype.hasFeatureAtPixel);goog.exportProperty(ol.Map.prototype,"getEventCoordinate",ol.Map.prototype.getEventCoordinate);goog.exportProperty(ol.Map.prototype,"getEventPixel",ol.Map.prototype.getEventPixel);goog.exportProperty(ol.Map.prototype,"getTarget",ol.Map.prototype.getTarget);goog.exportProperty(ol.Map.prototype,"getTargetElement",ol.Map.prototype.getTargetElement);goog.exportProperty(ol.Map.prototype,"getCoordinateFromPixel",ol.Map.prototype.getCoordinateFromPixel);goog.exportProperty(ol.Map.prototype,"getControls",ol.Map.prototype.getControls);goog.exportProperty(ol.Map.prototype,"getOverlays",ol.Map.prototype.getOverlays);goog.exportProperty(ol.Map.prototype,"getOverlayById",ol.Map.prototype.getOverlayById);goog.exportProperty(ol.Map.prototype,"getInteractions",ol.Map.prototype.getInteractions);goog.exportProperty(ol.Map.prototype,"getLayerGroup",ol.Map.prototype.getLayerGroup);goog.exportProperty(ol.Map.prototype,"getLayers",ol.Map.prototype.getLayers);
goog.exportProperty(ol.Map.prototype,"getPixelFromCoordinate",ol.Map.prototype.getPixelFromCoordinate);goog.exportProperty(ol.Map.prototype,"getSize",ol.Map.prototype.getSize);goog.exportProperty(ol.Map.prototype,"getView",ol.Map.prototype.getView);goog.exportProperty(ol.Map.prototype,"getViewport",ol.Map.prototype.getViewport);goog.exportProperty(ol.Map.prototype,"renderSync",ol.Map.prototype.renderSync);goog.exportProperty(ol.Map.prototype,"render",ol.Map.prototype.render);goog.exportProperty(ol.Map.prototype,"removeControl",ol.Map.prototype.removeControl);goog.exportProperty(ol.Map.prototype,"removeInteraction",ol.Map.prototype.removeInteraction);goog.exportProperty(ol.Map.prototype,"removeLayer",ol.Map.prototype.removeLayer);goog.exportProperty(ol.Map.prototype,"removeOverlay",ol.Map.prototype.removeOverlay);goog.exportProperty(ol.Map.prototype,"setLayerGroup",ol.Map.prototype.setLayerGroup);goog.exportProperty(ol.Map.prototype,"setSize",ol.Map.prototype.setSize);goog.exportProperty(ol.Map.prototype,"setTarget",ol.Map.prototype.setTarget);goog.exportProperty(ol.Map.prototype,"setView",ol.Map.prototype.setView);goog.exportProperty(ol.Map.prototype,"updateSize",ol.Map.prototype.updateSize);goog.exportProperty(ol.MapBrowserEvent.prototype,"originalEvent",ol.MapBrowserEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserEvent.prototype,"pixel",ol.MapBrowserEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserEvent.prototype,"coordinate",ol.MapBrowserEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserEvent.prototype,"dragging",ol.MapBrowserEvent.prototype.dragging);goog.exportProperty(ol.MapEvent.prototype,"map",ol.MapEvent.prototype.map);goog.exportProperty(ol.MapEvent.prototype,"frameState",ol.MapEvent.prototype.frameState);goog.exportProperty(ol.ObjectEvent.prototype,"key",ol.ObjectEvent.prototype.key);goog.exportProperty(ol.ObjectEvent.prototype,"oldValue",ol.ObjectEvent.prototype.oldValue);goog.exportSymbol("ol.Object",ol.Object,OPENLAYERS);goog.exportProperty(ol.Object.prototype,"get",ol.Object.prototype.get);goog.exportProperty(ol.Object.prototype,"getKeys",ol.Object.prototype.getKeys);goog.exportProperty(ol.Object.prototype,"getProperties",ol.Object.prototype.getProperties);goog.exportProperty(ol.Object.prototype,"set",ol.Object.prototype.set);goog.exportProperty(ol.Object.prototype,"setProperties",ol.Object.prototype.setProperties);goog.exportProperty(ol.Object.prototype,"unset",ol.Object.prototype.unset);goog.exportSymbol("ol.Observable",ol.Observable,OPENLAYERS);goog.exportSymbol("ol.Observable.unByKey",ol.Observable.unByKey,OPENLAYERS);goog.exportProperty(ol.Observable.prototype,"changed",ol.Observable.prototype.changed);goog.exportProperty(ol.Observable.prototype,"dispatchEvent",ol.Observable.prototype.dispatchEvent);goog.exportProperty(ol.Observable.prototype,"getRevision",ol.Observable.prototype.getRevision);goog.exportProperty(ol.Observable.prototype,"on",ol.Observable.prototype.on);goog.exportProperty(ol.Observable.prototype,"once",ol.Observable.prototype.once);goog.exportProperty(ol.Observable.prototype,"un",ol.Observable.prototype.un);goog.exportProperty(ol.Observable.prototype,"unByKey",ol.Observable.prototype.unByKey);goog.exportSymbol("ol.Overlay",ol.Overlay,OPENLAYERS);goog.exportProperty(ol.Overlay.prototype,"getElement",ol.Overlay.prototype.getElement);goog.exportProperty(ol.Overlay.prototype,"getId",ol.Overlay.prototype.getId);goog.exportProperty(ol.Overlay.prototype,"getMap",ol.Overlay.prototype.getMap);goog.exportProperty(ol.Overlay.prototype,"getOffset",ol.Overlay.prototype.getOffset);goog.exportProperty(ol.Overlay.prototype,"getPosition",ol.Overlay.prototype.getPosition);goog.exportProperty(ol.Overlay.prototype,"getPositioning",ol.Overlay.prototype.getPositioning);goog.exportProperty(ol.Overlay.prototype,"setElement",ol.Overlay.prototype.setElement);goog.exportProperty(ol.Overlay.prototype,"setMap",ol.Overlay.prototype.setMap);goog.exportProperty(ol.Overlay.prototype,"setOffset",ol.Overlay.prototype.setOffset);goog.exportProperty(ol.Overlay.prototype,"setPosition",ol.Overlay.prototype.setPosition);goog.exportProperty(ol.Overlay.prototype,"setPositioning",ol.Overlay.prototype.setPositioning);goog.exportSymbol("ol.render.toContext",ol.render.toContext,OPENLAYERS);goog.exportSymbol("ol.size.toSize",ol.size.toSize,OPENLAYERS);goog.exportProperty(ol.Tile.prototype,"getTileCoord",ol.Tile.prototype.getTileCoord);goog.exportProperty(ol.Tile.prototype,"load",ol.Tile.prototype.load);goog.exportProperty(ol.VectorTile.prototype,"getFormat",ol.VectorTile.prototype.getFormat);goog.exportProperty(ol.VectorTile.prototype,"setFeatures",ol.VectorTile.prototype.setFeatures);goog.exportProperty(ol.VectorTile.prototype,"setProjection",ol.VectorTile.prototype.setProjection);goog.exportProperty(ol.VectorTile.prototype,"setLoader",ol.VectorTile.prototype.setLoader);goog.exportSymbol("ol.View",ol.View,OPENLAYERS);goog.exportProperty(ol.View.prototype,"constrainCenter",ol.View.prototype.constrainCenter);goog.exportProperty(ol.View.prototype,"constrainResolution",ol.View.prototype.constrainResolution);goog.exportProperty(ol.View.prototype,"constrainRotation",ol.View.prototype.constrainRotation);goog.exportProperty(ol.View.prototype,"getCenter",ol.View.prototype.getCenter);goog.exportProperty(ol.View.prototype,"calculateExtent",ol.View.prototype.calculateExtent);goog.exportProperty(ol.View.prototype,"getMaxResolution",ol.View.prototype.getMaxResolution);goog.exportProperty(ol.View.prototype,"getMinResolution",ol.View.prototype.getMinResolution);goog.exportProperty(ol.View.prototype,"getProjection",ol.View.prototype.getProjection);goog.exportProperty(ol.View.prototype,"getResolution",ol.View.prototype.getResolution);goog.exportProperty(ol.View.prototype,"getResolutions",ol.View.prototype.getResolutions);goog.exportProperty(ol.View.prototype,"getRotation",ol.View.prototype.getRotation);goog.exportProperty(ol.View.prototype,"getZoom",ol.View.prototype.getZoom);goog.exportProperty(ol.View.prototype,"fit",ol.View.prototype.fit);goog.exportProperty(ol.View.prototype,"centerOn",ol.View.prototype.centerOn);goog.exportProperty(ol.View.prototype,"rotate",ol.View.prototype.rotate);goog.exportProperty(ol.View.prototype,"setCenter",ol.View.prototype.setCenter);goog.exportProperty(ol.View.prototype,"setResolution",ol.View.prototype.setResolution);goog.exportProperty(ol.View.prototype,"setRotation",ol.View.prototype.setRotation);goog.exportProperty(ol.View.prototype,"setZoom",ol.View.prototype.setZoom);goog.exportSymbol("ol.xml.getAllTextContent",ol.xml.getAllTextContent,OPENLAYERS);goog.exportSymbol("ol.xml.parse",ol.xml.parse,OPENLAYERS);goog.exportProperty(ol.webgl.Context.prototype,"getGL",ol.webgl.Context.prototype.getGL);goog.exportProperty(ol.webgl.Context.prototype,"useProgram",ol.webgl.Context.prototype.useProgram);goog.exportSymbol("ol.tilegrid.createXYZ",ol.tilegrid.createXYZ,OPENLAYERS);goog.exportSymbol("ol.tilegrid.TileGrid",ol.tilegrid.TileGrid,OPENLAYERS);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"forEachTileCoord",ol.tilegrid.TileGrid.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMaxZoom",ol.tilegrid.TileGrid.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMinZoom",ol.tilegrid.TileGrid.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getOrigin",ol.tilegrid.TileGrid.prototype.getOrigin);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolution",ol.tilegrid.TileGrid.prototype.getResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolutions",ol.tilegrid.TileGrid.prototype.getResolutions);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordExtent",ol.tilegrid.TileGrid.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileSize",ol.tilegrid.TileGrid.prototype.getTileSize);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getZForResolution",ol.tilegrid.TileGrid.prototype.getZForResolution);goog.exportSymbol("ol.tilegrid.WMTS",ol.tilegrid.WMTS,OPENLAYERS);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMatrixIds",ol.tilegrid.WMTS.prototype.getMatrixIds);goog.exportSymbol("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet,OPENLAYERS);goog.exportSymbol("ol.style.AtlasManager",ol.style.AtlasManager,OPENLAYERS);goog.exportSymbol("ol.style.Circle",ol.style.Circle,OPENLAYERS);goog.exportProperty(ol.style.Circle.prototype,"getFill",ol.style.Circle.prototype.getFill);goog.exportProperty(ol.style.Circle.prototype,"getImage",ol.style.Circle.prototype.getImage);goog.exportProperty(ol.style.Circle.prototype,"getRadius",ol.style.Circle.prototype.getRadius);goog.exportProperty(ol.style.Circle.prototype,"getStroke",ol.style.Circle.prototype.getStroke);goog.exportSymbol("ol.style.Fill",ol.style.Fill,OPENLAYERS);goog.exportProperty(ol.style.Fill.prototype,"getColor",ol.style.Fill.prototype.getColor);goog.exportProperty(ol.style.Fill.prototype,"setColor",ol.style.Fill.prototype.setColor);goog.exportSymbol("ol.style.Icon",ol.style.Icon,OPENLAYERS);goog.exportProperty(ol.style.Icon.prototype,"getAnchor",ol.style.Icon.prototype.getAnchor);goog.exportProperty(ol.style.Icon.prototype,"getImage",ol.style.Icon.prototype.getImage);goog.exportProperty(ol.style.Icon.prototype,"getOrigin",ol.style.Icon.prototype.getOrigin);goog.exportProperty(ol.style.Icon.prototype,"getSrc",ol.style.Icon.prototype.getSrc);goog.exportProperty(ol.style.Icon.prototype,"getSize",ol.style.Icon.prototype.getSize);goog.exportProperty(ol.style.Icon.prototype,"load",ol.style.Icon.prototype.load);goog.exportSymbol("ol.style.Image",ol.style.Image,OPENLAYERS);goog.exportProperty(ol.style.Image.prototype,"getOpacity",ol.style.Image.prototype.getOpacity);goog.exportProperty(ol.style.Image.prototype,"getRotateWithView",ol.style.Image.prototype.getRotateWithView);goog.exportProperty(ol.style.Image.prototype,"getRotation",ol.style.Image.prototype.getRotation);goog.exportProperty(ol.style.Image.prototype,"getScale",ol.style.Image.prototype.getScale);goog.exportProperty(ol.style.Image.prototype,"getSnapToPixel",ol.style.Image.prototype.getSnapToPixel);goog.exportProperty(ol.style.Image.prototype,"setOpacity",ol.style.Image.prototype.setOpacity);goog.exportProperty(ol.style.Image.prototype,"setRotation",ol.style.Image.prototype.setRotation);goog.exportProperty(ol.style.Image.prototype,"setScale",ol.style.Image.prototype.setScale);goog.exportSymbol("ol.style.RegularShape",ol.style.RegularShape,OPENLAYERS);goog.exportProperty(ol.style.RegularShape.prototype,"getAnchor",ol.style.RegularShape.prototype.getAnchor);goog.exportProperty(ol.style.RegularShape.prototype,"getAngle",ol.style.RegularShape.prototype.getAngle);goog.exportProperty(ol.style.RegularShape.prototype,"getFill",ol.style.RegularShape.prototype.getFill);goog.exportProperty(ol.style.RegularShape.prototype,"getImage",ol.style.RegularShape.prototype.getImage);goog.exportProperty(ol.style.RegularShape.prototype,"getOrigin",ol.style.RegularShape.prototype.getOrigin);goog.exportProperty(ol.style.RegularShape.prototype,"getPoints",ol.style.RegularShape.prototype.getPoints);goog.exportProperty(ol.style.RegularShape.prototype,"getRadius",ol.style.RegularShape.prototype.getRadius);goog.exportProperty(ol.style.RegularShape.prototype,"getRadius2",ol.style.RegularShape.prototype.getRadius2);goog.exportProperty(ol.style.RegularShape.prototype,"getSize",ol.style.RegularShape.prototype.getSize);goog.exportProperty(ol.style.RegularShape.prototype,"getStroke",ol.style.RegularShape.prototype.getStroke);goog.exportSymbol("ol.style.Stroke",ol.style.Stroke,OPENLAYERS);goog.exportProperty(ol.style.Stroke.prototype,"getColor",ol.style.Stroke.prototype.getColor);goog.exportProperty(ol.style.Stroke.prototype,"getLineCap",ol.style.Stroke.prototype.getLineCap);goog.exportProperty(ol.style.Stroke.prototype,"getLineDash",ol.style.Stroke.prototype.getLineDash);goog.exportProperty(ol.style.Stroke.prototype,"getLineJoin",ol.style.Stroke.prototype.getLineJoin);goog.exportProperty(ol.style.Stroke.prototype,"getMiterLimit",ol.style.Stroke.prototype.getMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,"getWidth",ol.style.Stroke.prototype.getWidth);goog.exportProperty(ol.style.Stroke.prototype,"setColor",ol.style.Stroke.prototype.setColor);goog.exportProperty(ol.style.Stroke.prototype,"setLineCap",ol.style.Stroke.prototype.setLineCap);goog.exportProperty(ol.style.Stroke.prototype,"setLineDash",ol.style.Stroke.prototype.setLineDash);goog.exportProperty(ol.style.Stroke.prototype,"setLineJoin",ol.style.Stroke.prototype.setLineJoin);goog.exportProperty(ol.style.Stroke.prototype,"setMiterLimit",ol.style.Stroke.prototype.setMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,"setWidth",ol.style.Stroke.prototype.setWidth);goog.exportSymbol("ol.style.Style",ol.style.Style,OPENLAYERS);goog.exportProperty(ol.style.Style.prototype,"getGeometry",ol.style.Style.prototype.getGeometry);goog.exportProperty(ol.style.Style.prototype,"getGeometryFunction",ol.style.Style.prototype.getGeometryFunction);goog.exportProperty(ol.style.Style.prototype,"getFill",ol.style.Style.prototype.getFill);goog.exportProperty(ol.style.Style.prototype,"getImage",ol.style.Style.prototype.getImage);goog.exportProperty(ol.style.Style.prototype,"getStroke",ol.style.Style.prototype.getStroke);goog.exportProperty(ol.style.Style.prototype,"getText",ol.style.Style.prototype.getText);goog.exportProperty(ol.style.Style.prototype,"getZIndex",ol.style.Style.prototype.getZIndex);goog.exportProperty(ol.style.Style.prototype,"setGeometry",ol.style.Style.prototype.setGeometry);goog.exportProperty(ol.style.Style.prototype,"setZIndex",ol.style.Style.prototype.setZIndex);goog.exportSymbol("ol.style.Text",ol.style.Text,OPENLAYERS);goog.exportProperty(ol.style.Text.prototype,"getFont",ol.style.Text.prototype.getFont);goog.exportProperty(ol.style.Text.prototype,"getOffsetX",ol.style.Text.prototype.getOffsetX);goog.exportProperty(ol.style.Text.prototype,"getOffsetY",ol.style.Text.prototype.getOffsetY);goog.exportProperty(ol.style.Text.prototype,"getFill",ol.style.Text.prototype.getFill);goog.exportProperty(ol.style.Text.prototype,"getRotateWithView",ol.style.Text.prototype.getRotateWithView);goog.exportProperty(ol.style.Text.prototype,"getRotation",ol.style.Text.prototype.getRotation);goog.exportProperty(ol.style.Text.prototype,"getScale",ol.style.Text.prototype.getScale);goog.exportProperty(ol.style.Text.prototype,"getStroke",ol.style.Text.prototype.getStroke);goog.exportProperty(ol.style.Text.prototype,"getText",ol.style.Text.prototype.getText);goog.exportProperty(ol.style.Text.prototype,"getTextAlign",ol.style.Text.prototype.getTextAlign);goog.exportProperty(ol.style.Text.prototype,"getTextBaseline",ol.style.Text.prototype.getTextBaseline);goog.exportProperty(ol.style.Text.prototype,"setFont",ol.style.Text.prototype.setFont);goog.exportProperty(ol.style.Text.prototype,"setOffsetX",ol.style.Text.prototype.setOffsetX);goog.exportProperty(ol.style.Text.prototype,"setOffsetY",ol.style.Text.prototype.setOffsetY);goog.exportProperty(ol.style.Text.prototype,"setFill",ol.style.Text.prototype.setFill);goog.exportProperty(ol.style.Text.prototype,"setRotation",ol.style.Text.prototype.setRotation);goog.exportProperty(ol.style.Text.prototype,"setScale",ol.style.Text.prototype.setScale);goog.exportProperty(ol.style.Text.prototype,"setStroke",ol.style.Text.prototype.setStroke);goog.exportProperty(ol.style.Text.prototype,"setText",ol.style.Text.prototype.setText);goog.exportProperty(ol.style.Text.prototype,"setTextAlign",ol.style.Text.prototype.setTextAlign);goog.exportProperty(ol.style.Text.prototype,"setTextBaseline",ol.style.Text.prototype.setTextBaseline);goog.exportSymbol("ol.Sphere",ol.Sphere,OPENLAYERS);goog.exportProperty(ol.Sphere.prototype,"geodesicArea",ol.Sphere.prototype.geodesicArea);goog.exportProperty(ol.Sphere.prototype,"haversineDistance",ol.Sphere.prototype.haversineDistance);goog.exportSymbol("ol.source.BingMaps",ol.source.BingMaps,OPENLAYERS);goog.exportSymbol("ol.source.BingMaps.TOS_ATTRIBUTION",ol.source.BingMaps.TOS_ATTRIBUTION,OPENLAYERS);goog.exportSymbol("ol.source.CartoDB",ol.source.CartoDB,OPENLAYERS);goog.exportProperty(ol.source.CartoDB.prototype,"getConfig",ol.source.CartoDB.prototype.getConfig);goog.exportProperty(ol.source.CartoDB.prototype,"updateConfig",ol.source.CartoDB.prototype.updateConfig);goog.exportProperty(ol.source.CartoDB.prototype,"setConfig",ol.source.CartoDB.prototype.setConfig);goog.exportSymbol("ol.source.Cluster",ol.source.Cluster,OPENLAYERS);goog.exportProperty(ol.source.Cluster.prototype,"getSource",ol.source.Cluster.prototype.getSource);goog.exportProperty(ol.source.Cluster.prototype,"setDistance",ol.source.Cluster.prototype.setDistance);goog.exportSymbol("ol.source.Image",ol.source.Image,OPENLAYERS);goog.exportProperty(ol.source.ImageEvent.prototype,"image",ol.source.ImageEvent.prototype.image);goog.exportSymbol("ol.source.ImageArcGISRest",ol.source.ImageArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getParams",ol.source.ImageArcGISRest.prototype.getParams);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getImageLoadFunction",ol.source.ImageArcGISRest.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getUrl",ol.source.ImageArcGISRest.prototype.getUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setImageLoadFunction",ol.source.ImageArcGISRest.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setUrl",ol.source.ImageArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"updateParams",ol.source.ImageArcGISRest.prototype.updateParams);goog.exportSymbol("ol.source.ImageCanvas",ol.source.ImageCanvas,OPENLAYERS);goog.exportSymbol("ol.source.ImageMapGuide",ol.source.ImageMapGuide,OPENLAYERS);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getParams",ol.source.ImageMapGuide.prototype.getParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getImageLoadFunction",ol.source.ImageMapGuide.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageMapGuide.prototype,"updateParams",ol.source.ImageMapGuide.prototype.updateParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setImageLoadFunction",ol.source.ImageMapGuide.prototype.setImageLoadFunction);goog.exportSymbol("ol.source.ImageStatic",ol.source.ImageStatic,OPENLAYERS);goog.exportSymbol("ol.source.ImageVector",ol.source.ImageVector,OPENLAYERS);goog.exportProperty(ol.source.ImageVector.prototype,"getSource",ol.source.ImageVector.prototype.getSource);goog.exportProperty(ol.source.ImageVector.prototype,"getStyle",ol.source.ImageVector.prototype.getStyle);goog.exportProperty(ol.source.ImageVector.prototype,"getStyleFunction",ol.source.ImageVector.prototype.getStyleFunction);goog.exportProperty(ol.source.ImageVector.prototype,"setStyle",ol.source.ImageVector.prototype.setStyle);goog.exportSymbol("ol.source.ImageWMS",ol.source.ImageWMS,OPENLAYERS);goog.exportProperty(ol.source.ImageWMS.prototype,"getGetFeatureInfoUrl",ol.source.ImageWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"getParams",ol.source.ImageWMS.prototype.getParams);goog.exportProperty(ol.source.ImageWMS.prototype,"getImageLoadFunction",ol.source.ImageWMS.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,"getUrl",ol.source.ImageWMS.prototype.getUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"setImageLoadFunction",ol.source.ImageWMS.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,"setUrl",ol.source.ImageWMS.prototype.setUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"updateParams",ol.source.ImageWMS.prototype.updateParams);goog.exportSymbol("ol.source.OSM",ol.source.OSM,OPENLAYERS);goog.exportSymbol("ol.source.OSM.ATTRIBUTION",ol.source.OSM.ATTRIBUTION,OPENLAYERS);goog.exportSymbol("ol.source.Raster",ol.source.Raster,OPENLAYERS);goog.exportProperty(ol.source.Raster.prototype,"setOperation",ol.source.Raster.prototype.setOperation);goog.exportProperty(ol.source.RasterEvent.prototype,"extent",ol.source.RasterEvent.prototype.extent);goog.exportProperty(ol.source.RasterEvent.prototype,"resolution",ol.source.RasterEvent.prototype.resolution);goog.exportProperty(ol.source.RasterEvent.prototype,"data",ol.source.RasterEvent.prototype.data);goog.exportSymbol("ol.source.Source",ol.source.Source,OPENLAYERS);goog.exportProperty(ol.source.Source.prototype,"getAttributions",ol.source.Source.prototype.getAttributions);goog.exportProperty(ol.source.Source.prototype,"getLogo",ol.source.Source.prototype.getLogo);goog.exportProperty(ol.source.Source.prototype,"getProjection",ol.source.Source.prototype.getProjection);goog.exportProperty(ol.source.Source.prototype,"getState",ol.source.Source.prototype.getState);goog.exportProperty(ol.source.Source.prototype,"refresh",ol.source.Source.prototype.refresh);goog.exportProperty(ol.source.Source.prototype,"setAttributions",ol.source.Source.prototype.setAttributions);goog.exportSymbol("ol.source.Stamen",ol.source.Stamen,OPENLAYERS);goog.exportSymbol("ol.source.Tile",ol.source.Tile,OPENLAYERS);goog.exportProperty(ol.source.Tile.prototype,"getTileGrid",ol.source.Tile.prototype.getTileGrid);goog.exportProperty(ol.source.TileEvent.prototype,"tile",ol.source.TileEvent.prototype.tile);goog.exportSymbol("ol.source.TileArcGISRest",ol.source.TileArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getParams",ol.source.TileArcGISRest.prototype.getParams);goog.exportProperty(ol.source.TileArcGISRest.prototype,"updateParams",ol.source.TileArcGISRest.prototype.updateParams);goog.exportSymbol("ol.source.TileDebug",ol.source.TileDebug,OPENLAYERS);goog.exportSymbol("ol.source.TileImage",ol.source.TileImage,OPENLAYERS);goog.exportProperty(ol.source.TileImage.prototype,"setRenderReprojectionEdges",ol.source.TileImage.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileImage.prototype,"setTileGridForProjection",ol.source.TileImage.prototype.setTileGridForProjection);goog.exportSymbol("ol.source.TileJSON",ol.source.TileJSON,OPENLAYERS);goog.exportProperty(ol.source.TileJSON.prototype,"getTileJSON",ol.source.TileJSON.prototype.getTileJSON);goog.exportSymbol("ol.source.TileUTFGrid",ol.source.TileUTFGrid,OPENLAYERS);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTemplate",ol.source.TileUTFGrid.prototype.getTemplate);goog.exportProperty(ol.source.TileUTFGrid.prototype,"forDataAtCoordinateAndResolution",ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution);goog.exportSymbol("ol.source.TileWMS",ol.source.TileWMS,OPENLAYERS);goog.exportProperty(ol.source.TileWMS.prototype,"getGetFeatureInfoUrl",ol.source.TileWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.TileWMS.prototype,"getParams",ol.source.TileWMS.prototype.getParams);goog.exportProperty(ol.source.TileWMS.prototype,"updateParams",ol.source.TileWMS.prototype.updateParams);goog.exportProperty(ol.source.UrlTile.prototype,"getTileLoadFunction",ol.source.UrlTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,"getTileUrlFunction",ol.source.UrlTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,"getUrls",ol.source.UrlTile.prototype.getUrls);goog.exportProperty(ol.source.UrlTile.prototype,"setTileLoadFunction",ol.source.UrlTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,"setTileUrlFunction",ol.source.UrlTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,"setUrl",ol.source.UrlTile.prototype.setUrl);goog.exportProperty(ol.source.UrlTile.prototype,"setUrls",ol.source.UrlTile.prototype.setUrls);goog.exportSymbol("ol.source.Vector",ol.source.Vector,OPENLAYERS);goog.exportProperty(ol.source.Vector.prototype,"addFeature",ol.source.Vector.prototype.addFeature);goog.exportProperty(ol.source.Vector.prototype,"addFeatures",ol.source.Vector.prototype.addFeatures);goog.exportProperty(ol.source.Vector.prototype,"clear",ol.source.Vector.prototype.clear);goog.exportProperty(ol.source.Vector.prototype,"forEachFeature",ol.source.Vector.prototype.forEachFeature);goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureInExtent",ol.source.Vector.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureIntersectingExtent",ol.source.Vector.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesCollection",ol.source.Vector.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Vector.prototype,"getFeatures",ol.source.Vector.prototype.getFeatures);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesAtCoordinate",ol.source.Vector.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesInExtent",ol.source.Vector.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Vector.prototype,"getClosestFeatureToCoordinate",ol.source.Vector.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Vector.prototype,"getExtent",ol.source.Vector.prototype.getExtent);goog.exportProperty(ol.source.Vector.prototype,"getFeatureById",ol.source.Vector.prototype.getFeatureById);goog.exportProperty(ol.source.Vector.prototype,"getFormat",ol.source.Vector.prototype.getFormat);goog.exportProperty(ol.source.Vector.prototype,"getUrl",ol.source.Vector.prototype.getUrl);goog.exportProperty(ol.source.Vector.prototype,"removeFeature",ol.source.Vector.prototype.removeFeature);goog.exportProperty(ol.source.VectorEvent.prototype,"feature",ol.source.VectorEvent.prototype.feature);goog.exportSymbol("ol.source.VectorTile",ol.source.VectorTile,OPENLAYERS);goog.exportSymbol("ol.source.WMTS",ol.source.WMTS,OPENLAYERS);goog.exportProperty(ol.source.WMTS.prototype,"getDimensions",ol.source.WMTS.prototype.getDimensions);goog.exportProperty(ol.source.WMTS.prototype,"getFormat",ol.source.WMTS.prototype.getFormat);goog.exportProperty(ol.source.WMTS.prototype,"getLayer",ol.source.WMTS.prototype.getLayer);goog.exportProperty(ol.source.WMTS.prototype,"getMatrixSet",ol.source.WMTS.prototype.getMatrixSet);goog.exportProperty(ol.source.WMTS.prototype,"getRequestEncoding",ol.source.WMTS.prototype.getRequestEncoding);goog.exportProperty(ol.source.WMTS.prototype,"getStyle",ol.source.WMTS.prototype.getStyle);goog.exportProperty(ol.source.WMTS.prototype,"getVersion",ol.source.WMTS.prototype.getVersion);goog.exportProperty(ol.source.WMTS.prototype,"updateDimensions",ol.source.WMTS.prototype.updateDimensions);goog.exportSymbol("ol.source.WMTS.optionsFromCapabilities",ol.source.WMTS.optionsFromCapabilities,OPENLAYERS);goog.exportSymbol("ol.source.XYZ",ol.source.XYZ,OPENLAYERS);goog.exportSymbol("ol.source.Zoomify",ol.source.Zoomify,OPENLAYERS);goog.exportProperty(ol.render.Event.prototype,"vectorContext",ol.render.Event.prototype.vectorContext);goog.exportProperty(ol.render.Event.prototype,"frameState",ol.render.Event.prototype.frameState);goog.exportProperty(ol.render.Event.prototype,"context",ol.render.Event.prototype.context);goog.exportProperty(ol.render.Event.prototype,"glContext",ol.render.Event.prototype.glContext);goog.exportProperty(ol.render.Feature.prototype,"get",ol.render.Feature.prototype.get);goog.exportProperty(ol.render.Feature.prototype,"getExtent",ol.render.Feature.prototype.getExtent);goog.exportProperty(ol.render.Feature.prototype,"getGeometry",ol.render.Feature.prototype.getGeometry);goog.exportProperty(ol.render.Feature.prototype,"getProperties",ol.render.Feature.prototype.getProperties);goog.exportProperty(ol.render.Feature.prototype,"getType",ol.render.Feature.prototype.getType);goog.exportSymbol("ol.render.VectorContext",ol.render.VectorContext,OPENLAYERS);goog.exportProperty(ol.render.webgl.Immediate.prototype,"setStyle",ol.render.webgl.Immediate.prototype.setStyle);goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawGeometry",ol.render.webgl.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawFeature",ol.render.webgl.Immediate.prototype.drawFeature);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawCircle",ol.render.canvas.Immediate.prototype.drawCircle);goog.exportProperty(ol.render.canvas.Immediate.prototype,"setStyle",ol.render.canvas.Immediate.prototype.setStyle);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawGeometry",ol.render.canvas.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawFeature",ol.render.canvas.Immediate.prototype.drawFeature);goog.exportSymbol("ol.proj.common.add",ol.proj.common.add,OPENLAYERS);goog.exportSymbol("ol.proj.METERS_PER_UNIT",ol.proj.METERS_PER_UNIT,OPENLAYERS);goog.exportSymbol("ol.proj.Projection",ol.proj.Projection,OPENLAYERS);goog.exportProperty(ol.proj.Projection.prototype,"getCode",ol.proj.Projection.prototype.getCode);goog.exportProperty(ol.proj.Projection.prototype,"getExtent",ol.proj.Projection.prototype.getExtent);goog.exportProperty(ol.proj.Projection.prototype,"getUnits",ol.proj.Projection.prototype.getUnits);goog.exportProperty(ol.proj.Projection.prototype,"getMetersPerUnit",ol.proj.Projection.prototype.getMetersPerUnit);goog.exportProperty(ol.proj.Projection.prototype,"getWorldExtent",ol.proj.Projection.prototype.getWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,"isGlobal",ol.proj.Projection.prototype.isGlobal);goog.exportProperty(ol.proj.Projection.prototype,"setGlobal",ol.proj.Projection.prototype.setGlobal);goog.exportProperty(ol.proj.Projection.prototype,"setExtent",ol.proj.Projection.prototype.setExtent);goog.exportProperty(ol.proj.Projection.prototype,"setWorldExtent",ol.proj.Projection.prototype.setWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,"setGetPointResolution",ol.proj.Projection.prototype.setGetPointResolution);goog.exportProperty(ol.proj.Projection.prototype,"getPointResolution",ol.proj.Projection.prototype.getPointResolution);goog.exportSymbol("ol.proj.setProj4",ol.proj.setProj4,OPENLAYERS);goog.exportSymbol("ol.proj.addEquivalentProjections",ol.proj.addEquivalentProjections,OPENLAYERS);goog.exportSymbol("ol.proj.addProjection",ol.proj.addProjection,OPENLAYERS);goog.exportSymbol("ol.proj.addCoordinateTransforms",ol.proj.addCoordinateTransforms,OPENLAYERS);goog.exportSymbol("ol.proj.fromLonLat",ol.proj.fromLonLat,OPENLAYERS);goog.exportSymbol("ol.proj.toLonLat",ol.proj.toLonLat,OPENLAYERS);goog.exportSymbol("ol.proj.get",ol.proj.get,OPENLAYERS);goog.exportSymbol("ol.proj.equivalent",ol.proj.equivalent,OPENLAYERS);goog.exportSymbol("ol.proj.getTransform",ol.proj.getTransform,OPENLAYERS);goog.exportSymbol("ol.proj.transform",ol.proj.transform,OPENLAYERS);goog.exportSymbol("ol.proj.transformExtent",ol.proj.transformExtent,OPENLAYERS);goog.exportSymbol("ol.layer.Base",ol.layer.Base,OPENLAYERS);goog.exportProperty(ol.layer.Base.prototype,"getExtent",ol.layer.Base.prototype.getExtent);goog.exportProperty(ol.layer.Base.prototype,"getMaxResolution",ol.layer.Base.prototype.getMaxResolution);goog.exportProperty(ol.layer.Base.prototype,"getMinResolution",ol.layer.Base.prototype.getMinResolution);goog.exportProperty(ol.layer.Base.prototype,"getOpacity",ol.layer.Base.prototype.getOpacity);goog.exportProperty(ol.layer.Base.prototype,"getVisible",ol.layer.Base.prototype.getVisible);goog.exportProperty(ol.layer.Base.prototype,"getZIndex",ol.layer.Base.prototype.getZIndex);goog.exportProperty(ol.layer.Base.prototype,"setExtent",ol.layer.Base.prototype.setExtent);
goog.exportProperty(ol.layer.Base.prototype,"setMaxResolution",ol.layer.Base.prototype.setMaxResolution);goog.exportProperty(ol.layer.Base.prototype,"setMinResolution",ol.layer.Base.prototype.setMinResolution);goog.exportProperty(ol.layer.Base.prototype,"setOpacity",ol.layer.Base.prototype.setOpacity);goog.exportProperty(ol.layer.Base.prototype,"setVisible",ol.layer.Base.prototype.setVisible);goog.exportProperty(ol.layer.Base.prototype,"setZIndex",ol.layer.Base.prototype.setZIndex);goog.exportSymbol("ol.layer.Group",ol.layer.Group,OPENLAYERS);goog.exportProperty(ol.layer.Group.prototype,"getLayers",ol.layer.Group.prototype.getLayers);goog.exportProperty(ol.layer.Group.prototype,"setLayers",ol.layer.Group.prototype.setLayers);goog.exportSymbol("ol.layer.Heatmap",ol.layer.Heatmap,OPENLAYERS);goog.exportProperty(ol.layer.Heatmap.prototype,"getBlur",ol.layer.Heatmap.prototype.getBlur);goog.exportProperty(ol.layer.Heatmap.prototype,"getGradient",ol.layer.Heatmap.prototype.getGradient);goog.exportProperty(ol.layer.Heatmap.prototype,"getRadius",ol.layer.Heatmap.prototype.getRadius);goog.exportProperty(ol.layer.Heatmap.prototype,"setBlur",ol.layer.Heatmap.prototype.setBlur);goog.exportProperty(ol.layer.Heatmap.prototype,"setGradient",ol.layer.Heatmap.prototype.setGradient);goog.exportProperty(ol.layer.Heatmap.prototype,"setRadius",ol.layer.Heatmap.prototype.setRadius);goog.exportSymbol("ol.layer.Image",ol.layer.Image,OPENLAYERS);goog.exportProperty(ol.layer.Image.prototype,"getSource",ol.layer.Image.prototype.getSource);goog.exportSymbol("ol.layer.Layer",ol.layer.Layer,OPENLAYERS);goog.exportProperty(ol.layer.Layer.prototype,"getSource",ol.layer.Layer.prototype.getSource);goog.exportProperty(ol.layer.Layer.prototype,"setMap",ol.layer.Layer.prototype.setMap);goog.exportProperty(ol.layer.Layer.prototype,"setSource",ol.layer.Layer.prototype.setSource);goog.exportSymbol("ol.layer.Tile",ol.layer.Tile,OPENLAYERS);goog.exportProperty(ol.layer.Tile.prototype,"getPreload",ol.layer.Tile.prototype.getPreload);goog.exportProperty(ol.layer.Tile.prototype,"getSource",ol.layer.Tile.prototype.getSource);goog.exportProperty(ol.layer.Tile.prototype,"setPreload",ol.layer.Tile.prototype.setPreload);goog.exportProperty(ol.layer.Tile.prototype,"getUseInterimTilesOnError",ol.layer.Tile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.Tile.prototype,"setUseInterimTilesOnError",ol.layer.Tile.prototype.setUseInterimTilesOnError);goog.exportSymbol("ol.layer.Vector",ol.layer.Vector,OPENLAYERS);goog.exportProperty(ol.layer.Vector.prototype,"getSource",ol.layer.Vector.prototype.getSource);goog.exportProperty(ol.layer.Vector.prototype,"getStyle",ol.layer.Vector.prototype.getStyle);goog.exportProperty(ol.layer.Vector.prototype,"getStyleFunction",ol.layer.Vector.prototype.getStyleFunction);goog.exportProperty(ol.layer.Vector.prototype,"setStyle",ol.layer.Vector.prototype.setStyle);goog.exportSymbol("ol.layer.VectorTile",ol.layer.VectorTile,OPENLAYERS);goog.exportProperty(ol.layer.VectorTile.prototype,"getPreload",ol.layer.VectorTile.prototype.getPreload);goog.exportProperty(ol.layer.VectorTile.prototype,"getUseInterimTilesOnError",ol.layer.VectorTile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.VectorTile.prototype,"setPreload",ol.layer.VectorTile.prototype.setPreload);goog.exportProperty(ol.layer.VectorTile.prototype,"setUseInterimTilesOnError",ol.layer.VectorTile.prototype.setUseInterimTilesOnError);goog.exportSymbol("ol.interaction.DoubleClickZoom",ol.interaction.DoubleClickZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.DoubleClickZoom.handleEvent",ol.interaction.DoubleClickZoom.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.DragAndDrop",ol.interaction.DragAndDrop,OPENLAYERS);goog.exportSymbol("ol.interaction.DragAndDrop.handleEvent",ol.interaction.DragAndDrop.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"features",ol.interaction.DragAndDropEvent.prototype.features);goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"file",ol.interaction.DragAndDropEvent.prototype.file);goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"projection",ol.interaction.DragAndDropEvent.prototype.projection);goog.exportProperty(ol.DragBoxEvent.prototype,"coordinate",ol.DragBoxEvent.prototype.coordinate);goog.exportProperty(ol.DragBoxEvent.prototype,"mapBrowserEvent",ol.DragBoxEvent.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.DragBox",ol.interaction.DragBox,OPENLAYERS);goog.exportProperty(ol.interaction.DragBox.prototype,"getGeometry",ol.interaction.DragBox.prototype.getGeometry);goog.exportSymbol("ol.interaction.DragPan",ol.interaction.DragPan,OPENLAYERS);goog.exportSymbol("ol.interaction.DragRotate",ol.interaction.DragRotate,OPENLAYERS);goog.exportSymbol("ol.interaction.DragRotateAndZoom",ol.interaction.DragRotateAndZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.DragZoom",ol.interaction.DragZoom,OPENLAYERS);goog.exportProperty(ol.interaction.DrawEvent.prototype,"feature",ol.interaction.DrawEvent.prototype.feature);goog.exportSymbol("ol.interaction.Draw",ol.interaction.Draw,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw.handleEvent",ol.interaction.Draw.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Draw.prototype,"removeLastPoint",ol.interaction.Draw.prototype.removeLastPoint);goog.exportProperty(ol.interaction.Draw.prototype,"finishDrawing",ol.interaction.Draw.prototype.finishDrawing);goog.exportProperty(ol.interaction.Draw.prototype,"extend",ol.interaction.Draw.prototype.extend);goog.exportSymbol("ol.interaction.Draw.createRegularPolygon",ol.interaction.Draw.createRegularPolygon,OPENLAYERS);goog.exportSymbol("ol.interaction.defaults",ol.interaction.defaults,OPENLAYERS);goog.exportSymbol("ol.interaction.Interaction",ol.interaction.Interaction,OPENLAYERS);goog.exportProperty(ol.interaction.Interaction.prototype,"getActive",ol.interaction.Interaction.prototype.getActive);goog.exportProperty(ol.interaction.Interaction.prototype,"getMap",ol.interaction.Interaction.prototype.getMap);goog.exportProperty(ol.interaction.Interaction.prototype,"setActive",ol.interaction.Interaction.prototype.setActive);goog.exportSymbol("ol.interaction.KeyboardPan",ol.interaction.KeyboardPan,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardPan.handleEvent",ol.interaction.KeyboardPan.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardZoom",ol.interaction.KeyboardZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardZoom.handleEvent",ol.interaction.KeyboardZoom.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.ModifyEvent.prototype,"features",ol.interaction.ModifyEvent.prototype.features);goog.exportProperty(ol.interaction.ModifyEvent.prototype,"mapBrowserEvent",ol.interaction.ModifyEvent.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.Modify",ol.interaction.Modify,OPENLAYERS);goog.exportSymbol("ol.interaction.Modify.handleEvent",ol.interaction.Modify.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Modify.prototype,"removePoint",ol.interaction.Modify.prototype.removePoint);goog.exportSymbol("ol.interaction.MouseWheelZoom",ol.interaction.MouseWheelZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.MouseWheelZoom.handleEvent",ol.interaction.MouseWheelZoom.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setMouseAnchor",ol.interaction.MouseWheelZoom.prototype.setMouseAnchor);goog.exportSymbol("ol.interaction.PinchRotate",ol.interaction.PinchRotate,OPENLAYERS);goog.exportSymbol("ol.interaction.PinchZoom",ol.interaction.PinchZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.Pointer",ol.interaction.Pointer,OPENLAYERS);goog.exportSymbol("ol.interaction.Pointer.handleEvent",ol.interaction.Pointer.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.SelectEvent.prototype,"selected",ol.interaction.SelectEvent.prototype.selected);goog.exportProperty(ol.interaction.SelectEvent.prototype,"deselected",ol.interaction.SelectEvent.prototype.deselected);goog.exportProperty(ol.interaction.SelectEvent.prototype,"mapBrowserEvent",ol.interaction.SelectEvent.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.Select",ol.interaction.Select,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,"getFeatures",ol.interaction.Select.prototype.getFeatures);goog.exportProperty(ol.interaction.Select.prototype,"getLayer",ol.interaction.Select.prototype.getLayer);goog.exportSymbol("ol.interaction.Select.handleEvent",ol.interaction.Select.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,"setMap",ol.interaction.Select.prototype.setMap);goog.exportSymbol("ol.interaction.Snap",ol.interaction.Snap,OPENLAYERS);goog.exportProperty(ol.interaction.Snap.prototype,"addFeature",ol.interaction.Snap.prototype.addFeature);goog.exportProperty(ol.interaction.Snap.prototype,"removeFeature",ol.interaction.Snap.prototype.removeFeature);goog.exportProperty(ol.interaction.TranslateEvent.prototype,"features",ol.interaction.TranslateEvent.prototype.features);goog.exportProperty(ol.interaction.TranslateEvent.prototype,"coordinate",ol.interaction.TranslateEvent.prototype.coordinate);goog.exportSymbol("ol.interaction.Translate",ol.interaction.Translate,OPENLAYERS);goog.exportSymbol("ol.geom.Circle",ol.geom.Circle,OPENLAYERS);goog.exportProperty(ol.geom.Circle.prototype,"clone",ol.geom.Circle.prototype.clone);goog.exportProperty(ol.geom.Circle.prototype,"getCenter",ol.geom.Circle.prototype.getCenter);goog.exportProperty(ol.geom.Circle.prototype,"getRadius",ol.geom.Circle.prototype.getRadius);goog.exportProperty(ol.geom.Circle.prototype,"getType",ol.geom.Circle.prototype.getType);goog.exportProperty(ol.geom.Circle.prototype,"intersectsExtent",ol.geom.Circle.prototype.intersectsExtent);goog.exportProperty(ol.geom.Circle.prototype,"setCenter",ol.geom.Circle.prototype.setCenter);goog.exportProperty(ol.geom.Circle.prototype,"setCenterAndRadius",ol.geom.Circle.prototype.setCenterAndRadius);goog.exportProperty(ol.geom.Circle.prototype,"setRadius",ol.geom.Circle.prototype.setRadius);goog.exportProperty(ol.geom.Circle.prototype,"transform",ol.geom.Circle.prototype.transform);goog.exportSymbol("ol.geom.Geometry",ol.geom.Geometry,OPENLAYERS);goog.exportProperty(ol.geom.Geometry.prototype,"getClosestPoint",ol.geom.Geometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.Geometry.prototype,"intersectsCoordinate",ol.geom.Geometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Geometry.prototype,"getExtent",ol.geom.Geometry.prototype.getExtent);goog.exportProperty(ol.geom.Geometry.prototype,"rotate",ol.geom.Geometry.prototype.rotate);goog.exportProperty(ol.geom.Geometry.prototype,"scale",ol.geom.Geometry.prototype.scale);goog.exportProperty(ol.geom.Geometry.prototype,"simplify",ol.geom.Geometry.prototype.simplify);goog.exportProperty(ol.geom.Geometry.prototype,"transform",ol.geom.Geometry.prototype.transform);goog.exportSymbol("ol.geom.GeometryCollection",ol.geom.GeometryCollection,OPENLAYERS);goog.exportProperty(ol.geom.GeometryCollection.prototype,"clone",ol.geom.GeometryCollection.prototype.clone);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getGeometries",ol.geom.GeometryCollection.prototype.getGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getType",ol.geom.GeometryCollection.prototype.getType);goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsExtent",ol.geom.GeometryCollection.prototype.intersectsExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"setGeometries",ol.geom.GeometryCollection.prototype.setGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,"applyTransform",ol.geom.GeometryCollection.prototype.applyTransform);goog.exportProperty(ol.geom.GeometryCollection.prototype,"translate",ol.geom.GeometryCollection.prototype.translate);goog.exportSymbol("ol.geom.LinearRing",ol.geom.LinearRing,OPENLAYERS);goog.exportProperty(ol.geom.LinearRing.prototype,"clone",ol.geom.LinearRing.prototype.clone);goog.exportProperty(ol.geom.LinearRing.prototype,"getArea",ol.geom.LinearRing.prototype.getArea);goog.exportProperty(ol.geom.LinearRing.prototype,"getCoordinates",ol.geom.LinearRing.prototype.getCoordinates);goog.exportProperty(ol.geom.LinearRing.prototype,"getType",ol.geom.LinearRing.prototype.getType);goog.exportProperty(ol.geom.LinearRing.prototype,"setCoordinates",ol.geom.LinearRing.prototype.setCoordinates);goog.exportSymbol("ol.geom.LineString",ol.geom.LineString,OPENLAYERS);goog.exportProperty(ol.geom.LineString.prototype,"appendCoordinate",ol.geom.LineString.prototype.appendCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"clone",ol.geom.LineString.prototype.clone);goog.exportProperty(ol.geom.LineString.prototype,"forEachSegment",ol.geom.LineString.prototype.forEachSegment);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAtM",ol.geom.LineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinates",ol.geom.LineString.prototype.getCoordinates);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAt",ol.geom.LineString.prototype.getCoordinateAt);goog.exportProperty(ol.geom.LineString.prototype,"getLength",ol.geom.LineString.prototype.getLength);goog.exportProperty(ol.geom.LineString.prototype,"getType",ol.geom.LineString.prototype.getType);goog.exportProperty(ol.geom.LineString.prototype,"intersectsExtent",ol.geom.LineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.LineString.prototype,"setCoordinates",ol.geom.LineString.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiLineString",ol.geom.MultiLineString,OPENLAYERS);goog.exportProperty(ol.geom.MultiLineString.prototype,"appendLineString",ol.geom.MultiLineString.prototype.appendLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,"clone",ol.geom.MultiLineString.prototype.clone);goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinateAtM",ol.geom.MultiLineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinates",ol.geom.MultiLineString.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineString",ol.geom.MultiLineString.prototype.getLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineStrings",ol.geom.MultiLineString.prototype.getLineStrings);goog.exportProperty(ol.geom.MultiLineString.prototype,"getType",ol.geom.MultiLineString.prototype.getType);goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsExtent",ol.geom.MultiLineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,"setCoordinates",ol.geom.MultiLineString.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiPoint",ol.geom.MultiPoint,OPENLAYERS);goog.exportProperty(ol.geom.MultiPoint.prototype,"appendPoint",ol.geom.MultiPoint.prototype.appendPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"clone",ol.geom.MultiPoint.prototype.clone);goog.exportProperty(ol.geom.MultiPoint.prototype,"getCoordinates",ol.geom.MultiPoint.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoint",ol.geom.MultiPoint.prototype.getPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoints",ol.geom.MultiPoint.prototype.getPoints);goog.exportProperty(ol.geom.MultiPoint.prototype,"getType",ol.geom.MultiPoint.prototype.getType);goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsExtent",ol.geom.MultiPoint.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,"setCoordinates",ol.geom.MultiPoint.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiPolygon",ol.geom.MultiPolygon,OPENLAYERS);goog.exportProperty(ol.geom.MultiPolygon.prototype,"appendPolygon",ol.geom.MultiPolygon.prototype.appendPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,"clone",ol.geom.MultiPolygon.prototype.clone);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getArea",ol.geom.MultiPolygon.prototype.getArea);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getCoordinates",ol.geom.MultiPolygon.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getInteriorPoints",ol.geom.MultiPolygon.prototype.getInteriorPoints);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygon",ol.geom.MultiPolygon.prototype.getPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygons",ol.geom.MultiPolygon.prototype.getPolygons);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getType",ol.geom.MultiPolygon.prototype.getType);goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsExtent",ol.geom.MultiPolygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"setCoordinates",ol.geom.MultiPolygon.prototype.setCoordinates);goog.exportSymbol("ol.geom.Point",ol.geom.Point,OPENLAYERS);goog.exportProperty(ol.geom.Point.prototype,"clone",ol.geom.Point.prototype.clone);goog.exportProperty(ol.geom.Point.prototype,"getCoordinates",ol.geom.Point.prototype.getCoordinates);goog.exportProperty(ol.geom.Point.prototype,"getType",ol.geom.Point.prototype.getType);goog.exportProperty(ol.geom.Point.prototype,"intersectsExtent",ol.geom.Point.prototype.intersectsExtent);goog.exportProperty(ol.geom.Point.prototype,"setCoordinates",ol.geom.Point.prototype.setCoordinates);goog.exportSymbol("ol.geom.Polygon",ol.geom.Polygon,OPENLAYERS);goog.exportProperty(ol.geom.Polygon.prototype,"appendLinearRing",ol.geom.Polygon.prototype.appendLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,"clone",ol.geom.Polygon.prototype.clone);goog.exportProperty(ol.geom.Polygon.prototype,"getArea",ol.geom.Polygon.prototype.getArea);goog.exportProperty(ol.geom.Polygon.prototype,"getCoordinates",ol.geom.Polygon.prototype.getCoordinates);goog.exportProperty(ol.geom.Polygon.prototype,"getInteriorPoint",ol.geom.Polygon.prototype.getInteriorPoint);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRingCount",ol.geom.Polygon.prototype.getLinearRingCount);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRing",ol.geom.Polygon.prototype.getLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRings",ol.geom.Polygon.prototype.getLinearRings);goog.exportProperty(ol.geom.Polygon.prototype,"getType",ol.geom.Polygon.prototype.getType);goog.exportProperty(ol.geom.Polygon.prototype,"intersectsExtent",ol.geom.Polygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.Polygon.prototype,"setCoordinates",ol.geom.Polygon.prototype.setCoordinates);goog.exportSymbol("ol.geom.Polygon.circular",ol.geom.Polygon.circular,OPENLAYERS);goog.exportSymbol("ol.geom.Polygon.fromExtent",ol.geom.Polygon.fromExtent,OPENLAYERS);goog.exportSymbol("ol.geom.Polygon.fromCircle",ol.geom.Polygon.fromCircle,OPENLAYERS);goog.exportSymbol("ol.geom.SimpleGeometry",ol.geom.SimpleGeometry,OPENLAYERS);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getFirstCoordinate",ol.geom.SimpleGeometry.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLastCoordinate",ol.geom.SimpleGeometry.prototype.getLastCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLayout",ol.geom.SimpleGeometry.prototype.getLayout);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"applyTransform",ol.geom.SimpleGeometry.prototype.applyTransform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"translate",ol.geom.SimpleGeometry.prototype.translate);goog.exportSymbol("ol.format.EsriJSON",ol.format.EsriJSON,OPENLAYERS);goog.exportProperty(ol.format.EsriJSON.prototype,"readFeature",ol.format.EsriJSON.prototype.readFeature);goog.exportProperty(ol.format.EsriJSON.prototype,"readFeatures",ol.format.EsriJSON.prototype.readFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,"readGeometry",ol.format.EsriJSON.prototype.readGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,"readProjection",ol.format.EsriJSON.prototype.readProjection);goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometry",ol.format.EsriJSON.prototype.writeGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometryObject",ol.format.EsriJSON.prototype.writeGeometryObject);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeature",ol.format.EsriJSON.prototype.writeFeature);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatureObject",ol.format.EsriJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatures",ol.format.EsriJSON.prototype.writeFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeaturesObject",ol.format.EsriJSON.prototype.writeFeaturesObject);goog.exportSymbol("ol.format.Feature",ol.format.Feature,OPENLAYERS);goog.exportSymbol("ol.format.GeoJSON",ol.format.GeoJSON,OPENLAYERS);goog.exportProperty(ol.format.GeoJSON.prototype,"readFeature",ol.format.GeoJSON.prototype.readFeature);goog.exportProperty(ol.format.GeoJSON.prototype,"readFeatures",ol.format.GeoJSON.prototype.readFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,"readGeometry",ol.format.GeoJSON.prototype.readGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,"readProjection",ol.format.GeoJSON.prototype.readProjection);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeature",ol.format.GeoJSON.prototype.writeFeature);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatureObject",ol.format.GeoJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatures",ol.format.GeoJSON.prototype.writeFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeaturesObject",ol.format.GeoJSON.prototype.writeFeaturesObject);goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometry",ol.format.GeoJSON.prototype.writeGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometryObject",ol.format.GeoJSON.prototype.writeGeometryObject);goog.exportSymbol("ol.format.GML",ol.format.GML,OPENLAYERS);goog.exportProperty(ol.format.GML.prototype,"writeFeatures",ol.format.GML.prototype.writeFeatures);goog.exportProperty(ol.format.GML.prototype,"writeFeaturesNode",ol.format.GML.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.GML2",ol.format.GML2,OPENLAYERS);goog.exportSymbol("ol.format.GML3",ol.format.GML3,OPENLAYERS);goog.exportProperty(ol.format.GML3.prototype,"writeGeometryNode",ol.format.GML3.prototype.writeGeometryNode);goog.exportProperty(ol.format.GML3.prototype,"writeFeatures",ol.format.GML3.prototype.writeFeatures);goog.exportProperty(ol.format.GML3.prototype,"writeFeaturesNode",ol.format.GML3.prototype.writeFeaturesNode);goog.exportProperty(ol.format.GMLBase.prototype,"readFeatures",ol.format.GMLBase.prototype.readFeatures);goog.exportSymbol("ol.format.GPX",ol.format.GPX,OPENLAYERS);goog.exportProperty(ol.format.GPX.prototype,"readFeature",ol.format.GPX.prototype.readFeature);goog.exportProperty(ol.format.GPX.prototype,"readFeatures",ol.format.GPX.prototype.readFeatures);goog.exportProperty(ol.format.GPX.prototype,"readProjection",ol.format.GPX.prototype.readProjection);goog.exportProperty(ol.format.GPX.prototype,"writeFeatures",ol.format.GPX.prototype.writeFeatures);goog.exportProperty(ol.format.GPX.prototype,"writeFeaturesNode",ol.format.GPX.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.IGC",ol.format.IGC,OPENLAYERS);goog.exportProperty(ol.format.IGC.prototype,"readFeature",ol.format.IGC.prototype.readFeature);goog.exportProperty(ol.format.IGC.prototype,"readFeatures",ol.format.IGC.prototype.readFeatures);goog.exportProperty(ol.format.IGC.prototype,"readProjection",ol.format.IGC.prototype.readProjection);goog.exportSymbol("ol.format.KML",ol.format.KML,OPENLAYERS);goog.exportProperty(ol.format.KML.prototype,"readFeature",ol.format.KML.prototype.readFeature);goog.exportProperty(ol.format.KML.prototype,"readFeatures",ol.format.KML.prototype.readFeatures);goog.exportProperty(ol.format.KML.prototype,"readName",ol.format.KML.prototype.readName);goog.exportProperty(ol.format.KML.prototype,"readNetworkLinks",ol.format.KML.prototype.readNetworkLinks);goog.exportProperty(ol.format.KML.prototype,"readProjection",ol.format.KML.prototype.readProjection);goog.exportProperty(ol.format.KML.prototype,"writeFeatures",ol.format.KML.prototype.writeFeatures);goog.exportProperty(ol.format.KML.prototype,"writeFeaturesNode",ol.format.KML.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.MVT",ol.format.MVT,OPENLAYERS);goog.exportProperty(ol.format.MVT.prototype,"readFeatures",ol.format.MVT.prototype.readFeatures);goog.exportProperty(ol.format.MVT.prototype,"readProjection",ol.format.MVT.prototype.readProjection);goog.exportProperty(ol.format.MVT.prototype,"setLayers",ol.format.MVT.prototype.setLayers);goog.exportSymbol("ol.format.OSMXML",ol.format.OSMXML,OPENLAYERS);goog.exportProperty(ol.format.OSMXML.prototype,"readFeatures",ol.format.OSMXML.prototype.readFeatures);goog.exportProperty(ol.format.OSMXML.prototype,"readProjection",ol.format.OSMXML.prototype.readProjection);goog.exportSymbol("ol.format.Polyline",ol.format.Polyline,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.encodeDeltas",ol.format.Polyline.encodeDeltas,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.decodeDeltas",ol.format.Polyline.decodeDeltas,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.encodeFloats",ol.format.Polyline.encodeFloats,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.decodeFloats",ol.format.Polyline.decodeFloats,OPENLAYERS);goog.exportProperty(ol.format.Polyline.prototype,"readFeature",ol.format.Polyline.prototype.readFeature);goog.exportProperty(ol.format.Polyline.prototype,"readFeatures",ol.format.Polyline.prototype.readFeatures);goog.exportProperty(ol.format.Polyline.prototype,"readGeometry",ol.format.Polyline.prototype.readGeometry);goog.exportProperty(ol.format.Polyline.prototype,"readProjection",ol.format.Polyline.prototype.readProjection);goog.exportProperty(ol.format.Polyline.prototype,"writeGeometry",ol.format.Polyline.prototype.writeGeometry);goog.exportSymbol("ol.format.TopoJSON",ol.format.TopoJSON,OPENLAYERS);goog.exportProperty(ol.format.TopoJSON.prototype,"readFeatures",ol.format.TopoJSON.prototype.readFeatures);goog.exportProperty(ol.format.TopoJSON.prototype,"readProjection",ol.format.TopoJSON.prototype.readProjection);goog.exportSymbol("ol.format.WFS",ol.format.WFS,OPENLAYERS);goog.exportProperty(ol.format.WFS.prototype,"readFeatures",ol.format.WFS.prototype.readFeatures);goog.exportProperty(ol.format.WFS.prototype,"readTransactionResponse",ol.format.WFS.prototype.readTransactionResponse);goog.exportProperty(ol.format.WFS.prototype,"readFeatureCollectionMetadata",ol.format.WFS.prototype.readFeatureCollectionMetadata);goog.exportProperty(ol.format.WFS.prototype,"writeGetFeature",ol.format.WFS.prototype.writeGetFeature);goog.exportProperty(ol.format.WFS.prototype,"writeTransaction",ol.format.WFS.prototype.writeTransaction);goog.exportProperty(ol.format.WFS.prototype,"readProjection",ol.format.WFS.prototype.readProjection);goog.exportSymbol("ol.format.WKT",ol.format.WKT,OPENLAYERS);goog.exportProperty(ol.format.WKT.prototype,"readFeature",ol.format.WKT.prototype.readFeature);goog.exportProperty(ol.format.WKT.prototype,"readFeatures",ol.format.WKT.prototype.readFeatures);goog.exportProperty(ol.format.WKT.prototype,"readGeometry",ol.format.WKT.prototype.readGeometry);goog.exportProperty(ol.format.WKT.prototype,"writeFeature",ol.format.WKT.prototype.writeFeature);goog.exportProperty(ol.format.WKT.prototype,"writeFeatures",ol.format.WKT.prototype.writeFeatures);goog.exportProperty(ol.format.WKT.prototype,"writeGeometry",ol.format.WKT.prototype.writeGeometry);goog.exportSymbol("ol.format.WMSCapabilities",ol.format.WMSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMSCapabilities.prototype,"read",ol.format.WMSCapabilities.prototype.read);goog.exportSymbol("ol.format.WMSGetFeatureInfo",ol.format.WMSGetFeatureInfo,OPENLAYERS);goog.exportProperty(ol.format.WMSGetFeatureInfo.prototype,"readFeatures",ol.format.WMSGetFeatureInfo.prototype.readFeatures);goog.exportSymbol("ol.format.WMTSCapabilities",ol.format.WMTSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMTSCapabilities.prototype,"read",ol.format.WMTSCapabilities.prototype.read);goog.exportSymbol("ol.format.ogc.filter.And",ol.format.ogc.filter.And,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.Bbox",ol.format.ogc.filter.Bbox,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.Comparison",ol.format.ogc.filter.Comparison,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.ComparisonBinary",ol.format.ogc.filter.ComparisonBinary,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.EqualTo",ol.format.ogc.filter.EqualTo,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.Filter",ol.format.ogc.filter.Filter,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.GreaterThan",ol.format.ogc.filter.GreaterThan,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.GreaterThanOrEqualTo",ol.format.ogc.filter.GreaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.and",ol.format.ogc.filter.and,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.or",ol.format.ogc.filter.or,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.not",ol.format.ogc.filter.not,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.bbox",ol.format.ogc.filter.bbox,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.intersects",ol.format.ogc.filter.intersects,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.within",ol.format.ogc.filter.within,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.equalTo",ol.format.ogc.filter.equalTo,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.notEqualTo",ol.format.ogc.filter.notEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.lessThan",ol.format.ogc.filter.lessThan,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.lessThanOrEqualTo",ol.format.ogc.filter.lessThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.greaterThan",ol.format.ogc.filter.greaterThan,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.greaterThanOrEqualTo",ol.format.ogc.filter.greaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.isNull",ol.format.ogc.filter.isNull,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.between",ol.format.ogc.filter.between,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.like",ol.format.ogc.filter.like,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.Intersects",ol.format.ogc.filter.Intersects,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.IsBetween",ol.format.ogc.filter.IsBetween,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.IsLike",ol.format.ogc.filter.IsLike,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.IsNull",ol.format.ogc.filter.IsNull,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.LessThan",ol.format.ogc.filter.LessThan,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.LessThanOrEqualTo",ol.format.ogc.filter.LessThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.Not",ol.format.ogc.filter.Not,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.NotEqualTo",ol.format.ogc.filter.NotEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.Or",ol.format.ogc.filter.Or,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.Spatial",ol.format.ogc.filter.Spatial,OPENLAYERS);goog.exportSymbol("ol.format.ogc.filter.Within",ol.format.ogc.filter.Within,OPENLAYERS);goog.exportSymbol("ol.events.condition.altKeyOnly",ol.events.condition.altKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.altShiftKeysOnly",ol.events.condition.altShiftKeysOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.always",ol.events.condition.always,OPENLAYERS);goog.exportSymbol("ol.events.condition.click",ol.events.condition.click,OPENLAYERS);goog.exportSymbol("ol.events.condition.never",ol.events.condition.never,OPENLAYERS);goog.exportSymbol("ol.events.condition.pointerMove",ol.events.condition.pointerMove,OPENLAYERS);goog.exportSymbol("ol.events.condition.singleClick",ol.events.condition.singleClick,OPENLAYERS);
goog.exportSymbol("ol.events.condition.doubleClick",ol.events.condition.doubleClick,OPENLAYERS);goog.exportSymbol("ol.events.condition.noModifierKeys",ol.events.condition.noModifierKeys,OPENLAYERS);goog.exportSymbol("ol.events.condition.platformModifierKeyOnly",ol.events.condition.platformModifierKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.shiftKeyOnly",ol.events.condition.shiftKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.targetNotEditable",ol.events.condition.targetNotEditable,OPENLAYERS);goog.exportSymbol("ol.events.condition.mouseOnly",ol.events.condition.mouseOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.primaryAction",ol.events.condition.primaryAction,OPENLAYERS);goog.exportProperty(ol.events.Event.prototype,"type",ol.events.Event.prototype.type);goog.exportProperty(ol.events.Event.prototype,"target",ol.events.Event.prototype.target);goog.exportProperty(ol.events.Event.prototype,"preventDefault",ol.events.Event.prototype.preventDefault);goog.exportProperty(ol.events.Event.prototype,"stopPropagation",ol.events.Event.prototype.stopPropagation);goog.exportSymbol("ol.control.Attribution",ol.control.Attribution,OPENLAYERS);goog.exportSymbol("ol.control.Attribution.render",ol.control.Attribution.render,OPENLAYERS);goog.exportProperty(ol.control.Attribution.prototype,"getCollapsible",ol.control.Attribution.prototype.getCollapsible);goog.exportProperty(ol.control.Attribution.prototype,"setCollapsible",ol.control.Attribution.prototype.setCollapsible);goog.exportProperty(ol.control.Attribution.prototype,"setCollapsed",ol.control.Attribution.prototype.setCollapsed);goog.exportProperty(ol.control.Attribution.prototype,"getCollapsed",ol.control.Attribution.prototype.getCollapsed);goog.exportSymbol("ol.control.Control",ol.control.Control,OPENLAYERS);goog.exportProperty(ol.control.Control.prototype,"getMap",ol.control.Control.prototype.getMap);goog.exportProperty(ol.control.Control.prototype,"setMap",ol.control.Control.prototype.setMap);goog.exportProperty(ol.control.Control.prototype,"setTarget",ol.control.Control.prototype.setTarget);goog.exportSymbol("ol.control.FullScreen",ol.control.FullScreen,OPENLAYERS);goog.exportSymbol("ol.control.defaults",ol.control.defaults,OPENLAYERS);goog.exportSymbol("ol.control.MousePosition",ol.control.MousePosition,OPENLAYERS);goog.exportSymbol("ol.control.MousePosition.render",ol.control.MousePosition.render,OPENLAYERS);goog.exportProperty(ol.control.MousePosition.prototype,"getCoordinateFormat",ol.control.MousePosition.prototype.getCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,"getProjection",ol.control.MousePosition.prototype.getProjection);goog.exportProperty(ol.control.MousePosition.prototype,"setCoordinateFormat",ol.control.MousePosition.prototype.setCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,"setProjection",ol.control.MousePosition.prototype.setProjection);goog.exportSymbol("ol.control.OverviewMap",ol.control.OverviewMap,OPENLAYERS);goog.exportSymbol("ol.control.OverviewMap.render",ol.control.OverviewMap.render,OPENLAYERS);goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsible",ol.control.OverviewMap.prototype.getCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsible",ol.control.OverviewMap.prototype.setCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsed",ol.control.OverviewMap.prototype.setCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsed",ol.control.OverviewMap.prototype.getCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,"getOverviewMap",ol.control.OverviewMap.prototype.getOverviewMap);goog.exportSymbol("ol.control.Rotate",ol.control.Rotate,OPENLAYERS);goog.exportSymbol("ol.control.Rotate.render",ol.control.Rotate.render,OPENLAYERS);goog.exportSymbol("ol.control.ScaleLine",ol.control.ScaleLine,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,"getUnits",ol.control.ScaleLine.prototype.getUnits);goog.exportSymbol("ol.control.ScaleLine.render",ol.control.ScaleLine.render,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,"setUnits",ol.control.ScaleLine.prototype.setUnits);goog.exportSymbol("ol.control.Zoom",ol.control.Zoom,OPENLAYERS);goog.exportSymbol("ol.control.ZoomSlider",ol.control.ZoomSlider,OPENLAYERS);goog.exportSymbol("ol.control.ZoomSlider.render",ol.control.ZoomSlider.render,OPENLAYERS);goog.exportSymbol("ol.control.ZoomToExtent",ol.control.ZoomToExtent,OPENLAYERS);goog.exportProperty(ol.Object.prototype,"changed",ol.Object.prototype.changed);goog.exportProperty(ol.Object.prototype,"dispatchEvent",ol.Object.prototype.dispatchEvent);goog.exportProperty(ol.Object.prototype,"getRevision",ol.Object.prototype.getRevision);goog.exportProperty(ol.Object.prototype,"on",ol.Object.prototype.on);goog.exportProperty(ol.Object.prototype,"once",ol.Object.prototype.once);goog.exportProperty(ol.Object.prototype,"un",ol.Object.prototype.un);goog.exportProperty(ol.Object.prototype,"unByKey",ol.Object.prototype.unByKey);goog.exportProperty(ol.Collection.prototype,"get",ol.Collection.prototype.get);goog.exportProperty(ol.Collection.prototype,"getKeys",ol.Collection.prototype.getKeys);goog.exportProperty(ol.Collection.prototype,"getProperties",ol.Collection.prototype.getProperties);goog.exportProperty(ol.Collection.prototype,"set",ol.Collection.prototype.set);goog.exportProperty(ol.Collection.prototype,"setProperties",ol.Collection.prototype.setProperties);goog.exportProperty(ol.Collection.prototype,"unset",ol.Collection.prototype.unset);goog.exportProperty(ol.Collection.prototype,"changed",ol.Collection.prototype.changed);goog.exportProperty(ol.Collection.prototype,"dispatchEvent",ol.Collection.prototype.dispatchEvent);goog.exportProperty(ol.Collection.prototype,"getRevision",ol.Collection.prototype.getRevision);goog.exportProperty(ol.Collection.prototype,"on",ol.Collection.prototype.on);goog.exportProperty(ol.Collection.prototype,"once",ol.Collection.prototype.once);goog.exportProperty(ol.Collection.prototype,"un",ol.Collection.prototype.un);goog.exportProperty(ol.Collection.prototype,"unByKey",ol.Collection.prototype.unByKey);goog.exportProperty(ol.Collection.Event.prototype,"type",ol.Collection.Event.prototype.type);goog.exportProperty(ol.Collection.Event.prototype,"target",ol.Collection.Event.prototype.target);goog.exportProperty(ol.Collection.Event.prototype,"preventDefault",ol.Collection.Event.prototype.preventDefault);goog.exportProperty(ol.Collection.Event.prototype,"stopPropagation",ol.Collection.Event.prototype.stopPropagation);goog.exportProperty(ol.DeviceOrientation.prototype,"get",ol.DeviceOrientation.prototype.get);goog.exportProperty(ol.DeviceOrientation.prototype,"getKeys",ol.DeviceOrientation.prototype.getKeys);goog.exportProperty(ol.DeviceOrientation.prototype,"getProperties",ol.DeviceOrientation.prototype.getProperties);goog.exportProperty(ol.DeviceOrientation.prototype,"set",ol.DeviceOrientation.prototype.set);goog.exportProperty(ol.DeviceOrientation.prototype,"setProperties",ol.DeviceOrientation.prototype.setProperties);goog.exportProperty(ol.DeviceOrientation.prototype,"unset",ol.DeviceOrientation.prototype.unset);goog.exportProperty(ol.DeviceOrientation.prototype,"changed",ol.DeviceOrientation.prototype.changed);goog.exportProperty(ol.DeviceOrientation.prototype,"dispatchEvent",ol.DeviceOrientation.prototype.dispatchEvent);goog.exportProperty(ol.DeviceOrientation.prototype,"getRevision",ol.DeviceOrientation.prototype.getRevision);goog.exportProperty(ol.DeviceOrientation.prototype,"on",ol.DeviceOrientation.prototype.on);goog.exportProperty(ol.DeviceOrientation.prototype,"once",ol.DeviceOrientation.prototype.once);goog.exportProperty(ol.DeviceOrientation.prototype,"un",ol.DeviceOrientation.prototype.un);goog.exportProperty(ol.DeviceOrientation.prototype,"unByKey",ol.DeviceOrientation.prototype.unByKey);goog.exportProperty(ol.Feature.prototype,"get",ol.Feature.prototype.get);goog.exportProperty(ol.Feature.prototype,"getKeys",ol.Feature.prototype.getKeys);goog.exportProperty(ol.Feature.prototype,"getProperties",ol.Feature.prototype.getProperties);goog.exportProperty(ol.Feature.prototype,"set",ol.Feature.prototype.set);goog.exportProperty(ol.Feature.prototype,"setProperties",ol.Feature.prototype.setProperties);goog.exportProperty(ol.Feature.prototype,"unset",ol.Feature.prototype.unset);goog.exportProperty(ol.Feature.prototype,"changed",ol.Feature.prototype.changed);goog.exportProperty(ol.Feature.prototype,"dispatchEvent",ol.Feature.prototype.dispatchEvent);goog.exportProperty(ol.Feature.prototype,"getRevision",ol.Feature.prototype.getRevision);goog.exportProperty(ol.Feature.prototype,"on",ol.Feature.prototype.on);goog.exportProperty(ol.Feature.prototype,"once",ol.Feature.prototype.once);goog.exportProperty(ol.Feature.prototype,"un",ol.Feature.prototype.un);goog.exportProperty(ol.Feature.prototype,"unByKey",ol.Feature.prototype.unByKey);goog.exportProperty(ol.Geolocation.prototype,"get",ol.Geolocation.prototype.get);goog.exportProperty(ol.Geolocation.prototype,"getKeys",ol.Geolocation.prototype.getKeys);goog.exportProperty(ol.Geolocation.prototype,"getProperties",ol.Geolocation.prototype.getProperties);goog.exportProperty(ol.Geolocation.prototype,"set",ol.Geolocation.prototype.set);goog.exportProperty(ol.Geolocation.prototype,"setProperties",ol.Geolocation.prototype.setProperties);goog.exportProperty(ol.Geolocation.prototype,"unset",ol.Geolocation.prototype.unset);goog.exportProperty(ol.Geolocation.prototype,"changed",ol.Geolocation.prototype.changed);goog.exportProperty(ol.Geolocation.prototype,"dispatchEvent",ol.Geolocation.prototype.dispatchEvent);goog.exportProperty(ol.Geolocation.prototype,"getRevision",ol.Geolocation.prototype.getRevision);goog.exportProperty(ol.Geolocation.prototype,"on",ol.Geolocation.prototype.on);goog.exportProperty(ol.Geolocation.prototype,"once",ol.Geolocation.prototype.once);goog.exportProperty(ol.Geolocation.prototype,"un",ol.Geolocation.prototype.un);goog.exportProperty(ol.Geolocation.prototype,"unByKey",ol.Geolocation.prototype.unByKey);goog.exportProperty(ol.ImageTile.prototype,"getTileCoord",ol.ImageTile.prototype.getTileCoord);goog.exportProperty(ol.Map.prototype,"get",ol.Map.prototype.get);goog.exportProperty(ol.Map.prototype,"getKeys",ol.Map.prototype.getKeys);goog.exportProperty(ol.Map.prototype,"getProperties",ol.Map.prototype.getProperties);goog.exportProperty(ol.Map.prototype,"set",ol.Map.prototype.set);goog.exportProperty(ol.Map.prototype,"setProperties",ol.Map.prototype.setProperties);goog.exportProperty(ol.Map.prototype,"unset",ol.Map.prototype.unset);goog.exportProperty(ol.Map.prototype,"changed",ol.Map.prototype.changed);goog.exportProperty(ol.Map.prototype,"dispatchEvent",ol.Map.prototype.dispatchEvent);goog.exportProperty(ol.Map.prototype,"getRevision",ol.Map.prototype.getRevision);goog.exportProperty(ol.Map.prototype,"on",ol.Map.prototype.on);goog.exportProperty(ol.Map.prototype,"once",ol.Map.prototype.once);goog.exportProperty(ol.Map.prototype,"un",ol.Map.prototype.un);goog.exportProperty(ol.Map.prototype,"unByKey",ol.Map.prototype.unByKey);goog.exportProperty(ol.MapEvent.prototype,"type",ol.MapEvent.prototype.type);goog.exportProperty(ol.MapEvent.prototype,"target",ol.MapEvent.prototype.target);goog.exportProperty(ol.MapEvent.prototype,"preventDefault",ol.MapEvent.prototype.preventDefault);goog.exportProperty(ol.MapEvent.prototype,"stopPropagation",ol.MapEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserEvent.prototype,"map",ol.MapBrowserEvent.prototype.map);goog.exportProperty(ol.MapBrowserEvent.prototype,"frameState",ol.MapBrowserEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserEvent.prototype,"type",ol.MapBrowserEvent.prototype.type);goog.exportProperty(ol.MapBrowserEvent.prototype,"target",ol.MapBrowserEvent.prototype.target);goog.exportProperty(ol.MapBrowserEvent.prototype,"preventDefault",ol.MapBrowserEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserEvent.prototype,"stopPropagation",ol.MapBrowserEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"originalEvent",ol.MapBrowserPointerEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"pixel",ol.MapBrowserPointerEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"coordinate",ol.MapBrowserPointerEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"dragging",ol.MapBrowserPointerEvent.prototype.dragging);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"preventDefault",ol.MapBrowserPointerEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"stopPropagation",ol.MapBrowserPointerEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"map",ol.MapBrowserPointerEvent.prototype.map);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"frameState",ol.MapBrowserPointerEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"type",ol.MapBrowserPointerEvent.prototype.type);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"target",ol.MapBrowserPointerEvent.prototype.target);goog.exportProperty(ol.ObjectEvent.prototype,"type",ol.ObjectEvent.prototype.type);goog.exportProperty(ol.ObjectEvent.prototype,"target",ol.ObjectEvent.prototype.target);goog.exportProperty(ol.ObjectEvent.prototype,"preventDefault",ol.ObjectEvent.prototype.preventDefault);goog.exportProperty(ol.ObjectEvent.prototype,"stopPropagation",ol.ObjectEvent.prototype.stopPropagation);goog.exportProperty(ol.Overlay.prototype,"get",ol.Overlay.prototype.get);goog.exportProperty(ol.Overlay.prototype,"getKeys",ol.Overlay.prototype.getKeys);goog.exportProperty(ol.Overlay.prototype,"getProperties",ol.Overlay.prototype.getProperties);goog.exportProperty(ol.Overlay.prototype,"set",ol.Overlay.prototype.set);goog.exportProperty(ol.Overlay.prototype,"setProperties",ol.Overlay.prototype.setProperties);goog.exportProperty(ol.Overlay.prototype,"unset",ol.Overlay.prototype.unset);goog.exportProperty(ol.Overlay.prototype,"changed",ol.Overlay.prototype.changed);goog.exportProperty(ol.Overlay.prototype,"dispatchEvent",ol.Overlay.prototype.dispatchEvent);goog.exportProperty(ol.Overlay.prototype,"getRevision",ol.Overlay.prototype.getRevision);goog.exportProperty(ol.Overlay.prototype,"on",ol.Overlay.prototype.on);goog.exportProperty(ol.Overlay.prototype,"once",ol.Overlay.prototype.once);goog.exportProperty(ol.Overlay.prototype,"un",ol.Overlay.prototype.un);goog.exportProperty(ol.Overlay.prototype,"unByKey",ol.Overlay.prototype.unByKey);goog.exportProperty(ol.VectorTile.prototype,"getTileCoord",ol.VectorTile.prototype.getTileCoord);goog.exportProperty(ol.View.prototype,"get",ol.View.prototype.get);goog.exportProperty(ol.View.prototype,"getKeys",ol.View.prototype.getKeys);goog.exportProperty(ol.View.prototype,"getProperties",ol.View.prototype.getProperties);goog.exportProperty(ol.View.prototype,"set",ol.View.prototype.set);goog.exportProperty(ol.View.prototype,"setProperties",ol.View.prototype.setProperties);goog.exportProperty(ol.View.prototype,"unset",ol.View.prototype.unset);goog.exportProperty(ol.View.prototype,"changed",ol.View.prototype.changed);goog.exportProperty(ol.View.prototype,"dispatchEvent",ol.View.prototype.dispatchEvent);goog.exportProperty(ol.View.prototype,"getRevision",ol.View.prototype.getRevision);goog.exportProperty(ol.View.prototype,"on",ol.View.prototype.on);goog.exportProperty(ol.View.prototype,"once",ol.View.prototype.once);goog.exportProperty(ol.View.prototype,"un",ol.View.prototype.un);goog.exportProperty(ol.View.prototype,"unByKey",ol.View.prototype.unByKey);goog.exportProperty(ol.tilegrid.WMTS.prototype,"forEachTileCoord",ol.tilegrid.WMTS.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMaxZoom",ol.tilegrid.WMTS.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMinZoom",ol.tilegrid.WMTS.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getOrigin",ol.tilegrid.WMTS.prototype.getOrigin);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolution",ol.tilegrid.WMTS.prototype.getResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolutions",ol.tilegrid.WMTS.prototype.getResolutions);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordExtent",ol.tilegrid.WMTS.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileSize",ol.tilegrid.WMTS.prototype.getTileSize);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getZForResolution",ol.tilegrid.WMTS.prototype.getZForResolution);goog.exportProperty(ol.style.Circle.prototype,"getOpacity",ol.style.Circle.prototype.getOpacity);goog.exportProperty(ol.style.Circle.prototype,"getRotateWithView",ol.style.Circle.prototype.getRotateWithView);goog.exportProperty(ol.style.Circle.prototype,"getRotation",ol.style.Circle.prototype.getRotation);goog.exportProperty(ol.style.Circle.prototype,"getScale",ol.style.Circle.prototype.getScale);goog.exportProperty(ol.style.Circle.prototype,"getSnapToPixel",ol.style.Circle.prototype.getSnapToPixel);goog.exportProperty(ol.style.Circle.prototype,"setOpacity",ol.style.Circle.prototype.setOpacity);goog.exportProperty(ol.style.Circle.prototype,"setRotation",ol.style.Circle.prototype.setRotation);goog.exportProperty(ol.style.Circle.prototype,"setScale",ol.style.Circle.prototype.setScale);goog.exportProperty(ol.style.Icon.prototype,"getOpacity",ol.style.Icon.prototype.getOpacity);goog.exportProperty(ol.style.Icon.prototype,"getRotateWithView",ol.style.Icon.prototype.getRotateWithView);goog.exportProperty(ol.style.Icon.prototype,"getRotation",ol.style.Icon.prototype.getRotation);goog.exportProperty(ol.style.Icon.prototype,"getScale",ol.style.Icon.prototype.getScale);goog.exportProperty(ol.style.Icon.prototype,"getSnapToPixel",ol.style.Icon.prototype.getSnapToPixel);goog.exportProperty(ol.style.Icon.prototype,"setOpacity",ol.style.Icon.prototype.setOpacity);goog.exportProperty(ol.style.Icon.prototype,"setRotation",ol.style.Icon.prototype.setRotation);goog.exportProperty(ol.style.Icon.prototype,"setScale",ol.style.Icon.prototype.setScale);goog.exportProperty(ol.style.RegularShape.prototype,"getOpacity",ol.style.RegularShape.prototype.getOpacity);goog.exportProperty(ol.style.RegularShape.prototype,"getRotateWithView",ol.style.RegularShape.prototype.getRotateWithView);goog.exportProperty(ol.style.RegularShape.prototype,"getRotation",ol.style.RegularShape.prototype.getRotation);goog.exportProperty(ol.style.RegularShape.prototype,"getScale",ol.style.RegularShape.prototype.getScale);goog.exportProperty(ol.style.RegularShape.prototype,"getSnapToPixel",ol.style.RegularShape.prototype.getSnapToPixel);goog.exportProperty(ol.style.RegularShape.prototype,"setOpacity",ol.style.RegularShape.prototype.setOpacity);goog.exportProperty(ol.style.RegularShape.prototype,"setRotation",ol.style.RegularShape.prototype.setRotation);goog.exportProperty(ol.style.RegularShape.prototype,"setScale",ol.style.RegularShape.prototype.setScale);goog.exportProperty(ol.source.Source.prototype,"get",ol.source.Source.prototype.get);goog.exportProperty(ol.source.Source.prototype,"getKeys",ol.source.Source.prototype.getKeys);goog.exportProperty(ol.source.Source.prototype,"getProperties",ol.source.Source.prototype.getProperties);goog.exportProperty(ol.source.Source.prototype,"set",ol.source.Source.prototype.set);goog.exportProperty(ol.source.Source.prototype,"setProperties",ol.source.Source.prototype.setProperties);goog.exportProperty(ol.source.Source.prototype,"unset",ol.source.Source.prototype.unset);goog.exportProperty(ol.source.Source.prototype,"changed",ol.source.Source.prototype.changed);goog.exportProperty(ol.source.Source.prototype,"dispatchEvent",ol.source.Source.prototype.dispatchEvent);goog.exportProperty(ol.source.Source.prototype,"getRevision",ol.source.Source.prototype.getRevision);goog.exportProperty(ol.source.Source.prototype,"on",ol.source.Source.prototype.on);goog.exportProperty(ol.source.Source.prototype,"once",ol.source.Source.prototype.once);goog.exportProperty(ol.source.Source.prototype,"un",ol.source.Source.prototype.un);goog.exportProperty(ol.source.Source.prototype,"unByKey",ol.source.Source.prototype.unByKey);goog.exportProperty(ol.source.Tile.prototype,"getAttributions",ol.source.Tile.prototype.getAttributions);goog.exportProperty(ol.source.Tile.prototype,"getLogo",ol.source.Tile.prototype.getLogo);goog.exportProperty(ol.source.Tile.prototype,"getProjection",ol.source.Tile.prototype.getProjection);goog.exportProperty(ol.source.Tile.prototype,"getState",ol.source.Tile.prototype.getState);goog.exportProperty(ol.source.Tile.prototype,"refresh",ol.source.Tile.prototype.refresh);goog.exportProperty(ol.source.Tile.prototype,"setAttributions",ol.source.Tile.prototype.setAttributions);goog.exportProperty(ol.source.Tile.prototype,"get",ol.source.Tile.prototype.get);goog.exportProperty(ol.source.Tile.prototype,"getKeys",ol.source.Tile.prototype.getKeys);goog.exportProperty(ol.source.Tile.prototype,"getProperties",ol.source.Tile.prototype.getProperties);goog.exportProperty(ol.source.Tile.prototype,"set",ol.source.Tile.prototype.set);goog.exportProperty(ol.source.Tile.prototype,"setProperties",ol.source.Tile.prototype.setProperties);goog.exportProperty(ol.source.Tile.prototype,"unset",ol.source.Tile.prototype.unset);goog.exportProperty(ol.source.Tile.prototype,"changed",ol.source.Tile.prototype.changed);goog.exportProperty(ol.source.Tile.prototype,"dispatchEvent",ol.source.Tile.prototype.dispatchEvent);goog.exportProperty(ol.source.Tile.prototype,"getRevision",ol.source.Tile.prototype.getRevision);goog.exportProperty(ol.source.Tile.prototype,"on",ol.source.Tile.prototype.on);goog.exportProperty(ol.source.Tile.prototype,"once",ol.source.Tile.prototype.once);goog.exportProperty(ol.source.Tile.prototype,"un",ol.source.Tile.prototype.un);goog.exportProperty(ol.source.Tile.prototype,"unByKey",ol.source.Tile.prototype.unByKey);goog.exportProperty(ol.source.UrlTile.prototype,"getTileGrid",ol.source.UrlTile.prototype.getTileGrid);goog.exportProperty(ol.source.UrlTile.prototype,"refresh",ol.source.UrlTile.prototype.refresh);goog.exportProperty(ol.source.UrlTile.prototype,"getAttributions",ol.source.UrlTile.prototype.getAttributions);goog.exportProperty(ol.source.UrlTile.prototype,"getLogo",ol.source.UrlTile.prototype.getLogo);goog.exportProperty(ol.source.UrlTile.prototype,"getProjection",ol.source.UrlTile.prototype.getProjection);goog.exportProperty(ol.source.UrlTile.prototype,"getState",ol.source.UrlTile.prototype.getState);goog.exportProperty(ol.source.UrlTile.prototype,"setAttributions",ol.source.UrlTile.prototype.setAttributions);goog.exportProperty(ol.source.UrlTile.prototype,"get",ol.source.UrlTile.prototype.get);goog.exportProperty(ol.source.UrlTile.prototype,"getKeys",ol.source.UrlTile.prototype.getKeys);goog.exportProperty(ol.source.UrlTile.prototype,"getProperties",ol.source.UrlTile.prototype.getProperties);goog.exportProperty(ol.source.UrlTile.prototype,"set",ol.source.UrlTile.prototype.set);goog.exportProperty(ol.source.UrlTile.prototype,"setProperties",ol.source.UrlTile.prototype.setProperties);goog.exportProperty(ol.source.UrlTile.prototype,"unset",ol.source.UrlTile.prototype.unset);goog.exportProperty(ol.source.UrlTile.prototype,"changed",ol.source.UrlTile.prototype.changed);goog.exportProperty(ol.source.UrlTile.prototype,"dispatchEvent",ol.source.UrlTile.prototype.dispatchEvent);goog.exportProperty(ol.source.UrlTile.prototype,"getRevision",ol.source.UrlTile.prototype.getRevision);goog.exportProperty(ol.source.UrlTile.prototype,"on",ol.source.UrlTile.prototype.on);goog.exportProperty(ol.source.UrlTile.prototype,"once",ol.source.UrlTile.prototype.once);goog.exportProperty(ol.source.UrlTile.prototype,"un",ol.source.UrlTile.prototype.un);goog.exportProperty(ol.source.UrlTile.prototype,"unByKey",ol.source.UrlTile.prototype.unByKey);goog.exportProperty(ol.source.TileImage.prototype,"getTileLoadFunction",ol.source.TileImage.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,"getTileUrlFunction",ol.source.TileImage.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileImage.prototype,"getUrls",ol.source.TileImage.prototype.getUrls);goog.exportProperty(ol.source.TileImage.prototype,"setTileLoadFunction",ol.source.TileImage.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,"setTileUrlFunction",ol.source.TileImage.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileImage.prototype,"setUrl",ol.source.TileImage.prototype.setUrl);goog.exportProperty(ol.source.TileImage.prototype,"setUrls",ol.source.TileImage.prototype.setUrls);goog.exportProperty(ol.source.TileImage.prototype,"getTileGrid",ol.source.TileImage.prototype.getTileGrid);goog.exportProperty(ol.source.TileImage.prototype,"refresh",ol.source.TileImage.prototype.refresh);goog.exportProperty(ol.source.TileImage.prototype,"getAttributions",ol.source.TileImage.prototype.getAttributions);goog.exportProperty(ol.source.TileImage.prototype,"getLogo",ol.source.TileImage.prototype.getLogo);goog.exportProperty(ol.source.TileImage.prototype,"getProjection",ol.source.TileImage.prototype.getProjection);goog.exportProperty(ol.source.TileImage.prototype,"getState",ol.source.TileImage.prototype.getState);goog.exportProperty(ol.source.TileImage.prototype,"setAttributions",ol.source.TileImage.prototype.setAttributions);goog.exportProperty(ol.source.TileImage.prototype,"get",ol.source.TileImage.prototype.get);goog.exportProperty(ol.source.TileImage.prototype,"getKeys",ol.source.TileImage.prototype.getKeys);goog.exportProperty(ol.source.TileImage.prototype,"getProperties",ol.source.TileImage.prototype.getProperties);goog.exportProperty(ol.source.TileImage.prototype,"set",ol.source.TileImage.prototype.set);goog.exportProperty(ol.source.TileImage.prototype,"setProperties",ol.source.TileImage.prototype.setProperties);goog.exportProperty(ol.source.TileImage.prototype,"unset",ol.source.TileImage.prototype.unset);goog.exportProperty(ol.source.TileImage.prototype,"changed",ol.source.TileImage.prototype.changed);goog.exportProperty(ol.source.TileImage.prototype,"dispatchEvent",ol.source.TileImage.prototype.dispatchEvent);goog.exportProperty(ol.source.TileImage.prototype,"getRevision",ol.source.TileImage.prototype.getRevision);goog.exportProperty(ol.source.TileImage.prototype,"on",ol.source.TileImage.prototype.on);goog.exportProperty(ol.source.TileImage.prototype,"once",ol.source.TileImage.prototype.once);goog.exportProperty(ol.source.TileImage.prototype,"un",ol.source.TileImage.prototype.un);goog.exportProperty(ol.source.TileImage.prototype,"unByKey",ol.source.TileImage.prototype.unByKey);goog.exportProperty(ol.source.BingMaps.prototype,"setRenderReprojectionEdges",ol.source.BingMaps.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.BingMaps.prototype,"setTileGridForProjection",ol.source.BingMaps.prototype.setTileGridForProjection);goog.exportProperty(ol.source.BingMaps.prototype,"getTileLoadFunction",ol.source.BingMaps.prototype.getTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,"getTileUrlFunction",ol.source.BingMaps.prototype.getTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,"getUrls",ol.source.BingMaps.prototype.getUrls);goog.exportProperty(ol.source.BingMaps.prototype,"setTileLoadFunction",ol.source.BingMaps.prototype.setTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,"setTileUrlFunction",ol.source.BingMaps.prototype.setTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,"setUrl",ol.source.BingMaps.prototype.setUrl);goog.exportProperty(ol.source.BingMaps.prototype,"setUrls",ol.source.BingMaps.prototype.setUrls);goog.exportProperty(ol.source.BingMaps.prototype,"getTileGrid",ol.source.BingMaps.prototype.getTileGrid);goog.exportProperty(ol.source.BingMaps.prototype,"refresh",ol.source.BingMaps.prototype.refresh);goog.exportProperty(ol.source.BingMaps.prototype,"getAttributions",ol.source.BingMaps.prototype.getAttributions);goog.exportProperty(ol.source.BingMaps.prototype,"getLogo",ol.source.BingMaps.prototype.getLogo);goog.exportProperty(ol.source.BingMaps.prototype,"getProjection",ol.source.BingMaps.prototype.getProjection);goog.exportProperty(ol.source.BingMaps.prototype,"getState",ol.source.BingMaps.prototype.getState);goog.exportProperty(ol.source.BingMaps.prototype,"setAttributions",ol.source.BingMaps.prototype.setAttributions);goog.exportProperty(ol.source.BingMaps.prototype,"get",ol.source.BingMaps.prototype.get);goog.exportProperty(ol.source.BingMaps.prototype,"getKeys",ol.source.BingMaps.prototype.getKeys);goog.exportProperty(ol.source.BingMaps.prototype,"getProperties",ol.source.BingMaps.prototype.getProperties);goog.exportProperty(ol.source.BingMaps.prototype,"set",ol.source.BingMaps.prototype.set);goog.exportProperty(ol.source.BingMaps.prototype,"setProperties",ol.source.BingMaps.prototype.setProperties);goog.exportProperty(ol.source.BingMaps.prototype,"unset",ol.source.BingMaps.prototype.unset);goog.exportProperty(ol.source.BingMaps.prototype,"changed",ol.source.BingMaps.prototype.changed);goog.exportProperty(ol.source.BingMaps.prototype,"dispatchEvent",ol.source.BingMaps.prototype.dispatchEvent);goog.exportProperty(ol.source.BingMaps.prototype,"getRevision",ol.source.BingMaps.prototype.getRevision);goog.exportProperty(ol.source.BingMaps.prototype,"on",ol.source.BingMaps.prototype.on);goog.exportProperty(ol.source.BingMaps.prototype,"once",ol.source.BingMaps.prototype.once);goog.exportProperty(ol.source.BingMaps.prototype,"un",ol.source.BingMaps.prototype.un);goog.exportProperty(ol.source.BingMaps.prototype,"unByKey",ol.source.BingMaps.prototype.unByKey);goog.exportProperty(ol.source.XYZ.prototype,"setRenderReprojectionEdges",ol.source.XYZ.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.XYZ.prototype,"setTileGridForProjection",ol.source.XYZ.prototype.setTileGridForProjection);goog.exportProperty(ol.source.XYZ.prototype,"getTileLoadFunction",ol.source.XYZ.prototype.getTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,"getTileUrlFunction",ol.source.XYZ.prototype.getTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,"getUrls",ol.source.XYZ.prototype.getUrls);goog.exportProperty(ol.source.XYZ.prototype,"setTileLoadFunction",ol.source.XYZ.prototype.setTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,"setTileUrlFunction",ol.source.XYZ.prototype.setTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,"setUrl",ol.source.XYZ.prototype.setUrl);goog.exportProperty(ol.source.XYZ.prototype,"setUrls",ol.source.XYZ.prototype.setUrls);goog.exportProperty(ol.source.XYZ.prototype,"getTileGrid",ol.source.XYZ.prototype.getTileGrid);goog.exportProperty(ol.source.XYZ.prototype,"refresh",ol.source.XYZ.prototype.refresh);goog.exportProperty(ol.source.XYZ.prototype,"getAttributions",ol.source.XYZ.prototype.getAttributions);goog.exportProperty(ol.source.XYZ.prototype,"getLogo",ol.source.XYZ.prototype.getLogo);goog.exportProperty(ol.source.XYZ.prototype,"getProjection",ol.source.XYZ.prototype.getProjection);goog.exportProperty(ol.source.XYZ.prototype,"getState",ol.source.XYZ.prototype.getState);goog.exportProperty(ol.source.XYZ.prototype,"setAttributions",ol.source.XYZ.prototype.setAttributions);goog.exportProperty(ol.source.XYZ.prototype,"get",ol.source.XYZ.prototype.get);goog.exportProperty(ol.source.XYZ.prototype,"getKeys",ol.source.XYZ.prototype.getKeys);goog.exportProperty(ol.source.XYZ.prototype,"getProperties",ol.source.XYZ.prototype.getProperties);
goog.exportProperty(ol.source.XYZ.prototype,"set",ol.source.XYZ.prototype.set);goog.exportProperty(ol.source.XYZ.prototype,"setProperties",ol.source.XYZ.prototype.setProperties);goog.exportProperty(ol.source.XYZ.prototype,"unset",ol.source.XYZ.prototype.unset);goog.exportProperty(ol.source.XYZ.prototype,"changed",ol.source.XYZ.prototype.changed);goog.exportProperty(ol.source.XYZ.prototype,"dispatchEvent",ol.source.XYZ.prototype.dispatchEvent);goog.exportProperty(ol.source.XYZ.prototype,"getRevision",ol.source.XYZ.prototype.getRevision);goog.exportProperty(ol.source.XYZ.prototype,"on",ol.source.XYZ.prototype.on);goog.exportProperty(ol.source.XYZ.prototype,"once",ol.source.XYZ.prototype.once);goog.exportProperty(ol.source.XYZ.prototype,"un",ol.source.XYZ.prototype.un);goog.exportProperty(ol.source.XYZ.prototype,"unByKey",ol.source.XYZ.prototype.unByKey);goog.exportProperty(ol.source.CartoDB.prototype,"setRenderReprojectionEdges",ol.source.CartoDB.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.CartoDB.prototype,"setTileGridForProjection",ol.source.CartoDB.prototype.setTileGridForProjection);goog.exportProperty(ol.source.CartoDB.prototype,"getTileLoadFunction",ol.source.CartoDB.prototype.getTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,"getTileUrlFunction",ol.source.CartoDB.prototype.getTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,"getUrls",ol.source.CartoDB.prototype.getUrls);goog.exportProperty(ol.source.CartoDB.prototype,"setTileLoadFunction",ol.source.CartoDB.prototype.setTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,"setTileUrlFunction",ol.source.CartoDB.prototype.setTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,"setUrl",ol.source.CartoDB.prototype.setUrl);goog.exportProperty(ol.source.CartoDB.prototype,"setUrls",ol.source.CartoDB.prototype.setUrls);goog.exportProperty(ol.source.CartoDB.prototype,"getTileGrid",ol.source.CartoDB.prototype.getTileGrid);goog.exportProperty(ol.source.CartoDB.prototype,"refresh",ol.source.CartoDB.prototype.refresh);goog.exportProperty(ol.source.CartoDB.prototype,"getAttributions",ol.source.CartoDB.prototype.getAttributions);goog.exportProperty(ol.source.CartoDB.prototype,"getLogo",ol.source.CartoDB.prototype.getLogo);goog.exportProperty(ol.source.CartoDB.prototype,"getProjection",ol.source.CartoDB.prototype.getProjection);goog.exportProperty(ol.source.CartoDB.prototype,"getState",ol.source.CartoDB.prototype.getState);goog.exportProperty(ol.source.CartoDB.prototype,"setAttributions",ol.source.CartoDB.prototype.setAttributions);goog.exportProperty(ol.source.CartoDB.prototype,"get",ol.source.CartoDB.prototype.get);goog.exportProperty(ol.source.CartoDB.prototype,"getKeys",ol.source.CartoDB.prototype.getKeys);goog.exportProperty(ol.source.CartoDB.prototype,"getProperties",ol.source.CartoDB.prototype.getProperties);goog.exportProperty(ol.source.CartoDB.prototype,"set",ol.source.CartoDB.prototype.set);goog.exportProperty(ol.source.CartoDB.prototype,"setProperties",ol.source.CartoDB.prototype.setProperties);goog.exportProperty(ol.source.CartoDB.prototype,"unset",ol.source.CartoDB.prototype.unset);goog.exportProperty(ol.source.CartoDB.prototype,"changed",ol.source.CartoDB.prototype.changed);goog.exportProperty(ol.source.CartoDB.prototype,"dispatchEvent",ol.source.CartoDB.prototype.dispatchEvent);goog.exportProperty(ol.source.CartoDB.prototype,"getRevision",ol.source.CartoDB.prototype.getRevision);goog.exportProperty(ol.source.CartoDB.prototype,"on",ol.source.CartoDB.prototype.on);goog.exportProperty(ol.source.CartoDB.prototype,"once",ol.source.CartoDB.prototype.once);goog.exportProperty(ol.source.CartoDB.prototype,"un",ol.source.CartoDB.prototype.un);goog.exportProperty(ol.source.CartoDB.prototype,"unByKey",ol.source.CartoDB.prototype.unByKey);goog.exportProperty(ol.source.Vector.prototype,"getAttributions",ol.source.Vector.prototype.getAttributions);goog.exportProperty(ol.source.Vector.prototype,"getLogo",ol.source.Vector.prototype.getLogo);goog.exportProperty(ol.source.Vector.prototype,"getProjection",ol.source.Vector.prototype.getProjection);goog.exportProperty(ol.source.Vector.prototype,"getState",ol.source.Vector.prototype.getState);goog.exportProperty(ol.source.Vector.prototype,"refresh",ol.source.Vector.prototype.refresh);goog.exportProperty(ol.source.Vector.prototype,"setAttributions",ol.source.Vector.prototype.setAttributions);goog.exportProperty(ol.source.Vector.prototype,"get",ol.source.Vector.prototype.get);goog.exportProperty(ol.source.Vector.prototype,"getKeys",ol.source.Vector.prototype.getKeys);goog.exportProperty(ol.source.Vector.prototype,"getProperties",ol.source.Vector.prototype.getProperties);goog.exportProperty(ol.source.Vector.prototype,"set",ol.source.Vector.prototype.set);goog.exportProperty(ol.source.Vector.prototype,"setProperties",ol.source.Vector.prototype.setProperties);goog.exportProperty(ol.source.Vector.prototype,"unset",ol.source.Vector.prototype.unset);goog.exportProperty(ol.source.Vector.prototype,"changed",ol.source.Vector.prototype.changed);goog.exportProperty(ol.source.Vector.prototype,"dispatchEvent",ol.source.Vector.prototype.dispatchEvent);goog.exportProperty(ol.source.Vector.prototype,"getRevision",ol.source.Vector.prototype.getRevision);goog.exportProperty(ol.source.Vector.prototype,"on",ol.source.Vector.prototype.on);goog.exportProperty(ol.source.Vector.prototype,"once",ol.source.Vector.prototype.once);goog.exportProperty(ol.source.Vector.prototype,"un",ol.source.Vector.prototype.un);goog.exportProperty(ol.source.Vector.prototype,"unByKey",ol.source.Vector.prototype.unByKey);goog.exportProperty(ol.source.Cluster.prototype,"addFeature",ol.source.Cluster.prototype.addFeature);goog.exportProperty(ol.source.Cluster.prototype,"addFeatures",ol.source.Cluster.prototype.addFeatures);goog.exportProperty(ol.source.Cluster.prototype,"clear",ol.source.Cluster.prototype.clear);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeature",ol.source.Cluster.prototype.forEachFeature);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureInExtent",ol.source.Cluster.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureIntersectingExtent",ol.source.Cluster.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesCollection",ol.source.Cluster.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Cluster.prototype,"getFeatures",ol.source.Cluster.prototype.getFeatures);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesAtCoordinate",ol.source.Cluster.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesInExtent",ol.source.Cluster.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Cluster.prototype,"getClosestFeatureToCoordinate",ol.source.Cluster.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Cluster.prototype,"getExtent",ol.source.Cluster.prototype.getExtent);goog.exportProperty(ol.source.Cluster.prototype,"getFeatureById",ol.source.Cluster.prototype.getFeatureById);goog.exportProperty(ol.source.Cluster.prototype,"getFormat",ol.source.Cluster.prototype.getFormat);goog.exportProperty(ol.source.Cluster.prototype,"getUrl",ol.source.Cluster.prototype.getUrl);goog.exportProperty(ol.source.Cluster.prototype,"removeFeature",ol.source.Cluster.prototype.removeFeature);goog.exportProperty(ol.source.Cluster.prototype,"getAttributions",ol.source.Cluster.prototype.getAttributions);goog.exportProperty(ol.source.Cluster.prototype,"getLogo",ol.source.Cluster.prototype.getLogo);goog.exportProperty(ol.source.Cluster.prototype,"getProjection",ol.source.Cluster.prototype.getProjection);goog.exportProperty(ol.source.Cluster.prototype,"getState",ol.source.Cluster.prototype.getState);goog.exportProperty(ol.source.Cluster.prototype,"refresh",ol.source.Cluster.prototype.refresh);goog.exportProperty(ol.source.Cluster.prototype,"setAttributions",ol.source.Cluster.prototype.setAttributions);goog.exportProperty(ol.source.Cluster.prototype,"get",ol.source.Cluster.prototype.get);goog.exportProperty(ol.source.Cluster.prototype,"getKeys",ol.source.Cluster.prototype.getKeys);goog.exportProperty(ol.source.Cluster.prototype,"getProperties",ol.source.Cluster.prototype.getProperties);goog.exportProperty(ol.source.Cluster.prototype,"set",ol.source.Cluster.prototype.set);goog.exportProperty(ol.source.Cluster.prototype,"setProperties",ol.source.Cluster.prototype.setProperties);goog.exportProperty(ol.source.Cluster.prototype,"unset",ol.source.Cluster.prototype.unset);goog.exportProperty(ol.source.Cluster.prototype,"changed",ol.source.Cluster.prototype.changed);goog.exportProperty(ol.source.Cluster.prototype,"dispatchEvent",ol.source.Cluster.prototype.dispatchEvent);goog.exportProperty(ol.source.Cluster.prototype,"getRevision",ol.source.Cluster.prototype.getRevision);goog.exportProperty(ol.source.Cluster.prototype,"on",ol.source.Cluster.prototype.on);goog.exportProperty(ol.source.Cluster.prototype,"once",ol.source.Cluster.prototype.once);goog.exportProperty(ol.source.Cluster.prototype,"un",ol.source.Cluster.prototype.un);goog.exportProperty(ol.source.Cluster.prototype,"unByKey",ol.source.Cluster.prototype.unByKey);goog.exportProperty(ol.source.Image.prototype,"getAttributions",ol.source.Image.prototype.getAttributions);goog.exportProperty(ol.source.Image.prototype,"getLogo",ol.source.Image.prototype.getLogo);goog.exportProperty(ol.source.Image.prototype,"getProjection",ol.source.Image.prototype.getProjection);goog.exportProperty(ol.source.Image.prototype,"getState",ol.source.Image.prototype.getState);goog.exportProperty(ol.source.Image.prototype,"refresh",ol.source.Image.prototype.refresh);goog.exportProperty(ol.source.Image.prototype,"setAttributions",ol.source.Image.prototype.setAttributions);goog.exportProperty(ol.source.Image.prototype,"get",ol.source.Image.prototype.get);goog.exportProperty(ol.source.Image.prototype,"getKeys",ol.source.Image.prototype.getKeys);goog.exportProperty(ol.source.Image.prototype,"getProperties",ol.source.Image.prototype.getProperties);goog.exportProperty(ol.source.Image.prototype,"set",ol.source.Image.prototype.set);goog.exportProperty(ol.source.Image.prototype,"setProperties",ol.source.Image.prototype.setProperties);goog.exportProperty(ol.source.Image.prototype,"unset",ol.source.Image.prototype.unset);goog.exportProperty(ol.source.Image.prototype,"changed",ol.source.Image.prototype.changed);goog.exportProperty(ol.source.Image.prototype,"dispatchEvent",ol.source.Image.prototype.dispatchEvent);goog.exportProperty(ol.source.Image.prototype,"getRevision",ol.source.Image.prototype.getRevision);goog.exportProperty(ol.source.Image.prototype,"on",ol.source.Image.prototype.on);goog.exportProperty(ol.source.Image.prototype,"once",ol.source.Image.prototype.once);goog.exportProperty(ol.source.Image.prototype,"un",ol.source.Image.prototype.un);goog.exportProperty(ol.source.Image.prototype,"unByKey",ol.source.Image.prototype.unByKey);goog.exportProperty(ol.source.ImageEvent.prototype,"type",ol.source.ImageEvent.prototype.type);goog.exportProperty(ol.source.ImageEvent.prototype,"target",ol.source.ImageEvent.prototype.target);goog.exportProperty(ol.source.ImageEvent.prototype,"preventDefault",ol.source.ImageEvent.prototype.preventDefault);goog.exportProperty(ol.source.ImageEvent.prototype,"stopPropagation",ol.source.ImageEvent.prototype.stopPropagation);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getAttributions",ol.source.ImageArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getLogo",ol.source.ImageArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProjection",ol.source.ImageArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getState",ol.source.ImageArcGISRest.prototype.getState);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"refresh",ol.source.ImageArcGISRest.prototype.refresh);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setAttributions",ol.source.ImageArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"get",ol.source.ImageArcGISRest.prototype.get);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getKeys",ol.source.ImageArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProperties",ol.source.ImageArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"set",ol.source.ImageArcGISRest.prototype.set);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setProperties",ol.source.ImageArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"unset",ol.source.ImageArcGISRest.prototype.unset);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"changed",ol.source.ImageArcGISRest.prototype.changed);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"dispatchEvent",ol.source.ImageArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getRevision",ol.source.ImageArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"on",ol.source.ImageArcGISRest.prototype.on);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"once",ol.source.ImageArcGISRest.prototype.once);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"un",ol.source.ImageArcGISRest.prototype.un);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"unByKey",ol.source.ImageArcGISRest.prototype.unByKey);goog.exportProperty(ol.source.ImageCanvas.prototype,"getAttributions",ol.source.ImageCanvas.prototype.getAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,"getLogo",ol.source.ImageCanvas.prototype.getLogo);goog.exportProperty(ol.source.ImageCanvas.prototype,"getProjection",ol.source.ImageCanvas.prototype.getProjection);goog.exportProperty(ol.source.ImageCanvas.prototype,"getState",ol.source.ImageCanvas.prototype.getState);goog.exportProperty(ol.source.ImageCanvas.prototype,"refresh",ol.source.ImageCanvas.prototype.refresh);goog.exportProperty(ol.source.ImageCanvas.prototype,"setAttributions",ol.source.ImageCanvas.prototype.setAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,"get",ol.source.ImageCanvas.prototype.get);goog.exportProperty(ol.source.ImageCanvas.prototype,"getKeys",ol.source.ImageCanvas.prototype.getKeys);goog.exportProperty(ol.source.ImageCanvas.prototype,"getProperties",ol.source.ImageCanvas.prototype.getProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,"set",ol.source.ImageCanvas.prototype.set);goog.exportProperty(ol.source.ImageCanvas.prototype,"setProperties",ol.source.ImageCanvas.prototype.setProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,"unset",ol.source.ImageCanvas.prototype.unset);goog.exportProperty(ol.source.ImageCanvas.prototype,"changed",ol.source.ImageCanvas.prototype.changed);goog.exportProperty(ol.source.ImageCanvas.prototype,"dispatchEvent",ol.source.ImageCanvas.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageCanvas.prototype,"getRevision",ol.source.ImageCanvas.prototype.getRevision);goog.exportProperty(ol.source.ImageCanvas.prototype,"on",ol.source.ImageCanvas.prototype.on);goog.exportProperty(ol.source.ImageCanvas.prototype,"once",ol.source.ImageCanvas.prototype.once);goog.exportProperty(ol.source.ImageCanvas.prototype,"un",ol.source.ImageCanvas.prototype.un);goog.exportProperty(ol.source.ImageCanvas.prototype,"unByKey",ol.source.ImageCanvas.prototype.unByKey);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getAttributions",ol.source.ImageMapGuide.prototype.getAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getLogo",ol.source.ImageMapGuide.prototype.getLogo);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProjection",ol.source.ImageMapGuide.prototype.getProjection);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getState",ol.source.ImageMapGuide.prototype.getState);goog.exportProperty(ol.source.ImageMapGuide.prototype,"refresh",ol.source.ImageMapGuide.prototype.refresh);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setAttributions",ol.source.ImageMapGuide.prototype.setAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,"get",ol.source.ImageMapGuide.prototype.get);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getKeys",ol.source.ImageMapGuide.prototype.getKeys);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProperties",ol.source.ImageMapGuide.prototype.getProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,"set",ol.source.ImageMapGuide.prototype.set);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setProperties",ol.source.ImageMapGuide.prototype.setProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,"unset",ol.source.ImageMapGuide.prototype.unset);goog.exportProperty(ol.source.ImageMapGuide.prototype,"changed",ol.source.ImageMapGuide.prototype.changed);goog.exportProperty(ol.source.ImageMapGuide.prototype,"dispatchEvent",ol.source.ImageMapGuide.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getRevision",ol.source.ImageMapGuide.prototype.getRevision);goog.exportProperty(ol.source.ImageMapGuide.prototype,"on",ol.source.ImageMapGuide.prototype.on);goog.exportProperty(ol.source.ImageMapGuide.prototype,"once",ol.source.ImageMapGuide.prototype.once);goog.exportProperty(ol.source.ImageMapGuide.prototype,"un",ol.source.ImageMapGuide.prototype.un);goog.exportProperty(ol.source.ImageMapGuide.prototype,"unByKey",ol.source.ImageMapGuide.prototype.unByKey);goog.exportProperty(ol.source.ImageStatic.prototype,"getAttributions",ol.source.ImageStatic.prototype.getAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,"getLogo",ol.source.ImageStatic.prototype.getLogo);goog.exportProperty(ol.source.ImageStatic.prototype,"getProjection",ol.source.ImageStatic.prototype.getProjection);goog.exportProperty(ol.source.ImageStatic.prototype,"getState",ol.source.ImageStatic.prototype.getState);goog.exportProperty(ol.source.ImageStatic.prototype,"refresh",ol.source.ImageStatic.prototype.refresh);goog.exportProperty(ol.source.ImageStatic.prototype,"setAttributions",ol.source.ImageStatic.prototype.setAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,"get",ol.source.ImageStatic.prototype.get);goog.exportProperty(ol.source.ImageStatic.prototype,"getKeys",ol.source.ImageStatic.prototype.getKeys);goog.exportProperty(ol.source.ImageStatic.prototype,"getProperties",ol.source.ImageStatic.prototype.getProperties);goog.exportProperty(ol.source.ImageStatic.prototype,"set",ol.source.ImageStatic.prototype.set);goog.exportProperty(ol.source.ImageStatic.prototype,"setProperties",ol.source.ImageStatic.prototype.setProperties);goog.exportProperty(ol.source.ImageStatic.prototype,"unset",ol.source.ImageStatic.prototype.unset);goog.exportProperty(ol.source.ImageStatic.prototype,"changed",ol.source.ImageStatic.prototype.changed);goog.exportProperty(ol.source.ImageStatic.prototype,"dispatchEvent",ol.source.ImageStatic.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageStatic.prototype,"getRevision",ol.source.ImageStatic.prototype.getRevision);goog.exportProperty(ol.source.ImageStatic.prototype,"on",ol.source.ImageStatic.prototype.on);goog.exportProperty(ol.source.ImageStatic.prototype,"once",ol.source.ImageStatic.prototype.once);goog.exportProperty(ol.source.ImageStatic.prototype,"un",ol.source.ImageStatic.prototype.un);goog.exportProperty(ol.source.ImageStatic.prototype,"unByKey",ol.source.ImageStatic.prototype.unByKey);goog.exportProperty(ol.source.ImageVector.prototype,"getAttributions",ol.source.ImageVector.prototype.getAttributions);goog.exportProperty(ol.source.ImageVector.prototype,"getLogo",ol.source.ImageVector.prototype.getLogo);goog.exportProperty(ol.source.ImageVector.prototype,"getProjection",ol.source.ImageVector.prototype.getProjection);goog.exportProperty(ol.source.ImageVector.prototype,"getState",ol.source.ImageVector.prototype.getState);goog.exportProperty(ol.source.ImageVector.prototype,"refresh",ol.source.ImageVector.prototype.refresh);goog.exportProperty(ol.source.ImageVector.prototype,"setAttributions",ol.source.ImageVector.prototype.setAttributions);goog.exportProperty(ol.source.ImageVector.prototype,"get",ol.source.ImageVector.prototype.get);goog.exportProperty(ol.source.ImageVector.prototype,"getKeys",ol.source.ImageVector.prototype.getKeys);goog.exportProperty(ol.source.ImageVector.prototype,"getProperties",ol.source.ImageVector.prototype.getProperties);goog.exportProperty(ol.source.ImageVector.prototype,"set",ol.source.ImageVector.prototype.set);goog.exportProperty(ol.source.ImageVector.prototype,"setProperties",ol.source.ImageVector.prototype.setProperties);goog.exportProperty(ol.source.ImageVector.prototype,"unset",ol.source.ImageVector.prototype.unset);goog.exportProperty(ol.source.ImageVector.prototype,"changed",ol.source.ImageVector.prototype.changed);goog.exportProperty(ol.source.ImageVector.prototype,"dispatchEvent",ol.source.ImageVector.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageVector.prototype,"getRevision",ol.source.ImageVector.prototype.getRevision);goog.exportProperty(ol.source.ImageVector.prototype,"on",ol.source.ImageVector.prototype.on);goog.exportProperty(ol.source.ImageVector.prototype,"once",ol.source.ImageVector.prototype.once);goog.exportProperty(ol.source.ImageVector.prototype,"un",ol.source.ImageVector.prototype.un);goog.exportProperty(ol.source.ImageVector.prototype,"unByKey",ol.source.ImageVector.prototype.unByKey);goog.exportProperty(ol.source.ImageWMS.prototype,"getAttributions",ol.source.ImageWMS.prototype.getAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,"getLogo",ol.source.ImageWMS.prototype.getLogo);goog.exportProperty(ol.source.ImageWMS.prototype,"getProjection",ol.source.ImageWMS.prototype.getProjection);goog.exportProperty(ol.source.ImageWMS.prototype,"getState",ol.source.ImageWMS.prototype.getState);goog.exportProperty(ol.source.ImageWMS.prototype,"refresh",ol.source.ImageWMS.prototype.refresh);goog.exportProperty(ol.source.ImageWMS.prototype,"setAttributions",ol.source.ImageWMS.prototype.setAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,"get",ol.source.ImageWMS.prototype.get);goog.exportProperty(ol.source.ImageWMS.prototype,"getKeys",ol.source.ImageWMS.prototype.getKeys);goog.exportProperty(ol.source.ImageWMS.prototype,"getProperties",ol.source.ImageWMS.prototype.getProperties);goog.exportProperty(ol.source.ImageWMS.prototype,"set",ol.source.ImageWMS.prototype.set);goog.exportProperty(ol.source.ImageWMS.prototype,"setProperties",ol.source.ImageWMS.prototype.setProperties);goog.exportProperty(ol.source.ImageWMS.prototype,"unset",ol.source.ImageWMS.prototype.unset);goog.exportProperty(ol.source.ImageWMS.prototype,"changed",ol.source.ImageWMS.prototype.changed);goog.exportProperty(ol.source.ImageWMS.prototype,"dispatchEvent",ol.source.ImageWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageWMS.prototype,"getRevision",ol.source.ImageWMS.prototype.getRevision);goog.exportProperty(ol.source.ImageWMS.prototype,"on",ol.source.ImageWMS.prototype.on);goog.exportProperty(ol.source.ImageWMS.prototype,"once",ol.source.ImageWMS.prototype.once);goog.exportProperty(ol.source.ImageWMS.prototype,"un",ol.source.ImageWMS.prototype.un);goog.exportProperty(ol.source.ImageWMS.prototype,"unByKey",ol.source.ImageWMS.prototype.unByKey);goog.exportProperty(ol.source.OSM.prototype,"setRenderReprojectionEdges",ol.source.OSM.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.OSM.prototype,"setTileGridForProjection",ol.source.OSM.prototype.setTileGridForProjection);goog.exportProperty(ol.source.OSM.prototype,"getTileLoadFunction",ol.source.OSM.prototype.getTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,"getTileUrlFunction",ol.source.OSM.prototype.getTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,"getUrls",ol.source.OSM.prototype.getUrls);goog.exportProperty(ol.source.OSM.prototype,"setTileLoadFunction",ol.source.OSM.prototype.setTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,"setTileUrlFunction",ol.source.OSM.prototype.setTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,"setUrl",ol.source.OSM.prototype.setUrl);goog.exportProperty(ol.source.OSM.prototype,"setUrls",ol.source.OSM.prototype.setUrls);goog.exportProperty(ol.source.OSM.prototype,"getTileGrid",ol.source.OSM.prototype.getTileGrid);goog.exportProperty(ol.source.OSM.prototype,"refresh",ol.source.OSM.prototype.refresh);goog.exportProperty(ol.source.OSM.prototype,"getAttributions",ol.source.OSM.prototype.getAttributions);goog.exportProperty(ol.source.OSM.prototype,"getLogo",ol.source.OSM.prototype.getLogo);goog.exportProperty(ol.source.OSM.prototype,"getProjection",ol.source.OSM.prototype.getProjection);goog.exportProperty(ol.source.OSM.prototype,"getState",ol.source.OSM.prototype.getState);goog.exportProperty(ol.source.OSM.prototype,"setAttributions",ol.source.OSM.prototype.setAttributions);goog.exportProperty(ol.source.OSM.prototype,"get",ol.source.OSM.prototype.get);goog.exportProperty(ol.source.OSM.prototype,"getKeys",ol.source.OSM.prototype.getKeys);goog.exportProperty(ol.source.OSM.prototype,"getProperties",ol.source.OSM.prototype.getProperties);goog.exportProperty(ol.source.OSM.prototype,"set",ol.source.OSM.prototype.set);goog.exportProperty(ol.source.OSM.prototype,"setProperties",ol.source.OSM.prototype.setProperties);goog.exportProperty(ol.source.OSM.prototype,"unset",ol.source.OSM.prototype.unset);goog.exportProperty(ol.source.OSM.prototype,"changed",ol.source.OSM.prototype.changed);goog.exportProperty(ol.source.OSM.prototype,"dispatchEvent",ol.source.OSM.prototype.dispatchEvent);goog.exportProperty(ol.source.OSM.prototype,"getRevision",ol.source.OSM.prototype.getRevision);goog.exportProperty(ol.source.OSM.prototype,"on",ol.source.OSM.prototype.on);goog.exportProperty(ol.source.OSM.prototype,"once",ol.source.OSM.prototype.once);goog.exportProperty(ol.source.OSM.prototype,"un",ol.source.OSM.prototype.un);goog.exportProperty(ol.source.OSM.prototype,"unByKey",ol.source.OSM.prototype.unByKey);goog.exportProperty(ol.source.Raster.prototype,"getAttributions",ol.source.Raster.prototype.getAttributions);goog.exportProperty(ol.source.Raster.prototype,"getLogo",ol.source.Raster.prototype.getLogo);goog.exportProperty(ol.source.Raster.prototype,"getProjection",ol.source.Raster.prototype.getProjection);goog.exportProperty(ol.source.Raster.prototype,"getState",ol.source.Raster.prototype.getState);goog.exportProperty(ol.source.Raster.prototype,"refresh",ol.source.Raster.prototype.refresh);goog.exportProperty(ol.source.Raster.prototype,"setAttributions",ol.source.Raster.prototype.setAttributions);goog.exportProperty(ol.source.Raster.prototype,"get",ol.source.Raster.prototype.get);goog.exportProperty(ol.source.Raster.prototype,"getKeys",ol.source.Raster.prototype.getKeys);goog.exportProperty(ol.source.Raster.prototype,"getProperties",ol.source.Raster.prototype.getProperties);goog.exportProperty(ol.source.Raster.prototype,"set",ol.source.Raster.prototype.set);goog.exportProperty(ol.source.Raster.prototype,"setProperties",ol.source.Raster.prototype.setProperties);goog.exportProperty(ol.source.Raster.prototype,"unset",ol.source.Raster.prototype.unset);goog.exportProperty(ol.source.Raster.prototype,"changed",ol.source.Raster.prototype.changed);goog.exportProperty(ol.source.Raster.prototype,"dispatchEvent",ol.source.Raster.prototype.dispatchEvent);goog.exportProperty(ol.source.Raster.prototype,"getRevision",ol.source.Raster.prototype.getRevision);goog.exportProperty(ol.source.Raster.prototype,"on",ol.source.Raster.prototype.on);goog.exportProperty(ol.source.Raster.prototype,"once",ol.source.Raster.prototype.once);goog.exportProperty(ol.source.Raster.prototype,"un",ol.source.Raster.prototype.un);goog.exportProperty(ol.source.Raster.prototype,"unByKey",ol.source.Raster.prototype.unByKey);goog.exportProperty(ol.source.RasterEvent.prototype,"type",ol.source.RasterEvent.prototype.type);goog.exportProperty(ol.source.RasterEvent.prototype,"target",ol.source.RasterEvent.prototype.target);goog.exportProperty(ol.source.RasterEvent.prototype,"preventDefault",ol.source.RasterEvent.prototype.preventDefault);goog.exportProperty(ol.source.RasterEvent.prototype,"stopPropagation",ol.source.RasterEvent.prototype.stopPropagation);goog.exportProperty(ol.source.Stamen.prototype,"setRenderReprojectionEdges",ol.source.Stamen.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Stamen.prototype,"setTileGridForProjection",ol.source.Stamen.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Stamen.prototype,"getTileLoadFunction",ol.source.Stamen.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,"getTileUrlFunction",ol.source.Stamen.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,"getUrls",ol.source.Stamen.prototype.getUrls);goog.exportProperty(ol.source.Stamen.prototype,"setTileLoadFunction",ol.source.Stamen.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,"setTileUrlFunction",ol.source.Stamen.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,"setUrl",ol.source.Stamen.prototype.setUrl);goog.exportProperty(ol.source.Stamen.prototype,"setUrls",ol.source.Stamen.prototype.setUrls);goog.exportProperty(ol.source.Stamen.prototype,"getTileGrid",ol.source.Stamen.prototype.getTileGrid);goog.exportProperty(ol.source.Stamen.prototype,"refresh",ol.source.Stamen.prototype.refresh);goog.exportProperty(ol.source.Stamen.prototype,"getAttributions",ol.source.Stamen.prototype.getAttributions);goog.exportProperty(ol.source.Stamen.prototype,"getLogo",ol.source.Stamen.prototype.getLogo);goog.exportProperty(ol.source.Stamen.prototype,"getProjection",ol.source.Stamen.prototype.getProjection);goog.exportProperty(ol.source.Stamen.prototype,"getState",ol.source.Stamen.prototype.getState);goog.exportProperty(ol.source.Stamen.prototype,"setAttributions",ol.source.Stamen.prototype.setAttributions);goog.exportProperty(ol.source.Stamen.prototype,"get",ol.source.Stamen.prototype.get);goog.exportProperty(ol.source.Stamen.prototype,"getKeys",ol.source.Stamen.prototype.getKeys);goog.exportProperty(ol.source.Stamen.prototype,"getProperties",ol.source.Stamen.prototype.getProperties);goog.exportProperty(ol.source.Stamen.prototype,"set",ol.source.Stamen.prototype.set);goog.exportProperty(ol.source.Stamen.prototype,"setProperties",ol.source.Stamen.prototype.setProperties);goog.exportProperty(ol.source.Stamen.prototype,"unset",ol.source.Stamen.prototype.unset);goog.exportProperty(ol.source.Stamen.prototype,"changed",ol.source.Stamen.prototype.changed);goog.exportProperty(ol.source.Stamen.prototype,"dispatchEvent",ol.source.Stamen.prototype.dispatchEvent);goog.exportProperty(ol.source.Stamen.prototype,"getRevision",ol.source.Stamen.prototype.getRevision);goog.exportProperty(ol.source.Stamen.prototype,"on",ol.source.Stamen.prototype.on);goog.exportProperty(ol.source.Stamen.prototype,"once",ol.source.Stamen.prototype.once);goog.exportProperty(ol.source.Stamen.prototype,"un",ol.source.Stamen.prototype.un);goog.exportProperty(ol.source.Stamen.prototype,"unByKey",ol.source.Stamen.prototype.unByKey);goog.exportProperty(ol.source.TileEvent.prototype,"type",ol.source.TileEvent.prototype.type);goog.exportProperty(ol.source.TileEvent.prototype,"target",ol.source.TileEvent.prototype.target);goog.exportProperty(ol.source.TileEvent.prototype,"preventDefault",ol.source.TileEvent.prototype.preventDefault);goog.exportProperty(ol.source.TileEvent.prototype,"stopPropagation",ol.source.TileEvent.prototype.stopPropagation);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setRenderReprojectionEdges",ol.source.TileArcGISRest.prototype.setRenderReprojectionEdges);
goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileGridForProjection",ol.source.TileArcGISRest.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileLoadFunction",ol.source.TileArcGISRest.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileUrlFunction",ol.source.TileArcGISRest.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getUrls",ol.source.TileArcGISRest.prototype.getUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileLoadFunction",ol.source.TileArcGISRest.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileUrlFunction",ol.source.TileArcGISRest.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrl",ol.source.TileArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrls",ol.source.TileArcGISRest.prototype.setUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileGrid",ol.source.TileArcGISRest.prototype.getTileGrid);goog.exportProperty(ol.source.TileArcGISRest.prototype,"refresh",ol.source.TileArcGISRest.prototype.refresh);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getAttributions",ol.source.TileArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getLogo",ol.source.TileArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProjection",ol.source.TileArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getState",ol.source.TileArcGISRest.prototype.getState);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setAttributions",ol.source.TileArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,"get",ol.source.TileArcGISRest.prototype.get);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getKeys",ol.source.TileArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProperties",ol.source.TileArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,"set",ol.source.TileArcGISRest.prototype.set);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setProperties",ol.source.TileArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,"unset",ol.source.TileArcGISRest.prototype.unset);goog.exportProperty(ol.source.TileArcGISRest.prototype,"changed",ol.source.TileArcGISRest.prototype.changed);goog.exportProperty(ol.source.TileArcGISRest.prototype,"dispatchEvent",ol.source.TileArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getRevision",ol.source.TileArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.TileArcGISRest.prototype,"on",ol.source.TileArcGISRest.prototype.on);goog.exportProperty(ol.source.TileArcGISRest.prototype,"once",ol.source.TileArcGISRest.prototype.once);goog.exportProperty(ol.source.TileArcGISRest.prototype,"un",ol.source.TileArcGISRest.prototype.un);goog.exportProperty(ol.source.TileArcGISRest.prototype,"unByKey",ol.source.TileArcGISRest.prototype.unByKey);goog.exportProperty(ol.source.TileDebug.prototype,"getTileGrid",ol.source.TileDebug.prototype.getTileGrid);goog.exportProperty(ol.source.TileDebug.prototype,"refresh",ol.source.TileDebug.prototype.refresh);goog.exportProperty(ol.source.TileDebug.prototype,"getAttributions",ol.source.TileDebug.prototype.getAttributions);goog.exportProperty(ol.source.TileDebug.prototype,"getLogo",ol.source.TileDebug.prototype.getLogo);goog.exportProperty(ol.source.TileDebug.prototype,"getProjection",ol.source.TileDebug.prototype.getProjection);goog.exportProperty(ol.source.TileDebug.prototype,"getState",ol.source.TileDebug.prototype.getState);goog.exportProperty(ol.source.TileDebug.prototype,"setAttributions",ol.source.TileDebug.prototype.setAttributions);goog.exportProperty(ol.source.TileDebug.prototype,"get",ol.source.TileDebug.prototype.get);goog.exportProperty(ol.source.TileDebug.prototype,"getKeys",ol.source.TileDebug.prototype.getKeys);goog.exportProperty(ol.source.TileDebug.prototype,"getProperties",ol.source.TileDebug.prototype.getProperties);goog.exportProperty(ol.source.TileDebug.prototype,"set",ol.source.TileDebug.prototype.set);goog.exportProperty(ol.source.TileDebug.prototype,"setProperties",ol.source.TileDebug.prototype.setProperties);goog.exportProperty(ol.source.TileDebug.prototype,"unset",ol.source.TileDebug.prototype.unset);goog.exportProperty(ol.source.TileDebug.prototype,"changed",ol.source.TileDebug.prototype.changed);goog.exportProperty(ol.source.TileDebug.prototype,"dispatchEvent",ol.source.TileDebug.prototype.dispatchEvent);goog.exportProperty(ol.source.TileDebug.prototype,"getRevision",ol.source.TileDebug.prototype.getRevision);goog.exportProperty(ol.source.TileDebug.prototype,"on",ol.source.TileDebug.prototype.on);goog.exportProperty(ol.source.TileDebug.prototype,"once",ol.source.TileDebug.prototype.once);goog.exportProperty(ol.source.TileDebug.prototype,"un",ol.source.TileDebug.prototype.un);goog.exportProperty(ol.source.TileDebug.prototype,"unByKey",ol.source.TileDebug.prototype.unByKey);goog.exportProperty(ol.source.TileJSON.prototype,"setRenderReprojectionEdges",ol.source.TileJSON.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileJSON.prototype,"setTileGridForProjection",ol.source.TileJSON.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileJSON.prototype,"getTileLoadFunction",ol.source.TileJSON.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,"getTileUrlFunction",ol.source.TileJSON.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,"getUrls",ol.source.TileJSON.prototype.getUrls);goog.exportProperty(ol.source.TileJSON.prototype,"setTileLoadFunction",ol.source.TileJSON.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,"setTileUrlFunction",ol.source.TileJSON.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,"setUrl",ol.source.TileJSON.prototype.setUrl);goog.exportProperty(ol.source.TileJSON.prototype,"setUrls",ol.source.TileJSON.prototype.setUrls);goog.exportProperty(ol.source.TileJSON.prototype,"getTileGrid",ol.source.TileJSON.prototype.getTileGrid);goog.exportProperty(ol.source.TileJSON.prototype,"refresh",ol.source.TileJSON.prototype.refresh);goog.exportProperty(ol.source.TileJSON.prototype,"getAttributions",ol.source.TileJSON.prototype.getAttributions);goog.exportProperty(ol.source.TileJSON.prototype,"getLogo",ol.source.TileJSON.prototype.getLogo);goog.exportProperty(ol.source.TileJSON.prototype,"getProjection",ol.source.TileJSON.prototype.getProjection);goog.exportProperty(ol.source.TileJSON.prototype,"getState",ol.source.TileJSON.prototype.getState);goog.exportProperty(ol.source.TileJSON.prototype,"setAttributions",ol.source.TileJSON.prototype.setAttributions);goog.exportProperty(ol.source.TileJSON.prototype,"get",ol.source.TileJSON.prototype.get);goog.exportProperty(ol.source.TileJSON.prototype,"getKeys",ol.source.TileJSON.prototype.getKeys);goog.exportProperty(ol.source.TileJSON.prototype,"getProperties",ol.source.TileJSON.prototype.getProperties);goog.exportProperty(ol.source.TileJSON.prototype,"set",ol.source.TileJSON.prototype.set);goog.exportProperty(ol.source.TileJSON.prototype,"setProperties",ol.source.TileJSON.prototype.setProperties);goog.exportProperty(ol.source.TileJSON.prototype,"unset",ol.source.TileJSON.prototype.unset);goog.exportProperty(ol.source.TileJSON.prototype,"changed",ol.source.TileJSON.prototype.changed);goog.exportProperty(ol.source.TileJSON.prototype,"dispatchEvent",ol.source.TileJSON.prototype.dispatchEvent);goog.exportProperty(ol.source.TileJSON.prototype,"getRevision",ol.source.TileJSON.prototype.getRevision);goog.exportProperty(ol.source.TileJSON.prototype,"on",ol.source.TileJSON.prototype.on);goog.exportProperty(ol.source.TileJSON.prototype,"once",ol.source.TileJSON.prototype.once);goog.exportProperty(ol.source.TileJSON.prototype,"un",ol.source.TileJSON.prototype.un);goog.exportProperty(ol.source.TileJSON.prototype,"unByKey",ol.source.TileJSON.prototype.unByKey);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTileGrid",ol.source.TileUTFGrid.prototype.getTileGrid);goog.exportProperty(ol.source.TileUTFGrid.prototype,"refresh",ol.source.TileUTFGrid.prototype.refresh);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getAttributions",ol.source.TileUTFGrid.prototype.getAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getLogo",ol.source.TileUTFGrid.prototype.getLogo);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProjection",ol.source.TileUTFGrid.prototype.getProjection);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getState",ol.source.TileUTFGrid.prototype.getState);goog.exportProperty(ol.source.TileUTFGrid.prototype,"setAttributions",ol.source.TileUTFGrid.prototype.setAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,"get",ol.source.TileUTFGrid.prototype.get);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getKeys",ol.source.TileUTFGrid.prototype.getKeys);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProperties",ol.source.TileUTFGrid.prototype.getProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,"set",ol.source.TileUTFGrid.prototype.set);goog.exportProperty(ol.source.TileUTFGrid.prototype,"setProperties",ol.source.TileUTFGrid.prototype.setProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,"unset",ol.source.TileUTFGrid.prototype.unset);goog.exportProperty(ol.source.TileUTFGrid.prototype,"changed",ol.source.TileUTFGrid.prototype.changed);goog.exportProperty(ol.source.TileUTFGrid.prototype,"dispatchEvent",ol.source.TileUTFGrid.prototype.dispatchEvent);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getRevision",ol.source.TileUTFGrid.prototype.getRevision);goog.exportProperty(ol.source.TileUTFGrid.prototype,"on",ol.source.TileUTFGrid.prototype.on);goog.exportProperty(ol.source.TileUTFGrid.prototype,"once",ol.source.TileUTFGrid.prototype.once);goog.exportProperty(ol.source.TileUTFGrid.prototype,"un",ol.source.TileUTFGrid.prototype.un);goog.exportProperty(ol.source.TileUTFGrid.prototype,"unByKey",ol.source.TileUTFGrid.prototype.unByKey);goog.exportProperty(ol.source.TileWMS.prototype,"setRenderReprojectionEdges",ol.source.TileWMS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileWMS.prototype,"setTileGridForProjection",ol.source.TileWMS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileWMS.prototype,"getTileLoadFunction",ol.source.TileWMS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,"getTileUrlFunction",ol.source.TileWMS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,"getUrls",ol.source.TileWMS.prototype.getUrls);goog.exportProperty(ol.source.TileWMS.prototype,"setTileLoadFunction",ol.source.TileWMS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,"setTileUrlFunction",ol.source.TileWMS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,"setUrl",ol.source.TileWMS.prototype.setUrl);goog.exportProperty(ol.source.TileWMS.prototype,"setUrls",ol.source.TileWMS.prototype.setUrls);goog.exportProperty(ol.source.TileWMS.prototype,"getTileGrid",ol.source.TileWMS.prototype.getTileGrid);goog.exportProperty(ol.source.TileWMS.prototype,"refresh",ol.source.TileWMS.prototype.refresh);goog.exportProperty(ol.source.TileWMS.prototype,"getAttributions",ol.source.TileWMS.prototype.getAttributions);goog.exportProperty(ol.source.TileWMS.prototype,"getLogo",ol.source.TileWMS.prototype.getLogo);goog.exportProperty(ol.source.TileWMS.prototype,"getProjection",ol.source.TileWMS.prototype.getProjection);goog.exportProperty(ol.source.TileWMS.prototype,"getState",ol.source.TileWMS.prototype.getState);goog.exportProperty(ol.source.TileWMS.prototype,"setAttributions",ol.source.TileWMS.prototype.setAttributions);goog.exportProperty(ol.source.TileWMS.prototype,"get",ol.source.TileWMS.prototype.get);goog.exportProperty(ol.source.TileWMS.prototype,"getKeys",ol.source.TileWMS.prototype.getKeys);goog.exportProperty(ol.source.TileWMS.prototype,"getProperties",ol.source.TileWMS.prototype.getProperties);goog.exportProperty(ol.source.TileWMS.prototype,"set",ol.source.TileWMS.prototype.set);goog.exportProperty(ol.source.TileWMS.prototype,"setProperties",ol.source.TileWMS.prototype.setProperties);goog.exportProperty(ol.source.TileWMS.prototype,"unset",ol.source.TileWMS.prototype.unset);goog.exportProperty(ol.source.TileWMS.prototype,"changed",ol.source.TileWMS.prototype.changed);goog.exportProperty(ol.source.TileWMS.prototype,"dispatchEvent",ol.source.TileWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.TileWMS.prototype,"getRevision",ol.source.TileWMS.prototype.getRevision);goog.exportProperty(ol.source.TileWMS.prototype,"on",ol.source.TileWMS.prototype.on);goog.exportProperty(ol.source.TileWMS.prototype,"once",ol.source.TileWMS.prototype.once);goog.exportProperty(ol.source.TileWMS.prototype,"un",ol.source.TileWMS.prototype.un);goog.exportProperty(ol.source.TileWMS.prototype,"unByKey",ol.source.TileWMS.prototype.unByKey);goog.exportProperty(ol.source.VectorEvent.prototype,"type",ol.source.VectorEvent.prototype.type);goog.exportProperty(ol.source.VectorEvent.prototype,"target",ol.source.VectorEvent.prototype.target);goog.exportProperty(ol.source.VectorEvent.prototype,"preventDefault",ol.source.VectorEvent.prototype.preventDefault);goog.exportProperty(ol.source.VectorEvent.prototype,"stopPropagation",ol.source.VectorEvent.prototype.stopPropagation);goog.exportProperty(ol.source.VectorTile.prototype,"getTileLoadFunction",ol.source.VectorTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,"getTileUrlFunction",ol.source.VectorTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,"getUrls",ol.source.VectorTile.prototype.getUrls);goog.exportProperty(ol.source.VectorTile.prototype,"setTileLoadFunction",ol.source.VectorTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,"setTileUrlFunction",ol.source.VectorTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,"setUrl",ol.source.VectorTile.prototype.setUrl);goog.exportProperty(ol.source.VectorTile.prototype,"setUrls",ol.source.VectorTile.prototype.setUrls);goog.exportProperty(ol.source.VectorTile.prototype,"getTileGrid",ol.source.VectorTile.prototype.getTileGrid);goog.exportProperty(ol.source.VectorTile.prototype,"refresh",ol.source.VectorTile.prototype.refresh);goog.exportProperty(ol.source.VectorTile.prototype,"getAttributions",ol.source.VectorTile.prototype.getAttributions);goog.exportProperty(ol.source.VectorTile.prototype,"getLogo",ol.source.VectorTile.prototype.getLogo);goog.exportProperty(ol.source.VectorTile.prototype,"getProjection",ol.source.VectorTile.prototype.getProjection);goog.exportProperty(ol.source.VectorTile.prototype,"getState",ol.source.VectorTile.prototype.getState);goog.exportProperty(ol.source.VectorTile.prototype,"setAttributions",ol.source.VectorTile.prototype.setAttributions);goog.exportProperty(ol.source.VectorTile.prototype,"get",ol.source.VectorTile.prototype.get);goog.exportProperty(ol.source.VectorTile.prototype,"getKeys",ol.source.VectorTile.prototype.getKeys);goog.exportProperty(ol.source.VectorTile.prototype,"getProperties",ol.source.VectorTile.prototype.getProperties);goog.exportProperty(ol.source.VectorTile.prototype,"set",ol.source.VectorTile.prototype.set);goog.exportProperty(ol.source.VectorTile.prototype,"setProperties",ol.source.VectorTile.prototype.setProperties);goog.exportProperty(ol.source.VectorTile.prototype,"unset",ol.source.VectorTile.prototype.unset);goog.exportProperty(ol.source.VectorTile.prototype,"changed",ol.source.VectorTile.prototype.changed);goog.exportProperty(ol.source.VectorTile.prototype,"dispatchEvent",ol.source.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.source.VectorTile.prototype,"getRevision",ol.source.VectorTile.prototype.getRevision);goog.exportProperty(ol.source.VectorTile.prototype,"on",ol.source.VectorTile.prototype.on);goog.exportProperty(ol.source.VectorTile.prototype,"once",ol.source.VectorTile.prototype.once);goog.exportProperty(ol.source.VectorTile.prototype,"un",ol.source.VectorTile.prototype.un);goog.exportProperty(ol.source.VectorTile.prototype,"unByKey",ol.source.VectorTile.prototype.unByKey);goog.exportProperty(ol.source.WMTS.prototype,"setRenderReprojectionEdges",ol.source.WMTS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.WMTS.prototype,"setTileGridForProjection",ol.source.WMTS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.WMTS.prototype,"getTileLoadFunction",ol.source.WMTS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,"getTileUrlFunction",ol.source.WMTS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,"getUrls",ol.source.WMTS.prototype.getUrls);goog.exportProperty(ol.source.WMTS.prototype,"setTileLoadFunction",ol.source.WMTS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,"setTileUrlFunction",ol.source.WMTS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,"setUrl",ol.source.WMTS.prototype.setUrl);goog.exportProperty(ol.source.WMTS.prototype,"setUrls",ol.source.WMTS.prototype.setUrls);goog.exportProperty(ol.source.WMTS.prototype,"getTileGrid",ol.source.WMTS.prototype.getTileGrid);goog.exportProperty(ol.source.WMTS.prototype,"refresh",ol.source.WMTS.prototype.refresh);goog.exportProperty(ol.source.WMTS.prototype,"getAttributions",ol.source.WMTS.prototype.getAttributions);goog.exportProperty(ol.source.WMTS.prototype,"getLogo",ol.source.WMTS.prototype.getLogo);goog.exportProperty(ol.source.WMTS.prototype,"getProjection",ol.source.WMTS.prototype.getProjection);goog.exportProperty(ol.source.WMTS.prototype,"getState",ol.source.WMTS.prototype.getState);goog.exportProperty(ol.source.WMTS.prototype,"setAttributions",ol.source.WMTS.prototype.setAttributions);goog.exportProperty(ol.source.WMTS.prototype,"get",ol.source.WMTS.prototype.get);goog.exportProperty(ol.source.WMTS.prototype,"getKeys",ol.source.WMTS.prototype.getKeys);goog.exportProperty(ol.source.WMTS.prototype,"getProperties",ol.source.WMTS.prototype.getProperties);goog.exportProperty(ol.source.WMTS.prototype,"set",ol.source.WMTS.prototype.set);goog.exportProperty(ol.source.WMTS.prototype,"setProperties",ol.source.WMTS.prototype.setProperties);goog.exportProperty(ol.source.WMTS.prototype,"unset",ol.source.WMTS.prototype.unset);goog.exportProperty(ol.source.WMTS.prototype,"changed",ol.source.WMTS.prototype.changed);goog.exportProperty(ol.source.WMTS.prototype,"dispatchEvent",ol.source.WMTS.prototype.dispatchEvent);goog.exportProperty(ol.source.WMTS.prototype,"getRevision",ol.source.WMTS.prototype.getRevision);goog.exportProperty(ol.source.WMTS.prototype,"on",ol.source.WMTS.prototype.on);goog.exportProperty(ol.source.WMTS.prototype,"once",ol.source.WMTS.prototype.once);goog.exportProperty(ol.source.WMTS.prototype,"un",ol.source.WMTS.prototype.un);goog.exportProperty(ol.source.WMTS.prototype,"unByKey",ol.source.WMTS.prototype.unByKey);goog.exportProperty(ol.source.Zoomify.prototype,"setRenderReprojectionEdges",ol.source.Zoomify.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Zoomify.prototype,"setTileGridForProjection",ol.source.Zoomify.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Zoomify.prototype,"getTileLoadFunction",ol.source.Zoomify.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,"getTileUrlFunction",ol.source.Zoomify.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,"getUrls",ol.source.Zoomify.prototype.getUrls);goog.exportProperty(ol.source.Zoomify.prototype,"setTileLoadFunction",ol.source.Zoomify.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,"setTileUrlFunction",ol.source.Zoomify.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,"setUrl",ol.source.Zoomify.prototype.setUrl);goog.exportProperty(ol.source.Zoomify.prototype,"setUrls",ol.source.Zoomify.prototype.setUrls);goog.exportProperty(ol.source.Zoomify.prototype,"getTileGrid",ol.source.Zoomify.prototype.getTileGrid);goog.exportProperty(ol.source.Zoomify.prototype,"refresh",ol.source.Zoomify.prototype.refresh);goog.exportProperty(ol.source.Zoomify.prototype,"getAttributions",ol.source.Zoomify.prototype.getAttributions);goog.exportProperty(ol.source.Zoomify.prototype,"getLogo",ol.source.Zoomify.prototype.getLogo);goog.exportProperty(ol.source.Zoomify.prototype,"getProjection",ol.source.Zoomify.prototype.getProjection);goog.exportProperty(ol.source.Zoomify.prototype,"getState",ol.source.Zoomify.prototype.getState);goog.exportProperty(ol.source.Zoomify.prototype,"setAttributions",ol.source.Zoomify.prototype.setAttributions);goog.exportProperty(ol.source.Zoomify.prototype,"get",ol.source.Zoomify.prototype.get);goog.exportProperty(ol.source.Zoomify.prototype,"getKeys",ol.source.Zoomify.prototype.getKeys);goog.exportProperty(ol.source.Zoomify.prototype,"getProperties",ol.source.Zoomify.prototype.getProperties);goog.exportProperty(ol.source.Zoomify.prototype,"set",ol.source.Zoomify.prototype.set);goog.exportProperty(ol.source.Zoomify.prototype,"setProperties",ol.source.Zoomify.prototype.setProperties);goog.exportProperty(ol.source.Zoomify.prototype,"unset",ol.source.Zoomify.prototype.unset);goog.exportProperty(ol.source.Zoomify.prototype,"changed",ol.source.Zoomify.prototype.changed);goog.exportProperty(ol.source.Zoomify.prototype,"dispatchEvent",ol.source.Zoomify.prototype.dispatchEvent);goog.exportProperty(ol.source.Zoomify.prototype,"getRevision",ol.source.Zoomify.prototype.getRevision);goog.exportProperty(ol.source.Zoomify.prototype,"on",ol.source.Zoomify.prototype.on);goog.exportProperty(ol.source.Zoomify.prototype,"once",ol.source.Zoomify.prototype.once);goog.exportProperty(ol.source.Zoomify.prototype,"un",ol.source.Zoomify.prototype.un);goog.exportProperty(ol.source.Zoomify.prototype,"unByKey",ol.source.Zoomify.prototype.unByKey);goog.exportProperty(ol.reproj.Tile.prototype,"getTileCoord",ol.reproj.Tile.prototype.getTileCoord);goog.exportProperty(ol.reproj.Tile.prototype,"load",ol.reproj.Tile.prototype.load);goog.exportProperty(ol.renderer.Layer.prototype,"changed",ol.renderer.Layer.prototype.changed);goog.exportProperty(ol.renderer.Layer.prototype,"dispatchEvent",ol.renderer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.Layer.prototype,"getRevision",ol.renderer.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.Layer.prototype,"on",ol.renderer.Layer.prototype.on);goog.exportProperty(ol.renderer.Layer.prototype,"once",ol.renderer.Layer.prototype.once);goog.exportProperty(ol.renderer.Layer.prototype,"un",ol.renderer.Layer.prototype.un);goog.exportProperty(ol.renderer.Layer.prototype,"unByKey",ol.renderer.Layer.prototype.unByKey);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"changed",ol.renderer.webgl.Layer.prototype.changed);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"dispatchEvent",ol.renderer.webgl.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"getRevision",ol.renderer.webgl.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"on",ol.renderer.webgl.Layer.prototype.on);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"once",ol.renderer.webgl.Layer.prototype.once);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"un",ol.renderer.webgl.Layer.prototype.un);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"unByKey",ol.renderer.webgl.Layer.prototype.unByKey);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"changed",ol.renderer.webgl.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"dispatchEvent",ol.renderer.webgl.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"getRevision",ol.renderer.webgl.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"on",ol.renderer.webgl.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"once",ol.renderer.webgl.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"un",ol.renderer.webgl.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"unByKey",ol.renderer.webgl.ImageLayer.prototype.unByKey);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"changed",ol.renderer.webgl.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"dispatchEvent",ol.renderer.webgl.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"getRevision",ol.renderer.webgl.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"on",ol.renderer.webgl.TileLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"once",ol.renderer.webgl.TileLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"un",ol.renderer.webgl.TileLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"unByKey",ol.renderer.webgl.TileLayer.prototype.unByKey);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"changed",ol.renderer.webgl.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"dispatchEvent",ol.renderer.webgl.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"getRevision",ol.renderer.webgl.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"on",ol.renderer.webgl.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"once",ol.renderer.webgl.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"un",ol.renderer.webgl.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"unByKey",ol.renderer.webgl.VectorLayer.prototype.unByKey);goog.exportProperty(ol.renderer.dom.Layer.prototype,"changed",ol.renderer.dom.Layer.prototype.changed);goog.exportProperty(ol.renderer.dom.Layer.prototype,"dispatchEvent",ol.renderer.dom.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.dom.Layer.prototype,"getRevision",ol.renderer.dom.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.dom.Layer.prototype,"on",ol.renderer.dom.Layer.prototype.on);goog.exportProperty(ol.renderer.dom.Layer.prototype,"once",ol.renderer.dom.Layer.prototype.once);goog.exportProperty(ol.renderer.dom.Layer.prototype,"un",ol.renderer.dom.Layer.prototype.un);goog.exportProperty(ol.renderer.dom.Layer.prototype,"unByKey",ol.renderer.dom.Layer.prototype.unByKey);goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"changed",ol.renderer.dom.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"dispatchEvent",ol.renderer.dom.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"getRevision",ol.renderer.dom.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"on",ol.renderer.dom.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"once",ol.renderer.dom.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"un",ol.renderer.dom.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.dom.ImageLayer.prototype,"unByKey",ol.renderer.dom.ImageLayer.prototype.unByKey);goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"changed",ol.renderer.dom.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"dispatchEvent",ol.renderer.dom.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"getRevision",ol.renderer.dom.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"on",ol.renderer.dom.TileLayer.prototype.on);goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"once",ol.renderer.dom.TileLayer.prototype.once);goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"un",ol.renderer.dom.TileLayer.prototype.un);goog.exportProperty(ol.renderer.dom.TileLayer.prototype,"unByKey",ol.renderer.dom.TileLayer.prototype.unByKey);goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"changed",ol.renderer.dom.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"dispatchEvent",ol.renderer.dom.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"getRevision",ol.renderer.dom.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"on",ol.renderer.dom.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"once",ol.renderer.dom.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"un",ol.renderer.dom.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.dom.VectorLayer.prototype,"unByKey",ol.renderer.dom.VectorLayer.prototype.unByKey);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"changed",ol.renderer.canvas.Layer.prototype.changed);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"dispatchEvent",ol.renderer.canvas.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"getRevision",ol.renderer.canvas.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"on",ol.renderer.canvas.Layer.prototype.on);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"once",ol.renderer.canvas.Layer.prototype.once);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"un",ol.renderer.canvas.Layer.prototype.un);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"unByKey",ol.renderer.canvas.Layer.prototype.unByKey);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"changed",ol.renderer.canvas.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"dispatchEvent",ol.renderer.canvas.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"getRevision",ol.renderer.canvas.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"on",ol.renderer.canvas.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"once",ol.renderer.canvas.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"un",ol.renderer.canvas.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"unByKey",ol.renderer.canvas.ImageLayer.prototype.unByKey);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"changed",ol.renderer.canvas.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"dispatchEvent",ol.renderer.canvas.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"getRevision",ol.renderer.canvas.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"on",ol.renderer.canvas.TileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"once",ol.renderer.canvas.TileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"un",ol.renderer.canvas.TileLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"unByKey",ol.renderer.canvas.TileLayer.prototype.unByKey);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"changed",ol.renderer.canvas.VectorLayer.prototype.changed);
goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"getRevision",ol.renderer.canvas.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"on",ol.renderer.canvas.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"once",ol.renderer.canvas.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"un",ol.renderer.canvas.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"unByKey",ol.renderer.canvas.VectorLayer.prototype.unByKey);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"changed",ol.renderer.canvas.VectorTileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorTileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"getRevision",ol.renderer.canvas.VectorTileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"on",ol.renderer.canvas.VectorTileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"once",ol.renderer.canvas.VectorTileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"un",ol.renderer.canvas.VectorTileLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"unByKey",ol.renderer.canvas.VectorTileLayer.prototype.unByKey);goog.exportProperty(ol.render.Event.prototype,"type",ol.render.Event.prototype.type);goog.exportProperty(ol.render.Event.prototype,"target",ol.render.Event.prototype.target);goog.exportProperty(ol.render.Event.prototype,"preventDefault",ol.render.Event.prototype.preventDefault);goog.exportProperty(ol.render.Event.prototype,"stopPropagation",ol.render.Event.prototype.stopPropagation);goog.exportProperty(ol.pointer.PointerEvent.prototype,"type",ol.pointer.PointerEvent.prototype.type);goog.exportProperty(ol.pointer.PointerEvent.prototype,"target",ol.pointer.PointerEvent.prototype.target);goog.exportProperty(ol.pointer.PointerEvent.prototype,"preventDefault",ol.pointer.PointerEvent.prototype.preventDefault);goog.exportProperty(ol.pointer.PointerEvent.prototype,"stopPropagation",ol.pointer.PointerEvent.prototype.stopPropagation);goog.exportProperty(ol.layer.Base.prototype,"get",ol.layer.Base.prototype.get);goog.exportProperty(ol.layer.Base.prototype,"getKeys",ol.layer.Base.prototype.getKeys);goog.exportProperty(ol.layer.Base.prototype,"getProperties",ol.layer.Base.prototype.getProperties);goog.exportProperty(ol.layer.Base.prototype,"set",ol.layer.Base.prototype.set);goog.exportProperty(ol.layer.Base.prototype,"setProperties",ol.layer.Base.prototype.setProperties);goog.exportProperty(ol.layer.Base.prototype,"unset",ol.layer.Base.prototype.unset);goog.exportProperty(ol.layer.Base.prototype,"changed",ol.layer.Base.prototype.changed);goog.exportProperty(ol.layer.Base.prototype,"dispatchEvent",ol.layer.Base.prototype.dispatchEvent);goog.exportProperty(ol.layer.Base.prototype,"getRevision",ol.layer.Base.prototype.getRevision);goog.exportProperty(ol.layer.Base.prototype,"on",ol.layer.Base.prototype.on);goog.exportProperty(ol.layer.Base.prototype,"once",ol.layer.Base.prototype.once);goog.exportProperty(ol.layer.Base.prototype,"un",ol.layer.Base.prototype.un);goog.exportProperty(ol.layer.Base.prototype,"unByKey",ol.layer.Base.prototype.unByKey);goog.exportProperty(ol.layer.Group.prototype,"getExtent",ol.layer.Group.prototype.getExtent);goog.exportProperty(ol.layer.Group.prototype,"getMaxResolution",ol.layer.Group.prototype.getMaxResolution);goog.exportProperty(ol.layer.Group.prototype,"getMinResolution",ol.layer.Group.prototype.getMinResolution);goog.exportProperty(ol.layer.Group.prototype,"getOpacity",ol.layer.Group.prototype.getOpacity);goog.exportProperty(ol.layer.Group.prototype,"getVisible",ol.layer.Group.prototype.getVisible);goog.exportProperty(ol.layer.Group.prototype,"getZIndex",ol.layer.Group.prototype.getZIndex);goog.exportProperty(ol.layer.Group.prototype,"setExtent",ol.layer.Group.prototype.setExtent);goog.exportProperty(ol.layer.Group.prototype,"setMaxResolution",ol.layer.Group.prototype.setMaxResolution);goog.exportProperty(ol.layer.Group.prototype,"setMinResolution",ol.layer.Group.prototype.setMinResolution);goog.exportProperty(ol.layer.Group.prototype,"setOpacity",ol.layer.Group.prototype.setOpacity);goog.exportProperty(ol.layer.Group.prototype,"setVisible",ol.layer.Group.prototype.setVisible);goog.exportProperty(ol.layer.Group.prototype,"setZIndex",ol.layer.Group.prototype.setZIndex);goog.exportProperty(ol.layer.Group.prototype,"get",ol.layer.Group.prototype.get);goog.exportProperty(ol.layer.Group.prototype,"getKeys",ol.layer.Group.prototype.getKeys);goog.exportProperty(ol.layer.Group.prototype,"getProperties",ol.layer.Group.prototype.getProperties);goog.exportProperty(ol.layer.Group.prototype,"set",ol.layer.Group.prototype.set);goog.exportProperty(ol.layer.Group.prototype,"setProperties",ol.layer.Group.prototype.setProperties);goog.exportProperty(ol.layer.Group.prototype,"unset",ol.layer.Group.prototype.unset);goog.exportProperty(ol.layer.Group.prototype,"changed",ol.layer.Group.prototype.changed);goog.exportProperty(ol.layer.Group.prototype,"dispatchEvent",ol.layer.Group.prototype.dispatchEvent);goog.exportProperty(ol.layer.Group.prototype,"getRevision",ol.layer.Group.prototype.getRevision);goog.exportProperty(ol.layer.Group.prototype,"on",ol.layer.Group.prototype.on);goog.exportProperty(ol.layer.Group.prototype,"once",ol.layer.Group.prototype.once);goog.exportProperty(ol.layer.Group.prototype,"un",ol.layer.Group.prototype.un);goog.exportProperty(ol.layer.Group.prototype,"unByKey",ol.layer.Group.prototype.unByKey);goog.exportProperty(ol.layer.Layer.prototype,"getExtent",ol.layer.Layer.prototype.getExtent);goog.exportProperty(ol.layer.Layer.prototype,"getMaxResolution",ol.layer.Layer.prototype.getMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,"getMinResolution",ol.layer.Layer.prototype.getMinResolution);goog.exportProperty(ol.layer.Layer.prototype,"getOpacity",ol.layer.Layer.prototype.getOpacity);goog.exportProperty(ol.layer.Layer.prototype,"getVisible",ol.layer.Layer.prototype.getVisible);goog.exportProperty(ol.layer.Layer.prototype,"getZIndex",ol.layer.Layer.prototype.getZIndex);goog.exportProperty(ol.layer.Layer.prototype,"setExtent",ol.layer.Layer.prototype.setExtent);goog.exportProperty(ol.layer.Layer.prototype,"setMaxResolution",ol.layer.Layer.prototype.setMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,"setMinResolution",ol.layer.Layer.prototype.setMinResolution);goog.exportProperty(ol.layer.Layer.prototype,"setOpacity",ol.layer.Layer.prototype.setOpacity);goog.exportProperty(ol.layer.Layer.prototype,"setVisible",ol.layer.Layer.prototype.setVisible);goog.exportProperty(ol.layer.Layer.prototype,"setZIndex",ol.layer.Layer.prototype.setZIndex);goog.exportProperty(ol.layer.Layer.prototype,"get",ol.layer.Layer.prototype.get);goog.exportProperty(ol.layer.Layer.prototype,"getKeys",ol.layer.Layer.prototype.getKeys);goog.exportProperty(ol.layer.Layer.prototype,"getProperties",ol.layer.Layer.prototype.getProperties);goog.exportProperty(ol.layer.Layer.prototype,"set",ol.layer.Layer.prototype.set);goog.exportProperty(ol.layer.Layer.prototype,"setProperties",ol.layer.Layer.prototype.setProperties);goog.exportProperty(ol.layer.Layer.prototype,"unset",ol.layer.Layer.prototype.unset);goog.exportProperty(ol.layer.Layer.prototype,"changed",ol.layer.Layer.prototype.changed);goog.exportProperty(ol.layer.Layer.prototype,"dispatchEvent",ol.layer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.layer.Layer.prototype,"getRevision",ol.layer.Layer.prototype.getRevision);goog.exportProperty(ol.layer.Layer.prototype,"on",ol.layer.Layer.prototype.on);goog.exportProperty(ol.layer.Layer.prototype,"once",ol.layer.Layer.prototype.once);goog.exportProperty(ol.layer.Layer.prototype,"un",ol.layer.Layer.prototype.un);goog.exportProperty(ol.layer.Layer.prototype,"unByKey",ol.layer.Layer.prototype.unByKey);goog.exportProperty(ol.layer.Vector.prototype,"setMap",ol.layer.Vector.prototype.setMap);goog.exportProperty(ol.layer.Vector.prototype,"setSource",ol.layer.Vector.prototype.setSource);goog.exportProperty(ol.layer.Vector.prototype,"getExtent",ol.layer.Vector.prototype.getExtent);goog.exportProperty(ol.layer.Vector.prototype,"getMaxResolution",ol.layer.Vector.prototype.getMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,"getMinResolution",ol.layer.Vector.prototype.getMinResolution);goog.exportProperty(ol.layer.Vector.prototype,"getOpacity",ol.layer.Vector.prototype.getOpacity);goog.exportProperty(ol.layer.Vector.prototype,"getVisible",ol.layer.Vector.prototype.getVisible);goog.exportProperty(ol.layer.Vector.prototype,"getZIndex",ol.layer.Vector.prototype.getZIndex);goog.exportProperty(ol.layer.Vector.prototype,"setExtent",ol.layer.Vector.prototype.setExtent);goog.exportProperty(ol.layer.Vector.prototype,"setMaxResolution",ol.layer.Vector.prototype.setMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,"setMinResolution",ol.layer.Vector.prototype.setMinResolution);goog.exportProperty(ol.layer.Vector.prototype,"setOpacity",ol.layer.Vector.prototype.setOpacity);goog.exportProperty(ol.layer.Vector.prototype,"setVisible",ol.layer.Vector.prototype.setVisible);goog.exportProperty(ol.layer.Vector.prototype,"setZIndex",ol.layer.Vector.prototype.setZIndex);goog.exportProperty(ol.layer.Vector.prototype,"get",ol.layer.Vector.prototype.get);goog.exportProperty(ol.layer.Vector.prototype,"getKeys",ol.layer.Vector.prototype.getKeys);goog.exportProperty(ol.layer.Vector.prototype,"getProperties",ol.layer.Vector.prototype.getProperties);goog.exportProperty(ol.layer.Vector.prototype,"set",ol.layer.Vector.prototype.set);goog.exportProperty(ol.layer.Vector.prototype,"setProperties",ol.layer.Vector.prototype.setProperties);goog.exportProperty(ol.layer.Vector.prototype,"unset",ol.layer.Vector.prototype.unset);goog.exportProperty(ol.layer.Vector.prototype,"changed",ol.layer.Vector.prototype.changed);goog.exportProperty(ol.layer.Vector.prototype,"dispatchEvent",ol.layer.Vector.prototype.dispatchEvent);goog.exportProperty(ol.layer.Vector.prototype,"getRevision",ol.layer.Vector.prototype.getRevision);goog.exportProperty(ol.layer.Vector.prototype,"on",ol.layer.Vector.prototype.on);goog.exportProperty(ol.layer.Vector.prototype,"once",ol.layer.Vector.prototype.once);goog.exportProperty(ol.layer.Vector.prototype,"un",ol.layer.Vector.prototype.un);goog.exportProperty(ol.layer.Vector.prototype,"unByKey",ol.layer.Vector.prototype.unByKey);goog.exportProperty(ol.layer.Heatmap.prototype,"getSource",ol.layer.Heatmap.prototype.getSource);goog.exportProperty(ol.layer.Heatmap.prototype,"getStyle",ol.layer.Heatmap.prototype.getStyle);goog.exportProperty(ol.layer.Heatmap.prototype,"getStyleFunction",ol.layer.Heatmap.prototype.getStyleFunction);goog.exportProperty(ol.layer.Heatmap.prototype,"setStyle",ol.layer.Heatmap.prototype.setStyle);goog.exportProperty(ol.layer.Heatmap.prototype,"setMap",ol.layer.Heatmap.prototype.setMap);goog.exportProperty(ol.layer.Heatmap.prototype,"setSource",ol.layer.Heatmap.prototype.setSource);goog.exportProperty(ol.layer.Heatmap.prototype,"getExtent",ol.layer.Heatmap.prototype.getExtent);goog.exportProperty(ol.layer.Heatmap.prototype,"getMaxResolution",ol.layer.Heatmap.prototype.getMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"getMinResolution",ol.layer.Heatmap.prototype.getMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"getOpacity",ol.layer.Heatmap.prototype.getOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,"getVisible",ol.layer.Heatmap.prototype.getVisible);goog.exportProperty(ol.layer.Heatmap.prototype,"getZIndex",ol.layer.Heatmap.prototype.getZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,"setExtent",ol.layer.Heatmap.prototype.setExtent);goog.exportProperty(ol.layer.Heatmap.prototype,"setMaxResolution",ol.layer.Heatmap.prototype.setMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"setMinResolution",ol.layer.Heatmap.prototype.setMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"setOpacity",ol.layer.Heatmap.prototype.setOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,"setVisible",ol.layer.Heatmap.prototype.setVisible);goog.exportProperty(ol.layer.Heatmap.prototype,"setZIndex",ol.layer.Heatmap.prototype.setZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,"get",ol.layer.Heatmap.prototype.get);goog.exportProperty(ol.layer.Heatmap.prototype,"getKeys",ol.layer.Heatmap.prototype.getKeys);goog.exportProperty(ol.layer.Heatmap.prototype,"getProperties",ol.layer.Heatmap.prototype.getProperties);goog.exportProperty(ol.layer.Heatmap.prototype,"set",ol.layer.Heatmap.prototype.set);goog.exportProperty(ol.layer.Heatmap.prototype,"setProperties",ol.layer.Heatmap.prototype.setProperties);goog.exportProperty(ol.layer.Heatmap.prototype,"unset",ol.layer.Heatmap.prototype.unset);goog.exportProperty(ol.layer.Heatmap.prototype,"changed",ol.layer.Heatmap.prototype.changed);goog.exportProperty(ol.layer.Heatmap.prototype,"dispatchEvent",ol.layer.Heatmap.prototype.dispatchEvent);goog.exportProperty(ol.layer.Heatmap.prototype,"getRevision",ol.layer.Heatmap.prototype.getRevision);goog.exportProperty(ol.layer.Heatmap.prototype,"on",ol.layer.Heatmap.prototype.on);goog.exportProperty(ol.layer.Heatmap.prototype,"once",ol.layer.Heatmap.prototype.once);goog.exportProperty(ol.layer.Heatmap.prototype,"un",ol.layer.Heatmap.prototype.un);goog.exportProperty(ol.layer.Heatmap.prototype,"unByKey",ol.layer.Heatmap.prototype.unByKey);goog.exportProperty(ol.layer.Image.prototype,"setMap",ol.layer.Image.prototype.setMap);goog.exportProperty(ol.layer.Image.prototype,"setSource",ol.layer.Image.prototype.setSource);goog.exportProperty(ol.layer.Image.prototype,"getExtent",ol.layer.Image.prototype.getExtent);goog.exportProperty(ol.layer.Image.prototype,"getMaxResolution",ol.layer.Image.prototype.getMaxResolution);goog.exportProperty(ol.layer.Image.prototype,"getMinResolution",ol.layer.Image.prototype.getMinResolution);goog.exportProperty(ol.layer.Image.prototype,"getOpacity",ol.layer.Image.prototype.getOpacity);goog.exportProperty(ol.layer.Image.prototype,"getVisible",ol.layer.Image.prototype.getVisible);goog.exportProperty(ol.layer.Image.prototype,"getZIndex",ol.layer.Image.prototype.getZIndex);goog.exportProperty(ol.layer.Image.prototype,"setExtent",ol.layer.Image.prototype.setExtent);goog.exportProperty(ol.layer.Image.prototype,"setMaxResolution",ol.layer.Image.prototype.setMaxResolution);goog.exportProperty(ol.layer.Image.prototype,"setMinResolution",ol.layer.Image.prototype.setMinResolution);goog.exportProperty(ol.layer.Image.prototype,"setOpacity",ol.layer.Image.prototype.setOpacity);goog.exportProperty(ol.layer.Image.prototype,"setVisible",ol.layer.Image.prototype.setVisible);goog.exportProperty(ol.layer.Image.prototype,"setZIndex",ol.layer.Image.prototype.setZIndex);goog.exportProperty(ol.layer.Image.prototype,"get",ol.layer.Image.prototype.get);goog.exportProperty(ol.layer.Image.prototype,"getKeys",ol.layer.Image.prototype.getKeys);goog.exportProperty(ol.layer.Image.prototype,"getProperties",ol.layer.Image.prototype.getProperties);goog.exportProperty(ol.layer.Image.prototype,"set",ol.layer.Image.prototype.set);goog.exportProperty(ol.layer.Image.prototype,"setProperties",ol.layer.Image.prototype.setProperties);goog.exportProperty(ol.layer.Image.prototype,"unset",ol.layer.Image.prototype.unset);goog.exportProperty(ol.layer.Image.prototype,"changed",ol.layer.Image.prototype.changed);goog.exportProperty(ol.layer.Image.prototype,"dispatchEvent",ol.layer.Image.prototype.dispatchEvent);goog.exportProperty(ol.layer.Image.prototype,"getRevision",ol.layer.Image.prototype.getRevision);goog.exportProperty(ol.layer.Image.prototype,"on",ol.layer.Image.prototype.on);goog.exportProperty(ol.layer.Image.prototype,"once",ol.layer.Image.prototype.once);goog.exportProperty(ol.layer.Image.prototype,"un",ol.layer.Image.prototype.un);goog.exportProperty(ol.layer.Image.prototype,"unByKey",ol.layer.Image.prototype.unByKey);goog.exportProperty(ol.layer.Tile.prototype,"setMap",ol.layer.Tile.prototype.setMap);goog.exportProperty(ol.layer.Tile.prototype,"setSource",ol.layer.Tile.prototype.setSource);goog.exportProperty(ol.layer.Tile.prototype,"getExtent",ol.layer.Tile.prototype.getExtent);goog.exportProperty(ol.layer.Tile.prototype,"getMaxResolution",ol.layer.Tile.prototype.getMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,"getMinResolution",ol.layer.Tile.prototype.getMinResolution);goog.exportProperty(ol.layer.Tile.prototype,"getOpacity",ol.layer.Tile.prototype.getOpacity);goog.exportProperty(ol.layer.Tile.prototype,"getVisible",ol.layer.Tile.prototype.getVisible);goog.exportProperty(ol.layer.Tile.prototype,"getZIndex",ol.layer.Tile.prototype.getZIndex);goog.exportProperty(ol.layer.Tile.prototype,"setExtent",ol.layer.Tile.prototype.setExtent);goog.exportProperty(ol.layer.Tile.prototype,"setMaxResolution",ol.layer.Tile.prototype.setMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,"setMinResolution",ol.layer.Tile.prototype.setMinResolution);goog.exportProperty(ol.layer.Tile.prototype,"setOpacity",ol.layer.Tile.prototype.setOpacity);goog.exportProperty(ol.layer.Tile.prototype,"setVisible",ol.layer.Tile.prototype.setVisible);goog.exportProperty(ol.layer.Tile.prototype,"setZIndex",ol.layer.Tile.prototype.setZIndex);goog.exportProperty(ol.layer.Tile.prototype,"get",ol.layer.Tile.prototype.get);goog.exportProperty(ol.layer.Tile.prototype,"getKeys",ol.layer.Tile.prototype.getKeys);goog.exportProperty(ol.layer.Tile.prototype,"getProperties",ol.layer.Tile.prototype.getProperties);goog.exportProperty(ol.layer.Tile.prototype,"set",ol.layer.Tile.prototype.set);goog.exportProperty(ol.layer.Tile.prototype,"setProperties",ol.layer.Tile.prototype.setProperties);goog.exportProperty(ol.layer.Tile.prototype,"unset",ol.layer.Tile.prototype.unset);goog.exportProperty(ol.layer.Tile.prototype,"changed",ol.layer.Tile.prototype.changed);goog.exportProperty(ol.layer.Tile.prototype,"dispatchEvent",ol.layer.Tile.prototype.dispatchEvent);goog.exportProperty(ol.layer.Tile.prototype,"getRevision",ol.layer.Tile.prototype.getRevision);goog.exportProperty(ol.layer.Tile.prototype,"on",ol.layer.Tile.prototype.on);goog.exportProperty(ol.layer.Tile.prototype,"once",ol.layer.Tile.prototype.once);goog.exportProperty(ol.layer.Tile.prototype,"un",ol.layer.Tile.prototype.un);goog.exportProperty(ol.layer.Tile.prototype,"unByKey",ol.layer.Tile.prototype.unByKey);goog.exportProperty(ol.layer.VectorTile.prototype,"getSource",ol.layer.VectorTile.prototype.getSource);goog.exportProperty(ol.layer.VectorTile.prototype,"getStyle",ol.layer.VectorTile.prototype.getStyle);goog.exportProperty(ol.layer.VectorTile.prototype,"getStyleFunction",ol.layer.VectorTile.prototype.getStyleFunction);goog.exportProperty(ol.layer.VectorTile.prototype,"setStyle",ol.layer.VectorTile.prototype.setStyle);goog.exportProperty(ol.layer.VectorTile.prototype,"setMap",ol.layer.VectorTile.prototype.setMap);goog.exportProperty(ol.layer.VectorTile.prototype,"setSource",ol.layer.VectorTile.prototype.setSource);goog.exportProperty(ol.layer.VectorTile.prototype,"getExtent",ol.layer.VectorTile.prototype.getExtent);goog.exportProperty(ol.layer.VectorTile.prototype,"getMaxResolution",ol.layer.VectorTile.prototype.getMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"getMinResolution",ol.layer.VectorTile.prototype.getMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"getOpacity",ol.layer.VectorTile.prototype.getOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,"getVisible",ol.layer.VectorTile.prototype.getVisible);goog.exportProperty(ol.layer.VectorTile.prototype,"getZIndex",ol.layer.VectorTile.prototype.getZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,"setExtent",ol.layer.VectorTile.prototype.setExtent);goog.exportProperty(ol.layer.VectorTile.prototype,"setMaxResolution",ol.layer.VectorTile.prototype.setMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"setMinResolution",ol.layer.VectorTile.prototype.setMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"setOpacity",ol.layer.VectorTile.prototype.setOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,"setVisible",ol.layer.VectorTile.prototype.setVisible);goog.exportProperty(ol.layer.VectorTile.prototype,"setZIndex",ol.layer.VectorTile.prototype.setZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,"get",ol.layer.VectorTile.prototype.get);goog.exportProperty(ol.layer.VectorTile.prototype,"getKeys",ol.layer.VectorTile.prototype.getKeys);goog.exportProperty(ol.layer.VectorTile.prototype,"getProperties",ol.layer.VectorTile.prototype.getProperties);goog.exportProperty(ol.layer.VectorTile.prototype,"set",ol.layer.VectorTile.prototype.set);goog.exportProperty(ol.layer.VectorTile.prototype,"setProperties",ol.layer.VectorTile.prototype.setProperties);goog.exportProperty(ol.layer.VectorTile.prototype,"unset",ol.layer.VectorTile.prototype.unset);goog.exportProperty(ol.layer.VectorTile.prototype,"changed",ol.layer.VectorTile.prototype.changed);goog.exportProperty(ol.layer.VectorTile.prototype,"dispatchEvent",ol.layer.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.layer.VectorTile.prototype,"getRevision",ol.layer.VectorTile.prototype.getRevision);goog.exportProperty(ol.layer.VectorTile.prototype,"on",ol.layer.VectorTile.prototype.on);goog.exportProperty(ol.layer.VectorTile.prototype,"once",ol.layer.VectorTile.prototype.once);goog.exportProperty(ol.layer.VectorTile.prototype,"un",ol.layer.VectorTile.prototype.un);goog.exportProperty(ol.layer.VectorTile.prototype,"unByKey",ol.layer.VectorTile.prototype.unByKey);goog.exportProperty(ol.interaction.Interaction.prototype,"get",ol.interaction.Interaction.prototype.get);goog.exportProperty(ol.interaction.Interaction.prototype,"getKeys",ol.interaction.Interaction.prototype.getKeys);goog.exportProperty(ol.interaction.Interaction.prototype,"getProperties",ol.interaction.Interaction.prototype.getProperties);goog.exportProperty(ol.interaction.Interaction.prototype,"set",ol.interaction.Interaction.prototype.set);goog.exportProperty(ol.interaction.Interaction.prototype,"setProperties",ol.interaction.Interaction.prototype.setProperties);goog.exportProperty(ol.interaction.Interaction.prototype,"unset",ol.interaction.Interaction.prototype.unset);goog.exportProperty(ol.interaction.Interaction.prototype,"changed",ol.interaction.Interaction.prototype.changed);goog.exportProperty(ol.interaction.Interaction.prototype,"dispatchEvent",ol.interaction.Interaction.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Interaction.prototype,"getRevision",ol.interaction.Interaction.prototype.getRevision);goog.exportProperty(ol.interaction.Interaction.prototype,"on",ol.interaction.Interaction.prototype.on);goog.exportProperty(ol.interaction.Interaction.prototype,"once",ol.interaction.Interaction.prototype.once);goog.exportProperty(ol.interaction.Interaction.prototype,"un",ol.interaction.Interaction.prototype.un);goog.exportProperty(ol.interaction.Interaction.prototype,"unByKey",ol.interaction.Interaction.prototype.unByKey);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getActive",ol.interaction.DoubleClickZoom.prototype.getActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getMap",ol.interaction.DoubleClickZoom.prototype.getMap);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setActive",ol.interaction.DoubleClickZoom.prototype.setActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"get",ol.interaction.DoubleClickZoom.prototype.get);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getKeys",ol.interaction.DoubleClickZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getProperties",ol.interaction.DoubleClickZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"set",ol.interaction.DoubleClickZoom.prototype.set);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setProperties",ol.interaction.DoubleClickZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unset",ol.interaction.DoubleClickZoom.prototype.unset);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"changed",ol.interaction.DoubleClickZoom.prototype.changed);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"dispatchEvent",ol.interaction.DoubleClickZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getRevision",ol.interaction.DoubleClickZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"on",ol.interaction.DoubleClickZoom.prototype.on);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"once",ol.interaction.DoubleClickZoom.prototype.once);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"un",ol.interaction.DoubleClickZoom.prototype.un);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unByKey",ol.interaction.DoubleClickZoom.prototype.unByKey);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getActive",ol.interaction.DragAndDrop.prototype.getActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getMap",ol.interaction.DragAndDrop.prototype.getMap);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setActive",ol.interaction.DragAndDrop.prototype.setActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"get",ol.interaction.DragAndDrop.prototype.get);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getKeys",ol.interaction.DragAndDrop.prototype.getKeys);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getProperties",ol.interaction.DragAndDrop.prototype.getProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"set",ol.interaction.DragAndDrop.prototype.set);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setProperties",ol.interaction.DragAndDrop.prototype.setProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unset",ol.interaction.DragAndDrop.prototype.unset);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"changed",ol.interaction.DragAndDrop.prototype.changed);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"dispatchEvent",ol.interaction.DragAndDrop.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getRevision",ol.interaction.DragAndDrop.prototype.getRevision);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"on",ol.interaction.DragAndDrop.prototype.on);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"once",ol.interaction.DragAndDrop.prototype.once);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"un",ol.interaction.DragAndDrop.prototype.un);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unByKey",ol.interaction.DragAndDrop.prototype.unByKey);goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"type",ol.interaction.DragAndDropEvent.prototype.type);goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"target",ol.interaction.DragAndDropEvent.prototype.target);goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"preventDefault",ol.interaction.DragAndDropEvent.prototype.preventDefault);goog.exportProperty(ol.interaction.DragAndDropEvent.prototype,"stopPropagation",ol.interaction.DragAndDropEvent.prototype.stopPropagation);goog.exportProperty(ol.DragBoxEvent.prototype,"type",ol.DragBoxEvent.prototype.type);goog.exportProperty(ol.DragBoxEvent.prototype,"target",ol.DragBoxEvent.prototype.target);goog.exportProperty(ol.DragBoxEvent.prototype,"preventDefault",ol.DragBoxEvent.prototype.preventDefault);goog.exportProperty(ol.DragBoxEvent.prototype,"stopPropagation",ol.DragBoxEvent.prototype.stopPropagation);goog.exportProperty(ol.interaction.Pointer.prototype,"getActive",ol.interaction.Pointer.prototype.getActive);goog.exportProperty(ol.interaction.Pointer.prototype,"getMap",ol.interaction.Pointer.prototype.getMap);goog.exportProperty(ol.interaction.Pointer.prototype,"setActive",ol.interaction.Pointer.prototype.setActive);goog.exportProperty(ol.interaction.Pointer.prototype,"get",ol.interaction.Pointer.prototype.get);goog.exportProperty(ol.interaction.Pointer.prototype,"getKeys",ol.interaction.Pointer.prototype.getKeys);goog.exportProperty(ol.interaction.Pointer.prototype,"getProperties",ol.interaction.Pointer.prototype.getProperties);goog.exportProperty(ol.interaction.Pointer.prototype,"set",ol.interaction.Pointer.prototype.set);goog.exportProperty(ol.interaction.Pointer.prototype,"setProperties",ol.interaction.Pointer.prototype.setProperties);goog.exportProperty(ol.interaction.Pointer.prototype,"unset",ol.interaction.Pointer.prototype.unset);goog.exportProperty(ol.interaction.Pointer.prototype,"changed",ol.interaction.Pointer.prototype.changed);goog.exportProperty(ol.interaction.Pointer.prototype,"dispatchEvent",ol.interaction.Pointer.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Pointer.prototype,"getRevision",ol.interaction.Pointer.prototype.getRevision);goog.exportProperty(ol.interaction.Pointer.prototype,"on",ol.interaction.Pointer.prototype.on);goog.exportProperty(ol.interaction.Pointer.prototype,"once",ol.interaction.Pointer.prototype.once);goog.exportProperty(ol.interaction.Pointer.prototype,"un",ol.interaction.Pointer.prototype.un);goog.exportProperty(ol.interaction.Pointer.prototype,"unByKey",ol.interaction.Pointer.prototype.unByKey);goog.exportProperty(ol.interaction.DragBox.prototype,"getActive",ol.interaction.DragBox.prototype.getActive);goog.exportProperty(ol.interaction.DragBox.prototype,"getMap",ol.interaction.DragBox.prototype.getMap);goog.exportProperty(ol.interaction.DragBox.prototype,"setActive",ol.interaction.DragBox.prototype.setActive);goog.exportProperty(ol.interaction.DragBox.prototype,"get",ol.interaction.DragBox.prototype.get);goog.exportProperty(ol.interaction.DragBox.prototype,"getKeys",ol.interaction.DragBox.prototype.getKeys);goog.exportProperty(ol.interaction.DragBox.prototype,"getProperties",ol.interaction.DragBox.prototype.getProperties);goog.exportProperty(ol.interaction.DragBox.prototype,"set",ol.interaction.DragBox.prototype.set);goog.exportProperty(ol.interaction.DragBox.prototype,"setProperties",ol.interaction.DragBox.prototype.setProperties);goog.exportProperty(ol.interaction.DragBox.prototype,"unset",ol.interaction.DragBox.prototype.unset);goog.exportProperty(ol.interaction.DragBox.prototype,"changed",ol.interaction.DragBox.prototype.changed);goog.exportProperty(ol.interaction.DragBox.prototype,"dispatchEvent",ol.interaction.DragBox.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragBox.prototype,"getRevision",ol.interaction.DragBox.prototype.getRevision);goog.exportProperty(ol.interaction.DragBox.prototype,"on",ol.interaction.DragBox.prototype.on);goog.exportProperty(ol.interaction.DragBox.prototype,"once",ol.interaction.DragBox.prototype.once);goog.exportProperty(ol.interaction.DragBox.prototype,"un",ol.interaction.DragBox.prototype.un);goog.exportProperty(ol.interaction.DragBox.prototype,"unByKey",ol.interaction.DragBox.prototype.unByKey);goog.exportProperty(ol.interaction.DragPan.prototype,"getActive",ol.interaction.DragPan.prototype.getActive);goog.exportProperty(ol.interaction.DragPan.prototype,"getMap",ol.interaction.DragPan.prototype.getMap);goog.exportProperty(ol.interaction.DragPan.prototype,"setActive",ol.interaction.DragPan.prototype.setActive);goog.exportProperty(ol.interaction.DragPan.prototype,"get",ol.interaction.DragPan.prototype.get);goog.exportProperty(ol.interaction.DragPan.prototype,"getKeys",ol.interaction.DragPan.prototype.getKeys);
goog.exportProperty(ol.interaction.DragPan.prototype,"getProperties",ol.interaction.DragPan.prototype.getProperties);goog.exportProperty(ol.interaction.DragPan.prototype,"set",ol.interaction.DragPan.prototype.set);goog.exportProperty(ol.interaction.DragPan.prototype,"setProperties",ol.interaction.DragPan.prototype.setProperties);goog.exportProperty(ol.interaction.DragPan.prototype,"unset",ol.interaction.DragPan.prototype.unset);goog.exportProperty(ol.interaction.DragPan.prototype,"changed",ol.interaction.DragPan.prototype.changed);goog.exportProperty(ol.interaction.DragPan.prototype,"dispatchEvent",ol.interaction.DragPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragPan.prototype,"getRevision",ol.interaction.DragPan.prototype.getRevision);goog.exportProperty(ol.interaction.DragPan.prototype,"on",ol.interaction.DragPan.prototype.on);goog.exportProperty(ol.interaction.DragPan.prototype,"once",ol.interaction.DragPan.prototype.once);goog.exportProperty(ol.interaction.DragPan.prototype,"un",ol.interaction.DragPan.prototype.un);goog.exportProperty(ol.interaction.DragPan.prototype,"unByKey",ol.interaction.DragPan.prototype.unByKey);goog.exportProperty(ol.interaction.DragRotate.prototype,"getActive",ol.interaction.DragRotate.prototype.getActive);goog.exportProperty(ol.interaction.DragRotate.prototype,"getMap",ol.interaction.DragRotate.prototype.getMap);goog.exportProperty(ol.interaction.DragRotate.prototype,"setActive",ol.interaction.DragRotate.prototype.setActive);goog.exportProperty(ol.interaction.DragRotate.prototype,"get",ol.interaction.DragRotate.prototype.get);goog.exportProperty(ol.interaction.DragRotate.prototype,"getKeys",ol.interaction.DragRotate.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotate.prototype,"getProperties",ol.interaction.DragRotate.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,"set",ol.interaction.DragRotate.prototype.set);goog.exportProperty(ol.interaction.DragRotate.prototype,"setProperties",ol.interaction.DragRotate.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,"unset",ol.interaction.DragRotate.prototype.unset);goog.exportProperty(ol.interaction.DragRotate.prototype,"changed",ol.interaction.DragRotate.prototype.changed);goog.exportProperty(ol.interaction.DragRotate.prototype,"dispatchEvent",ol.interaction.DragRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotate.prototype,"getRevision",ol.interaction.DragRotate.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotate.prototype,"on",ol.interaction.DragRotate.prototype.on);goog.exportProperty(ol.interaction.DragRotate.prototype,"once",ol.interaction.DragRotate.prototype.once);goog.exportProperty(ol.interaction.DragRotate.prototype,"un",ol.interaction.DragRotate.prototype.un);goog.exportProperty(ol.interaction.DragRotate.prototype,"unByKey",ol.interaction.DragRotate.prototype.unByKey);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getActive",ol.interaction.DragRotateAndZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getMap",ol.interaction.DragRotateAndZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setActive",ol.interaction.DragRotateAndZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"get",ol.interaction.DragRotateAndZoom.prototype.get);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getKeys",ol.interaction.DragRotateAndZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getProperties",ol.interaction.DragRotateAndZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"set",ol.interaction.DragRotateAndZoom.prototype.set);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setProperties",ol.interaction.DragRotateAndZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unset",ol.interaction.DragRotateAndZoom.prototype.unset);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"changed",ol.interaction.DragRotateAndZoom.prototype.changed);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"dispatchEvent",ol.interaction.DragRotateAndZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getRevision",ol.interaction.DragRotateAndZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"on",ol.interaction.DragRotateAndZoom.prototype.on);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"once",ol.interaction.DragRotateAndZoom.prototype.once);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"un",ol.interaction.DragRotateAndZoom.prototype.un);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unByKey",ol.interaction.DragRotateAndZoom.prototype.unByKey);goog.exportProperty(ol.interaction.DragZoom.prototype,"getGeometry",ol.interaction.DragZoom.prototype.getGeometry);goog.exportProperty(ol.interaction.DragZoom.prototype,"getActive",ol.interaction.DragZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragZoom.prototype,"getMap",ol.interaction.DragZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragZoom.prototype,"setActive",ol.interaction.DragZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragZoom.prototype,"get",ol.interaction.DragZoom.prototype.get);goog.exportProperty(ol.interaction.DragZoom.prototype,"getKeys",ol.interaction.DragZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragZoom.prototype,"getProperties",ol.interaction.DragZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,"set",ol.interaction.DragZoom.prototype.set);goog.exportProperty(ol.interaction.DragZoom.prototype,"setProperties",ol.interaction.DragZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,"unset",ol.interaction.DragZoom.prototype.unset);goog.exportProperty(ol.interaction.DragZoom.prototype,"changed",ol.interaction.DragZoom.prototype.changed);goog.exportProperty(ol.interaction.DragZoom.prototype,"dispatchEvent",ol.interaction.DragZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragZoom.prototype,"getRevision",ol.interaction.DragZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragZoom.prototype,"on",ol.interaction.DragZoom.prototype.on);goog.exportProperty(ol.interaction.DragZoom.prototype,"once",ol.interaction.DragZoom.prototype.once);goog.exportProperty(ol.interaction.DragZoom.prototype,"un",ol.interaction.DragZoom.prototype.un);goog.exportProperty(ol.interaction.DragZoom.prototype,"unByKey",ol.interaction.DragZoom.prototype.unByKey);goog.exportProperty(ol.interaction.DrawEvent.prototype,"type",ol.interaction.DrawEvent.prototype.type);goog.exportProperty(ol.interaction.DrawEvent.prototype,"target",ol.interaction.DrawEvent.prototype.target);goog.exportProperty(ol.interaction.DrawEvent.prototype,"preventDefault",ol.interaction.DrawEvent.prototype.preventDefault);goog.exportProperty(ol.interaction.DrawEvent.prototype,"stopPropagation",ol.interaction.DrawEvent.prototype.stopPropagation);goog.exportProperty(ol.interaction.Draw.prototype,"getActive",ol.interaction.Draw.prototype.getActive);goog.exportProperty(ol.interaction.Draw.prototype,"getMap",ol.interaction.Draw.prototype.getMap);goog.exportProperty(ol.interaction.Draw.prototype,"setActive",ol.interaction.Draw.prototype.setActive);goog.exportProperty(ol.interaction.Draw.prototype,"get",ol.interaction.Draw.prototype.get);goog.exportProperty(ol.interaction.Draw.prototype,"getKeys",ol.interaction.Draw.prototype.getKeys);goog.exportProperty(ol.interaction.Draw.prototype,"getProperties",ol.interaction.Draw.prototype.getProperties);goog.exportProperty(ol.interaction.Draw.prototype,"set",ol.interaction.Draw.prototype.set);goog.exportProperty(ol.interaction.Draw.prototype,"setProperties",ol.interaction.Draw.prototype.setProperties);goog.exportProperty(ol.interaction.Draw.prototype,"unset",ol.interaction.Draw.prototype.unset);goog.exportProperty(ol.interaction.Draw.prototype,"changed",ol.interaction.Draw.prototype.changed);goog.exportProperty(ol.interaction.Draw.prototype,"dispatchEvent",ol.interaction.Draw.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Draw.prototype,"getRevision",ol.interaction.Draw.prototype.getRevision);goog.exportProperty(ol.interaction.Draw.prototype,"on",ol.interaction.Draw.prototype.on);goog.exportProperty(ol.interaction.Draw.prototype,"once",ol.interaction.Draw.prototype.once);goog.exportProperty(ol.interaction.Draw.prototype,"un",ol.interaction.Draw.prototype.un);goog.exportProperty(ol.interaction.Draw.prototype,"unByKey",ol.interaction.Draw.prototype.unByKey);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getActive",ol.interaction.KeyboardPan.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getMap",ol.interaction.KeyboardPan.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setActive",ol.interaction.KeyboardPan.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"get",ol.interaction.KeyboardPan.prototype.get);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getKeys",ol.interaction.KeyboardPan.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getProperties",ol.interaction.KeyboardPan.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"set",ol.interaction.KeyboardPan.prototype.set);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setProperties",ol.interaction.KeyboardPan.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unset",ol.interaction.KeyboardPan.prototype.unset);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"changed",ol.interaction.KeyboardPan.prototype.changed);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"dispatchEvent",ol.interaction.KeyboardPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getRevision",ol.interaction.KeyboardPan.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"on",ol.interaction.KeyboardPan.prototype.on);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"once",ol.interaction.KeyboardPan.prototype.once);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"un",ol.interaction.KeyboardPan.prototype.un);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unByKey",ol.interaction.KeyboardPan.prototype.unByKey);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getActive",ol.interaction.KeyboardZoom.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getMap",ol.interaction.KeyboardZoom.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setActive",ol.interaction.KeyboardZoom.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"get",ol.interaction.KeyboardZoom.prototype.get);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getKeys",ol.interaction.KeyboardZoom.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getProperties",ol.interaction.KeyboardZoom.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"set",ol.interaction.KeyboardZoom.prototype.set);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setProperties",ol.interaction.KeyboardZoom.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unset",ol.interaction.KeyboardZoom.prototype.unset);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"changed",ol.interaction.KeyboardZoom.prototype.changed);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"dispatchEvent",ol.interaction.KeyboardZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getRevision",ol.interaction.KeyboardZoom.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"on",ol.interaction.KeyboardZoom.prototype.on);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"once",ol.interaction.KeyboardZoom.prototype.once);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"un",ol.interaction.KeyboardZoom.prototype.un);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unByKey",ol.interaction.KeyboardZoom.prototype.unByKey);goog.exportProperty(ol.interaction.ModifyEvent.prototype,"type",ol.interaction.ModifyEvent.prototype.type);goog.exportProperty(ol.interaction.ModifyEvent.prototype,"target",ol.interaction.ModifyEvent.prototype.target);goog.exportProperty(ol.interaction.ModifyEvent.prototype,"preventDefault",ol.interaction.ModifyEvent.prototype.preventDefault);goog.exportProperty(ol.interaction.ModifyEvent.prototype,"stopPropagation",ol.interaction.ModifyEvent.prototype.stopPropagation);goog.exportProperty(ol.interaction.Modify.prototype,"getActive",ol.interaction.Modify.prototype.getActive);goog.exportProperty(ol.interaction.Modify.prototype,"getMap",ol.interaction.Modify.prototype.getMap);goog.exportProperty(ol.interaction.Modify.prototype,"setActive",ol.interaction.Modify.prototype.setActive);goog.exportProperty(ol.interaction.Modify.prototype,"get",ol.interaction.Modify.prototype.get);goog.exportProperty(ol.interaction.Modify.prototype,"getKeys",ol.interaction.Modify.prototype.getKeys);goog.exportProperty(ol.interaction.Modify.prototype,"getProperties",ol.interaction.Modify.prototype.getProperties);goog.exportProperty(ol.interaction.Modify.prototype,"set",ol.interaction.Modify.prototype.set);goog.exportProperty(ol.interaction.Modify.prototype,"setProperties",ol.interaction.Modify.prototype.setProperties);goog.exportProperty(ol.interaction.Modify.prototype,"unset",ol.interaction.Modify.prototype.unset);goog.exportProperty(ol.interaction.Modify.prototype,"changed",ol.interaction.Modify.prototype.changed);goog.exportProperty(ol.interaction.Modify.prototype,"dispatchEvent",ol.interaction.Modify.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Modify.prototype,"getRevision",ol.interaction.Modify.prototype.getRevision);goog.exportProperty(ol.interaction.Modify.prototype,"on",ol.interaction.Modify.prototype.on);goog.exportProperty(ol.interaction.Modify.prototype,"once",ol.interaction.Modify.prototype.once);goog.exportProperty(ol.interaction.Modify.prototype,"un",ol.interaction.Modify.prototype.un);goog.exportProperty(ol.interaction.Modify.prototype,"unByKey",ol.interaction.Modify.prototype.unByKey);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getActive",ol.interaction.MouseWheelZoom.prototype.getActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getMap",ol.interaction.MouseWheelZoom.prototype.getMap);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setActive",ol.interaction.MouseWheelZoom.prototype.setActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"get",ol.interaction.MouseWheelZoom.prototype.get);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getKeys",ol.interaction.MouseWheelZoom.prototype.getKeys);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getProperties",ol.interaction.MouseWheelZoom.prototype.getProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"set",ol.interaction.MouseWheelZoom.prototype.set);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setProperties",ol.interaction.MouseWheelZoom.prototype.setProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unset",ol.interaction.MouseWheelZoom.prototype.unset);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"changed",ol.interaction.MouseWheelZoom.prototype.changed);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"dispatchEvent",ol.interaction.MouseWheelZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getRevision",ol.interaction.MouseWheelZoom.prototype.getRevision);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"on",ol.interaction.MouseWheelZoom.prototype.on);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"once",ol.interaction.MouseWheelZoom.prototype.once);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"un",ol.interaction.MouseWheelZoom.prototype.un);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unByKey",ol.interaction.MouseWheelZoom.prototype.unByKey);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getActive",ol.interaction.PinchRotate.prototype.getActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getMap",ol.interaction.PinchRotate.prototype.getMap);goog.exportProperty(ol.interaction.PinchRotate.prototype,"setActive",ol.interaction.PinchRotate.prototype.setActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,"get",ol.interaction.PinchRotate.prototype.get);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getKeys",ol.interaction.PinchRotate.prototype.getKeys);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getProperties",ol.interaction.PinchRotate.prototype.getProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,"set",ol.interaction.PinchRotate.prototype.set);goog.exportProperty(ol.interaction.PinchRotate.prototype,"setProperties",ol.interaction.PinchRotate.prototype.setProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,"unset",ol.interaction.PinchRotate.prototype.unset);goog.exportProperty(ol.interaction.PinchRotate.prototype,"changed",ol.interaction.PinchRotate.prototype.changed);goog.exportProperty(ol.interaction.PinchRotate.prototype,"dispatchEvent",ol.interaction.PinchRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getRevision",ol.interaction.PinchRotate.prototype.getRevision);goog.exportProperty(ol.interaction.PinchRotate.prototype,"on",ol.interaction.PinchRotate.prototype.on);goog.exportProperty(ol.interaction.PinchRotate.prototype,"once",ol.interaction.PinchRotate.prototype.once);goog.exportProperty(ol.interaction.PinchRotate.prototype,"un",ol.interaction.PinchRotate.prototype.un);goog.exportProperty(ol.interaction.PinchRotate.prototype,"unByKey",ol.interaction.PinchRotate.prototype.unByKey);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getActive",ol.interaction.PinchZoom.prototype.getActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getMap",ol.interaction.PinchZoom.prototype.getMap);goog.exportProperty(ol.interaction.PinchZoom.prototype,"setActive",ol.interaction.PinchZoom.prototype.setActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,"get",ol.interaction.PinchZoom.prototype.get);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getKeys",ol.interaction.PinchZoom.prototype.getKeys);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getProperties",ol.interaction.PinchZoom.prototype.getProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,"set",ol.interaction.PinchZoom.prototype.set);goog.exportProperty(ol.interaction.PinchZoom.prototype,"setProperties",ol.interaction.PinchZoom.prototype.setProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,"unset",ol.interaction.PinchZoom.prototype.unset);goog.exportProperty(ol.interaction.PinchZoom.prototype,"changed",ol.interaction.PinchZoom.prototype.changed);goog.exportProperty(ol.interaction.PinchZoom.prototype,"dispatchEvent",ol.interaction.PinchZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getRevision",ol.interaction.PinchZoom.prototype.getRevision);goog.exportProperty(ol.interaction.PinchZoom.prototype,"on",ol.interaction.PinchZoom.prototype.on);goog.exportProperty(ol.interaction.PinchZoom.prototype,"once",ol.interaction.PinchZoom.prototype.once);goog.exportProperty(ol.interaction.PinchZoom.prototype,"un",ol.interaction.PinchZoom.prototype.un);goog.exportProperty(ol.interaction.PinchZoom.prototype,"unByKey",ol.interaction.PinchZoom.prototype.unByKey);goog.exportProperty(ol.interaction.SelectEvent.prototype,"type",ol.interaction.SelectEvent.prototype.type);goog.exportProperty(ol.interaction.SelectEvent.prototype,"target",ol.interaction.SelectEvent.prototype.target);goog.exportProperty(ol.interaction.SelectEvent.prototype,"preventDefault",ol.interaction.SelectEvent.prototype.preventDefault);goog.exportProperty(ol.interaction.SelectEvent.prototype,"stopPropagation",ol.interaction.SelectEvent.prototype.stopPropagation);goog.exportProperty(ol.interaction.Select.prototype,"getActive",ol.interaction.Select.prototype.getActive);goog.exportProperty(ol.interaction.Select.prototype,"getMap",ol.interaction.Select.prototype.getMap);goog.exportProperty(ol.interaction.Select.prototype,"setActive",ol.interaction.Select.prototype.setActive);goog.exportProperty(ol.interaction.Select.prototype,"get",ol.interaction.Select.prototype.get);goog.exportProperty(ol.interaction.Select.prototype,"getKeys",ol.interaction.Select.prototype.getKeys);goog.exportProperty(ol.interaction.Select.prototype,"getProperties",ol.interaction.Select.prototype.getProperties);goog.exportProperty(ol.interaction.Select.prototype,"set",ol.interaction.Select.prototype.set);goog.exportProperty(ol.interaction.Select.prototype,"setProperties",ol.interaction.Select.prototype.setProperties);goog.exportProperty(ol.interaction.Select.prototype,"unset",ol.interaction.Select.prototype.unset);goog.exportProperty(ol.interaction.Select.prototype,"changed",ol.interaction.Select.prototype.changed);goog.exportProperty(ol.interaction.Select.prototype,"dispatchEvent",ol.interaction.Select.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Select.prototype,"getRevision",ol.interaction.Select.prototype.getRevision);goog.exportProperty(ol.interaction.Select.prototype,"on",ol.interaction.Select.prototype.on);goog.exportProperty(ol.interaction.Select.prototype,"once",ol.interaction.Select.prototype.once);goog.exportProperty(ol.interaction.Select.prototype,"un",ol.interaction.Select.prototype.un);goog.exportProperty(ol.interaction.Select.prototype,"unByKey",ol.interaction.Select.prototype.unByKey);goog.exportProperty(ol.interaction.Snap.prototype,"getActive",ol.interaction.Snap.prototype.getActive);goog.exportProperty(ol.interaction.Snap.prototype,"getMap",ol.interaction.Snap.prototype.getMap);goog.exportProperty(ol.interaction.Snap.prototype,"setActive",ol.interaction.Snap.prototype.setActive);goog.exportProperty(ol.interaction.Snap.prototype,"get",ol.interaction.Snap.prototype.get);goog.exportProperty(ol.interaction.Snap.prototype,"getKeys",ol.interaction.Snap.prototype.getKeys);goog.exportProperty(ol.interaction.Snap.prototype,"getProperties",ol.interaction.Snap.prototype.getProperties);goog.exportProperty(ol.interaction.Snap.prototype,"set",ol.interaction.Snap.prototype.set);goog.exportProperty(ol.interaction.Snap.prototype,"setProperties",ol.interaction.Snap.prototype.setProperties);goog.exportProperty(ol.interaction.Snap.prototype,"unset",ol.interaction.Snap.prototype.unset);goog.exportProperty(ol.interaction.Snap.prototype,"changed",ol.interaction.Snap.prototype.changed);goog.exportProperty(ol.interaction.Snap.prototype,"dispatchEvent",ol.interaction.Snap.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Snap.prototype,"getRevision",ol.interaction.Snap.prototype.getRevision);goog.exportProperty(ol.interaction.Snap.prototype,"on",ol.interaction.Snap.prototype.on);goog.exportProperty(ol.interaction.Snap.prototype,"once",ol.interaction.Snap.prototype.once);goog.exportProperty(ol.interaction.Snap.prototype,"un",ol.interaction.Snap.prototype.un);goog.exportProperty(ol.interaction.Snap.prototype,"unByKey",ol.interaction.Snap.prototype.unByKey);goog.exportProperty(ol.interaction.TranslateEvent.prototype,"type",ol.interaction.TranslateEvent.prototype.type);goog.exportProperty(ol.interaction.TranslateEvent.prototype,"target",ol.interaction.TranslateEvent.prototype.target);goog.exportProperty(ol.interaction.TranslateEvent.prototype,"preventDefault",ol.interaction.TranslateEvent.prototype.preventDefault);goog.exportProperty(ol.interaction.TranslateEvent.prototype,"stopPropagation",ol.interaction.TranslateEvent.prototype.stopPropagation);goog.exportProperty(ol.interaction.Translate.prototype,"getActive",ol.interaction.Translate.prototype.getActive);goog.exportProperty(ol.interaction.Translate.prototype,"getMap",ol.interaction.Translate.prototype.getMap);goog.exportProperty(ol.interaction.Translate.prototype,"setActive",ol.interaction.Translate.prototype.setActive);goog.exportProperty(ol.interaction.Translate.prototype,"get",ol.interaction.Translate.prototype.get);goog.exportProperty(ol.interaction.Translate.prototype,"getKeys",ol.interaction.Translate.prototype.getKeys);goog.exportProperty(ol.interaction.Translate.prototype,"getProperties",ol.interaction.Translate.prototype.getProperties);goog.exportProperty(ol.interaction.Translate.prototype,"set",ol.interaction.Translate.prototype.set);goog.exportProperty(ol.interaction.Translate.prototype,"setProperties",ol.interaction.Translate.prototype.setProperties);goog.exportProperty(ol.interaction.Translate.prototype,"unset",ol.interaction.Translate.prototype.unset);goog.exportProperty(ol.interaction.Translate.prototype,"changed",ol.interaction.Translate.prototype.changed);goog.exportProperty(ol.interaction.Translate.prototype,"dispatchEvent",ol.interaction.Translate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Translate.prototype,"getRevision",ol.interaction.Translate.prototype.getRevision);goog.exportProperty(ol.interaction.Translate.prototype,"on",ol.interaction.Translate.prototype.on);goog.exportProperty(ol.interaction.Translate.prototype,"once",ol.interaction.Translate.prototype.once);goog.exportProperty(ol.interaction.Translate.prototype,"un",ol.interaction.Translate.prototype.un);goog.exportProperty(ol.interaction.Translate.prototype,"unByKey",ol.interaction.Translate.prototype.unByKey);goog.exportProperty(ol.geom.Geometry.prototype,"get",ol.geom.Geometry.prototype.get);goog.exportProperty(ol.geom.Geometry.prototype,"getKeys",ol.geom.Geometry.prototype.getKeys);goog.exportProperty(ol.geom.Geometry.prototype,"getProperties",ol.geom.Geometry.prototype.getProperties);goog.exportProperty(ol.geom.Geometry.prototype,"set",ol.geom.Geometry.prototype.set);goog.exportProperty(ol.geom.Geometry.prototype,"setProperties",ol.geom.Geometry.prototype.setProperties);goog.exportProperty(ol.geom.Geometry.prototype,"unset",ol.geom.Geometry.prototype.unset);goog.exportProperty(ol.geom.Geometry.prototype,"changed",ol.geom.Geometry.prototype.changed);goog.exportProperty(ol.geom.Geometry.prototype,"dispatchEvent",ol.geom.Geometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.Geometry.prototype,"getRevision",ol.geom.Geometry.prototype.getRevision);goog.exportProperty(ol.geom.Geometry.prototype,"on",ol.geom.Geometry.prototype.on);goog.exportProperty(ol.geom.Geometry.prototype,"once",ol.geom.Geometry.prototype.once);goog.exportProperty(ol.geom.Geometry.prototype,"un",ol.geom.Geometry.prototype.un);goog.exportProperty(ol.geom.Geometry.prototype,"unByKey",ol.geom.Geometry.prototype.unByKey);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getClosestPoint",ol.geom.SimpleGeometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"intersectsCoordinate",ol.geom.SimpleGeometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getExtent",ol.geom.SimpleGeometry.prototype.getExtent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"rotate",ol.geom.SimpleGeometry.prototype.rotate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"scale",ol.geom.SimpleGeometry.prototype.scale);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"simplify",ol.geom.SimpleGeometry.prototype.simplify);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"transform",ol.geom.SimpleGeometry.prototype.transform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"get",ol.geom.SimpleGeometry.prototype.get);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getKeys",ol.geom.SimpleGeometry.prototype.getKeys);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getProperties",ol.geom.SimpleGeometry.prototype.getProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"set",ol.geom.SimpleGeometry.prototype.set);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"setProperties",ol.geom.SimpleGeometry.prototype.setProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unset",ol.geom.SimpleGeometry.prototype.unset);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"changed",ol.geom.SimpleGeometry.prototype.changed);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"dispatchEvent",ol.geom.SimpleGeometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getRevision",ol.geom.SimpleGeometry.prototype.getRevision);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"on",ol.geom.SimpleGeometry.prototype.on);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"once",ol.geom.SimpleGeometry.prototype.once);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"un",ol.geom.SimpleGeometry.prototype.un);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unByKey",ol.geom.SimpleGeometry.prototype.unByKey);goog.exportProperty(ol.geom.Circle.prototype,"getFirstCoordinate",ol.geom.Circle.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getLastCoordinate",ol.geom.Circle.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getLayout",ol.geom.Circle.prototype.getLayout);goog.exportProperty(ol.geom.Circle.prototype,"rotate",ol.geom.Circle.prototype.rotate);goog.exportProperty(ol.geom.Circle.prototype,"scale",ol.geom.Circle.prototype.scale);goog.exportProperty(ol.geom.Circle.prototype,"getClosestPoint",ol.geom.Circle.prototype.getClosestPoint);goog.exportProperty(ol.geom.Circle.prototype,"intersectsCoordinate",ol.geom.Circle.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getExtent",ol.geom.Circle.prototype.getExtent);goog.exportProperty(ol.geom.Circle.prototype,"simplify",ol.geom.Circle.prototype.simplify);goog.exportProperty(ol.geom.Circle.prototype,"get",ol.geom.Circle.prototype.get);goog.exportProperty(ol.geom.Circle.prototype,"getKeys",ol.geom.Circle.prototype.getKeys);goog.exportProperty(ol.geom.Circle.prototype,"getProperties",ol.geom.Circle.prototype.getProperties);goog.exportProperty(ol.geom.Circle.prototype,"set",ol.geom.Circle.prototype.set);goog.exportProperty(ol.geom.Circle.prototype,"setProperties",ol.geom.Circle.prototype.setProperties);goog.exportProperty(ol.geom.Circle.prototype,"unset",ol.geom.Circle.prototype.unset);goog.exportProperty(ol.geom.Circle.prototype,"changed",ol.geom.Circle.prototype.changed);goog.exportProperty(ol.geom.Circle.prototype,"dispatchEvent",ol.geom.Circle.prototype.dispatchEvent);goog.exportProperty(ol.geom.Circle.prototype,"getRevision",ol.geom.Circle.prototype.getRevision);goog.exportProperty(ol.geom.Circle.prototype,"on",ol.geom.Circle.prototype.on);goog.exportProperty(ol.geom.Circle.prototype,"once",ol.geom.Circle.prototype.once);goog.exportProperty(ol.geom.Circle.prototype,"un",ol.geom.Circle.prototype.un);goog.exportProperty(ol.geom.Circle.prototype,"unByKey",ol.geom.Circle.prototype.unByKey);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getClosestPoint",ol.geom.GeometryCollection.prototype.getClosestPoint);goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsCoordinate",ol.geom.GeometryCollection.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getExtent",ol.geom.GeometryCollection.prototype.getExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"rotate",ol.geom.GeometryCollection.prototype.rotate);goog.exportProperty(ol.geom.GeometryCollection.prototype,"scale",ol.geom.GeometryCollection.prototype.scale);
goog.exportProperty(ol.geom.GeometryCollection.prototype,"simplify",ol.geom.GeometryCollection.prototype.simplify);goog.exportProperty(ol.geom.GeometryCollection.prototype,"transform",ol.geom.GeometryCollection.prototype.transform);goog.exportProperty(ol.geom.GeometryCollection.prototype,"get",ol.geom.GeometryCollection.prototype.get);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getKeys",ol.geom.GeometryCollection.prototype.getKeys);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getProperties",ol.geom.GeometryCollection.prototype.getProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,"set",ol.geom.GeometryCollection.prototype.set);goog.exportProperty(ol.geom.GeometryCollection.prototype,"setProperties",ol.geom.GeometryCollection.prototype.setProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,"unset",ol.geom.GeometryCollection.prototype.unset);goog.exportProperty(ol.geom.GeometryCollection.prototype,"changed",ol.geom.GeometryCollection.prototype.changed);goog.exportProperty(ol.geom.GeometryCollection.prototype,"dispatchEvent",ol.geom.GeometryCollection.prototype.dispatchEvent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getRevision",ol.geom.GeometryCollection.prototype.getRevision);goog.exportProperty(ol.geom.GeometryCollection.prototype,"on",ol.geom.GeometryCollection.prototype.on);goog.exportProperty(ol.geom.GeometryCollection.prototype,"once",ol.geom.GeometryCollection.prototype.once);goog.exportProperty(ol.geom.GeometryCollection.prototype,"un",ol.geom.GeometryCollection.prototype.un);goog.exportProperty(ol.geom.GeometryCollection.prototype,"unByKey",ol.geom.GeometryCollection.prototype.unByKey);goog.exportProperty(ol.geom.LinearRing.prototype,"getFirstCoordinate",ol.geom.LinearRing.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getLastCoordinate",ol.geom.LinearRing.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getLayout",ol.geom.LinearRing.prototype.getLayout);goog.exportProperty(ol.geom.LinearRing.prototype,"rotate",ol.geom.LinearRing.prototype.rotate);goog.exportProperty(ol.geom.LinearRing.prototype,"scale",ol.geom.LinearRing.prototype.scale);goog.exportProperty(ol.geom.LinearRing.prototype,"getClosestPoint",ol.geom.LinearRing.prototype.getClosestPoint);goog.exportProperty(ol.geom.LinearRing.prototype,"intersectsCoordinate",ol.geom.LinearRing.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getExtent",ol.geom.LinearRing.prototype.getExtent);goog.exportProperty(ol.geom.LinearRing.prototype,"simplify",ol.geom.LinearRing.prototype.simplify);goog.exportProperty(ol.geom.LinearRing.prototype,"transform",ol.geom.LinearRing.prototype.transform);goog.exportProperty(ol.geom.LinearRing.prototype,"get",ol.geom.LinearRing.prototype.get);goog.exportProperty(ol.geom.LinearRing.prototype,"getKeys",ol.geom.LinearRing.prototype.getKeys);goog.exportProperty(ol.geom.LinearRing.prototype,"getProperties",ol.geom.LinearRing.prototype.getProperties);goog.exportProperty(ol.geom.LinearRing.prototype,"set",ol.geom.LinearRing.prototype.set);goog.exportProperty(ol.geom.LinearRing.prototype,"setProperties",ol.geom.LinearRing.prototype.setProperties);goog.exportProperty(ol.geom.LinearRing.prototype,"unset",ol.geom.LinearRing.prototype.unset);goog.exportProperty(ol.geom.LinearRing.prototype,"changed",ol.geom.LinearRing.prototype.changed);goog.exportProperty(ol.geom.LinearRing.prototype,"dispatchEvent",ol.geom.LinearRing.prototype.dispatchEvent);goog.exportProperty(ol.geom.LinearRing.prototype,"getRevision",ol.geom.LinearRing.prototype.getRevision);goog.exportProperty(ol.geom.LinearRing.prototype,"on",ol.geom.LinearRing.prototype.on);goog.exportProperty(ol.geom.LinearRing.prototype,"once",ol.geom.LinearRing.prototype.once);goog.exportProperty(ol.geom.LinearRing.prototype,"un",ol.geom.LinearRing.prototype.un);goog.exportProperty(ol.geom.LinearRing.prototype,"unByKey",ol.geom.LinearRing.prototype.unByKey);goog.exportProperty(ol.geom.LineString.prototype,"getFirstCoordinate",ol.geom.LineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getLastCoordinate",ol.geom.LineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getLayout",ol.geom.LineString.prototype.getLayout);goog.exportProperty(ol.geom.LineString.prototype,"rotate",ol.geom.LineString.prototype.rotate);goog.exportProperty(ol.geom.LineString.prototype,"scale",ol.geom.LineString.prototype.scale);goog.exportProperty(ol.geom.LineString.prototype,"getClosestPoint",ol.geom.LineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.LineString.prototype,"intersectsCoordinate",ol.geom.LineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getExtent",ol.geom.LineString.prototype.getExtent);goog.exportProperty(ol.geom.LineString.prototype,"simplify",ol.geom.LineString.prototype.simplify);goog.exportProperty(ol.geom.LineString.prototype,"transform",ol.geom.LineString.prototype.transform);goog.exportProperty(ol.geom.LineString.prototype,"get",ol.geom.LineString.prototype.get);goog.exportProperty(ol.geom.LineString.prototype,"getKeys",ol.geom.LineString.prototype.getKeys);goog.exportProperty(ol.geom.LineString.prototype,"getProperties",ol.geom.LineString.prototype.getProperties);goog.exportProperty(ol.geom.LineString.prototype,"set",ol.geom.LineString.prototype.set);goog.exportProperty(ol.geom.LineString.prototype,"setProperties",ol.geom.LineString.prototype.setProperties);goog.exportProperty(ol.geom.LineString.prototype,"unset",ol.geom.LineString.prototype.unset);goog.exportProperty(ol.geom.LineString.prototype,"changed",ol.geom.LineString.prototype.changed);goog.exportProperty(ol.geom.LineString.prototype,"dispatchEvent",ol.geom.LineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.LineString.prototype,"getRevision",ol.geom.LineString.prototype.getRevision);goog.exportProperty(ol.geom.LineString.prototype,"on",ol.geom.LineString.prototype.on);goog.exportProperty(ol.geom.LineString.prototype,"once",ol.geom.LineString.prototype.once);goog.exportProperty(ol.geom.LineString.prototype,"un",ol.geom.LineString.prototype.un);goog.exportProperty(ol.geom.LineString.prototype,"unByKey",ol.geom.LineString.prototype.unByKey);goog.exportProperty(ol.geom.MultiLineString.prototype,"getFirstCoordinate",ol.geom.MultiLineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLastCoordinate",ol.geom.MultiLineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLayout",ol.geom.MultiLineString.prototype.getLayout);goog.exportProperty(ol.geom.MultiLineString.prototype,"rotate",ol.geom.MultiLineString.prototype.rotate);goog.exportProperty(ol.geom.MultiLineString.prototype,"scale",ol.geom.MultiLineString.prototype.scale);goog.exportProperty(ol.geom.MultiLineString.prototype,"getClosestPoint",ol.geom.MultiLineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsCoordinate",ol.geom.MultiLineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getExtent",ol.geom.MultiLineString.prototype.getExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,"simplify",ol.geom.MultiLineString.prototype.simplify);goog.exportProperty(ol.geom.MultiLineString.prototype,"transform",ol.geom.MultiLineString.prototype.transform);goog.exportProperty(ol.geom.MultiLineString.prototype,"get",ol.geom.MultiLineString.prototype.get);goog.exportProperty(ol.geom.MultiLineString.prototype,"getKeys",ol.geom.MultiLineString.prototype.getKeys);goog.exportProperty(ol.geom.MultiLineString.prototype,"getProperties",ol.geom.MultiLineString.prototype.getProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,"set",ol.geom.MultiLineString.prototype.set);goog.exportProperty(ol.geom.MultiLineString.prototype,"setProperties",ol.geom.MultiLineString.prototype.setProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,"unset",ol.geom.MultiLineString.prototype.unset);goog.exportProperty(ol.geom.MultiLineString.prototype,"changed",ol.geom.MultiLineString.prototype.changed);goog.exportProperty(ol.geom.MultiLineString.prototype,"dispatchEvent",ol.geom.MultiLineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiLineString.prototype,"getRevision",ol.geom.MultiLineString.prototype.getRevision);goog.exportProperty(ol.geom.MultiLineString.prototype,"on",ol.geom.MultiLineString.prototype.on);goog.exportProperty(ol.geom.MultiLineString.prototype,"once",ol.geom.MultiLineString.prototype.once);goog.exportProperty(ol.geom.MultiLineString.prototype,"un",ol.geom.MultiLineString.prototype.un);goog.exportProperty(ol.geom.MultiLineString.prototype,"unByKey",ol.geom.MultiLineString.prototype.unByKey);goog.exportProperty(ol.geom.MultiPoint.prototype,"getFirstCoordinate",ol.geom.MultiPoint.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getLastCoordinate",ol.geom.MultiPoint.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getLayout",ol.geom.MultiPoint.prototype.getLayout);goog.exportProperty(ol.geom.MultiPoint.prototype,"rotate",ol.geom.MultiPoint.prototype.rotate);goog.exportProperty(ol.geom.MultiPoint.prototype,"scale",ol.geom.MultiPoint.prototype.scale);goog.exportProperty(ol.geom.MultiPoint.prototype,"getClosestPoint",ol.geom.MultiPoint.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsCoordinate",ol.geom.MultiPoint.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getExtent",ol.geom.MultiPoint.prototype.getExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,"simplify",ol.geom.MultiPoint.prototype.simplify);goog.exportProperty(ol.geom.MultiPoint.prototype,"transform",ol.geom.MultiPoint.prototype.transform);goog.exportProperty(ol.geom.MultiPoint.prototype,"get",ol.geom.MultiPoint.prototype.get);goog.exportProperty(ol.geom.MultiPoint.prototype,"getKeys",ol.geom.MultiPoint.prototype.getKeys);goog.exportProperty(ol.geom.MultiPoint.prototype,"getProperties",ol.geom.MultiPoint.prototype.getProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,"set",ol.geom.MultiPoint.prototype.set);goog.exportProperty(ol.geom.MultiPoint.prototype,"setProperties",ol.geom.MultiPoint.prototype.setProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,"unset",ol.geom.MultiPoint.prototype.unset);goog.exportProperty(ol.geom.MultiPoint.prototype,"changed",ol.geom.MultiPoint.prototype.changed);goog.exportProperty(ol.geom.MultiPoint.prototype,"dispatchEvent",ol.geom.MultiPoint.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPoint.prototype,"getRevision",ol.geom.MultiPoint.prototype.getRevision);goog.exportProperty(ol.geom.MultiPoint.prototype,"on",ol.geom.MultiPoint.prototype.on);goog.exportProperty(ol.geom.MultiPoint.prototype,"once",ol.geom.MultiPoint.prototype.once);goog.exportProperty(ol.geom.MultiPoint.prototype,"un",ol.geom.MultiPoint.prototype.un);goog.exportProperty(ol.geom.MultiPoint.prototype,"unByKey",ol.geom.MultiPoint.prototype.unByKey);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getFirstCoordinate",ol.geom.MultiPolygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLastCoordinate",ol.geom.MultiPolygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLayout",ol.geom.MultiPolygon.prototype.getLayout);goog.exportProperty(ol.geom.MultiPolygon.prototype,"rotate",ol.geom.MultiPolygon.prototype.rotate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"scale",ol.geom.MultiPolygon.prototype.scale);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getClosestPoint",ol.geom.MultiPolygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsCoordinate",ol.geom.MultiPolygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getExtent",ol.geom.MultiPolygon.prototype.getExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"simplify",ol.geom.MultiPolygon.prototype.simplify);goog.exportProperty(ol.geom.MultiPolygon.prototype,"transform",ol.geom.MultiPolygon.prototype.transform);goog.exportProperty(ol.geom.MultiPolygon.prototype,"get",ol.geom.MultiPolygon.prototype.get);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getKeys",ol.geom.MultiPolygon.prototype.getKeys);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getProperties",ol.geom.MultiPolygon.prototype.getProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,"set",ol.geom.MultiPolygon.prototype.set);goog.exportProperty(ol.geom.MultiPolygon.prototype,"setProperties",ol.geom.MultiPolygon.prototype.setProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,"unset",ol.geom.MultiPolygon.prototype.unset);goog.exportProperty(ol.geom.MultiPolygon.prototype,"changed",ol.geom.MultiPolygon.prototype.changed);goog.exportProperty(ol.geom.MultiPolygon.prototype,"dispatchEvent",ol.geom.MultiPolygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getRevision",ol.geom.MultiPolygon.prototype.getRevision);goog.exportProperty(ol.geom.MultiPolygon.prototype,"on",ol.geom.MultiPolygon.prototype.on);goog.exportProperty(ol.geom.MultiPolygon.prototype,"once",ol.geom.MultiPolygon.prototype.once);goog.exportProperty(ol.geom.MultiPolygon.prototype,"un",ol.geom.MultiPolygon.prototype.un);goog.exportProperty(ol.geom.MultiPolygon.prototype,"unByKey",ol.geom.MultiPolygon.prototype.unByKey);goog.exportProperty(ol.geom.Point.prototype,"getFirstCoordinate",ol.geom.Point.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getLastCoordinate",ol.geom.Point.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getLayout",ol.geom.Point.prototype.getLayout);goog.exportProperty(ol.geom.Point.prototype,"rotate",ol.geom.Point.prototype.rotate);goog.exportProperty(ol.geom.Point.prototype,"scale",ol.geom.Point.prototype.scale);goog.exportProperty(ol.geom.Point.prototype,"getClosestPoint",ol.geom.Point.prototype.getClosestPoint);goog.exportProperty(ol.geom.Point.prototype,"intersectsCoordinate",ol.geom.Point.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getExtent",ol.geom.Point.prototype.getExtent);goog.exportProperty(ol.geom.Point.prototype,"simplify",ol.geom.Point.prototype.simplify);goog.exportProperty(ol.geom.Point.prototype,"transform",ol.geom.Point.prototype.transform);goog.exportProperty(ol.geom.Point.prototype,"get",ol.geom.Point.prototype.get);goog.exportProperty(ol.geom.Point.prototype,"getKeys",ol.geom.Point.prototype.getKeys);goog.exportProperty(ol.geom.Point.prototype,"getProperties",ol.geom.Point.prototype.getProperties);goog.exportProperty(ol.geom.Point.prototype,"set",ol.geom.Point.prototype.set);goog.exportProperty(ol.geom.Point.prototype,"setProperties",ol.geom.Point.prototype.setProperties);goog.exportProperty(ol.geom.Point.prototype,"unset",ol.geom.Point.prototype.unset);goog.exportProperty(ol.geom.Point.prototype,"changed",ol.geom.Point.prototype.changed);goog.exportProperty(ol.geom.Point.prototype,"dispatchEvent",ol.geom.Point.prototype.dispatchEvent);goog.exportProperty(ol.geom.Point.prototype,"getRevision",ol.geom.Point.prototype.getRevision);goog.exportProperty(ol.geom.Point.prototype,"on",ol.geom.Point.prototype.on);goog.exportProperty(ol.geom.Point.prototype,"once",ol.geom.Point.prototype.once);goog.exportProperty(ol.geom.Point.prototype,"un",ol.geom.Point.prototype.un);goog.exportProperty(ol.geom.Point.prototype,"unByKey",ol.geom.Point.prototype.unByKey);goog.exportProperty(ol.geom.Polygon.prototype,"getFirstCoordinate",ol.geom.Polygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getLastCoordinate",ol.geom.Polygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getLayout",ol.geom.Polygon.prototype.getLayout);goog.exportProperty(ol.geom.Polygon.prototype,"rotate",ol.geom.Polygon.prototype.rotate);goog.exportProperty(ol.geom.Polygon.prototype,"scale",ol.geom.Polygon.prototype.scale);goog.exportProperty(ol.geom.Polygon.prototype,"getClosestPoint",ol.geom.Polygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.Polygon.prototype,"intersectsCoordinate",ol.geom.Polygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getExtent",ol.geom.Polygon.prototype.getExtent);goog.exportProperty(ol.geom.Polygon.prototype,"simplify",ol.geom.Polygon.prototype.simplify);goog.exportProperty(ol.geom.Polygon.prototype,"transform",ol.geom.Polygon.prototype.transform);goog.exportProperty(ol.geom.Polygon.prototype,"get",ol.geom.Polygon.prototype.get);goog.exportProperty(ol.geom.Polygon.prototype,"getKeys",ol.geom.Polygon.prototype.getKeys);goog.exportProperty(ol.geom.Polygon.prototype,"getProperties",ol.geom.Polygon.prototype.getProperties);goog.exportProperty(ol.geom.Polygon.prototype,"set",ol.geom.Polygon.prototype.set);goog.exportProperty(ol.geom.Polygon.prototype,"setProperties",ol.geom.Polygon.prototype.setProperties);goog.exportProperty(ol.geom.Polygon.prototype,"unset",ol.geom.Polygon.prototype.unset);goog.exportProperty(ol.geom.Polygon.prototype,"changed",ol.geom.Polygon.prototype.changed);goog.exportProperty(ol.geom.Polygon.prototype,"dispatchEvent",ol.geom.Polygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.Polygon.prototype,"getRevision",ol.geom.Polygon.prototype.getRevision);goog.exportProperty(ol.geom.Polygon.prototype,"on",ol.geom.Polygon.prototype.on);goog.exportProperty(ol.geom.Polygon.prototype,"once",ol.geom.Polygon.prototype.once);goog.exportProperty(ol.geom.Polygon.prototype,"un",ol.geom.Polygon.prototype.un);goog.exportProperty(ol.geom.Polygon.prototype,"unByKey",ol.geom.Polygon.prototype.unByKey);goog.exportProperty(ol.format.GML.prototype,"readFeatures",ol.format.GML.prototype.readFeatures);goog.exportProperty(ol.format.GML2.prototype,"readFeatures",ol.format.GML2.prototype.readFeatures);goog.exportProperty(ol.format.GML3.prototype,"readFeatures",ol.format.GML3.prototype.readFeatures);goog.exportProperty(ol.control.Control.prototype,"get",ol.control.Control.prototype.get);goog.exportProperty(ol.control.Control.prototype,"getKeys",ol.control.Control.prototype.getKeys);goog.exportProperty(ol.control.Control.prototype,"getProperties",ol.control.Control.prototype.getProperties);goog.exportProperty(ol.control.Control.prototype,"set",ol.control.Control.prototype.set);goog.exportProperty(ol.control.Control.prototype,"setProperties",ol.control.Control.prototype.setProperties);goog.exportProperty(ol.control.Control.prototype,"unset",ol.control.Control.prototype.unset);goog.exportProperty(ol.control.Control.prototype,"changed",ol.control.Control.prototype.changed);goog.exportProperty(ol.control.Control.prototype,"dispatchEvent",ol.control.Control.prototype.dispatchEvent);goog.exportProperty(ol.control.Control.prototype,"getRevision",ol.control.Control.prototype.getRevision);goog.exportProperty(ol.control.Control.prototype,"on",ol.control.Control.prototype.on);goog.exportProperty(ol.control.Control.prototype,"once",ol.control.Control.prototype.once);goog.exportProperty(ol.control.Control.prototype,"un",ol.control.Control.prototype.un);goog.exportProperty(ol.control.Control.prototype,"unByKey",ol.control.Control.prototype.unByKey);goog.exportProperty(ol.control.Attribution.prototype,"getMap",ol.control.Attribution.prototype.getMap);goog.exportProperty(ol.control.Attribution.prototype,"setMap",ol.control.Attribution.prototype.setMap);goog.exportProperty(ol.control.Attribution.prototype,"setTarget",ol.control.Attribution.prototype.setTarget);goog.exportProperty(ol.control.Attribution.prototype,"get",ol.control.Attribution.prototype.get);goog.exportProperty(ol.control.Attribution.prototype,"getKeys",ol.control.Attribution.prototype.getKeys);goog.exportProperty(ol.control.Attribution.prototype,"getProperties",ol.control.Attribution.prototype.getProperties);goog.exportProperty(ol.control.Attribution.prototype,"set",ol.control.Attribution.prototype.set);goog.exportProperty(ol.control.Attribution.prototype,"setProperties",ol.control.Attribution.prototype.setProperties);goog.exportProperty(ol.control.Attribution.prototype,"unset",ol.control.Attribution.prototype.unset);goog.exportProperty(ol.control.Attribution.prototype,"changed",ol.control.Attribution.prototype.changed);goog.exportProperty(ol.control.Attribution.prototype,"dispatchEvent",ol.control.Attribution.prototype.dispatchEvent);goog.exportProperty(ol.control.Attribution.prototype,"getRevision",ol.control.Attribution.prototype.getRevision);goog.exportProperty(ol.control.Attribution.prototype,"on",ol.control.Attribution.prototype.on);goog.exportProperty(ol.control.Attribution.prototype,"once",ol.control.Attribution.prototype.once);goog.exportProperty(ol.control.Attribution.prototype,"un",ol.control.Attribution.prototype.un);goog.exportProperty(ol.control.Attribution.prototype,"unByKey",ol.control.Attribution.prototype.unByKey);goog.exportProperty(ol.control.FullScreen.prototype,"getMap",ol.control.FullScreen.prototype.getMap);goog.exportProperty(ol.control.FullScreen.prototype,"setMap",ol.control.FullScreen.prototype.setMap);goog.exportProperty(ol.control.FullScreen.prototype,"setTarget",ol.control.FullScreen.prototype.setTarget);goog.exportProperty(ol.control.FullScreen.prototype,"get",ol.control.FullScreen.prototype.get);goog.exportProperty(ol.control.FullScreen.prototype,"getKeys",ol.control.FullScreen.prototype.getKeys);goog.exportProperty(ol.control.FullScreen.prototype,"getProperties",ol.control.FullScreen.prototype.getProperties);goog.exportProperty(ol.control.FullScreen.prototype,"set",ol.control.FullScreen.prototype.set);goog.exportProperty(ol.control.FullScreen.prototype,"setProperties",ol.control.FullScreen.prototype.setProperties);goog.exportProperty(ol.control.FullScreen.prototype,"unset",ol.control.FullScreen.prototype.unset);goog.exportProperty(ol.control.FullScreen.prototype,"changed",ol.control.FullScreen.prototype.changed);goog.exportProperty(ol.control.FullScreen.prototype,"dispatchEvent",ol.control.FullScreen.prototype.dispatchEvent);goog.exportProperty(ol.control.FullScreen.prototype,"getRevision",ol.control.FullScreen.prototype.getRevision);goog.exportProperty(ol.control.FullScreen.prototype,"on",ol.control.FullScreen.prototype.on);goog.exportProperty(ol.control.FullScreen.prototype,"once",ol.control.FullScreen.prototype.once);goog.exportProperty(ol.control.FullScreen.prototype,"un",ol.control.FullScreen.prototype.un);goog.exportProperty(ol.control.FullScreen.prototype,"unByKey",ol.control.FullScreen.prototype.unByKey);goog.exportProperty(ol.control.MousePosition.prototype,"getMap",ol.control.MousePosition.prototype.getMap);goog.exportProperty(ol.control.MousePosition.prototype,"setMap",ol.control.MousePosition.prototype.setMap);goog.exportProperty(ol.control.MousePosition.prototype,"setTarget",ol.control.MousePosition.prototype.setTarget);goog.exportProperty(ol.control.MousePosition.prototype,"get",ol.control.MousePosition.prototype.get);goog.exportProperty(ol.control.MousePosition.prototype,"getKeys",ol.control.MousePosition.prototype.getKeys);goog.exportProperty(ol.control.MousePosition.prototype,"getProperties",ol.control.MousePosition.prototype.getProperties);goog.exportProperty(ol.control.MousePosition.prototype,"set",ol.control.MousePosition.prototype.set);goog.exportProperty(ol.control.MousePosition.prototype,"setProperties",ol.control.MousePosition.prototype.setProperties);goog.exportProperty(ol.control.MousePosition.prototype,"unset",ol.control.MousePosition.prototype.unset);goog.exportProperty(ol.control.MousePosition.prototype,"changed",ol.control.MousePosition.prototype.changed);goog.exportProperty(ol.control.MousePosition.prototype,"dispatchEvent",ol.control.MousePosition.prototype.dispatchEvent);goog.exportProperty(ol.control.MousePosition.prototype,"getRevision",ol.control.MousePosition.prototype.getRevision);goog.exportProperty(ol.control.MousePosition.prototype,"on",ol.control.MousePosition.prototype.on);goog.exportProperty(ol.control.MousePosition.prototype,"once",ol.control.MousePosition.prototype.once);goog.exportProperty(ol.control.MousePosition.prototype,"un",ol.control.MousePosition.prototype.un);goog.exportProperty(ol.control.MousePosition.prototype,"unByKey",ol.control.MousePosition.prototype.unByKey);goog.exportProperty(ol.control.OverviewMap.prototype,"getMap",ol.control.OverviewMap.prototype.getMap);goog.exportProperty(ol.control.OverviewMap.prototype,"setMap",ol.control.OverviewMap.prototype.setMap);goog.exportProperty(ol.control.OverviewMap.prototype,"setTarget",ol.control.OverviewMap.prototype.setTarget);goog.exportProperty(ol.control.OverviewMap.prototype,"get",ol.control.OverviewMap.prototype.get);goog.exportProperty(ol.control.OverviewMap.prototype,"getKeys",ol.control.OverviewMap.prototype.getKeys);goog.exportProperty(ol.control.OverviewMap.prototype,"getProperties",ol.control.OverviewMap.prototype.getProperties);goog.exportProperty(ol.control.OverviewMap.prototype,"set",ol.control.OverviewMap.prototype.set);goog.exportProperty(ol.control.OverviewMap.prototype,"setProperties",ol.control.OverviewMap.prototype.setProperties);goog.exportProperty(ol.control.OverviewMap.prototype,"unset",ol.control.OverviewMap.prototype.unset);goog.exportProperty(ol.control.OverviewMap.prototype,"changed",ol.control.OverviewMap.prototype.changed);goog.exportProperty(ol.control.OverviewMap.prototype,"dispatchEvent",ol.control.OverviewMap.prototype.dispatchEvent);goog.exportProperty(ol.control.OverviewMap.prototype,"getRevision",ol.control.OverviewMap.prototype.getRevision);goog.exportProperty(ol.control.OverviewMap.prototype,"on",ol.control.OverviewMap.prototype.on);goog.exportProperty(ol.control.OverviewMap.prototype,"once",ol.control.OverviewMap.prototype.once);goog.exportProperty(ol.control.OverviewMap.prototype,"un",ol.control.OverviewMap.prototype.un);goog.exportProperty(ol.control.OverviewMap.prototype,"unByKey",ol.control.OverviewMap.prototype.unByKey);goog.exportProperty(ol.control.Rotate.prototype,"getMap",ol.control.Rotate.prototype.getMap);goog.exportProperty(ol.control.Rotate.prototype,"setMap",ol.control.Rotate.prototype.setMap);goog.exportProperty(ol.control.Rotate.prototype,"setTarget",ol.control.Rotate.prototype.setTarget);goog.exportProperty(ol.control.Rotate.prototype,"get",ol.control.Rotate.prototype.get);goog.exportProperty(ol.control.Rotate.prototype,"getKeys",ol.control.Rotate.prototype.getKeys);goog.exportProperty(ol.control.Rotate.prototype,"getProperties",ol.control.Rotate.prototype.getProperties);goog.exportProperty(ol.control.Rotate.prototype,"set",ol.control.Rotate.prototype.set);goog.exportProperty(ol.control.Rotate.prototype,"setProperties",ol.control.Rotate.prototype.setProperties);goog.exportProperty(ol.control.Rotate.prototype,"unset",ol.control.Rotate.prototype.unset);goog.exportProperty(ol.control.Rotate.prototype,"changed",ol.control.Rotate.prototype.changed);goog.exportProperty(ol.control.Rotate.prototype,"dispatchEvent",ol.control.Rotate.prototype.dispatchEvent);goog.exportProperty(ol.control.Rotate.prototype,"getRevision",ol.control.Rotate.prototype.getRevision);goog.exportProperty(ol.control.Rotate.prototype,"on",ol.control.Rotate.prototype.on);goog.exportProperty(ol.control.Rotate.prototype,"once",ol.control.Rotate.prototype.once);goog.exportProperty(ol.control.Rotate.prototype,"un",ol.control.Rotate.prototype.un);goog.exportProperty(ol.control.Rotate.prototype,"unByKey",ol.control.Rotate.prototype.unByKey);goog.exportProperty(ol.control.ScaleLine.prototype,"getMap",ol.control.ScaleLine.prototype.getMap);goog.exportProperty(ol.control.ScaleLine.prototype,"setMap",ol.control.ScaleLine.prototype.setMap);goog.exportProperty(ol.control.ScaleLine.prototype,"setTarget",ol.control.ScaleLine.prototype.setTarget);goog.exportProperty(ol.control.ScaleLine.prototype,"get",ol.control.ScaleLine.prototype.get);goog.exportProperty(ol.control.ScaleLine.prototype,"getKeys",ol.control.ScaleLine.prototype.getKeys);goog.exportProperty(ol.control.ScaleLine.prototype,"getProperties",ol.control.ScaleLine.prototype.getProperties);goog.exportProperty(ol.control.ScaleLine.prototype,"set",ol.control.ScaleLine.prototype.set);goog.exportProperty(ol.control.ScaleLine.prototype,"setProperties",ol.control.ScaleLine.prototype.setProperties);goog.exportProperty(ol.control.ScaleLine.prototype,"unset",ol.control.ScaleLine.prototype.unset);goog.exportProperty(ol.control.ScaleLine.prototype,"changed",ol.control.ScaleLine.prototype.changed);goog.exportProperty(ol.control.ScaleLine.prototype,"dispatchEvent",ol.control.ScaleLine.prototype.dispatchEvent);goog.exportProperty(ol.control.ScaleLine.prototype,"getRevision",ol.control.ScaleLine.prototype.getRevision);goog.exportProperty(ol.control.ScaleLine.prototype,"on",ol.control.ScaleLine.prototype.on);goog.exportProperty(ol.control.ScaleLine.prototype,"once",ol.control.ScaleLine.prototype.once);goog.exportProperty(ol.control.ScaleLine.prototype,"un",ol.control.ScaleLine.prototype.un);goog.exportProperty(ol.control.ScaleLine.prototype,"unByKey",ol.control.ScaleLine.prototype.unByKey);goog.exportProperty(ol.control.Zoom.prototype,"getMap",ol.control.Zoom.prototype.getMap);goog.exportProperty(ol.control.Zoom.prototype,"setMap",ol.control.Zoom.prototype.setMap);goog.exportProperty(ol.control.Zoom.prototype,"setTarget",ol.control.Zoom.prototype.setTarget);goog.exportProperty(ol.control.Zoom.prototype,"get",ol.control.Zoom.prototype.get);goog.exportProperty(ol.control.Zoom.prototype,"getKeys",ol.control.Zoom.prototype.getKeys);goog.exportProperty(ol.control.Zoom.prototype,"getProperties",ol.control.Zoom.prototype.getProperties);goog.exportProperty(ol.control.Zoom.prototype,"set",ol.control.Zoom.prototype.set);goog.exportProperty(ol.control.Zoom.prototype,"setProperties",ol.control.Zoom.prototype.setProperties);goog.exportProperty(ol.control.Zoom.prototype,"unset",ol.control.Zoom.prototype.unset);goog.exportProperty(ol.control.Zoom.prototype,"changed",ol.control.Zoom.prototype.changed);goog.exportProperty(ol.control.Zoom.prototype,"dispatchEvent",ol.control.Zoom.prototype.dispatchEvent);goog.exportProperty(ol.control.Zoom.prototype,"getRevision",ol.control.Zoom.prototype.getRevision);goog.exportProperty(ol.control.Zoom.prototype,"on",ol.control.Zoom.prototype.on);goog.exportProperty(ol.control.Zoom.prototype,"once",ol.control.Zoom.prototype.once);goog.exportProperty(ol.control.Zoom.prototype,"un",ol.control.Zoom.prototype.un);goog.exportProperty(ol.control.Zoom.prototype,"unByKey",ol.control.Zoom.prototype.unByKey);goog.exportProperty(ol.control.ZoomSlider.prototype,"getMap",ol.control.ZoomSlider.prototype.getMap);goog.exportProperty(ol.control.ZoomSlider.prototype,"setMap",ol.control.ZoomSlider.prototype.setMap);goog.exportProperty(ol.control.ZoomSlider.prototype,"setTarget",ol.control.ZoomSlider.prototype.setTarget);goog.exportProperty(ol.control.ZoomSlider.prototype,"get",ol.control.ZoomSlider.prototype.get);goog.exportProperty(ol.control.ZoomSlider.prototype,"getKeys",ol.control.ZoomSlider.prototype.getKeys);goog.exportProperty(ol.control.ZoomSlider.prototype,"getProperties",ol.control.ZoomSlider.prototype.getProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,"set",ol.control.ZoomSlider.prototype.set);goog.exportProperty(ol.control.ZoomSlider.prototype,"setProperties",ol.control.ZoomSlider.prototype.setProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,"unset",ol.control.ZoomSlider.prototype.unset);goog.exportProperty(ol.control.ZoomSlider.prototype,"changed",ol.control.ZoomSlider.prototype.changed);goog.exportProperty(ol.control.ZoomSlider.prototype,"dispatchEvent",ol.control.ZoomSlider.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomSlider.prototype,"getRevision",ol.control.ZoomSlider.prototype.getRevision);
goog.exportProperty(ol.control.ZoomSlider.prototype,"on",ol.control.ZoomSlider.prototype.on);goog.exportProperty(ol.control.ZoomSlider.prototype,"once",ol.control.ZoomSlider.prototype.once);goog.exportProperty(ol.control.ZoomSlider.prototype,"un",ol.control.ZoomSlider.prototype.un);goog.exportProperty(ol.control.ZoomSlider.prototype,"unByKey",ol.control.ZoomSlider.prototype.unByKey);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getMap",ol.control.ZoomToExtent.prototype.getMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setMap",ol.control.ZoomToExtent.prototype.setMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setTarget",ol.control.ZoomToExtent.prototype.setTarget);goog.exportProperty(ol.control.ZoomToExtent.prototype,"get",ol.control.ZoomToExtent.prototype.get);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getKeys",ol.control.ZoomToExtent.prototype.getKeys);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getProperties",ol.control.ZoomToExtent.prototype.getProperties);goog.exportProperty(ol.control.ZoomToExtent.prototype,"set",ol.control.ZoomToExtent.prototype.set);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setProperties",ol.control.ZoomToExtent.prototype.setProperties);goog.exportProperty(ol.control.ZoomToExtent.prototype,"unset",ol.control.ZoomToExtent.prototype.unset);goog.exportProperty(ol.control.ZoomToExtent.prototype,"changed",ol.control.ZoomToExtent.prototype.changed);goog.exportProperty(ol.control.ZoomToExtent.prototype,"dispatchEvent",ol.control.ZoomToExtent.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getRevision",ol.control.ZoomToExtent.prototype.getRevision);goog.exportProperty(ol.control.ZoomToExtent.prototype,"on",ol.control.ZoomToExtent.prototype.on);goog.exportProperty(ol.control.ZoomToExtent.prototype,"once",ol.control.ZoomToExtent.prototype.once);goog.exportProperty(ol.control.ZoomToExtent.prototype,"un",ol.control.ZoomToExtent.prototype.un);goog.exportProperty(ol.control.ZoomToExtent.prototype,"unByKey",ol.control.ZoomToExtent.prototype.unByKey);ol.VERSION="v3.18.2";OPENLAYERS.ol=ol;return OPENLAYERS.ol}));function jsonCallback(a){setTimeout((function(){var b=a.lastModified,c=Math.round((new Date).getTime()/1e3);c<b+5&&setTimeout((function(){location.reload()}),500),reload_js("json/liveDev.json")}),500)}function reload_js(a){$('script[src="'+a+'"]').remove(),$("<script>").attr("src",a).appendTo("head")}!(function(a,b){"function"==typeof define&&define.amd?define([],(function(){return b()})):"object"==typeof exports?module.exports=b():b()})(this,(function(){ol.control.LoadingPanel=function(a){var b=a||{};this.mapListeners=[],this.tileListeners=[],this.loadStatus_=!1,this.loadProgress_=[0,1],b.widget&&["animatedgif","progressbar"].indexOf(b.widget)==-1&&alert("invalid value for 'widget'"),this.widget=b.widget?b.widget:"animatedgif",b.progressMode&&["tile","layer"].indexOf(b.progressMode)==-1&&alert("invalid value for 'progressMode'"),this.loadProgressByTile_="layer"!=b.progressMode,this.showPanel="boolean"!=typeof b.showPanel||b.showPanel;var c=b.className?b.className:"ol-loading-panel",d="animatedgif"==this.widget?"span":"progress",e=document.createElement(d);if(e.className=c+" ol-unselectable","progressbar"==this.widget){var f=document.createElement("div");f.className="ol-progress-bar";var g=document.createElement("span");f.appendChild(g)}this.oncustomstart=!!b.onstart&&b.onstart,this.oncustomprogress=!!b.onprogress&&b.onprogress,this.oncustomend=!!b.onend&&b.onend,ol.control.Control.call(this,{element:e,target:b.target})},ol.inherits(ol.control.LoadingPanel,ol.control.Control),ol.control.LoadingPanel.prototype.setup=function(){var a=this.getMap().getSize();this.element.style.left=String(Math.round(a[0]/2))+"px",this.element.style.bottom=String(Math.round(a[1]/2))+"px";var b=this;this.mapListeners.push(this.getMap().on("pointerdown",(function(){b.hide()}))),this.mapListeners.push(this.getMap().beforeRender((function(a,c){b.registerLayersLoadEvents_(),b.show(),b.oncustomstart&&b.oncustomstart.apply(b,[])}))),this.mapListeners.push(this.getMap().on("postrender",(function(a){b.updateLoadStatus_(),b.loadStatus_&&(b.oncustomend&&b.oncustomend.apply(b,[]),b.hide())})))},ol.control.LoadingPanel.prototype.updateSourceLoadStatus_=function(a){return 100==Math.round(a.loaded/a.loading*100)},ol.control.LoadingPanel.prototype.registerLayerLoadEvents_=function(a){var b=this;a.getSource().on("tileloadstart",(function(a){if(b.loadStatus_&&(b.loadStatus_=!1,b.loadProgress_=[0,1],"progressbar"==b.widget&&(b.element.value=b.loadProgress_[0],b.element.max=b.loadProgress_[1]),b.show(),b.oncustomstart&&b.oncustomstart.apply(b,[])),this.loading=this.loading?this.loading+1:1,this.isLoaded=b.updateSourceLoadStatus_(this),b.loadProgressByTile_&&(b.loadProgress_[1]+=1,"progressbar"==b.widget)){b.element.max=b.loadProgress_[1];var c=b.element.getElementsByClassName("ol-progress-bar");c.length>0&&(c[0].children()[0].width=String(parseInt(100*b.progress()))+"%")}})),a.getSource().on("tileloadend",(function(a){if(this.loaded=this.loaded?this.loaded+1:1,this.isLoaded=b.updateSourceLoadStatus_(this),b.loadProgressByTile_){if(b.loadProgress_[0]+=1,"progressbar"==b.widget){b.element.value=b.loadProgress_[0];var c=b.element.getElementsByClassName("ol-progress-bar");c.length>0&&(c[0].children()[0].width=String(parseInt(100*b.progress()))+"%")}b.oncustomprogress&&b.oncustomprogress.apply(b,b.loadProgress_)}}))},ol.control.LoadingPanel.prototype.registerLayersLoadEvents_=function(){for(var a=this.getMap().getLayers().getArray(),b=0;b<a.length;b++){var c=a[b];if(c instanceof ol.layer.Group)for(var d=c.getLayers().getArray(),e=0;e<d.length;e++){var f=d[e];f instanceof ol.layer.Vector||this.tileListeners.push(this.registerLayerLoadEvents_(f))}else c instanceof ol.layer.Layer&&(c instanceof ol.layer.Vector||this.tileListeners.push(this.registerLayerLoadEvents_(c)))}},ol.control.LoadingPanel.prototype.updateLoadStatus_=function(){for(var a=new Array,b=this.getMap().getLayers().getArray(),c=0;c<b.length;c++){var d=b[c];if(d instanceof ol.layer.Group)for(var e=d.getLayers().getArray(),f=0;f<e.length;f++){var g=e[f];g instanceof ol.layer.Vector||a.push(g.getSource().isLoaded)}else a.push(d.getSource().isLoaded)}if(this.loadStatus_=a.indexOf(!1)==-1&&a.indexOf(!0)!=-1,!this.loadProgressByTile_){var h={};a.forEach((function(a){h[a]=(h[a]||0)+1}));var i=h[!0]?h[!0]:0;i>this.loadProgress_[0]&&(this.loadProgress_=[i,a.length],"progressbar"==this_.widget&&(this_.element.max=this_.loadProgress_[1],this_.element.value=this_.loadProgress_[0]),this.oncustomprogress&&this.oncustomprogress.apply(this,this.loadProgress_))}},ol.control.LoadingPanel.prototype.show=function(){this.showPanel&&(this.element.style.display="block")},ol.control.LoadingPanel.prototype.hide=function(){this.showPanel&&(this.element.style.display="none")},ol.control.LoadingPanel.prototype.progressDetails=function(){return this.loadProgress_},ol.control.LoadingPanel.prototype.progress=function(){return this.loadProgress_[0]/this.loadProgress_[1]},ol.control.LoadingPanel.prototype.setMap=function(a){for(var b=0;b<this.mapListeners.length;b++)this.getMap().unByKey(this.mapListeners[b]);this.mapListeners.length=0,ol.control.Control.prototype.setMap.call(this,a),a&&this.setup()}})),(function(a,b){"function"==typeof define&&define.amd?define([],(function(){return b()})):"object"==typeof exports?module.exports=b():b()})(this,(function(){ol.control.ZoomToMaxExtent=function(a){var b=a?a:{};this.extent_=b.extent?b.extent:null,this.zoom_=b.zoom?b.zoom:null;var c=b.className?b.className:"ol-zoom-max-extent",d=b.tipLabel?b.tipLabel:"Fit to extent",e=b.label?b.label:'<img title="'+d+'" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAoCAMAAABU4iNhAAADAFBMVEWMjIzV1dXq6ur////5+fng4ODW1tbn5+f8/Pzu7u7p6enQ0ND09PTc3Nzf39/U1NTi4uL7+/ve3t7t7e3h4eH9/f3a2trd3d3z8/Ps7Oz6+vr19fX29vbS0tLj4+Pb29vZ2dnv7+/+/v7r6+vR0dHl5eXY2Njo6Oj4+PjX19cAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuAAAuNggAAFgAAAAAAQAAAAAAAAAAAAAAAAAuOdQt5zgAADQAAAAuNjwuNjwAACQAAAAAAEAAAAAAAAAAAAAAATgAABNBfMAAAAAAAAArEzwrEzwAACQAAAAAAAAAAAAAAAABAAAABKwAABNBfMAAAAAAAAAuNqQuNqQAAsgAAAAAAAAAAAAAAAAAAAAQAAAuNsguNsgAAqQAAAAuNtguNtgAACQAAACAAAAAAAAAAAAAAAAAADQAABNBfMAAAAAAAAArEzwrEzwAACQAAAAAAAAAAAAABAAAAAAAAGgAABNBfMAAAAAAAAArEzwrEzwAACQAAAAAAAAAAAAAAAAAAAAAAJwAABNBfMAAAAAAAAAuN3QuN3QAASgAAAAAAAAAAAAAAAAAAAAAAAAuN5guN5gAAQQAAAAt5kQt5kQAAFgAAAAAAAAAAAAAAAAAAAAAAAAuPKwuO6gAADQAAAArEzwrEzwAACQAAAAAAAAAAAAAAAAAAAAAAGgAABNBfMAAAAAAAAArEzwrEzwAACQAAAAAAAAAAAAAAAAAAAAAAJwAABNBfMAAAAAAAAArEzwrEzwAACQAAAAAAAAAAAAgAAAAAAAAANAAABNBfMAAAAAAAAArEzwrEzwAACQAAAAAAADJYlCnAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAN1wAADdcBQiibeAAAAQ5JREFUeNrdkckWgjAMRaNPpY4gOA84o/7/D9oUUKDReo66MQtI09vkJSH6Z6vdvTrQaLLTcr/yFNB+BaDoA52n5aEKp65GezLYBwb894N7UgwlMNQXKiXqOag7kzSyeXoCEUJz9kxkZIHjrNaEpmlfPfINWgVnHJwad57HWhpbYFlUSDQwz1drrMp6KOakYaU2KsVq+rShLZp2Ow8BxoJ08qUhP8hibG4Ex2WQILTJC1rvUJKuyYBme2tyDSFBJG3tIEiio0RK4ol2NniSyeR5SkUuy8nkbVK4OFsR/VnEYoq+sxCbYnTpoiY8UiPKXpQwlmwloe+uf8ma3bvR98lUgBu7yp1+bJtvJPmB3QBVognUglnqqQAAAABJRU5ErkJggg==" />',f=document.createElement("button");f.setAttribute("title",d),f.innerHTML=e;var g=this;f.onclick=function(a){g.handleClick_(a)},f.ontouchstart=function(a){g.handleClick_(a)};var h=document.createElement("div");h.className=c+" ol-unselectable ol-control",h.appendChild(f),ol.control.Control.call(this,{element:h,target:b.target})},ol.inherits(ol.control.ZoomToMaxExtent,ol.control.Control),ol.control.ZoomToMaxExtent.prototype.setExtent=function(a){this.extent_=a},ol.control.ZoomToMaxExtent.prototype.getExtent=function(){return this.extent_},ol.control.ZoomToMaxExtent.prototype.setZoom=function(a){this.zoom_=a},ol.control.ZoomToMaxExtent.prototype.getZoom=function(){return this.zoom_},ol.control.ZoomToMaxExtent.prototype.handleClick_=function(a){a.preventDefault(),this.handleZoomToMaxExtent_()},ol.control.ZoomToMaxExtent.prototype.handleZoomToMaxExtent_=function(){var a=this.getMap(),b=a.getView(),c=this.extent_?this.extent_:b.getProjection().getExtent(),d=a.getSize();b.fit(c,d),this.zoom_&&b.setZoom(this.zoom_)}})),ol.control.LayerSwitcher=function(a){var b=a||{},c=b.tipLabel?b.tipLabel:"Legend";this.displayLegend_=!!b.displayLegend&&b.displayLegend,this.togglingLegendGraphic_=!!b.toggleLegendGraphic&&b.displayLegend,this.collapsableGroups_=!!b.collapsableGroups&&b.collapsableGroups,this.groupInfoHandler_=!!b.groupInfoHandler&&b.groupInfoHandler,this.isExternalized=!!b.target,this.id=b.target?b.target:void 0,this.disableRenderOnPostcompose=!!b.disableRenderOnPostcompose&&b.disableRenderOnPostcompose,this.mapListeners=[],this.panel=document.createElement("div"),this.panel.className="panel";var d=document.createElement("div");if(this.isExternalized){var d=document.createElement("div");d.appendChild(this.panel)}else{this.hiddenClassName="ol-unselectable ol-control layer-switcher",this.shownClassName=this.hiddenClassName+" shown",d.className=this.hiddenClassName;var e=document.createElement("button");e.setAttribute("title",c),d.appendChild(e),d.appendChild(this.panel);var f=this;e.onclick=function(a){f.showPanel()},d.onmouseover=function(a){f.showPanel()},d.onmouseout=function(a){a=a||window.event,d.contains(a.toElement)||f.hidePanel()}}ol.control.Control.call(this,{element:d,target:b.target})},ol.inherits(ol.control.LayerSwitcher,ol.control.Control),ol.control.LayerSwitcher.prototype.showPanel=function(){this.element.className!=this.shownClassName&&(this.element.className=this.shownClassName,this.renderPanel())},ol.control.LayerSwitcher.prototype.hidePanel=function(){this.element.className!=this.hiddenClassName&&(this.element.className=this.hiddenClassName)},ol.control.LayerSwitcher.prototype.renderPanel=function(){if(this.ensureTopVisibleBaseLayerShown_(),this.isExternalized){for(var a=document.getElementById(this.id);a.firstChild;)a.removeChild(a.firstChild);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.panel=document.createElement("div"),this.panel.className="panel";var b=document.createElement("ul");this.panel.appendChild(b),this.renderLayers_(this.getMap(),b),this.element.appendChild(this.panel),a.appendChild(this.element)}else{for(;this.panel.firstChild;)this.panel.removeChild(this.panel.firstChild);var b=document.createElement("ul");this.panel.appendChild(b),this.renderLayers_(this.getMap(),b)}},ol.control.LayerSwitcher.prototype.setMap=function(a){for(var b=0;b<this.mapListeners.length;b++)this.getMap().unByKey(this.mapListeners[b]);this.mapListeners.length=0,a&&(ol.control.Control.prototype.setMap.call(this,a),this.isExternalized?(this.mapListeners.push(a.once("postrender",(function(){this.renderPanel()}),this)),this.mapListeners.push(a.getView().on("propertychange",(function(a){this.renderPanel()}),this))):(this.mapListeners.push(a.on("pointerdown",(function(){this.hidePanel()}),this)),this.renderPanel()),this.disableRenderOnPostcompose||this.mapListeners.push(a.on("postcompose",(function(a){this.renderPanel()}),this)))},ol.control.LayerSwitcher.prototype.ensureTopVisibleBaseLayerShown_=function(){var a;ol.control.LayerSwitcher.forEachRecursive(this.getMap(),(function(b,c,d){"base"===b.get("type")&&b.getVisible()&&(a=b)})),a&&this.setVisible_(a,!0)},ol.control.LayerSwitcher.prototype.setVisible_=function(a,b){var c=this.getMap();a.setVisible(b),b&&"base"===a.get("type")&&ol.control.LayerSwitcher.forEachRecursive(c,(function(b,c,d){b!=a&&"base"===b.get("type")&&b.setVisible(!1)}))},ol.control.LayerSwitcher.prototype.renderLayer_=function(a,b){var c=this,d=document.createElement("li"),e=a.get("title"),f=a.get("title").replace(" ","-")+"_"+b,g=document.createElement("label");if(a.getLayers){var h="layer-switcher-layergroup shown",i="layer-switcher-layergroup";if(d.className=h,g.innerHTML=e,this.collapsableGroups_&&a.getLayers().getArray().length>0&&("base"!=a.getLayers().getArray()[0].get("type")&&(g.style.textDecoration="underline"),g.onclick=function(a){d.className=d.className==h?i:h}),d.appendChild(g),this.groupInfoHandler_&&a.infoUrl){var j=document.createElement("img");j.className="layer-switcher-layerinfo",j.title="Source of Information",j.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAKcSURBVDjLpZPLa9RXHMU/d0ysZEwmMQqZiTaP0agoaKGJUiwIxU0hUjtUQaIuXHSVbRVc+R8ICj5WvrCldJquhVqalIbOohuZxjDVxDSP0RgzyST9zdzvvffrQkh8tBs9yy9fPhw45xhV5X1U8+Yhc3U0LcEdVxdOVq20OA0ooQjhpnfhzuDZTx6++m9edfDFlZGMtXKxI6HJnrZGGtauAWAhcgwVnnB/enkGo/25859l3wIcvpzP2EhuHNpWF9/dWs/UnKW4EOGDkqhbQyqxjsKzMgM/P1ymhlO5C4ezK4DeS/c7RdzQoa3x1PaWenJjJZwT9rQ1gSp/js1jYoZdyfX8M1/mp7uFaTR8mrt29FEMQILr62jQ1I5kA8OF59jIItVA78dJertTiBNs1ZKfLNG+MUHX1oaURtIHEAOw3p/Y197MWHEJEUGCxwfHj8MTZIcnsGKxzrIURYzPLnJgbxvG2hMrKdjItjbV11CYKeG8R7ygIdB3sBMFhkem0RAAQ3Fuka7UZtRHrasOqhYNilOwrkrwnhCU/ON5/q04vHV48ThxOCuoAbxnBQB+am65QnO8FqMxNCjBe14mpHhxBBGCWBLxD3iyWMaYMLUKsO7WYH6Stk1xCAGccmR/Ozs/bKJuXS39R/YgIjgROloSDA39Deit1SZWotsjD8pfp5ONqZ6uTfyWn+T7X0f59t5fqDhUA4ry0fYtjJcWeZQvTBu4/VqRuk9/l9Fy5cbnX+6Od26s58HjWWaflwkusKGxjm1bmhkvLXHvh1+WMbWncgPfZN+qcvex6xnUXkzvSiYP7EvTvH4toDxdqDD4+ygT+cKMMbH+3MCZ7H9uAaDnqytpVX8cDScJlRY0YIwpAjcNcuePgXP/P6Z30QuoP4J7WbYhuQAAAABJRU5ErkJggg==",d.appendChild(j);var c=this;j.onclick=function(b){c.groupInfoHandler_(a)}}var k=document.createElement("ul");d.appendChild(k),this.renderLayers_(a,k)}else{d.className="layer-switcher-layer";var l=document.createElement("input");"base"===a.get("type")?(l.type="radio",l.name="base"):l.type="checkbox",l.id=f,l.checked=a.get("visible"),l.onchange=function(d){c.setVisible_(a,d.target.checked),c.togglingLegendGraphic_&&c.toggleLegendGraphic_(a,b)},d.appendChild(l),g.htmlFor=f,g.innerHTML=e,d.appendChild(g),this.renderLegendGraphic_(a,b,d)}return d},ol.control.LayerSwitcher.prototype.renderLegendGraphic_=function(a,b,c){if(this.displayLegend_&&"base"!=a.get("type")&&a.showLegendGraphic){var d=!!a.legendGraphic&&a.legendGraphic;if(d){var e=document.createElement("div"),f=a.get("title").replace(" ","-")+"_"+b+"_legend";e.id=f,e.style.display=a.getVisible()?"block":"none";var g='<img src="'+d+'" />';e.innerHTML=g,c.appendChild(e)}}},ol.control.LayerSwitcher.prototype.toggleLegendGraphic_=function(a,b){var c=a.get("title").replace(" ","-")+"_"+b+"_legend",d=document.getElementById(c);d.style.display=a.getVisible()?"block":"none"},ol.control.LayerSwitcher.prototype.renderLayers_=function(a,b){for(var c,d=a.getLayers().getArray().slice().reverse(),e=0;e<d.length;e++)c=d[e],c.get("title")&&b.appendChild(this.renderLayer_(c,e))},ol.control.LayerSwitcher.forEachRecursive=function(a,b){a.getLayers().forEach((function(a,c,d){b(a,c,d),a.getLayers&&ol.control.LayerSwitcher.forEachRecursive(a,b)}))},ol.Overlay.Popup=function(a){var b=a||{};if(this.panMapIfOutOfView=b.panMapIfOutOfView,void 0===this.panMapIfOutOfView&&(this.panMapIfOutOfView=!0),this.ani=b.ani,void 0===this.ani&&(this.ani=ol.animation.pan),this.ani_opts=b.ani_opts,void 0===this.ani_opts&&(this.ani_opts={duration:250}),this.container=document.createElement("div"),this.container.className=b.isTooltip?"ol-tooltip":"ol-popup",!b.isTooltip){this.closer=document.createElement("a"),this.closer.className="ol-popup-closer",this.closer.href="#",this.container.appendChild(this.closer);var c=this;this.closer.addEventListener("click",(function(a){c.container.style.display="none",c.closer.blur(),a.preventDefault()}),!1)}this.content=document.createElement("div"),this.content.className=b.isTooltip?"ol-tooltip-content":"ol-popup-content",this.container.appendChild(this.content),ol.Overlay.Popup.enableTouchScroll_(this.content),ol.Overlay.call(this,{id:!!b.hasOwnProperty("id")&&b.id,element:this.container,stopEvent:!0,insertFirst:!b.hasOwnProperty("insertFirst")||b.insertFirst})},ol.inherits(ol.Overlay.Popup,ol.Overlay),ol.Overlay.Popup.prototype.show=function(a,b){return this.setPosition(a),b instanceof HTMLDivElement?(this.content.innerHTML="",this.content.appendChild(b)):this.content.innerHTML=b,this.container.style.display="block",this.panMapIfOutOfView&&this.panIntoView_(a),this.content.scrollTop=0,this},ol.Overlay.Popup.prototype.isOpened=function(){return"block"==this.container.style.display},ol.Overlay.Popup.prototype.panIntoView_=function(a){var b={width:this.getElement().clientWidth+20,height:this.getElement().clientHeight+20},c=this.getMap().getSize(),d=20,e=60,f=b.width-e,g=this.getOffset(),h=this.getMap().getPixelFromCoordinate(a),i=h[0]-e,j=c[0]-(h[0]+f),k=h[1]-b.height+g[1],l=c[1]-(h[1]+d)-g[1],m=this.getMap().getView().getCenter(),n=this.getMap().getPixelFromCoordinate(m),o=n.slice();return j<0?o[0]-=j:i<0&&(o[0]+=i),k<0?o[1]+=k:l<0&&(o[1]-=l),this.ani&&this.ani_opts&&(this.ani_opts.source=m,this.getMap().beforeRender(this.ani(this.ani_opts))),o[0]===n[0]&&o[1]===n[1]||this.getMap().getView().setCenter(this.getMap().getCoordinateFromPixel(o)),this.getMap().getView().getCenter()},ol.Overlay.Popup.isTouchDevice_=function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}},ol.Overlay.Popup.enableTouchScroll_=function(a){if(ol.Overlay.Popup.isTouchDevice_()){var b=0;a.addEventListener("touchstart",(function(a){b=this.scrollTop+a.touches[0].pageY}),!1),a.addEventListener("touchmove",(function(a){this.scrollTop=b-a.touches[0].pageY}),!1)}},ol.Overlay.Popup.prototype.hide=function(){return this.container.style.display="none",this},(function(a,b){"object"==typeof module&&module.exports?module.exports=a.document?b(a):b:a.Highcharts=b(a)})("undefined"!=typeof window?window:this,(function(a){return a=(function(){var a=window,b=a.document,c=a.navigator&&a.navigator.userAgent||"",d=b&&b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e=/(edge|msie|trident)/i.test(c)&&!window.opera,f=!d,g=/Firefox/.test(c),h=g&&4>parseInt(c.split("Firefox/")[1],10);return a.Highcharts?a.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.6",deg2rad:2*Math.PI/360,doc:b,hasBidiBug:h,hasTouch:b&&void 0!==b.documentElement.ontouchstart,isMS:e,isWebKit:/AppleWebKit/.test(c),isFirefox:g,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(c),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:d,vml:f,win:a,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}}})(),(function(a){var b=[],c=a.charts,d=a.doc,e=a.win;a.error=function(b,c){if(b=a.isNumber(b)?"Highcharts error #"+b+": www.highcharts.com/errors/"+b:b,c)throw Error(b);e.console&&console.log(b)},a.Fx=function(a,b,c){this.options=b,this.elem=a,this.prop=c},a.Fx.prototype={dSetter:function(){var a,b=this.paths[0],c=this.paths[1],d=[],e=this.now,f=b.length;if(1===e)d=this.toD;else if(f===c.length&&1>e)for(;f--;)a=parseFloat(b[f]),d[f]=isNaN(a)?b[f]:e*parseFloat(c[f]-a)+a;else d=c;this.elem.attr("d",d,null,!0)},update:function(){var a=this.elem,b=this.prop,c=this.now,d=this.options.step;this[b+"Setter"]?this[b+"Setter"]():a.attr?a.element&&a.attr(b,c,null,!0):a.style[b]=c+this.unit,d&&d.call(a,c,this)},run:function(a,c,d){var e,f=this,g=function(a){return!g.stopped&&f.step(a)};this.startTime=+new Date,this.start=a,this.end=c,this.unit=d,this.now=this.start,this.pos=0,g.elem=this.elem,g.prop=this.prop,g()&&1===b.push(g)&&(g.timerId=setInterval((function(){for(e=0;e<b.length;e++)b[e]()||b.splice(e--,1);b.length||clearInterval(g.timerId)}),13))},step:function(a){var b,c=+new Date,d=this.options;b=this.elem;var e,f=d.complete,g=d.duration,h=d.curAnim;if(b.attr&&!b.element)b=!1;else if(a||c>=g+this.startTime){this.now=this.end,this.pos=1,this.update(),a=h[this.prop]=!0;for(e in h)!0!==h[e]&&(a=!1);a&&f&&f.call(b),b=!1}else this.pos=d.easing((c-this.startTime)/g),this.now=this.start+(this.end-this.start)*this.pos,this.update(),b=!0;return b},initPath:function(b,c,d){function e(a){var b,c;for(k=a.length;k--;)b="M"===a[k]||"L"===a[k],c=/[a-zA-Z]/.test(a[k+3]),b&&c&&a.splice(k+1,0,a[k+1],a[k+2],a[k+1],a[k+2])}function f(a,b){for(;a.length<i;){a[0]=b[i-a.length];var c=a.slice(0,o);[].splice.apply(a,[0,0].concat(c)),q&&(c=a.slice(a.length-o),[].splice.apply(a,[a.length,0].concat(c)),k--)}a[0]="M"}function g(a,b){for(var c=(i-a.length)/o;0<c&&c--;)j=a.slice().splice(a.length/r-o,o*r),j[0]=b[i-o-c*o],n&&(j[o-6]=j[o-2],j[o-5]=j[o-1]),[].splice.apply(a,[a.length/r,0].concat(j)),q&&c--}c=c||"";var h,i,j,k,l=b.startX,m=b.endX,n=-1<c.indexOf("C"),o=n?7:3;c=c.split(" "),d=d.slice();var p,q=b.isArea,r=q?2:1;if(n&&(e(c),e(d)),l&&m){for(k=0;k<l.length;k++){if(l[k]===m[0]){h=k;break}if(l[0]===m[m.length-l.length+k]){h=k,p=!0;break}}void 0===h&&(c=[])}return c.length&&a.isNumber(h)&&(i=d.length+h*r*o,p?(f(c,d),g(d,c)):(f(d,c),g(c,d))),[c,d]}},a.extend=function(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a},a.merge=function(){var b,c,d=arguments,e={},f=function(b,c){var d,e;"object"!=typeof b&&(b={});for(e in c)c.hasOwnProperty(e)&&(d=c[e],a.isObject(d,!0)&&"renderTo"!==e&&"number"!=typeof d.nodeType?b[e]=f(b[e]||{},d):b[e]=c[e]);return b};for(!0===d[0]&&(e=d[1],d=Array.prototype.slice.call(d,2)),c=d.length,b=0;b<c;b++)e=f(e,d[b]);return e},a.pInt=function(a,b){return parseInt(a,b||10)},a.isString=function(a){return"string"==typeof a},a.isArray=function(a){return a=Object.prototype.toString.call(a),"[object Array]"===a||"[object Array Iterator]"===a},a.isObject=function(b,c){return b&&"object"==typeof b&&(!c||!a.isArray(b))},a.isNumber=function(a){return"number"==typeof a&&!isNaN(a)},a.erase=function(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}},a.defined=function(a){return void 0!==a&&null!==a},a.attr=function(b,c,d){var e,f;if(a.isString(c))a.defined(d)?b.setAttribute(c,d):b&&b.getAttribute&&(f=b.getAttribute(c));else if(a.defined(c)&&a.isObject(c))for(e in c)b.setAttribute(e,c[e]);return f},a.splat=function(b){return a.isArray(b)?b:[b]},a.syncTimeout=function(a,b,c){return b?setTimeout(a,b,c):void a.call(0,c)},a.pick=function(){var a,b,c=arguments,d=c.length;for(a=0;a<d;a++)if(b=c[a],void 0!==b&&null!==b)return b},a.css=function(b,c){a.isMS&&!a.svg&&c&&void 0!==c.opacity&&(c.filter="alpha(opacity="+100*c.opacity+")"),a.extend(b.style,c)},a.createElement=function(b,c,e,f,g){b=d.createElement(b);var h=a.css;return c&&a.extend(b,c),g&&h(b,{padding:0,border:"none",margin:0}),e&&h(b,e),f&&f.appendChild(b),b},a.extendClass=function(b,c){var d=function(){};return d.prototype=new b,a.extend(d.prototype,c),d},a.pad=function(a,b,c){return Array((b||2)+1-String(a).length).join(c||0)+a},a.relativeLength=function(a,b){return/%$/.test(a)?b*parseFloat(a)/100:parseFloat(a)},a.wrap=function(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments),b=arguments,e=this;return e.proceed=function(){d.apply(e,arguments.length?arguments:b)},a.unshift(d),a=c.apply(this,a),e.proceed=null,a}},a.getTZOffset=function(b){var c=a.Date;return 6e4*(c.hcGetTimezoneOffset&&c.hcGetTimezoneOffset(b)||c.hcTimezoneOffset||0)},a.dateFormat=function(b,c,d){if(!a.defined(c)||isNaN(c))return a.defaultOptions.lang.invalidDate||"";b=a.pick(b,"%Y-%m-%d %H:%M:%S");var e,f=a.Date,g=new f(c-a.getTZOffset(c)),h=g[f.hcGetHours](),i=g[f.hcGetDay](),j=g[f.hcGetDate](),k=g[f.hcGetMonth](),l=g[f.hcGetFullYear](),m=a.defaultOptions.lang,n=m.weekdays,o=m.shortWeekdays,p=a.pad,f=a.extend({a:o?o[i]:n[i].substr(0,3),A:n[i],d:p(j),e:p(j,2," "),w:i,b:m.shortMonths[k],B:m.months[k],m:p(k+1),y:l.toString().substr(2,2),Y:l,H:p(h),k:h,I:p(h%12||12),l:h%12||12,M:p(g[f.hcGetMinutes]()),p:12>h?"AM":"PM",P:12>h?"am":"pm",S:p(g.getSeconds()),L:p(Math.round(c%1e3),3)},a.dateFormats);for(e in f)for(;-1!==b.indexOf("%"+e);)b=b.replace("%"+e,"function"==typeof f[e]?f[e](c):f[e]);return d?b.substr(0,1).toUpperCase()+b.substr(1):b},a.formatSingle=function(b,c){var d=/\.([0-9])/,e=a.defaultOptions.lang;return/f$/.test(b)?(d=(d=b.match(d))?d[1]:-1,null!==c&&(c=a.numberFormat(c,d,e.decimalPoint,-1<b.indexOf(",")?e.thousandsSep:""))):c=a.dateFormat(b,c),c},a.format=function(b,c){for(var d,e,f,g,h,i="{",j=!1,k=[];b&&(i=b.indexOf(i),-1!==i);){if(d=b.slice(0,i),j){for(d=d.split(":"),e=d.shift().split("."),g=e.length,h=c,f=0;f<g;f++)h=h[e[f]];d.length&&(h=a.formatSingle(d.join(":"),h)),k.push(h)}else k.push(d);b=b.slice(i+1),i=(j=!j)?"}":"{"}return k.push(b),k.join("")},a.getMagnitude=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))},a.normalizeTickInterval=function(b,c,d,e,f){var g,h=b;for(d=a.pick(d,1),g=b/d,c||(c=f?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===e&&(1===d?c=a.grep(c,(function(a){return 0===a%1})):.1>=d&&(c=[1/d]))),e=0;e<c.length&&(h=c[e],!(f&&h*d>=b||!f&&g<=(c[e]+(c[e+1]||c[e]))/2));e++);return h*d},a.stableSort=function(a,b){var c,d,e=a.length;for(d=0;d<e;d++)a[d].safeI=d;for(a.sort((function(a,d){return c=b(a,d),0===c?a.safeI-d.safeI:c})),d=0;d<e;d++)delete a[d].safeI},a.arrayMin=function(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c},a.arrayMax=function(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c},a.destroyObjectProperties=function(a,b){for(var c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c]},a.discardElement=function(b){var c=a.garbageBin;c||(c=a.createElement("div")),b&&c.appendChild(b),c.innerHTML=""},a.correctFloat=function(a,b){return parseFloat(a.toPrecision(b||14))},a.setAnimation=function(b,c){c.renderer.globalAnimation=a.pick(b,c.options.chart.animation,!0)},a.animObject=function(b){return a.isObject(b)?a.merge(b):{duration:b?500:0}},a.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},a.numberFormat=function(b,c,d,e){b=+b||0,c=+c;var f,g,h=a.defaultOptions.lang,i=(b.toString().split(".")[1]||"").length,j=Math.abs(b);return-1===c?c=Math.min(i,20):a.isNumber(c)||(c=2),f=String(a.pInt(j.toFixed(c))),g=3<f.length?f.length%3:0,d=a.pick(d,h.decimalPoint),e=a.pick(e,h.thousandsSep),b=(0>b?"-":"")+(g?f.substr(0,g)+e:""),b+=f.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+e),c&&(e=Math.abs(j-f+Math.pow(10,-Math.max(c,i)-1)),b+=d+e.toFixed(c).slice(2)),b},Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)},a.getStyle=function(b,c){return"width"===c?Math.min(b.offsetWidth,b.scrollWidth)-a.getStyle(b,"padding-left")-a.getStyle(b,"padding-right"):"height"===c?Math.min(b.offsetHeight,b.scrollHeight)-a.getStyle(b,"padding-top")-a.getStyle(b,"padding-bottom"):(b=e.getComputedStyle(b,void 0))&&a.pInt(b.getPropertyValue(c))},a.inArray=function(a,b){return b.indexOf?b.indexOf(a):[].indexOf.call(b,a)},a.grep=function(a,b){return[].filter.call(a,b)},a.find=function(a,b){return[].find.call(a,b)},a.map=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++)c[d]=b.call(a[d],a[d],d,a);return c},a.offset=function(a){var b=d.documentElement;return a=a.getBoundingClientRect(),{top:a.top+(e.pageYOffset||b.scrollTop)-(b.clientTop||0),left:a.left+(e.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}},a.stop=function(a,c){for(var d=b.length;d--;)b[d].elem!==a||c&&c!==b[d].prop||(b[d].stopped=!0)},a.each=function(a,b,c){return Array.prototype.forEach.call(a,b,c)},a.addEvent=function(b,c,d){function f(a){a.target=a.srcElement||e,d.call(b,a)}var g=b.hcEvents=b.hcEvents||{};return b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent&&(b.hcEventsIE||(b.hcEventsIE={}),b.hcEventsIE[d.toString()]=f,b.attachEvent("on"+c,f)),g[c]||(g[c]=[]),g[c].push(d),function(){a.removeEvent(b,c,d)}},a.removeEvent=function(b,c,d){function e(a,c){b.removeEventListener?b.removeEventListener(a,c,!1):b.attachEvent&&(c=b.hcEventsIE[c.toString()],b.detachEvent("on"+a,c))}function f(){var a,d;if(b.nodeName)for(d in c?(a={},a[c]=!0):a=i,a)if(i[d])for(a=i[d].length;a--;)e(d,i[d][a])}var g,h,i=b.hcEvents;i&&(c?(g=i[c]||[],d?(h=a.inArray(d,g),-1<h&&(g.splice(h,1),i[c]=g),e(c,d)):(f(),i[c]=[])):(f(),b.hcEvents={}))},a.fireEvent=function(b,c,e,f){var g;g=b.hcEvents;var h,i;if(e=e||{},d.createEvent&&(b.dispatchEvent||b.fireEvent))g=d.createEvent("Events"),g.initEvent(c,!0,!0),a.extend(g,e),b.dispatchEvent?b.dispatchEvent(g):b.fireEvent(c,g);else if(g)for(g=g[c]||[],h=g.length,e.target||a.extend(e,{preventDefault:function(){e.defaultPrevented=!0},target:b,type:c}),c=0;c<h;c++)(i=g[c])&&!1===i.call(b,e)&&e.preventDefault();f&&!e.defaultPrevented&&f(e)},a.animate=function(b,c,d){var e,f,g,h,i="";a.isObject(d)||(e=arguments,d={duration:e[2],easing:e[3],complete:e[4]}),a.isNumber(d.duration)||(d.duration=400),d.easing="function"==typeof d.easing?d.easing:Math[d.easing]||Math.easeInOutSine,d.curAnim=a.merge(c);for(h in c)a.stop(b,h),g=new a.Fx(b,d,h),f=null,"d"===h?(g.paths=g.initPath(b,b.d,c.d),g.toD=c.d,e=0,f=1):b.attr?e=b.attr(h):(e=parseFloat(a.getStyle(b,h))||0,"opacity"!==h&&(i="px")),f||(f=c[h]),f.match&&f.match("px")&&(f=f.replace(/px/g,"")),g.run(e,f,i)},a.seriesType=function(b,c,d,e,f){var g=a.getOptions(),h=a.seriesTypes;return g.plotOptions[b]=a.merge(g.plotOptions[c],d),h[b]=a.extendClass(h[c]||function(){},e),h[b].prototype.type=b,f&&(h[b].prototype.pointClass=a.extendClass(a.Point,f)),h[b]},a.uniqueKey=(function(){var a=Math.random().toString(36).substring(2,9),b=0;return function(){return"highcharts-"+a+"-"+b++}})(),e.jQuery&&(e.jQuery.fn.highcharts=function(){var b=[].slice.call(arguments);if(this[0])return b[0]?(new(a[a.isString(b[0])?b.shift():"Chart"])(this[0],b[0],b[1]),this):c[a.attr(this[0],"data-highcharts-chart")]}),d&&!d.defaultView&&(a.getStyle=function(b,c){var d={width:"clientWidth",height:"clientHeight"}[c];return b.style[c]?a.pInt(b.style[c]):("opacity"===c&&(c="filter"),d?(b.style.zoom=1,Math.max(b[d]-2*a.getStyle(b,"padding"),0)):(b=b.currentStyle[c.replace(/\-(\w)/g,(function(a,b){return b.toUpperCase()}))],"filter"===c&&(b=b.replace(/alpha\(opacity=([0-9]+)\)/,(function(a,b){return b/100}))),""===b?1:a.pInt(b)))}),Array.prototype.forEach||(a.each=function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(!1===b.call(c,a[d],d,a))return d}),Array.prototype.indexOf||(a.inArray=function(a,b){
var c,d=0;if(b)for(c=b.length;d<c;d++)if(b[d]===a)return d;return-1}),Array.prototype.filter||(a.grep=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c}),Array.prototype.find||(a.find=function(a,b){var c,d=a.length;for(c=0;c<d;c++)if(b(a[c],c))return a[c]})})(a),(function(a){var b=a.each,c=a.isNumber,d=a.map,e=a.merge,f=a.pInt;a.Color=function(b){return this instanceof a.Color?void this.init(b):new a.Color(b)},a.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[f(a[1]),f(a[2]),f(a[3]),parseFloat(a[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(a){return[f(a[1],16),f(a[2],16),f(a[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[f(a[1]),f(a[2]),f(a[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(b){var c,e,f,g;if((this.input=b=this.names[b]||b)&&b.stops)this.stops=d(b.stops,(function(b){return new a.Color(b[1])}));else for(f=this.parsers.length;f--&&!e;)g=this.parsers[f],(c=g.regex.exec(b))&&(e=g.parse(c));this.rgba=e||[]},get:function(a){var d,f=this.input,g=this.rgba;return this.stops?(d=e(f),d.stops=[].concat(d.stops),b(this.stops,(function(b,c){d.stops[c]=[d.stops[c][0],b.get(a)]}))):d=g&&c(g[0])?"rgb"===a||!a&&1===g[3]?"rgb("+g[0]+","+g[1]+","+g[2]+")":"a"===a?g[3]:"rgba("+g.join(",")+")":f,d},brighten:function(a){var d,e=this.rgba;if(this.stops)b(this.stops,(function(b){b.brighten(a)}));else if(c(a)&&0!==a)for(d=0;3>d;d++)e[d]+=f(255*a),0>e[d]&&(e[d]=0),255<e[d]&&(e[d]=255);return this},setOpacity:function(a){return this.rgba[3]=a,this}},a.color=function(b){return new a.Color(b)}})(a),(function(a){var b,c,d=a.addEvent,e=a.animate,f=a.attr,g=a.charts,h=a.color,i=a.css,j=a.createElement,k=a.defined,l=a.deg2rad,m=a.destroyObjectProperties,n=a.doc,o=a.each,p=a.extend,q=a.erase,r=a.grep,s=a.hasTouch,t=a.isArray,u=a.isFirefox,v=a.isMS,w=a.isObject,x=a.isString,y=a.isWebKit,z=a.merge,A=a.noop,B=a.pick,C=a.pInt,D=a.removeEvent,E=a.stop,F=a.svg,G=a.SVG_NS,H=a.symbolSizes,I=a.win;b=a.SVGElement=function(){return this},b.prototype={opacity:1,SVG_NS:G,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textDecoration textOverflow textOutline".split(" "),init:function(a,b){this.element="span"===b?j(b):n.createElementNS(this.SVG_NS,b),this.renderer=a},animate:function(b,c,d){return c=a.animObject(B(c,this.renderer.globalAnimation,!0)),0!==c.duration?(d&&(c.complete=d),e(this,b,c)):this.attr(b,null,d),this},colorGradient:function(b,c,d){var e,f,g,h,i,j,l,m,n,p,q,r,s=this.renderer,u=[];if(b.linearGradient?f="linearGradient":b.radialGradient&&(f="radialGradient"),f){g=b[f],i=s.gradients,l=b.stops,p=d.radialReference,t(g)&&(b[f]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===f&&p&&!k(g.gradientUnits)&&(h=g,g=z(g,s.getRadialAttr(p,h),{gradientUnits:"userSpaceOnUse"}));for(q in g)"id"!==q&&u.push(q,g[q]);for(q in l)u.push(l[q]);u=u.join(","),i[u]?p=i[u].attr("id"):(g.id=p=a.uniqueKey(),i[u]=j=s.createElement(f).attr(g).add(s.defs),j.radAttr=h,j.stops=[],o(l,(function(b){0===b[1].indexOf("rgba")?(e=a.color(b[1]),m=e.get("rgb"),n=e.get("a")):(m=b[1],n=1),b=s.createElement("stop").attr({offset:b[0],"stop-color":m,"stop-opacity":n}).add(j),j.stops.push(b)}))),r="url("+s.url+"#"+p+")",d.setAttribute(c,r),d.gradient=u,b.toString=function(){return r}}},applyTextOutline:function(a){var b,c,d,e,g=this.element;-1!==a.indexOf("contrast")&&(a=a.replace(/contrast/g,this.renderer.getContrast(g.style.fill))),this.fakeTS=!0,this.ySetter=this.xSetter,b=[].slice.call(g.getElementsByTagName("tspan")),a=a.split(" "),c=a[a.length-1],(d=a[0])&&"none"!==d&&(d=d.replace(/(^[\d\.]+)(.*?)$/g,(function(a,b,c){return 2*b+c})),o(b,(function(a){"highcharts-text-outline"===a.getAttribute("class")&&q(b,g.removeChild(a))})),e=g.firstChild,o(b,(function(a,b){0===b&&(a.setAttribute("x",g.getAttribute("x")),b=g.getAttribute("y"),a.setAttribute("y",b||0),null===b&&g.setAttribute("y",0)),a=a.cloneNode(1),f(a,{"class":"highcharts-text-outline",fill:c,stroke:c,"stroke-width":d,"stroke-linejoin":"round"}),g.insertBefore(a,e)})))},attr:function(a,b,c,d){var e,f,g,h=this.element,i=this;if("string"==typeof a&&void 0!==b&&(e=a,a={},a[e]=b),"string"==typeof a)i=(this[a+"Getter"]||this._defaultGetter).call(this,a,h);else{for(e in a)b=a[e],g=!1,d||E(this,e),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(e)&&(f||(this.symbolAttr(a),f=!0),g=!0),!this.rotation||"x"!==e&&"y"!==e||(this.doTransform=!0),g||(g=this[e+"Setter"]||this._defaultSetter,g.call(this,b,e,h),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(e)&&this.updateShadows(e,b,g));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return c&&c(),i},updateShadows:function(a,b,c){for(var d=this.shadows,e=d.length;e--;)c.call(d[e],"height"===a?Math.max(b-(d[e].cutHeight||0),0):"d"===a?this.d:b,a,d[e])},addClass:function(a,b){var c=this.attr("class")||"";return-1===c.indexOf(a)&&(b||(a=(c+(c?" ":"")+a).replace("  "," ")),this.attr("class",a)),this},hasClass:function(a){return-1!==f(this.element,"class").indexOf(a)},removeClass:function(a){return f(this.element,"class",(f(this.element,"class")||"").replace(a,"")),this},symbolAttr:function(a){var b=this;o("x y r start end width height innerR anchorX anchorY".split(" "),(function(c){b[c]=B(a[c],b[c])})),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function(a,b){var c,d,e={};b=b||a.strokeWidth||0,d=Math.round(b)%2/2,a.x=Math.floor(a.x||this.x||0)+d,a.y=Math.floor(a.y||this.y||0)+d,a.width=Math.floor((a.width||this.width||0)-2*d),a.height=Math.floor((a.height||this.height||0)-2*d),k(a.strokeWidth)&&(a.strokeWidth=b);for(c in a)this[c]!==a[c]&&(this[c]=e[c]=a[c]);return e},css:function(a){var b,c,d=this.styles,e={},g=this.element,h="";if(b=!d,a&&a.color&&(a.fill=a.color),d)for(c in a)a[c]!==d[c]&&(e[c]=a[c],b=!0);if(b){if(b=this.textWidth=a&&a.width&&"text"===g.nodeName.toLowerCase()&&C(a.width)||this.textWidth,d&&(a=p(d,e)),this.styles=a,b&&!F&&this.renderer.forExport&&delete a.width,v&&!F)i(this.element,a);else{d=function(a,b){return"-"+b.toLowerCase()};for(c in a)h+=c.replace(/([A-Z])/g,d)+":"+a[c]+";";f(g,"style",h)}this.added&&(b&&this.renderer.buildText(this),a&&a.textOutline&&this.applyTextOutline(a.textOutline))}return this},strokeWidth:function(){return this["stroke-width"]||0},on:function(a,b){var c=this,d=c.element;return s&&"click"===a?(d.ontouchstart=function(a){c.touchEventFired=Date.now(),a.preventDefault(),b.call(d,a)},d.onclick=function(a){(-1===I.navigator.userAgent.indexOf("Android")||1100<Date.now()-(c.touchEventFired||0))&&b.call(d,a)}):d["on"+a]=b,this},setRadialReference:function(a){var b=this.renderer.gradients[this.element.gradient];return this.element.radialReference=a,b&&b.radAttr&&b.animate(this.renderer.getRadialAttr(a,b.radAttr)),this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(a){return this.inverted=a,this.updateTransform(),this},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,c=this.scaleX,d=this.scaleY,e=this.inverted,f=this.rotation,g=this.element;e&&(a+=this.attr("width"),b+=this.attr("height")),a=["translate("+a+","+b+")"],e?a.push("rotate(90) scale(-1,1)"):f&&a.push("rotate("+f+" "+(g.getAttribute("x")||0)+" "+(g.getAttribute("y")||0)+")"),(k(c)||k(d))&&a.push("scale("+B(c,1)+" "+B(d,1)+")"),a.length&&g.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,b,c){var d,e,f,g,h={};e=this.renderer,f=e.alignedObjects;var i,j;return a?(this.alignOptions=a,this.alignByTranslate=b,(!c||x(c))&&(this.alignTo=d=c||"renderer",q(f,this),f.push(this),c=null)):(a=this.alignOptions,b=this.alignByTranslate,d=this.alignTo),c=B(c,e[d],e),d=a.align,e=a.verticalAlign,f=(c.x||0)+(a.x||0),g=(c.y||0)+(a.y||0),"right"===d?i=1:"center"===d&&(i=2),i&&(f+=(c.width-(a.width||0))/i),h[b?"translateX":"x"]=Math.round(f),"bottom"===e?j=1:"middle"===e&&(j=2),j&&(g+=(c.height-(a.height||0))/j),h[b?"translateY":"y"]=Math.round(g),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(a,b){var c,d,e,f,g,h=this.renderer,i=this.element,j=this.styles,k=this.textStr,m=h.cache,n=h.cacheKeys;if(b=B(b,this.rotation),d=b*l,e=j&&j.fontSize,void 0!==k&&(g=k.toString(),-1===g.indexOf("<")&&(g=g.replace(/[0-9]/g,"0")),g+=["",b||0,e,i.style.width,i.style["text-overflow"]].join()),g&&!a&&(c=m[g]),!c){if(i.namespaceURI===this.SVG_NS||h.forExport){try{(f=this.fakeTS&&function(a){o(i.querySelectorAll(".highcharts-text-outline"),(function(b){b.style.display=a}))})&&f("none"),c=i.getBBox?p({},i.getBBox()):{width:i.offsetWidth,height:i.offsetHeight},f&&f("")}catch(q){}(!c||0>c.width)&&(c={width:0,height:0})}else c=this.htmlGetBBox();if(h.isSVG&&(a=c.width,h=c.height,v&&j&&"11px"===j.fontSize&&"16.9"===h.toPrecision(3)&&(c.height=h=14),b&&(c.width=Math.abs(h*Math.sin(d))+Math.abs(a*Math.cos(d)),c.height=Math.abs(h*Math.cos(d))+Math.abs(a*Math.sin(d)))),g&&0<c.height){for(;250<n.length;)delete m[n.shift()];m[g]||n.push(g),m[g]=c}}return c},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.attr({y:-9999})}})},add:function(a){var b,c=this.renderer,d=this.element;return a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&c.buildText(this),this.added=!0,(!a||a.handleZ||this.zIndex)&&(b=this.zIndexSetter()),b||(a?a.element:c.box).appendChild(d),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a,b,c=this.element||{},d=this.renderer.isSVG&&"SPAN"===c.nodeName&&this.parentGroup;if(c.onclick=c.onmouseout=c.onmouseover=c.onmousemove=c.point=null,E(this),this.clipPath&&(this.clipPath=this.clipPath.destroy()),this.stops){for(b=0;b<this.stops.length;b++)this.stops[b]=this.stops[b].destroy();this.stops=null}for(this.safeRemoveChild(c),this.destroyShadows();d&&d.div&&0===d.div.childNodes.length;)c=d.parentGroup,this.safeRemoveChild(d.div),delete d.div,d=c;this.alignTo&&q(this.renderer.alignedObjects,this);for(a in this)delete this[a];return null},shadow:function(a,b,c){var d,e,g,h,i,j,k=[],l=this.element;if(a){if(!this.shadows){for(h=B(a.width,3),i=(a.opacity||.15)/h,j=this.parentInverted?"(-1,-1)":"("+B(a.offsetX,1)+", "+B(a.offsetY,1)+")",d=1;d<=h;d++)e=l.cloneNode(0),g=2*h+1-2*d,f(e,{isShadow:"true",stroke:a.color||"#000000","stroke-opacity":i*d,"stroke-width":g,transform:"translate"+j,fill:"none"}),c&&(f(e,"height",Math.max(f(e,"height")-g,0)),e.cutHeight=g),b?b.element.appendChild(e):l.parentNode.insertBefore(e,l),k.push(e);this.shadows=k}}else this.destroyShadows();return this},destroyShadows:function(){o(this.shadows||[],(function(a){this.safeRemoveChild(a)}),this),this.shadows=void 0},xGetter:function(a){return"circle"===this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy")),this._defaultGetter(a)},_defaultGetter:function(a){return a=B(this[a],this.element?this.element.getAttribute(a):null,0),/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a)),a},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),c.setAttribute(b,a),this[b]=a},dashstyleSetter:function(a){var b,c=this["stroke-width"];if("inherit"===c&&(c=1),a=a&&a.toLowerCase()){for(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),b=a.length;b--;)a[b]=C(a[b])*c;a=a.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,b,c){this[b]=a,c.setAttribute(b,a)},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=n.createElementNS(this.SVG_NS,"title"),this.element.appendChild(b)),b.firstChild&&b.removeChild(b.firstChild),b.appendChild(n.createTextNode(String(B(a),"").replace(/<[^>]*>/g,"")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,b,c){"string"==typeof a?c.setAttribute(b,a):a&&this.colorGradient(a,b,c)},visibilitySetter:function(a,b,c){"inherit"===a?c.removeAttribute(b):c.setAttribute(b,a)},zIndexSetter:function(a,b){var c,d,e=this.renderer,f=this.parentGroup,g=(f||e).element||e.box,h=this.element;c=this.added;var i;if(k(a)&&(h.zIndex=a,a=+a,this[b]===a&&(c=!1),this[b]=a),c){for((a=this.zIndex)&&f&&(f.handleZ=!0),b=g.childNodes,i=0;i<b.length&&!d;i++)f=b[i],c=f.zIndex,f!==h&&(C(c)>a||!k(a)&&k(c)||0>a&&!k(c)&&g!==e.box)&&(g.insertBefore(h,f),d=!0);d||g.appendChild(h)}return d},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}},b.prototype.yGetter=b.prototype.xGetter,b.prototype.translateXSetter=b.prototype.translateYSetter=b.prototype.rotationSetter=b.prototype.verticalAlignSetter=b.prototype.scaleXSetter=b.prototype.scaleYSetter=function(a,b){this[b]=a,this.doTransform=!0},b.prototype["stroke-widthSetter"]=b.prototype.strokeSetter=function(a,c,d){this[c]=a,this.stroke&&this["stroke-width"]?(b.prototype.fillSetter.call(this,this.stroke,"stroke",d),d.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===c&&0===a&&this.hasStroke&&(d.removeAttribute("stroke"),this.hasStroke=!1)},c=a.SVGRenderer=function(){this.init.apply(this,arguments)},c.prototype={Element:b,SVG_NS:G,init:function(a,b,c,e,g,h){var j;e=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(e)),j=e.element,a.appendChild(j),-1===a.innerHTML.indexOf("xmlns")&&f(j,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=j,this.boxWrapper=e,this.alignedObjects=[],this.url=(u||y)&&n.getElementsByTagName("base").length?I.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(n.createTextNode("Created with Highcharts 5.0.6")),this.defs=this.createElement("defs").add(),this.allowHTML=h,this.forExport=g,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(b,c,!1);var k;u&&a.getBoundingClientRect&&(b=function(){i(a,{left:0,top:0}),k=a.getBoundingClientRect(),i(a,{left:Math.ceil(k.left)-k.left+"px",top:Math.ceil(k.top)-k.top+"px"})},b(),this.unSubPixelFix=d(I,"resize",b))},getStyle:function(a){return this.style=p({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},setStyle:function(a){this.boxWrapper.css(this.getStyle(a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),m(this.gradients||{}),this.gradients=null,a&&(this.defs=a.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(a){var b=new this.Element;return b.init(this,a),b},draw:A,getRadialAttr:function(a,b){return{cx:a[0]-a[2]/2+b.cx*a[2],cy:a[1]-a[2]/2+b.cy*a[2],r:b.r*a[2]}},buildText:function(a){for(var b,c,d,e,g=a.element,h=this,j=h.forExport,k=B(a.textStr,"").toString(),l=-1!==k.indexOf("<"),m=g.childNodes,p=f(g,"x"),q=a.styles,s=a.textWidth,t=q&&q.lineHeight,u=q&&q.textOutline,v=q&&"ellipsis"===q.textOverflow,w=m.length,x=s&&!a.added&&this.box,y=function(a){var b;return b=/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:q&&q.fontSize||h.style.fontSize||12,t?C(t):h.fontMetrics(b,a.getAttribute("style")?a:g).h};w--;)g.removeChild(m[w]);l||u||v||s||-1!==k.indexOf(" ")?(b=/<.*class="([^"]+)".*>/,c=/<.*style="([^"]+)".*>/,d=/<.*href="(http[^"]+)".*>/,x&&x.appendChild(g),k=l?k.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[k],k=r(k,(function(a){return""!==a})),o(k,(function(k,l){var m,r=0;k=k.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),m=k.split("|||"),o(m,(function(k){if(""!==k||1===m.length){var o,t,u={},w=n.createElementNS(h.SVG_NS,"tspan");if(b.test(k)&&(o=k.match(b)[1],f(w,"class",o)),c.test(k)&&(t=k.match(c)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),f(w,"style",t)),d.test(k)&&!j&&(f(w,"onclick",'location.href="'+k.match(d)[1]+'"'),i(w,{cursor:"pointer"})),k=(k.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==k){if(w.appendChild(n.createTextNode(k)),r?u.dx=0:l&&null!==p&&(u.x=p),f(w,u),g.appendChild(w),!r&&l&&(!F&&j&&i(w,{display:"block"}),f(w,"dy",y(w))),s){u=k.replace(/([^\^])-/g,"$1- ").split(" "),o="nowrap"===q.whiteSpace;for(var x,z,A=1<m.length||l||1<u.length&&!o,B=[],C=y(w),D=a.rotation,E=k,H=E.length;(A||v)&&(u.length||B.length);)a.rotation=0,x=a.getBBox(!0),z=x.width,!F&&h.forExport&&(z=h.measureSpanWidth(w.firstChild.data,a.styles)),x=z>s,void 0===e&&(e=x),v&&e?(H/=2,""===E||!x&&.5>H?u=[]:(E=k.substring(0,E.length+(x?-1:1)*Math.ceil(H)),u=[E+(3<s?"":"")],w.removeChild(w.firstChild))):x&&1!==u.length?(w.removeChild(w.firstChild),B.unshift(u.pop())):(u=B,B=[],u.length&&!o&&(w=n.createElementNS(G,"tspan"),f(w,{dy:C,x:p}),t&&f(w,"style",t),g.appendChild(w)),z>s&&(s=z)),u.length&&w.appendChild(n.createTextNode(u.join(" ").replace(/- /g,"-")));a.rotation=D}r++}}}))})),e&&a.attr("title",a.textStr),x&&x.removeChild(g),u&&a.applyTextOutline&&a.applyTextOutline(u)):g.appendChild(n.createTextNode(k.replace(/&lt;/g,"<").replace(/&gt;/g,">")))},getContrast:function(a){return a=h(a).rgba,510<a[0]+a[1]+a[2]?"#000000":"#FFFFFF"},button:function(a,b,c,e,f,g,h,i,j){var k=this.label(a,b,c,j,null,null,null,null,"button"),l=0;k.attr(z({padding:8,r:2},f));var m,n,o,q;return f=z({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},f),m=f.style,delete f.style,g=z(f,{fill:"#e6e6e6"},g),n=g.style,delete g.style,h=z(f,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},h),o=h.style,delete h.style,i=z(f,{style:{color:"#cccccc"}},i),q=i.style,delete i.style,d(k.element,v?"mouseover":"mouseenter",(function(){3!==l&&k.setState(1)})),d(k.element,v?"mouseout":"mouseleave",(function(){3!==l&&k.setState(l)})),k.setState=function(a){1!==a&&(k.state=l=a),k.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||0]),k.attr([f,g,h,i][a||0]).css([m,n,o,q][a||0])},k.attr(f).css(p({cursor:"default"},m)),k.on("click",(function(a){3!==l&&e.call(k,a)}))},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=Math.round(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=Math.round(a[2])+b%2/2),a},path:function(a){var b={fill:"none"};return t(a)?b.d=a:w(a)&&p(b,a),this.createElement("path").attr(b)},circle:function(a,b,c){return a=w(a)?a:{x:a,y:b,r:c},b=this.createElement("circle"),b.xSetter=b.ySetter=function(a,b,c){c.setAttribute("c"+b,a)},b.attr(a)},arc:function(a,b,c,d,e,f){return w(a)&&(b=a.y,c=a.r,d=a.innerR,e=a.start,f=a.end,a=a.x),a=this.symbol("arc",a||0,b||0,c||0,c||0,{innerR:d||0,start:e||0,end:f||0}),a.r=c,a},rect:function(a,b,c,d,e,g){e=w(a)?a.r:e;var h=this.createElement("rect");return a=w(a)?a:void 0===a?{}:{x:a,y:b,width:Math.max(c,0),height:Math.max(d,0)},void 0!==g&&(a.strokeWidth=g,a=h.crisp(a)),a.fill="none",e&&(a.r=e),h.rSetter=function(a,b,c){f(c,{rx:a,ry:a})},h.attr(a)},setSize:function(a,b,c){var d=this.alignedObjects,e=d.length;for(this.width=a,this.height=b,this.boxWrapper.animate({width:a,height:b},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:B(c,!0)?void 0:0});e--;)d[e].align()},g:function(a){var b=this.createElement("g");return a?b.attr({"class":"highcharts-"+a}):b},image:function(a,b,c,d,e){var f={preserveAspectRatio:"none"};return 1<arguments.length&&p(f,{x:b,y:c,width:d,height:e}),f=this.createElement("image").attr(f),f.element.setAttributeNS?f.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):f.element.setAttribute("hc-svg-href",a),f},symbol:function(a,b,c,d,e,f){var h,l,m,q=this,r=this.symbols[a],s=k(b)&&r&&r(Math.round(b),Math.round(c),d,e,f),t=/^url\((.*?)\)$/;return r?(h=this.path(s),h.attr("fill","none"),p(h,{symbolName:a,x:b,y:c,width:d,height:e}),f&&p(h,f)):t.test(a)&&(l=a.match(t)[1],h=this.image(l),h.imgwidth=B(H[l]&&H[l].width,f&&f.width),h.imgheight=B(H[l]&&H[l].height,f&&f.height),m=function(){h.attr({width:h.width,height:h.height})},o(["width","height"],(function(a){h[a+"Setter"]=function(a,b){var c={},d=this["img"+b],e="width"===b?"translateX":"translateY";this[b]=a,k(d)&&(this.element&&this.element.setAttribute(b,d),this.alignByTranslate||(c[e]=((this[b]||0)-d)/2,this.attr(c)))}})),k(b)&&h.attr({x:b,y:c}),h.isImg=!0,k(h.imgwidth)&&k(h.imgheight)?m():(h.attr({width:0,height:0}),j("img",{onload:function(){var a=g[q.chartIndex];0===this.width&&(i(this,{position:"absolute",top:"-999em"}),n.body.appendChild(this)),H[l]={width:this.width,height:this.height},h.imgwidth=this.width,h.imgheight=this.height,h.element&&m(),this.parentNode&&this.parentNode.removeChild(this),q.imgCount--,!q.imgCount&&a&&a.onload&&a.onload()},src:l}),this.imgCount++)),h},symbols:{circle:function(a,b,c,d){var e=.166*c;return["M",a+c/2,b,"C",a+c+e,b,a+c+e,b+d,a+c/2,b+d,"C",a-e,b+d,a-e,b,a+c/2,b,"Z"]},square:function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(a,b,c,d,e){var f=e.start;c=e.r||c||d;var g=e.end-.001;d=e.innerR;var h=e.open,i=Math.cos(f),j=Math.sin(f),k=Math.cos(g),g=Math.sin(g);return e=e.end-f<Math.PI?0:1,["M",a+c*i,b+c*j,"A",c,c,0,e,1,a+c*k,b+c*g,h?"M":"L",a+d*k,b+d*g,"A",d,d,0,e,0,a+d*i,b+d*j,h?"":"Z"]},callout:function(a,b,c,d,e){var f=Math.min(e&&e.r||0,c,d),g=f+6,h=e&&e.anchorX;e=e&&e.anchorY;var i;return i=["M",a+f,b,"L",a+c-f,b,"C",a+c,b,a+c,b,a+c,b+f,"L",a+c,b+d-f,"C",a+c,b+d,a+c,b+d,a+c-f,b+d,"L",a+f,b+d,"C",a,b+d,a,b+d,a,b+d-f,"L",a,b+f,"C",a,b,a,b,a+f,b],h&&h>c?e>b+g&&e<b+d-g?i.splice(13,3,"L",a+c,e-6,a+c+6,e,a+c,e+6,a+c,b+d-f):i.splice(13,3,"L",a+c,d/2,h,e,a+c,d/2,a+c,b+d-f):h&&0>h?e>b+g&&e<b+d-g?i.splice(33,3,"L",a,e+6,a-6,e,a,e-6,a,b+f):i.splice(33,3,"L",a,d/2,h,e,a,d/2,a,b+f):e&&e>d&&h>a+g&&h<a+c-g?i.splice(23,3,"L",h+6,b+d,h,b+d+6,h-6,b+d,a+f,b+d):e&&0>e&&h>a+g&&h<a+c-g&&i.splice(3,3,"L",h-6,b,h,b-6,h+6,b,c-f,b),i}},clipRect:function(b,c,d,e){var f=a.uniqueKey(),g=this.createElement("clipPath").attr({id:f}).add(this.defs);return b=this.rect(b,c,d,e,0).add(g),b.id=f,b.clipPath=g,b.count=0,b},text:function(a,b,c,d){var e=!F&&this.forExport,f={};return!d||!this.allowHTML&&this.forExport?(f.x=Math.round(b||0),c&&(f.y=Math.round(c)),(a||0===a)&&(f.text=a),a=this.createElement("text").attr(f),e&&a.css({position:"absolute"}),d||(a.xSetter=function(a,b,c){var d,e,f=c.getElementsByTagName("tspan"),g=c.getAttribute(b);for(e=0;e<f.length;e++)d=f[e],d.getAttribute(b)===g&&d.setAttribute(b,a);c.setAttribute(b,a)}),a):this.html(a,b,c)},fontMetrics:function(a,b){return a=a||b&&b.style&&b.style.fontSize||this.style&&this.style.fontSize,a=/px/.test(a)?C(a):/em/.test(a)?parseFloat(a)*(b?this.fontMetrics(null,b.parentNode).f:16):12,b=24>a?a+3:Math.round(1.2*a),{h:b,b:Math.round(.8*b),f:a}},rotCorr:function(a,b,c){var d=a;return b&&c&&(d=Math.max(d*Math.cos(b*l),4)),{x:-a/3*Math.sin(b*l),y:d}},label:function(a,c,d,e,f,g,h,i,j){var l,m,n,q,r,s,t,u,v,w,x,y,A,B=this,C=B.g("button"!==j&&"label"),E=C.text=B.text("",0,0,h).attr({zIndex:1}),F=0,G=3,H=0,I={},J=/^url\((.*?)\)$/.test(e),K=J;j&&C.addClass("highcharts-"+j),K=J,w=function(){return(u||0)%2/2},x=function(){var a=E.element.style,b={};m=(void 0===n||void 0===q||t)&&k(E.textStr)&&E.getBBox(),C.width=(n||m.width||0)+2*G+H,C.height=(q||m.height||0)+2*G,v=G+B.fontMetrics(a&&a.fontSize,E).b,K&&(l||(C.box=l=B.symbols[e]||J?B.symbol(e):B.rect(),l.addClass(("button"===j?"":"highcharts-label-box")+(j?" highcharts-"+j+"-box":"")),l.add(C),a=w(),b.x=a,b.y=(i?-v:0)+a),b.width=Math.round(C.width),b.height=Math.round(C.height),l.attr(p(b,I)),I={})},y=function(){var a,b=H+G;a=i?0:v,k(n)&&m&&("center"===t||"right"===t)&&(b+={center:.5,right:1}[t]*(n-m.width)),b===E.x&&a===E.y||(E.attr("x",b),void 0!==a&&E.attr("y",a)),E.x=b,E.y=a},A=function(a,b){l?l.attr(a,b):I[a]=b},C.onAdd=function(){E.add(C),C.attr({text:a||0===a?a:"",x:c,y:d}),l&&k(f)&&C.attr({anchorX:f,anchorY:g})},C.widthSetter=function(a){n=a},C.heightSetter=function(a){q=a},C["text-alignSetter"]=function(a){t=a},C.paddingSetter=function(a){k(a)&&a!==G&&(G=C.padding=a,y())},C.paddingLeftSetter=function(a){k(a)&&a!==H&&(H=a,y())},C.alignSetter=function(a){a={left:0,center:.5,right:1}[a],a!==F&&(F=a,m&&C.attr({x:r}))},C.textSetter=function(a){void 0!==a&&E.textSetter(a),x(),y()},C["stroke-widthSetter"]=function(a,b){a&&(K=!0),u=this["stroke-width"]=a,A(b,a)},C.strokeSetter=C.fillSetter=C.rSetter=function(a,b){"fill"===b&&a&&(K=!0),A(b,a)},C.anchorXSetter=function(a,b){f=a,A(b,Math.round(a)-w()-r)},C.anchorYSetter=function(a,b){g=a,A(b,a-s)},C.xSetter=function(a){C.x=a,F&&(a-=F*((n||m.width)+2*G)),r=Math.round(a),C.attr("translateX",r)},C.ySetter=function(a){s=C.y=Math.round(a),C.attr("translateY",s)};var L=C.css;return p(C,{css:function(a){if(a){var b={};a=z(a),o(C.textProps,(function(c){void 0!==a[c]&&(b[c]=a[c],delete a[c])})),E.css(b)}return L.call(C,a)},getBBox:function(){return{width:m.width+2*G,height:m.height+2*G,x:m.x-G,y:m.y-G}},shadow:function(a){return a&&(x(),l&&l.shadow(a)),C},destroy:function(){D(C.element,"mouseenter"),D(C.element,"mouseleave"),E&&(E=E.destroy()),l&&(l=l.destroy()),b.prototype.destroy.call(C),C=B=x=y=A=null}})}},a.Renderer=c})(a),(function(a){var b=a.attr,c=a.createElement,d=a.css,e=a.defined,f=a.each,g=a.extend,h=a.isFirefox,i=a.isMS,j=a.isWebKit,k=a.pInt,l=a.SVGRenderer,m=a.win,n=a.wrap;g(a.SVGElement.prototype,{htmlCss:function(a){var b=this.element;return(b=a&&"SPAN"===b.tagName&&a.width)&&(delete a.width,this.textWidth=b,this.updateTransform()),a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden"),this.styles=g(this.styles,a),d(this.element,a),this},htmlGetBBox:function(){var a=this.element;return"text"===a.nodeName&&(a.style.position="absolute"),{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,c=this.translateX||0,g=this.translateY||0,h=this.x||0,i=this.y||0,l=this.textAlign||"left",m={left:0,center:.5,right:1}[l],n=this.styles;if(d(b,{marginLeft:c,marginTop:g}),this.shadows&&f(this.shadows,(function(a){d(a,{marginLeft:c+1,marginTop:g+1})})),this.inverted&&f(b.childNodes,(function(c){a.invertChild(c,b)})),"SPAN"===b.tagName){var o=this.rotation,p=k(this.textWidth),q=n&&n.whiteSpace,r=[o,l,b.innerHTML,this.textWidth,this.textAlign].join();r!==this.cTT&&(n=a.fontMetrics(b.style.fontSize).b,e(o)&&this.setSpanRotation(o,m,n),d(b,{width:"",whiteSpace:q||"nowrap"}),b.offsetWidth>p&&/[ \-]/.test(b.textContent||b.innerText)&&d(b,{width:p+"px",display:"block",whiteSpace:q||"normal"}),this.getSpanCorrection(b.offsetWidth,n,m,o,l)),d(b,{left:h+(this.xCorr||0)+"px",top:i+(this.yCorr||0)+"px"}),j&&(n=b.offsetHeight),this.cTT=r}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,c){var e={},f=i?"-ms-transform":j?"-webkit-transform":h?"MozTransform":m.opera?"-o-transform":"";e[f]=e.transform="rotate("+a+"deg)",e[f+(h?"Origin":"-origin")]=e.transformOrigin=100*b+"% "+c+"px",d(this.element,e)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c,this.yCorr=-b}}),g(l.prototype,{html:function(a,d,e){var h=this.createElement("span"),i=h.element,j=h.renderer,k=j.isSVG,l=function(a,b){f(["opacity","visibility"],(function(c){n(a,c+"Setter",(function(a,c,d,e){a.call(this,c,d,e),b[d]=c}))}))};return h.textSetter=function(a){a!==i.innerHTML&&delete this.bBox,i.innerHTML=this.textStr=a,h.htmlUpdateTransform()},k&&l(h,h.element.style),h.xSetter=h.ySetter=h.alignSetter=h.rotationSetter=function(a,b){"align"===b&&(b="textAlign"),h[b]=a,h.htmlUpdateTransform()},h.attr({text:a,x:Math.round(d),y:Math.round(e)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),i.style.whiteSpace="nowrap",h.css=h.htmlCss,k&&(h.add=function(a){var d,e=j.box.parentNode,k=[];if(this.parentGroup=a){if(d=a.div,!d){for(;a;)k.push(a),a=a.parentGroup;f(k.reverse(),(function(a){var f,i=b(a.element,"class");i&&(i={className:i}),d=a.div=a.div||c("div",i,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},d||e),f=d.style,g(a,{on:function(){return h.on.apply({element:k[0].div},arguments),a},translateXSetter:function(b,c){f.left=b+"px",a[c]=b,a.doTransform=!0},translateYSetter:function(b,c){f.top=b+"px",a[c]=b,a.doTransform=!0}}),l(a,f)}))}}else d=e;return d.appendChild(i),h.added=!0,h.alignOnAdd&&h.htmlUpdateTransform(),h}),h}})})(a),(function(a){var b,c,d=a.createElement,e=a.css,f=a.defined,g=a.deg2rad,h=a.discardElement,i=a.doc,j=a.each,k=a.erase,l=a.extend;b=a.extendClass;var m=a.isArray,n=a.isNumber,o=a.isObject,p=a.merge;c=a.noop;var q=a.pick,r=a.pInt,s=a.SVGElement,t=a.SVGRenderer,u=a.win;a.svg||(c={docMode8:i&&8===i.documentMode,init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],e=["position: ","absolute",";"],f="div"===b;("shape"===b||f)&&e.push("left:0;top:0;width:1px;height:1px;"),e.push("visibility: ",f?"hidden":"visible"),c.push(' style="',e.join(""),'"/>'),b&&(c=f||"span"===b||"img"===b?c.join(""):a.prepVML(c),this.element=d(c)),this.renderer=a},add:function(a){var b=this.renderer,c=this.element,d=b.box,e=a&&a.inverted,d=a?a.element||a:d;return a&&(this.parentGroup=a),e&&b.invertChild(c,d),d.appendChild(c),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:s.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=Math.cos(a*g),c=Math.sin(a*g);e(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-c,", M21=",c,", M22=",b,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(a,b,c,d,f){var h,i=d?Math.cos(d*g):1,j=d?Math.sin(d*g):0,k=q(this.elemHeight,this.element.offsetHeight);this.xCorr=0>i&&-a,this.yCorr=0>j&&-k,h=0>i*j,this.xCorr+=j*b*(h?1-c:c),this.yCorr-=i*b*(d?h?c:1-c:1),f&&"left"!==f&&(this.xCorr-=a*c*(0>i?-1:1),d&&(this.yCorr-=k*c*(0>j?-1:1)),e(this.element,{textAlign:f}))},pathToVML:function(a){for(var b=a.length,c=[];b--;)n(a[b])?c[b]=Math.round(10*a[b])-5:"Z"===a[b]?c[b]="x":(c[b]=a[b],!a.isArc||"wa"!==a[b]&&"at"!==a[b]||(c[b+5]===c[b+7]&&(c[b+7]+=a[b+7]>a[b+5]?1:-1),c[b+6]===c[b+8]&&(c[b+8]+=a[b+8]>a[b+6]?1:-1)));return c.join(" ")||"x"},clip:function(a){var b,c=this;return a?(b=a.members,k(b,c),b.push(c),c.destroyClip=function(){k(b,c)},a=a.getCSS(c)):(c.destroyClip&&c.destroyClip(),a={clip:c.docMode8?"inherit":"rect(auto)"}),c.css(a)},css:s.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&h(a)},destroy:function(){return this.destroyClip&&this.destroyClip(),s.prototype.destroy.apply(this)},on:function(a,b){return this.element["on"+a]=function(){var a=u.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,b){var c;return a=a.split(/[ ,]/),c=a.length,9!==c&&11!==c||(a[c-4]=a[c-2]=r(a[c-2])-10*b),
a.join(" ")},shadow:function(a,b,c){var e,f,g,h,i,j,k,l=[],m=this.element,n=this.renderer,o=m.style,p=m.path;if(p&&"string"!=typeof p.value&&(p="x"),i=p,a){for(j=q(a.width,3),k=(a.opacity||.15)/j,e=1;3>=e;e++)h=2*j+1-2*e,c&&(i=this.cutOffPath(p.value,h+.5)),g=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',i,'" coordsize="10 10" style="',m.style.cssText,'" />'],f=d(n.prepVML(g),null,{left:r(o.left)+q(a.offsetX,1),top:r(o.top)+q(a.offsetY,1)}),c&&(f.cutOff=h+1),g=['<stroke color="',a.color||"#000000",'" opacity="',k*e,'"/>'],d(n.prepVML(g),null,null,f),b?b.element.appendChild(f):m.parentNode.insertBefore(f,m),l.push(f);this.shadows=l}return this},updateShadows:c,setAttr:function(a,b){this.docMode8?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){(this.added?this.element:this).className=a},dashstyleSetter:function(a,b,c){(c.getElementsByTagName("stroke")[0]||d(this.renderer.prepVML(["<stroke/>"]),null,null,c))[b]=a||"solid",this[b]=a},dSetter:function(a,b,c){var d=this.shadows;if(a=a||[],this.d=a.join&&a.join(" "),c.path=a=this.pathToVML(a),d)for(c=d.length;c--;)d[c].path=d[c].cutOff?this.cutOffPath(a,d[c].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,c){var d=c.nodeName;"SPAN"===d?c.style.color=a:"IMG"!==d&&(c.filled="none"!==a,this.setAttr("fillcolor",this.renderer.color(a,c,b,this)))},"fill-opacitySetter":function(a,b,c){d(this.renderer.prepVML(["<",b.split("-")[0],' opacity="',a,'"/>']),null,null,c)},opacitySetter:c,rotationSetter:function(a,b,c){c=c.style,this[b]=c[b]=a,c.left=-Math.round(Math.sin(a*g)+1)+"px",c.top=Math.round(Math.cos(a*g))+"px"},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b,this))},"stroke-widthSetter":function(a,b,c){c.stroked=!!a,this[b]=a,n(a)&&(a+="px"),this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,c){"inherit"===a&&(a="visible"),this.shadows&&j(this.shadows,(function(c){c.style[b]=a})),"DIV"===c.nodeName&&(a="hidden"===a?"-999em":0,this.docMode8||(c.style[b]=a?"visible":"hidden"),b="top"),c.style[b]=a},xSetter:function(a,b,c){this[b]=a,"x"===b?b="left":"y"===b&&(b="top"),this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a},zIndexSetter:function(a,b,c){c.style[b]=a}},c["stroke-opacitySetter"]=c["fill-opacitySetter"],a.VMLElement=c=b(s,c),c.prototype.ySetter=c.prototype.widthSetter=c.prototype.heightSetter=c.prototype.xSetter,c={Element:c,isIE8:-1<u.navigator.userAgent.indexOf("MSIE 8.0"),init:function(a,b,c){var d,e;if(this.alignedObjects=[],d=this.createElement("div").css({position:"relative"}),e=d.element,a.appendChild(d.element),this.isVML=!0,this.box=e,this.boxWrapper=d,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(b,c,!1),!i.namespaces.hcv){i.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{i.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(f){i.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,c,d){var e=this.createElement(),f=o(a);return l(e,{members:[],count:0,left:(f?a.x:a)+1,top:(f?a.y:b)+1,width:(f?a.width:c)-1,height:(f?a.height:d)-1,getCSS:function(a){var b=a.element,c=b.nodeName,d=a.inverted,e=this.top-("shape"===c?b.offsetTop:0),f=this.left,b=f+this.width,g=e+this.height,e={clip:"rect("+Math.round(d?f:e)+"px,"+Math.round(d?g:b)+"px,"+Math.round(d?b:g)+"px,"+Math.round(d?e:f)+"px)"};return!d&&a.docMode8&&"DIV"===c&&l(e,{width:b+"px",height:g+"px"}),e},updateClipping:function(){j(e.members,(function(a){a.element&&a.css(e.getCSS(a))}))}})},color:function(b,c,e,f){var g,h,i,k=this,l=/^rgba/,m="none";if(b&&b.linearGradient?i="gradient":b&&b.radialGradient&&(i="pattern"),i){var n,o,p,q,r,s,t,u=b.linearGradient||b.radialGradient,v="";b=b.stops;var w,x=[],y=function(){h=['<fill colors="'+x.join(",")+'" opacity="',r,'" o:opacity2="',q,'" type="',i,'" ',v,'focus="100%" method="any" />'],d(k.prepVML(h),null,null,c)};if(p=b[0],w=b[b.length-1],0<p[0]&&b.unshift([0,p[1]]),1>w[0]&&b.push([1,w[1]]),j(b,(function(b,c){l.test(b[1])?(g=a.color(b[1]),n=g.get("rgb"),o=g.get("a")):(n=b[1],o=1),x.push(100*b[0]+"% "+n),c?(r=o,s=n):(q=o,t=n)})),"fill"===e)if("gradient"===i)e=u.x1||u[0]||0,b=u.y1||u[1]||0,p=u.x2||u[2]||0,u=u.y2||u[3]||0,v='angle="'+(90-180*Math.atan((u-b)/(p-e))/Math.PI)+'"',y();else{var z,m=u.r,A=2*m,B=2*m,C=u.cx,D=u.cy,E=c.radialReference,m=function(){E&&(z=f.getBBox(),C+=(E[0]-z.x)/z.width-.5,D+=(E[1]-z.y)/z.height-.5,A*=E[2]/z.width,B*=E[2]/z.height),v='src="'+a.getOptions().global.VMLRadialGradientURL+'" size="'+A+","+B+'" origin="0.5,0.5" position="'+C+","+D+'" color2="'+t+'" ',y()};f.added?m():f.onAdd=m,m=s}else m=n}else l.test(b)&&"IMG"!==c.tagName?(g=a.color(b),f[e+"-opacitySetter"](g.get("a"),e,c),m=g.get("rgb")):(m=c.getElementsByTagName(e),m.length&&(m[0].opacity=1,m[0].type="solid"),m=b);return m},prepVML:function(a){var b=this.isIE8;return a=a.join(""),b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:"),a},text:t.prototype.html,path:function(a){var b={coordsize:"10 10"};return m(a)?b.d=a:o(a)&&l(b,a),this.createElement("shape").attr(b)},circle:function(a,b,c){var d=this.symbol("circle");return o(a)&&(c=a.r,b=a.y,a=a.x),d.isCircle=!0,d.r=c,d.attr({x:a,y:b})},g:function(a){var b;return a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a}),this.createElement("div").attr(b)},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});return 1<arguments.length&&f.attr({x:b,y:c,width:d,height:e}),f},createElement:function(a){return"rect"===a?this.symbol(a):t.prototype.createElement.call(this,a)},invertChild:function(a,b){var c=this;b=b.style;var d="IMG"===a.tagName&&a.style;e(a,{flip:"x",left:r(b.width)-(d?r(d.top):1),top:r(b.height)-(d?r(d.left):1),rotation:-90}),j(a.childNodes,(function(b){c.invertChild(b,a)}))},symbols:{arc:function(a,b,c,d,e){var f=e.start,g=e.end,h=e.r||c||d;c=e.innerR,d=Math.cos(f);var i=Math.sin(f),j=Math.cos(g),k=Math.sin(g);return 0===g-f?["x"]:(f=["wa",a-h,b-h,a+h,b+h,a+h*d,b+h*i,a+h*j,b+h*k],e.open&&!c&&f.push("e","M",a,b),f.push("at",a-c,b-c,a+c,b+c,a+c*j,b+c*k,a+c*d,b+c*i,"x","e"),f.isArc=!0,f)},circle:function(a,b,c,d,e){return e&&f(e.r)&&(c=d=2*e.r),e&&e.isCircle&&(a-=c/2,b-=d/2),["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(a,b,c,d,e){return t.prototype.symbols[f(e)&&e.r?"callout":"square"].call(0,a,b,c,d,e)}}},a.VMLRenderer=b=function(){this.init.apply(this,arguments)},b.prototype=p(t.prototype,c),a.Renderer=b),t.prototype.measureSpanWidth=function(a,b){var c=i.createElement("span");return a=i.createTextNode(a),c.appendChild(a),e(c,b),this.box.appendChild(c),b=c.offsetWidth,h(c),b}})(a),(function(a){function b(){var b,c=a.defaultOptions.global,f=c.useUTC,i=f?"getUTC":"get",j=f?"setUTC":"set";a.Date=b=c.Date||h.Date,b.hcTimezoneOffset=f&&c.timezoneOffset,b.hcGetTimezoneOffset=f&&c.getTimezoneOffset,b.hcMakeTime=function(a,c,d,h,i,j){var k;return f?(k=b.UTC.apply(0,arguments),k+=e(k)):k=new b(a,c,g(d,1),g(h,0),g(i,0),g(j,0)).getTime(),k},d("Minutes Hours Day Date Month FullYear".split(" "),(function(a){b["hcGet"+a]=i+a})),d("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),(function(a){b["hcSet"+a]=j+a}))}var c=a.color,d=a.each,e=a.getTZOffset,f=a.merge,g=a.pick,h=a.win;a.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.6/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:a.isTouchDevice?25:10,backgroundColor:c("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},a.setOptions=function(c){return a.defaultOptions=f(!0,a.defaultOptions,c),b(),a.defaultOptions},a.getOptions=function(){return a.defaultOptions},a.defaultPlotOptions=a.defaultOptions.plotOptions,b()})(a),(function(a){var b=a.arrayMax,c=a.arrayMin,d=a.defined,e=a.destroyObjectProperties,f=a.each,g=a.erase,h=a.merge,i=a.pick;a.PlotLineOrBand=function(a,b){this.axis=a,b&&(this.options=b,this.id=b.id)},a.PlotLineOrBand.prototype={render:function(){var a,b=this,c=b.axis,e=c.horiz,f=b.options,g=f.label,j=b.label,k=f.to,l=f.from,m=f.value,n=d(l)&&d(k),o=d(m),p=b.svgElem,q=!p,r=[],s=f.color,t=i(f.zIndex,0),u=f.events,r={"class":"highcharts-plot-"+(n?"band ":"line ")+(f.className||"")},v={},w=c.chart.renderer,x=n?"bands":"lines",y=c.log2lin;if(c.isLog&&(l=y(l),k=y(k),m=y(m)),o?(r={stroke:s,"stroke-width":f.width},f.dashStyle&&(r.dashstyle=f.dashStyle)):n&&(s&&(r.fill=s),f.borderWidth&&(r.stroke=f.borderColor,r["stroke-width"]=f.borderWidth)),v.zIndex=t,x+="-"+t,(s=c[x])||(c[x]=s=w.g("plot-"+x).attr(v).add()),q&&(b.svgElem=p=w.path().attr(r).add(s)),o)r=c.getPlotLinePath(m,p.strokeWidth());else{if(!n)return;r=c.getPlotBandPath(l,k,f)}if(q&&r&&r.length){if(p.attr({d:r}),u)for(a in f=function(a){p.on(a,(function(c){u[a].apply(b,[c])}))},u)f(a)}else p&&(r?(p.show(),p.animate({d:r})):(p.hide(),j&&(b.label=j=j.destroy())));return g&&d(g.text)&&r&&r.length&&0<c.width&&0<c.height&&!r.flat?(g=h({align:e&&n&&"center",x:e?!n&&4:10,verticalAlign:!e&&n&&"middle",y:e?n?16:10:n?6:-4,rotation:e&&!n&&90},g),this.renderLabel(g,r,n,t)):j&&j.hide(),b},renderLabel:function(a,d,e,f){var g=this.label,h=this.axis.chart.renderer;g||(g={align:a.textAlign||a.align,rotation:a.rotation,"class":"highcharts-plot-"+(e?"band":"line")+"-label "+(a.className||"")},g.zIndex=f,this.label=g=h.text(a.text,0,0,a.useHTML).attr(g).add(),g.css(a.style)),f=[d[1],d[4],e?d[6]:d[1]],d=[d[2],d[5],e?d[7]:d[2]],e=c(f),h=c(d),g.align(a,!1,{x:e,y:h,width:b(f)-e,height:b(d)-h}),g.show()},destroy:function(){g(this.axis.plotLinesAndBands,this),delete this.axis,e(this)}},a.AxisPlotLineOrBandExtension={getPlotBandPath:function(a,b){return b=this.getPlotLinePath(b,null,null,!0),(a=this.getPlotLinePath(a,null,null,!0))&&b?(a.flat=a.toString()===b.toString(),a.push(b[4],b[5],b[1],b[2],"z")):a=null,a},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(b,c){var d=new a.PlotLineOrBand(this,b).render(),e=this.userOptions;return d&&(c&&(e[c]=e[c]||[],e[c].push(b)),this.plotLinesAndBands.push(d)),d},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&&b[e].destroy();f([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],(function(b){for(e=b.length;e--;)b[e].id===a&&g(b,b[e])}))}}})(a),(function(a){var b=a.correctFloat,c=a.defined,d=a.destroyObjectProperties,e=a.isNumber,f=a.merge,g=a.pick,h=a.deg2rad;a.Tick=function(a,b,c,d){this.axis=a,this.pos=b,this.type=c||"",this.isNew=!0,c||d||this.addLabel()},a.Tick.prototype={addLabel:function(){var a,d=this.axis,e=d.options,h=d.chart,i=d.categories,j=d.names,k=this.pos,l=e.labels,m=d.tickPositions,n=k===m[0],o=k===m[m.length-1],j=i?g(i[k],j[k],k):k,i=this.label,m=m.info;d.isDatetimeAxis&&m&&(a=e.dateTimeLabelFormats[m.higherRanks[k]||m.unitName]),this.isFirst=n,this.isLast=o,e=d.labelFormatter.call({axis:d,chart:h,isFirst:n,isLast:o,dateTimeLabelFormat:a,value:d.isLog?b(d.lin2log(j)):j}),c(i)?i&&i.attr({text:e}):(this.labelLength=(this.label=i=c(e)&&l.enabled?h.renderer.text(e,0,0,l.useHTML).css(f(l.style)).add(d.labelGroup):null)&&i.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var b,c=this.axis,d=a.x,e=c.chart.chartWidth,f=c.chart.spacing,i=g(c.labelLeft,Math.min(c.pos,f[3])),f=g(c.labelRight,Math.max(c.pos+c.len,e-f[1])),j=this.label,k=this.rotation,l={left:0,center:.5,right:1}[c.labelAlign],m=j.getBBox().width,n=c.getSlotWidth(),o=n,p=1,q={};k?0>k&&d-l*m<i?b=Math.round(d/Math.cos(k*h)-i):0<k&&d+l*m>f&&(b=Math.round((e-d)/Math.cos(k*h))):(e=d+(1-l)*m,d-l*m<i?o=a.x+o*(1-l)-i:e>f&&(o=f-a.x+o*l,p=-1),o=Math.min(n,o),o<n&&"center"===c.labelAlign&&(a.x+=p*(n-o-l*(n-Math.min(m,o)))),(m>o||c.autoRotation&&(j.styles||{}).width)&&(b=o)),b&&(q.width=b,(c.options.labels.style||{}).textOverflow||(q.textOverflow="ellipsis"),j.css(q))},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,b,d,e,f,g,i,j){var k=this.axis,l=k.transA,m=k.reversed,n=k.staggerLines,o=k.tickRotCorr||{x:0,y:0},p=f.y;return c(p)||(p=0===k.side?d.rotation?-8:-d.getBBox().height:2===k.side?o.y+8:Math.cos(d.rotation*h)*(o.y-d.getBBox(!1,0).height/2)),a=a+f.x+o.x-(g&&e?g*l*(m?-1:1):0),b=b+p-(g&&!e?g*l*(m?1:-1):0),n&&(d=i/(j||1)%n,k.opposite&&(d=n-d-1),b+=k.labelOffset/n*d),{x:a,y:Math.round(b)}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine(["M",a,b,"L",a+(e?0:-c),b+(e?c:0)],d)},render:function(a,b,c){var d=this.axis,f=d.options,h=d.chart.renderer,i=d.horiz,j=this.type,k=this.label,l=this.pos,m=f.labels,n=this.gridLine,o=j?j+"Tick":"tick",p=d.tickSize(o),q=this.mark,r=!q,s=m.step,t={},u=!0,v=d.tickmarkOffset,w=this.getPosition(i,l,v,b),x=w.x,w=w.y,y=i&&x===d.pos+d.len||!i&&w===d.pos?-1:1,z=j?j+"Grid":"grid",A=f[z+"LineWidth"],B=f[z+"LineColor"],C=f[z+"LineDashStyle"],z=g(f[o+"Width"],!j&&d.isXAxis?1:0),o=f[o+"Color"];c=g(c,1),this.isActive=!0,n||(t.stroke=B,t["stroke-width"]=A,C&&(t.dashstyle=C),j||(t.zIndex=1),b&&(t.opacity=0),this.gridLine=n=h.path().attr(t).addClass("highcharts-"+(j?j+"-":"")+"grid-line").add(d.gridGroup)),!b&&n&&(l=d.getPlotLinePath(l+v,n.strokeWidth()*y,b,!0))&&n[this.isNew?"attr":"animate"]({d:l,opacity:c}),p&&(d.opposite&&(p[0]=-p[0]),r&&(this.mark=q=h.path().addClass("highcharts-"+(j?j+"-":"")+"tick").add(d.axisGroup),q.attr({stroke:o,"stroke-width":z})),q[r?"attr":"animate"]({d:this.getMarkPath(x,w,p[0],q.strokeWidth()*y,i,h),opacity:c})),k&&e(x)&&(k.xy=w=this.getLabelPosition(x,w,k,i,m,v,a,s),this.isFirst&&!this.isLast&&!g(f.showFirstLabel,1)||this.isLast&&!this.isFirst&&!g(f.showLastLabel,1)?u=!1:!i||d.isRadial||m.step||m.rotation||b||0===c||this.handleOverflow(w),s&&a%s&&(u=!1),u&&e(w.y)?(w.opacity=c,k[this.isNew?"attr":"animate"](w)):k.attr("y",-9999),this.isNew=!1)},destroy:function(){d(this,this.axis)}}})(a),(function(a){var b=a.addEvent,c=a.animObject,d=a.arrayMax,e=a.arrayMin,f=a.AxisPlotLineOrBandExtension,g=a.color,h=a.correctFloat,i=a.defaultOptions,j=a.defined,k=a.deg2rad,l=a.destroyObjectProperties,m=a.each,n=a.extend,o=a.fireEvent,p=a.format,q=a.getMagnitude,r=a.grep,s=a.inArray,t=a.isArray,u=a.isNumber,v=a.isString,w=a.merge,x=a.normalizeTickInterval,y=a.pick,z=a.PlotLineOrBand,A=a.removeEvent,B=a.splat,C=a.syncTimeout,D=a.Tick;a.Axis=function(){this.init.apply(this,arguments)},a.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return a.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(a,c){var d=c.isX;this.chart=a,this.horiz=a.inverted?!d:d,this.isXAxis=d,this.coll=this.coll||(d?"xAxis":"yAxis"),this.opposite=c.opposite,this.side=c.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(c);var e=this.options,f=e.type;this.labelFormatter=e.labels.formatter||this.defaultLabelFormatter,this.userOptions=c,this.minPixelPadding=0,this.reversed=e.reversed,this.visible=!1!==e.visible,this.zoomEnabled=!1!==e.zoomEnabled,this.hasNames="category"===f||!0===e.categories,this.categories=e.categories||this.hasNames,this.names=this.names||[],this.isLog="logarithmic"===f,this.isDatetimeAxis="datetime"===f,this.isLinked=j(e.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=e.minRange||e.maxZoom,this.range=e.range,this.offset=e.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=y(e.crosshair,B(a.options.tooltip.crosshairs)[d?0:1],!1);var g;c=this.options.events,-1===s(this,a.axes)&&(d?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this)),this.series=this.series||[],a.inverted&&d&&void 0===this.reversed&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(g in c)b(this,g,c[g]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(a){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(i[this.coll],a))},defaultLabelFormatter:function(){var b,c=this.axis,d=this.value,e=c.categories,f=this.dateTimeLabelFormat,g=i.lang,h=g.numericSymbols,g=g.numericSymbolMagnitude||1e3,j=h&&h.length,k=c.options.labels.format,c=c.isLog?d:c.tickInterval;if(k)b=p(k,this);else if(e)b=d;else if(f)b=a.dateFormat(f,d);else if(j&&1e3<=c)for(;j--&&void 0===b;)e=Math.pow(g,j+1),c>=e&&0===10*d%e&&null!==h[j]&&0!==d&&(b=a.numberFormat(d/e,-1)+h[j]);return void 0===b&&(b=1e4<=Math.abs(d)?a.numberFormat(d,-1):a.numberFormat(d,-1,void 0,"")),b},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1,a.dataMin=a.dataMax=a.threshold=null,a.softThreshold=!a.isXAxis,a.buildStacks&&a.buildStacks(),m(a.series,(function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var f,g=c.options,h=g.threshold;a.hasVisibleSeries=!0,a.isLog&&0>=h&&(h=null),a.isXAxis?(g=c.xData,g.length&&(c=e(g),u(c)||c instanceof Date||(g=r(g,(function(a){return u(a)})),c=e(g)),a.dataMin=Math.min(y(a.dataMin,g[0]),c),a.dataMax=Math.max(y(a.dataMax,g[0]),d(g)))):(c.getExtremes(),f=c.dataMax,c=c.dataMin,j(c)&&j(f)&&(a.dataMin=Math.min(y(a.dataMin,c),c),a.dataMax=Math.max(y(a.dataMax,f),f)),j(h)&&(a.threshold=h),(!g.softThreshold||a.isLog)&&(a.softThreshold=!1))}}))},translate:function(a,b,c,d,e,f){var g=this.linkedParent||this,h=1,i=0,j=d?g.oldTransA:g.transA;d=d?g.oldMin:g.min;var k=g.minPixelPadding;return e=(g.isOrdinal||g.isBroken||g.isLog&&e)&&g.lin2val,j||(j=g.transA),c&&(h*=-1,i=g.len),g.reversed&&(h*=-1,i-=h*(g.sector||g.len)),b?(a=(a*h+i-k)/j+d,e&&(a=g.lin2val(a))):(e&&(a=g.val2lin(a)),a=h*(a-d)*j+i+h*k+(u(f)?j*f:0)),a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,d,e){var f,g,h,i=this.chart,j=this.left,k=this.top,l=c&&i.oldChartHeight||i.chartHeight,m=c&&i.oldChartWidth||i.chartWidth;f=this.transB;var n=function(a,b,c){return(a<b||a>c)&&(d?a=Math.min(Math.max(b,a),c):h=!0),a};return e=y(e,this.translate(a,null,null,c)),a=c=Math.round(e+f),f=g=Math.round(l-e-f),u(e)?this.horiz?(f=k,g=l-this.bottom,a=c=n(a,j,j+this.width)):(a=j,c=m-this.right,f=g=n(f,k,k+this.height)):h=!0,h&&!d?null:i.renderer.crispLine(["M",a,f,"L",c,g],b||1)},getLinearTickPositions:function(a,b,c){var d,e=h(Math.floor(b/a)*a),f=h(Math.ceil(c/a)*a),g=[];if(b===c&&u(b))return[b];for(b=e;b<=f&&(g.push(b),b=h(b+a),b!==d);)d=b;return g},getMinorTickPositions:function(){var a,b=this.options,c=this.tickPositions,d=this.minorTickInterval,e=[],f=this.pointRangePadding||0;a=this.min-f;var f=this.max+f,g=f-a;if(g&&g/d<this.len/3)if(this.isLog)for(f=c.length,a=1;a<f;a++)e=e.concat(this.getLogTickPositions(d,c[a-1],c[a],!0));else if(this.isDatetimeAxis&&"auto"===b.minorTickInterval)e=e.concat(this.getTimeTicks(this.normalizeTimeTickInterval(d),a,f,b.startOfWeek));else for(c=a+(c[0]-a)%d;c<=f&&c!==e[0];c+=d)e.push(c);return 0!==e.length&&this.trimTicks(e,b.startOnTick,b.endOnTick),e},adjustForMinRange:function(){var a,b,c,f,g,h,i,k=this.options,l=this.min,n=this.max,o=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(j(k.min)||j(k.max)?this.minRange=null:(m(this.series,(function(a){for(g=a.xData,c=h=a.xIncrement?1:g.length-1;0<c;c--)f=g[c]-g[c-1],(void 0===b||f<b)&&(b=f)})),this.minRange=Math.min(5*b,this.dataMax-this.dataMin))),n-l<this.minRange&&(i=this.minRange,a=(i-n+l)/2,a=[l-a,y(k.min,l-a)],o&&(a[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),l=d(a),n=[l+i,y(k.max,l+i)],o&&(n[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),n=e(n),n-l<i&&(a[0]=n-i,a[1]=y(k.min,n-i),l=d(a))),this.min=l,this.max=n},getClosest:function(){var a;return this.categories?a=1:m(this.series,(function(b){var c=b.closestPointRange,d=b.visible||!b.chart.options.chart.ignoreHiddenSeries;!b.noSharedTooltip&&j(c)&&d&&(a=j(a)?Math.min(a,c):c)})),a},nameToX:function(a){var b,c=t(this.categories),d=c?this.categories:this.names,e=a.options.x;return a.series.requireSorting=!1,j(e)||(e=!1===this.options.uniqueNames?a.series.autoIncrement():s(a.name,d)),-1===e?c||(b=d.length):b=e,this.names[b]=a.name,b},updateNames:function(){var a=this;0<this.names.length&&(this.names.length=0,this.minRange=void 0,m(this.series||[],(function(b){b.xIncrement=null,b.points&&!b.isDirtyData||(b.processData(),b.generatePoints()),m(b.points,(function(c,d){var e;c.options&&void 0===c.options.x&&(e=a.nameToX(c),e!==c.x&&(c.x=e,b.xData[d]=e))}))})))},setAxisTranslation:function(a){var b,c=this,d=c.max-c.min,e=c.axisPointRange||0,f=0,g=0,h=c.linkedParent,i=!!c.categories,j=c.transA,k=c.isXAxis;(k||i||e)&&(b=c.getClosest(),h?(f=h.minPointOffset,g=h.pointRangePadding):m(c.series,(function(a){var d=i?1:k?y(a.options.pointRange,b,0):c.axisPointRange||0;a=a.options.pointPlacement,e=Math.max(e,d),c.single||(f=Math.max(f,v(a)?0:d/2),g=Math.max(g,"on"===a?0:d))})),h=c.ordinalSlope&&b?c.ordinalSlope/b:1,c.minPointOffset=f*=h,c.pointRangePadding=g*=h,c.pointRange=Math.min(e,d),k&&(c.closestPointRange=b)),a&&(c.oldTransA=j),c.translationSlope=c.transA=j=c.len/(d+g||1),c.transB=c.horiz?c.left:c.bottom,c.minPixelPadding=j*f},minFromRange:function(){return this.max-this.range},setTickInterval:function(b){var c,d,e,f,g=this,i=g.chart,k=g.options,l=g.isLog,n=g.log2lin,p=g.isDatetimeAxis,r=g.isXAxis,s=g.isLinked,t=k.maxPadding,v=k.minPadding,w=k.tickInterval,z=k.tickPixelInterval,A=g.categories,B=g.threshold,C=g.softThreshold;p||A||s||this.getTickAmount(),e=y(g.userMin,k.min),f=y(g.userMax,k.max),s?(g.linkedParent=i[g.coll][k.linkedTo],i=g.linkedParent.getExtremes(),g.min=y(i.min,i.dataMin),g.max=y(i.max,i.dataMax),k.type!==g.linkedParent.options.type&&a.error(11,1)):(!C&&j(B)&&(g.dataMin>=B?(c=B,v=0):g.dataMax<=B&&(d=B,t=0)),g.min=y(e,c,g.dataMin),g.max=y(f,d,g.dataMax)),l&&(!b&&0>=Math.min(g.min,y(g.dataMin,g.min))&&a.error(10,1),g.min=h(n(g.min),15),g.max=h(n(g.max),15)),g.range&&j(g.max)&&(g.userMin=g.min=e=Math.max(g.min,g.minFromRange()),g.userMax=f=g.max,g.range=null),o(g,"foundExtremes"),g.beforePadding&&g.beforePadding(),g.adjustForMinRange(),!(A||g.axisPointRange||g.usePercentage||s)&&j(g.min)&&j(g.max)&&(n=g.max-g.min)&&(!j(e)&&v&&(g.min-=n*v),!j(f)&&t&&(g.max+=n*t)),u(k.floor)?g.min=Math.max(g.min,k.floor):u(k.softMin)&&(g.min=Math.min(g.min,k.softMin)),u(k.ceiling)?g.max=Math.min(g.max,k.ceiling):u(k.softMax)&&(g.max=Math.max(g.max,k.softMax)),C&&j(g.dataMin)&&(B=B||0,!j(e)&&g.min<B&&g.dataMin>=B?g.min=B:!j(f)&&g.max>B&&g.dataMax<=B&&(g.max=B)),g.tickInterval=g.min===g.max||void 0===g.min||void 0===g.max?1:s&&!w&&z===g.linkedParent.options.tickPixelInterval?w=g.linkedParent.tickInterval:y(w,this.tickAmount?(g.max-g.min)/Math.max(this.tickAmount-1,1):void 0,A?1:(g.max-g.min)*z/Math.max(g.len,z)),r&&!b&&m(g.series,(function(a){a.processData(g.min!==g.oldMin||g.max!==g.oldMax)})),g.setAxisTranslation(!0),g.beforeSetTickPositions&&g.beforeSetTickPositions(),g.postProcessTickInterval&&(g.tickInterval=g.postProcessTickInterval(g.tickInterval)),g.pointRange&&!w&&(g.tickInterval=Math.max(g.pointRange,g.tickInterval)),b=y(k.minTickInterval,g.isDatetimeAxis&&g.closestPointRange),!w&&g.tickInterval<b&&(g.tickInterval=b),p||l||w||(g.tickInterval=x(g.tickInterval,null,q(g.tickInterval),y(k.allowDecimals,!(.5<g.tickInterval&&5>g.tickInterval&&1e3<g.max&&9999>g.max)),!!this.tickAmount)),this.tickAmount||(g.tickInterval=g.unsquish()),this.setTickPositions()},setTickPositions:function(){var a,b,c=this.options,d=c.tickPositions,e=c.tickPositioner,f=c.startOnTick,g=c.endOnTick;this.tickmarkOffset=this.categories&&"between"===c.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===c.minorTickInterval&&this.tickInterval?this.tickInterval/5:c.minorTickInterval,this.tickPositions=a=d&&d.slice(),!a&&(a=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,c.units),this.min,this.max,c.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),a.length>this.len&&(a=[a[0],a.pop()]),this.tickPositions=a,e&&(e=e.apply(this,[this.min,this.max])))&&(this.tickPositions=a=e),this.isLinked||(this.trimTicks(a,f,g),this.min===this.max&&j(this.min)&&!this.tickAmount&&(b=!0,this.min-=.5,this.max+=.5),this.single=b,d||e||this.adjustTickAmount())},trimTicks:function(a,b,c){var d=a[0],e=a[a.length-1],f=this.minPointOffset||0;if(b)this.min=d;else for(;this.min-f>a[0];)a.shift();if(c)this.max=e;else for(;this.max+f<a[a.length-1];)a.pop();0===a.length&&j(d)&&a.push((e+d)/2)},alignToOthers:function(){var a,b={},c=this.options;return!1===this.chart.options.chart.alignTicks||!1===c.alignTicks||this.isLog||m(this.chart[this.coll],(function(c){var d=c.options,d=[c.horiz?d.left:d.top,d.width,d.height,d.pane].join();c.series.length&&(b[d]?a=!0:b[d]=1)})),a},getTickAmount:function(){var a=this.options,b=a.tickAmount,c=a.tickPixelInterval;!j(a.tickInterval)&&this.len<c&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(b=2),!b&&this.alignToOthers()&&(b=Math.ceil(this.len/c)+1),4>b&&(this.finalTickAmt=b,b=5),this.tickAmount=b},adjustTickAmount:function(){var a=this.tickInterval,b=this.tickPositions,c=this.tickAmount,d=this.finalTickAmt,e=b&&b.length;if(e<c){for(;b.length<c;)b.push(h(b[b.length-1]+a));this.transA*=(e-1)/(c-1),this.max=b[b.length-1]}else e>c&&(this.tickInterval*=2,this.setTickPositions());if(j(d)){for(a=c=b.length;a--;)(3===d&&1===a%2||2>=d&&0<a&&a<c-1)&&b.splice(a,1);this.finalTickAmt=void 0}},setScale:function(){var a,b;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),b=this.len!==this.oldAxisLength,m(this.series,(function(b){(b.isDirtyData||b.isDirty||b.xAxis.isDirty)&&(a=!0)})),b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(a,b,c,d,e){var f=this,g=f.chart;c=y(c,!0),m(f.series,(function(a){delete a.kdTree})),e=n(e,{min:a,max:b}),o(f,"setExtremes",e,(function(){f.userMin=a,f.userMax=b,f.eventArgs=e,c&&g.redraw(d)}))},zoom:function(a,b){var c=this.dataMin,d=this.dataMax,e=this.options,f=Math.min(c,y(e.min,c)),e=Math.max(d,y(e.max,d));return a===this.min&&b===this.max||(this.allowZoomOutside||(j(c)&&(a<f&&(a=f),a>e&&(a=e)),j(d)&&(b<f&&(b=f),b>e&&(b=e))),this.displayBtn=void 0!==a||void 0!==b,this.setExtremes(a,b,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsetLeft||0,d=this.horiz,e=y(b.width,a.plotWidth-c+(b.offsetRight||0)),f=y(b.height,a.plotHeight),g=y(b.top,a.plotTop),b=y(b.left,a.plotLeft+c),c=/%$/;c.test(f)&&(f=Math.round(parseFloat(f)/100*a.plotHeight)),c.test(g)&&(g=Math.round(parseFloat(g)/100*a.plotHeight+a.plotTop)),this.left=b,this.top=g,this.width=e,this.height=f,this.bottom=a.chartHeight-f-g,this.right=a.chartWidth-e-b,this.len=Math.max(d?e:f,0),this.pos=d?b:g},getExtremes:function(){var a=this.isLog,b=this.lin2log;return{min:a?h(b(this.min)):this.min,max:a?h(b(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=this.lin2log,d=b?c(this.min):this.min,b=b?c(this.max):this.max;
return null===a?a=d:d>a?a=d:b<a&&(a=b),this.translate(a,0,1,0,1)},autoLabelAlign:function(a){return a=(y(a,0)-90*this.side+720)%360,15<a&&165>a?"right":195<a&&345>a?"left":"center"},tickSize:function(a){var b=this.options,c=b[a+"Length"],d=y(b[a+"Width"],"tick"===a&&this.isXAxis?1:0);if(d&&c)return"inside"===b[a+"Position"]&&(c=-c),[c,d]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var a,b,c,d=this.options.labels,e=this.horiz,f=this.tickInterval,g=f,h=this.len/(((this.categories?1:0)+this.max-this.min)/f),i=d.rotation,l=this.labelMetrics(),n=Number.MAX_VALUE,o=function(a){return a/=h||1,a=1<a?Math.ceil(a):1,a*f};return e?(c=!d.staggerLines&&!d.step&&(j(i)?[i]:h<y(d.autoRotationLimit,80)&&d.autoRotation))&&m(c,(function(c){var d;(c===i||c&&-90<=c&&90>=c)&&(b=o(Math.abs(l.h/Math.sin(k*c))),d=b+Math.abs(c/360),d<n&&(n=d,a=c,g=b))})):d.step||(g=o(l.h)),this.autoRotation=c,this.labelRotation=y(a,i),g},getSlotWidth:function(){var a=this.chart,b=this.horiz,c=this.options.labels,d=Math.max(this.tickPositions.length-(this.categories?0:1),1),e=a.margin[3];return b&&2>(c.step||0)&&!c.rotation&&(this.staggerLines||1)*a.plotWidth/d||!b&&(e&&e-a.spacing[3]||.33*a.chartWidth)},renderUnsquish:function(){var a,b,c,d=this.chart,e=d.renderer,f=this.tickPositions,g=this.ticks,h=this.options.labels,i=this.horiz,j=this.getSlotWidth(),k=Math.max(1,Math.round(j-2*(h.padding||5))),l={},n=this.labelMetrics(),o=h.style&&h.style.textOverflow,p=0;if(v(h.rotation)||(l.rotation=h.rotation||0),m(f,(function(a){(a=g[a])&&a.labelLength>p&&(p=a.labelLength)})),this.maxLabelLength=p,this.autoRotation)p>k&&p>n.h?l.rotation=this.labelRotation:this.labelRotation=0;else if(j&&(a={width:k+"px"},!o))for(a.textOverflow="clip",b=f.length;!i&&b--;)c=f[b],(k=g[c].label)&&(k.styles&&"ellipsis"===k.styles.textOverflow?k.css({textOverflow:"clip"}):g[c].labelLength>j&&k.css({width:j+"px"}),k.getBBox().height>this.len/f.length-(n.h-n.f)&&(k.specCss={textOverflow:"ellipsis"}));l.rotation&&(a={width:(p>.5*d.chartHeight?.33*d.chartHeight:d.chartHeight)+"px"},o||(a.textOverflow="ellipsis")),(this.labelAlign=h.align||this.autoLabelAlign(this.labelRotation))&&(l.align=this.labelAlign),m(f,(function(b){var c=(b=g[b])&&b.label;c&&(c.attr(l),a&&c.css(w(a,c.specCss)),delete c.specCss,b.rotation=l.rotation)})),this.tickRotCorr=e.rotCorr(n.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||j(this.min)&&j(this.max)&&!!this.tickPositions},addTitle:function(a){var b,c=this.chart.renderer,d=this.horiz,e=this.opposite,f=this.options.title;this.axisTitle||((b=f.textAlign)||(b=(d?{low:"left",middle:"center",high:"right"}:{low:e?"right":"left",middle:"center",high:e?"left":"right"})[f.align]),this.axisTitle=c.text(f.text,0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:b}).addClass("highcharts-axis-title").css(f.style).add(this.axisGroup),this.axisTitle.isNew=!0),this.axisTitle[a?"show":"hide"](!0)},getOffset:function(){var a,b,c,d,e=this,f=e.chart,g=f.renderer,h=e.options,i=e.tickPositions,k=e.ticks,l=e.horiz,n=e.side,o=f.inverted?[1,0,3,2][n]:n,p=0,q=0,r=h.title,s=h.labels,t=0,u=f.axisOffset,f=f.clipOffset,v=[-1,1,1,-1][n],w=h.className,x=e.axisParent,z=this.tickSize("tick");if(a=e.hasData(),e.showAxis=b=a||y(h.showEmpty,!0),e.staggerLines=e.horiz&&s.staggerLines,e.axisGroup||(e.gridGroup=g.g("grid").attr({zIndex:h.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(x),e.axisGroup=g.g("axis").attr({zIndex:h.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(x),e.labelGroup=g.g("axis-labels").attr({zIndex:s.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels "+(w||"")).add(x)),a||e.isLinked)m(i,(function(a){k[a]?k[a].addLabel():k[a]=new D(e,a)})),e.renderUnsquish(),!1===s.reserveSpace||0!==n&&2!==n&&{1:"left",3:"right"}[n]!==e.labelAlign&&"center"!==e.labelAlign||m(i,(function(a){t=Math.max(k[a].getLabelSize(),t)})),e.staggerLines&&(t*=e.staggerLines,e.labelOffset=t*(e.opposite?-1:1));else for(d in k)k[d].destroy(),delete k[d];r&&r.text&&!1!==r.enabled&&(e.addTitle(b),b&&(p=e.axisTitle.getBBox()[l?"height":"width"],c=r.offset,q=j(c)?0:y(r.margin,l?5:10))),e.renderLine(),e.offset=v*y(h.offset,u[n]),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},g=0===n?-e.labelMetrics().h:2===n?e.tickRotCorr.y:0,q=Math.abs(t)+q,t&&(q=q-g+v*(l?y(s.y,e.tickRotCorr.y+8*v):s.x)),e.axisTitleMargin=y(c,q),u[n]=Math.max(u[n],e.axisTitleMargin+p+v*e.offset,q,a&&i.length&&z?z[0]:0),h=h.offset?0:2*Math.floor(e.axisLine.strokeWidth()/2),f[o]=Math.max(f[o],h)},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,d=b.chartHeight-this.bottom-(c?this.height:0)+d;return c&&(a*=-1),b.renderer.crispLine(["M",e?this.left:f,e?d:this.top,"L",e?b.chartWidth-this.right:f,e?d:b.chartHeight-this.bottom],a)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,d=this.len,e=this.options.title,f=a?b:c,g=this.opposite,h=this.offset,i=e.x||0,j=e.y||0,k=this.chart.renderer.fontMetrics(e.style&&e.style.fontSize,this.axisTitle).f,d={low:f+(a?0:d),middle:f+d/2,high:f+(a?d:0)}[e.align],b=(a?c+this.height:b)+(a?1:-1)*(g?-1:1)*this.axisTitleMargin+(2===this.side?k:0);return{x:a?d+i:b+(g?this.width:0)+h+i,y:a?b+j-(g?this.height:0)+h:d+j}},render:function(){var a,b,d=this,e=d.chart,f=e.renderer,g=d.options,h=d.isLog,i=d.lin2log,j=d.isLinked,k=d.tickPositions,l=d.axisTitle,n=d.ticks,o=d.minorTicks,p=d.alternateBands,q=g.stackLabels,r=g.alternateGridColor,s=d.tickmarkOffset,t=d.axisLine,v=e.hasRendered&&u(d.oldMin),w=d.showAxis,x=c(f.globalAnimation);d.labelEdge.length=0,d.overlap=!1,m([n,o,p],(function(a){for(var b in a)a[b].isActive=!1})),(d.hasData()||j)&&(d.minorTickInterval&&!d.categories&&m(d.getMinorTickPositions(),(function(a){o[a]||(o[a]=new D(d,a,"minor")),v&&o[a].isNew&&o[a].render(null,!0),o[a].render(null,!1,1)})),k.length&&(m(k,(function(a,b){(!j||a>=d.min&&a<=d.max)&&(n[a]||(n[a]=new D(d,a)),v&&n[a].isNew&&n[a].render(b,!0,.1),n[a].render(b))})),s&&(0===d.min||d.single)&&(n[-1]||(n[-1]=new D(d,(-1),null,(!0))),n[-1].render(-1))),r&&m(k,(function(c,f){b=void 0!==k[f+1]?k[f+1]+s:d.max-s,0===f%2&&c<d.max&&b<=d.max+(e.polar?-s:s)&&(p[c]||(p[c]=new z(d)),a=c+s,p[c].options={from:h?i(a):a,to:h?i(b):b,color:r},p[c].render(),p[c].isActive=!0)})),d._addedPlotLB||(m((g.plotLines||[]).concat(g.plotBands||[]),(function(a){d.addPlotBandOrLine(a)})),d._addedPlotLB=!0)),m([n,o,p],(function(a){var b,c,d=[],f=x.duration;for(b in a)a[b].isActive||(a[b].render(b,!1,0),a[b].isActive=!1,d.push(b));C((function(){for(c=d.length;c--;)a[d[c]]&&!a[d[c]].isActive&&(a[d[c]].destroy(),delete a[d[c]])}),a!==p&&e.hasRendered&&f?f:0)})),t&&(t[t.isPlaced?"animate":"attr"]({d:this.getLinePath(t.strokeWidth())}),t.isPlaced=!0,t[w?"show":"hide"](!0)),l&&w&&(l[l.isNew?"attr":"animate"](d.getTitlePosition()),l.isNew=!1),q&&q.enabled&&d.renderStackTotals(),d.isDirty=!1},redraw:function(){this.visible&&(this.render(),m(this.plotLinesAndBands,(function(a){a.render()}))),m(this.series,(function(a){a.isDirty=!0}))},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(a){var b,c,d=this,e=d.stacks,f=d.plotLinesAndBands;a||A(d);for(b in e)l(e[b]),e[b]=null;if(m([d.ticks,d.minorTicks,d.alternateBands],(function(a){l(a)})),f)for(a=f.length;a--;)f[a].destroy();m("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),(function(a){d[a]&&(d[a]=d[a].destroy())}));for(c in d)d.hasOwnProperty(c)&&-1===s(c,d.keepProps)&&delete d[c]},drawCrosshair:function(a,b){var c,d,e=this.crosshair,f=y(e.snap,!0),h=this.cross;a||(a=this.cross&&this.cross.e),this.crosshair&&!1!==(j(b)||!f)?(f?j(b)&&(d=this.isXAxis?b.plotX:this.len-b.plotY):d=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos),j(d)&&(c=this.getPlotLinePath(b&&(this.isXAxis?b.x:y(b.stackY,b.y)),null,null,null,d)||null),j(c)?(b=this.categories&&!this.isRadial,h||(this.cross=h=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(b?"category ":"thin ")+e.className).attr({zIndex:y(e.zIndex,2)}).add(),h.attr({stroke:e.color||(b?g("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":y(e.width,1)}),e.dashStyle&&h.attr({dashstyle:e.dashStyle})),h.show().attr({d:c}),b&&!e.width&&h.attr({"stroke-width":this.transA}),this.cross.e=a):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},n(a.Axis.prototype,f)})(a),(function(a){var b=a.Axis,c=a.Date,d=a.dateFormat,e=a.defaultOptions,f=a.defined,g=a.each,h=a.extend,i=a.getMagnitude,j=a.getTZOffset,k=a.normalizeTickInterval,l=a.pick,m=a.timeUnits;b.prototype.getTimeTicks=function(a,b,i,k){var n,o,p=[],q={},r=e.global.useUTC,s=new c(b-j(b)),t=c.hcMakeTime,u=a.unitRange,v=a.count;if(f(b)){s[c.hcSetMilliseconds](u>=m.second?0:v*Math.floor(s.getMilliseconds()/v)),u>=m.second&&s[c.hcSetSeconds](u>=m.minute?0:v*Math.floor(s.getSeconds()/v)),u>=m.minute&&s[c.hcSetMinutes](u>=m.hour?0:v*Math.floor(s[c.hcGetMinutes]()/v)),u>=m.hour&&s[c.hcSetHours](u>=m.day?0:v*Math.floor(s[c.hcGetHours]()/v)),u>=m.day&&s[c.hcSetDate](u>=m.month?1:v*Math.floor(s[c.hcGetDate]()/v)),u>=m.month&&(s[c.hcSetMonth](u>=m.year?0:v*Math.floor(s[c.hcGetMonth]()/v)),n=s[c.hcGetFullYear]()),u>=m.year&&s[c.hcSetFullYear](n-n%v),u===m.week&&s[c.hcSetDate](s[c.hcGetDate]()-s[c.hcGetDay]()+l(k,1)),n=s[c.hcGetFullYear](),k=s[c.hcGetMonth]();var w=s[c.hcGetDate](),x=s[c.hcGetHours]();for((c.hcTimezoneOffset||c.hcGetTimezoneOffset)&&(o=(!r||!!c.hcGetTimezoneOffset)&&(i-b>4*m.month||j(b)!==j(i)),s=s.getTime(),s=new c(s+j(s))),r=s.getTime(),b=1;r<i;)p.push(r),r=u===m.year?t(n+b*v,0):u===m.month?t(n,k+b*v):!o||u!==m.day&&u!==m.week?o&&u===m.hour?t(n,k,w,x+b*v):r+u*v:t(n,k,w+b*v*(u===m.day?1:7)),b++;p.push(r),u<=m.hour&&g(p,(function(a){"000000000"===d("%H%M%S%L",a)&&(q[a]="day")}))}return p.info=h(a,{higherRanks:q,totalRange:u*v}),p},b.prototype.normalizeTimeTickInterval=function(a,b){var c=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];b=c[c.length-1];var d,e=m[b[0]],f=b[1];for(d=0;d<c.length&&(b=c[d],e=m[b[0]],f=b[1],!(c[d+1]&&a<=(e*f[f.length-1]+m[c[d+1][0]])/2));d++);return e===m.year&&a<5*e&&(f=[1,2,5]),a=k(a/e,f,"year"===b[0]?Math.max(i(a/e),1):1),{unitRange:e,count:a,unitName:b[0]}}})(a),(function(a){var b=a.Axis,c=a.getMagnitude,d=a.map,e=a.normalizeTickInterval,f=a.pick;b.prototype.getLogTickPositions=function(a,b,g,h){var i=this.options,j=this.len,k=this.lin2log,l=this.log2lin,m=[];if(h||(this._minorAutoInterval=null),.5<=a)a=Math.round(a),m=this.getLinearTickPositions(a,b,g);else if(.08<=a)for(var n,o,p,q,r,j=Math.floor(b),i=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];j<g+1&&!r;j++)for(o=i.length,n=0;n<o&&!r;n++)p=l(k(j)*i[n]),p>b&&(!h||q<=g)&&void 0!==q&&m.push(q),q>g&&(r=!0),q=p;else b=k(b),g=k(g),a=i[h?"minorTickInterval":"tickInterval"],a=f("auto"===a?null:a,this._minorAutoInterval,i.tickPixelInterval/(h?5:1)*(g-b)/((h?j/this.tickPositions.length:j)||1)),a=e(a,null,c(a)),m=d(this.getLinearTickPositions(a,b,g),l),h||(this._minorAutoInterval=a/5);return h||(this.tickInterval=a),m},b.prototype.log2lin=function(a){return Math.log(a)/Math.LN10},b.prototype.lin2log=function(a){return Math.pow(10,a)}})(a),(function(a){var b=a.dateFormat,c=a.each,d=a.extend,e=a.format,f=a.isNumber,g=a.map,h=a.merge,i=a.pick,j=a.splat,k=a.syncTimeout,l=a.timeUnits;a.Tooltip=function(){this.init.apply(this,arguments)},a.Tooltip.prototype={init:function(a,b){this.chart=a,this.options=b,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=b.split&&!a.inverted,this.shared=b.shared||this.split},cleanSplit:function(a){c(this.chart.series,(function(b){var c=b&&b.tt;c&&(!c.isActive||a?b.tt=c.destroy():c.isActive=!1)}))},getLabel:function(){var a=this.chart.renderer,b=this.options;return this.label||(this.split?this.label=a.g("tooltip"):(this.label=a.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:b.padding,r:b.borderRadius}),this.label.attr({fill:b.backgroundColor,"stroke-width":b.borderWidth}).css(b.style).shadow(b.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(a){this.destroy(),this.init(this.chart,h(!0,this.options,a))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(a,b,c,e){var f=this,g=f.now,h=!1!==f.options.animation&&!f.isHidden&&(1<Math.abs(a-g.x)||1<Math.abs(b-g.y)),i=f.followPointer||1<f.len;d(g,{x:h?(2*g.x+a)/3:a,y:h?(g.y+b)/2:b,anchorX:i?void 0:h?(2*g.anchorX+c)/3:c,anchorY:i?void 0:h?(g.anchorY+e)/2:e}),f.getLabel().attr(g),h&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){f&&f.move(a,b,c,e)}),32))},hide:function(a){var b=this;clearTimeout(this.hideTimer),a=i(a,this.options.hideDelay,500),this.isHidden||(this.hideTimer=k((function(){b.getLabel()[a?"fadeOut":"hide"](),b.isHidden=!0}),a))},getAnchor:function(a,b){var d,e,f,h=this.chart,i=h.inverted,k=h.plotTop,l=h.plotLeft,m=0,n=0;return a=j(a),d=a[0].tooltipPos,this.followPointer&&b&&(void 0===b.chartX&&(b=h.pointer.normalize(b)),d=[b.chartX-h.plotLeft,b.chartY-k]),d||(c(a,(function(a){e=a.series.yAxis,f=a.series.xAxis,m+=a.plotX+(!i&&f?f.left-l:0),n+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!i&&e?e.top-k:0)})),m/=a.length,n/=a.length,d=[i?h.plotWidth-n:m,this.shared&&!i&&1<a.length&&b?b.chartY-k:i?h.plotHeight-m:n]),g(d,Math.round)},getPosition:function(a,b,c){var d,e=this.chart,f=this.distance,g={},h=c.h||0,j=["y",e.chartHeight,b,c.plotY+e.plotTop,e.plotTop,e.plotTop+e.plotHeight],k=["x",e.chartWidth,a,c.plotX+e.plotLeft,e.plotLeft,e.plotLeft+e.plotWidth],l=!this.followPointer&&i(c.ttBelow,!e.inverted==!!c.negative),m=function(a,b,c,d,e,i){var j=c<d-f,k=d+f+c<b,m=d-f-c;if(d+=f,l&&k)g[a]=d;else if(!l&&j)g[a]=m;else if(j)g[a]=Math.min(i-c,0>m-h?m:m-h);else{if(!k)return!1;g[a]=Math.max(e,d+h+c>b?d:d+h)}},n=function(a,b,c,d){var e;return d<f||d>b-f?e=!1:g[a]=d<c/2?1:d>b-c/2?b-c-2:d-c/2,e},o=function(a){var b=j;j=k,k=b,d=a},p=function(){!1!==m.apply(0,j)?!1!==n.apply(0,k)||d||(o(!0),p()):d?g.x=g.y=0:(o(!0),p())};return(e.inverted||1<this.len)&&o(),p(),g},defaultFormatter:function(a){var b,c=this.points||j(this);return b=[a.tooltipFooterHeaderFormatter(c[0])],b=b.concat(a.bodyFormatter(c)),b.push(a.tooltipFooterHeaderFormatter(c[0],!0)),b},refresh:function(a,b){var d,e,f,g=this.chart,h=this.options,k={},l=[];d=h.formatter||this.defaultFormatter;var k=g.hoverPoints,m=this.shared;clearTimeout(this.hideTimer),this.followPointer=j(a)[0].series.tooltipOptions.followPointer,f=this.getAnchor(a,b),b=f[0],e=f[1],!m||a.series&&a.series.noSharedTooltip?k=a.getLabelConfig():(g.hoverPoints=a,k&&c(k,(function(a){a.setState()})),c(a,(function(a){a.setState("hover"),l.push(a.getLabelConfig())})),k={x:a[0].category,y:a[0].y},k.points=l,this.len=l.length,a=a[0]),k=d.call(k,this),m=a.series,this.distance=i(m.tooltipOptions.distance,16),!1===k?this.hide():(d=this.getLabel(),this.isHidden&&d.attr({opacity:1}).show(),this.split?this.renderSplit(k,g.hoverPoints):(d.attr({text:k&&k.join?k.join(""):k}),d.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+i(a.colorIndex,m.colorIndex)),d.attr({stroke:h.borderColor||a.color||m.color||"#666666"}),this.updatePosition({plotX:b,plotY:e,negative:a.negative,ttBelow:a.ttBelow,h:f[2]||0})),this.isHidden=!1)},renderSplit:function(b,d){var e,f=this,g=[],h=this.chart,j=h.renderer,k=!0,l=this.options,m=this.getLabel();c(b.slice(0,b.length-1),(function(a,b){b=d[b-1]||{isHeader:!0,plotX:d[0].plotX};var c=b.series||f,n=c.tt,o=b.series||{},p="highcharts-color-"+i(b.colorIndex,o.colorIndex,"none");n||(c.tt=n=j.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+p).attr({padding:l.padding,r:l.borderRadius,fill:l.backgroundColor,stroke:b.color||o.color||"#333333","stroke-width":l.borderWidth}).add(m)),n.isActive=!0,n.attr({text:a}),n.css(l.style),a=n.getBBox(),o=a.width+n.strokeWidth(),b.isHeader?(e=a.height,o=Math.max(0,Math.min(b.plotX+h.plotLeft-o/2,h.chartWidth-o))):o=b.plotX+h.plotLeft-i(l.distance,16)-o,0>o&&(k=!1),a=(b.series&&b.series.yAxis&&b.series.yAxis.pos)+(b.plotY||0),a-=h.plotTop,g.push({target:b.isHeader?h.plotHeight+e:a,rank:b.isHeader?1:0,size:c.tt.getBBox().height+1,point:b,x:o,tt:n})})),this.cleanSplit(),a.distribute(g,h.plotHeight+e),c(g,(function(a){var b=a.point,c=b.series;a.tt.attr({visibility:void 0===a.pos?"hidden":"inherit",x:k||b.isHeader?a.x:b.plotX+h.plotLeft+i(l.distance,16),y:a.pos+h.plotTop,anchorX:b.isHeader?b.plotX+h.plotLeft:b.plotX+c.xAxis.pos,anchorY:b.isHeader?a.pos+h.plotTop-15:b.plotY+c.yAxis.pos})}))},updatePosition:function(a){var b=this.chart,c=this.getLabel(),c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(Math.round(c.x),Math.round(c.y||0),a.plotX+b.plotLeft,a.plotY+b.plotTop)},getXDateFormat:function(a,c,d){var e;c=c.dateTimeLabelFormats;var f,g,h=d&&d.closestPointRange,i={millisecond:15,second:12,minute:9,hour:6,day:3},j="millisecond";if(h){g=b("%m-%d %H:%M:%S.%L",a.x);for(f in l){if(h===l.week&&+b("%w",a.x)===d.options.startOfWeek&&"00:00:00.000"===g.substr(6)){f="week";break}if(l[f]>h){f=j;break}if(i[f]&&g.substr(i[f])!=="01-01 00:00:00.000".substr(i[f]))break;"week"!==f&&(j=f)}f&&(e=c[f])}else e=c.day;return e||c.year},tooltipFooterHeaderFormatter:function(a,b){var c=b?"footer":"header";b=a.series;var d=b.tooltipOptions,g=d.xDateFormat,h=b.xAxis,i=h&&"datetime"===h.options.type&&f(a.key),c=d[c+"Format"];return i&&!g&&(g=this.getXDateFormat(a,d,h)),i&&g&&(c=c.replace("{point.key}","{point.key:"+g+"}")),e(c,{point:a,series:b})},bodyFormatter:function(a){return g(a,(function(a){var b=a.series.tooltipOptions;return(b.pointFormatter||a.point.tooltipFormatter).call(a.point,b.pointFormat)}))}}})(a),(function(a){var b=a.addEvent,c=a.attr,d=a.charts,e=a.color,f=a.css,g=a.defined,h=a.doc,i=a.each,j=a.extend,k=a.fireEvent,l=a.offset,m=a.pick,n=a.removeEvent,o=a.splat,p=a.Tooltip,q=a.win;a.Pointer=function(a,b){this.init(a,b)},a.Pointer.prototype={init:function(a,b){this.options=b,this.chart=a,this.runChartClick=b.chart.events&&!!b.chart.events.click,this.pinchDown=[],this.lastValidTouch={},p&&b.tooltip.enabled&&(a.tooltip=new p(a,b.tooltip),this.followTouchMove=m(b.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(a){var b=this.chart,c=b.options.chart,d=c.zoomType||"",b=b.inverted;/touch/.test(a.type)&&(d=m(c.pinchType,d)),this.zoomX=a=/x/.test(d),this.zoomY=d=/y/.test(d),this.zoomHor=a&&!b||d&&b,this.zoomVert=d&&!b||a&&b,this.hasZoom=a||d},normalize:function(a,b){var c,d;return a=a||q.event,a.target||(a.target=a.srcElement),d=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a,b||(this.chartPosition=b=l(this.chart.container)),void 0===d.pageX?(c=Math.max(a.x,a.clientX-b.left),b=a.y):(c=d.pageX-b.left,b=d.pageY-b.top),j(a,{chartX:Math.round(c),chartY:Math.round(b)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return i(this.chart.axes,(function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})})),b},runPointActions:function(c){var e,f,g,j,k=this.chart,l=k.series,n=k.tooltip,o=!!n&&n.shared,p=!0,q=k.hoverPoint,r=k.hoverSeries,s=[];if(!o&&!r)for(e=0;e<l.length;e++)!l[e].directTouch&&l[e].options.stickyTracking||(l=[]);if(r&&(o?r.noSharedTooltip:r.directTouch)&&q?s=[q]:(o||!r||r.options.stickyTracking||(l=[r]),i(l,(function(a){f=a.noSharedTooltip&&o,g=!o&&a.directTouch,a.visible&&!f&&!g&&m(a.options.enableMouseTracking,!0)&&(j=a.searchPoint(c,!f&&1===a.kdDimensions))&&j.series&&s.push(j)})),s.sort((function(a,b){var c=a.distX-b.distX,d=a.dist-b.dist,e=b.series.group.zIndex-a.series.group.zIndex;return 0!==c&&o?c:0!==d?d:0!==e?e:a.series.index>b.series.index?-1:1}))),o)for(e=s.length;e--;)(s[e].x!==s[0].x||s[e].series.noSharedTooltip)&&s.splice(e,1);if(s[0]&&(s[0]!==this.prevKDPoint||n&&n.isHidden)){if(o&&!s[0].series.noSharedTooltip){for(e=0;e<s.length;e++)s[e].onMouseOver(c,s[e]!==(r&&r.directTouch&&q||s[0]));s.length&&n&&n.refresh(s.sort((function(a,b){return a.series.index-b.series.index})),c)}else n&&n.refresh(s[0],c),r&&r.directTouch||s[0].onMouseOver(c);this.prevKDPoint=s[0],p=!1}p&&(l=r&&r.tooltipOptions.followPointer,n&&l&&!n.isHidden&&(l=n.getAnchor([{}],c),n.updatePosition({plotX:l[0],plotY:l[1]}))),this.unDocMouseMove||(this.unDocMouseMove=b(h,"mousemove",(function(b){d[a.hoverChartIndex]&&d[a.hoverChartIndex].pointer.onDocumentMouseMove(b)}))),i(o?s:[m(q,s[0])],(function(a){i(k.axes,(function(b){(!a||a.series&&a.series[b.coll]===b)&&b.drawCrosshair(c,a)}))}))},reset:function(a,b){var c=this.chart,d=c.hoverSeries,e=c.hoverPoint,f=c.hoverPoints,g=c.tooltip,h=g&&g.shared?f:e;a&&h&&i(o(h),(function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)})),a?g&&h&&(g.refresh(h),e&&(e.setState(e.state,!0),i(c.axes,(function(a){a.crosshair&&a.drawCrosshair(null,e)})))):(e&&e.onMouseOut(),f&&i(f,(function(a){a.setState()})),d&&d.onMouseOut(),g&&g.hide(b),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i(c.axes,(function(a){a.hideCrosshair()})),this.hoverX=this.prevKDPoint=c.hoverPoints=c.hoverPoint=null)},scaleGroups:function(a,b){var c,d=this.chart;i(d.series,(function(e){c=a||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&e.group&&(e.group.attr(c),e.markerGroup&&(e.markerGroup.attr(c),e.markerGroup.clip(b?d.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(c))})),d.clipRect.attr(b||d.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b,c=this.chart,d=c.options.chart,f=a.chartX,g=a.chartY,h=this.zoomHor,i=this.zoomVert,j=c.plotLeft,k=c.plotTop,l=c.plotWidth,m=c.plotHeight,n=this.selectionMarker,o=this.mouseDownX,p=this.mouseDownY,q=d.panKey&&a[d.panKey+"Key"];n&&n.touch||(f<j?f=j:f>j+l&&(f=j+l),g<k?g=k:g>k+m&&(g=k+m),this.hasDragged=Math.sqrt(Math.pow(o-f,2)+Math.pow(p-g,2)),10<this.hasDragged&&(b=c.isInsidePlot(o-j,p-k),c.hasCartesianSeries&&(this.zoomX||this.zoomY)&&b&&!q&&!n&&(this.selectionMarker=n=c.renderer.rect(j,k,h?1:l,i?1:m,0).attr({fill:d.selectionMarkerFill||e("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add()),n&&h&&(f-=o,n.attr({width:Math.abs(f),x:(0<f?0:f)+o})),n&&i&&(f=g-p,n.attr({height:Math.abs(f),y:(0<f?0:f)+p})),b&&!n&&d.panning&&c.pan(a,d.panning)))},drop:function(a){var b=this,c=this.chart,d=this.hasPinched;if(this.selectionMarker){var e,h={originalEvent:a,xAxis:[],yAxis:[]},l=this.selectionMarker,m=l.attr?l.attr("x"):l.x,n=l.attr?l.attr("y"):l.y,o=l.attr?l.attr("width"):l.width,p=l.attr?l.attr("height"):l.height;(this.hasDragged||d)&&(i(c.axes,(function(c){if(c.zoomEnabled&&g(c.min)&&(d||b[{xAxis:"zoomX",yAxis:"zoomY"}[c.coll]])){var f=c.horiz,i="touchend"===a.type?c.minPixelPadding:0,j=c.toValue((f?m:n)+i),f=c.toValue((f?m+o:n+p)-i);h[c.coll].push({axis:c,min:Math.min(j,f),max:Math.max(j,f)}),e=!0}})),e&&k(c,"selection",h,(function(a){c.zoom(j(a,d?{animation:!1}:null))}))),this.selectionMarker=this.selectionMarker.destroy(),d&&this.scaleGroups()}c&&(f(c.container,{cursor:c._cursor}),c.cancelClick=10<this.hasDragged,c.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a),this.zoomOption(a),a.preventDefault&&a.preventDefault(),this.dragStart(a)},onDocumentMouseUp:function(b){d[a.hoverChartIndex]&&d[a.hoverChartIndex].pointer.drop(b)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition;a=this.normalize(a,c),!c||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset()},onContainerMouseLeave:function(b){var c=d[a.hoverChartIndex];c&&(b.relatedTarget||b.toElement)&&(c.pointer.reset(),c.pointer.chartPosition=null)},onContainerMouseMove:function(b){var c=this.chart;g(a.hoverChartIndex)&&d[a.hoverChartIndex]&&d[a.hoverChartIndex].mouseIsDown||(a.hoverChartIndex=c.index),b=this.normalize(b),b.returnValue=!1,"mousedown"===c.mouseIsDown&&this.drag(b),!this.inClass(b.target,"highcharts-tracker")&&!c.isInsidePlot(b.chartX-c.plotLeft,b.chartY-c.plotTop)||c.openMenu||this.runPointActions(b)},inClass:function(a,b){for(var d;a;){if(d=c(a,"class")){if(-1!==d.indexOf(b))return!0;if(-1!==d.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries;a=a.relatedTarget||a.toElement,!b||!a||b.options.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+b.index)&&this.inClass(a,"highcharts-tracker")||b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,d=b.plotLeft,e=b.plotTop;a=this.normalize(a),b.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(k(c.series,"click",j(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(j(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-d,a.chartY-e)&&k(b,"click",a)))},setDOMEvents:function(){var c=this,d=c.chart.container;d.onmousedown=function(a){c.onContainerMouseDown(a)},d.onmousemove=function(a){c.onContainerMouseMove(a)},d.onclick=function(a){c.onContainerClick(a)},b(d,"mouseleave",c.onContainerMouseLeave),1===a.chartCount&&b(h,"mouseup",c.onDocumentMouseUp),a.hasTouch&&(d.ontouchstart=function(a){c.onContainerTouchStart(a)},d.ontouchmove=function(a){c.onContainerTouchMove(a)},1===a.chartCount&&b(h,"touchend",c.onDocumentTouchEnd))},destroy:function(){var b;n(this.chart.container,"mouseleave",this.onContainerMouseLeave),a.chartCount||(n(h,"mouseup",this.onDocumentMouseUp),n(h,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(b in this)this[b]=null}}})(a),(function(a){var b=a.charts,c=a.each,d=a.extend,e=a.map,f=a.noop,g=a.pick;d(a.Pointer.prototype,{pinchTranslate:function(a,b,c,d,e,f){this.zoomHor&&this.pinchTranslateDirection(!0,a,b,c,d,e,f),this.zoomVert&&this.pinchTranslateDirection(!1,a,b,c,d,e,f)},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var i,j,k,l=this.chart,m=a?"x":"y",n=a?"X":"Y",o="chart"+n,p=a?"width":"height",q=l["plot"+(a?"Left":"Top")],r=h||1,s=l.inverted,t=l.bounds[a?"h":"v"],u=1===b.length,v=b[0][o],w=c[0][o],x=!u&&b[1][o],y=!u&&c[1][o];c=function(){!u&&20<Math.abs(v-x)&&(r=h||Math.abs(w-y)/Math.abs(v-x)),j=(q-w)/r+v,i=l["plot"+(a?"Width":"Height")]/r},c(),b=j,b<t.min?(b=t.min,k=!0):b+i>t.max&&(b=t.max-i,k=!0),k?(w-=.8*(w-g[m][0]),u||(y-=.8*(y-g[m][1])),c()):g[m]=[w,y],s||(f[m]=j-q,f[p]=i),f=s?1/r:r,e[p]=i,e[m]=b,d[s?a?"scaleY":"scaleX":"scale"+n]=r,d["translate"+n]=f*q+(w-f*v)},pinch:function(a){var b=this,h=b.chart,i=b.pinchDown,j=a.touches,k=j.length,l=b.lastValidTouch,m=b.hasZoom,n=b.selectionMarker,o={},p=1===k&&(b.inClass(a.target,"highcharts-tracker")&&h.runTrackerClick||b.runChartClick),q={};1<k&&(b.initiated=!0),m&&b.initiated&&!p&&a.preventDefault(),e(j,(function(a){return b.normalize(a)})),"touchstart"===a.type?(c(j,(function(a,b){i[b]={chartX:a.chartX,chartY:a.chartY}})),l.x=[i[0].chartX,i[1]&&i[1].chartX],l.y=[i[0].chartY,i[1]&&i[1].chartY],c(h.axes,(function(a){if(a.zoomEnabled){var b=h.bounds[a.horiz?"h":"v"],c=a.minPixelPadding,d=a.toPixels(g(a.options.min,a.dataMin)),e=a.toPixels(g(a.options.max,a.dataMax)),f=Math.max(d,e);b.min=Math.min(a.pos,Math.min(d,e)-c),b.max=Math.max(a.pos+a.len,f+c)}})),b.res=!0):b.followTouchMove&&1===k?this.runPointActions(b.normalize(a)):i.length&&(n||(b.selectionMarker=n=d({destroy:f,touch:!0},h.plotBox)),b.pinchTranslate(i,j,o,n,q,l),b.hasPinched=m,b.scaleGroups(o,q),b.res&&(b.res=!1,this.reset(!1,0)))},touch:function(b,c){var d,e,f=this.chart;f.index!==a.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),a.hoverChartIndex=f.index,1===b.touches.length?(b=this.normalize(b),(e=f.isInsidePlot(b.chartX-f.plotLeft,b.chartY-f.plotTop))&&!f.openMenu?(c&&this.runPointActions(b),"touchmove"===b.type&&(c=this.pinchDown,d=!!c[0]&&4<=Math.sqrt(Math.pow(c[0].chartX-b.chartX,2)+Math.pow(c[0].chartY-b.chartY,2))),g(d,!0)&&this.pinch(b)):c&&this.reset()):2===b.touches.length&&this.pinch(b)},onContainerTouchStart:function(a){this.zoomOption(a),this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(c){b[a.hoverChartIndex]&&b[a.hoverChartIndex].pointer.drop(c)}})})(a),(function(a){var b=a.addEvent,c=a.charts,d=a.css,e=a.doc,f=a.extend,g=a.noop,h=a.Pointer,i=a.removeEvent,j=a.win,k=a.wrap;if(j.PointerEvent||j.MSPointerEvent){var l={},m=!!j.PointerEvent,n=function(){var a,b=[];b.item=function(a){return this[a]};for(a in l)l.hasOwnProperty(a)&&b.push({pageX:l[a].pageX,pageY:l[a].pageY,target:l[a].target});return b},o=function(b,d,e,f){"touch"!==b.pointerType&&b.pointerType!==b.MSPOINTER_TYPE_TOUCH||!c[a.hoverChartIndex]||(f(b),f=c[a.hoverChartIndex].pointer,f[d]({type:e,target:b.currentTarget,preventDefault:g,touches:n()}))};f(h.prototype,{onContainerPointerDown:function(a){o(a,"onContainerTouchStart","touchstart",(function(a){l[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}}))},onContainerPointerMove:function(a){o(a,"onContainerTouchMove","touchmove",(function(a){l[a.pointerId]={pageX:a.pageX,pageY:a.pageY},l[a.pointerId].target||(l[a.pointerId].target=a.currentTarget)}))},onDocumentPointerUp:function(a){o(a,"onDocumentTouchEnd","touchend",(function(a){delete l[a.pointerId]}))},batchMSEvents:function(a){a(this.chart.container,m?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,m?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(e,m?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),k(h.prototype,"init",(function(a,b,c){a.call(this,b,c),this.hasZoom&&d(b.container,{"-ms-touch-action":"none","touch-action":"none"})})),k(h.prototype,"setDOMEvents",(function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(b)})),k(h.prototype,"destroy",(function(a){this.batchMSEvents(i),a.call(this)}))}})(a),(function(a){var b,c=a.addEvent,d=a.css,e=a.discardElement,f=a.defined,g=a.each,h=a.extend,i=a.isFirefox,j=a.marginNames,k=a.merge,l=a.pick,m=a.setAnimation,n=a.stableSort,o=a.win,p=a.wrap;b=a.Legend=function(a,b){this.init(a,b)},b.prototype={init:function(a,b){this.chart=a,this.setOptions(b),b.enabled&&(this.render(),c(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})))},setOptions:function(a){var b=l(a.padding,8);this.options=a,this.itemStyle=a.itemStyle,this.itemHiddenStyle=k(this.itemStyle,a.itemHiddenStyle),this.itemMarginTop=a.itemMarginTop||0,this.initialItemX=this.padding=b,this.initialItemY=b-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=l(a.symbolWidth,16),this.pages=[]},update:function(a,b){var c=this.chart;this.setOptions(k(!0,this.options,a)),this.destroy(),c.isDirtyLegend=c.isDirtyBox=!0,l(b,!0)&&c.redraw()},colorizeItem:function(a,b){a.legendGroup[b?"removeClass":"addClass"]("highcharts-legend-item-hidden");var c,d=this.options,e=a.legendItem,f=a.legendLine,g=a.legendSymbol,h=this.itemHiddenStyle.color,d=b?d.itemStyle.color:h,i=b?a.color||h:h,j=a.options&&a.options.marker,k={fill:i};if(e&&e.css({fill:d,color:d}),f&&f.attr({stroke:i}),g){if(j&&g.isMarker&&(k=a.pointAttribs(),!b))for(c in k)k[c]=h;g.attr(k)}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,d=a._legendItemPos,e=d[0],d=d[1],f=a.checkbox;(a=a.legendGroup)&&a.element&&a.translate(b?e:this.legendWidth-e-2*c-4,d),f&&(f.x=e,f.y=d)},destroyItem:function(a){var b=a.checkbox;g(["legendItem","legendLine","legendSymbol","legendGroup"],(function(b){
a[b]&&(a[b]=a[b].destroy())})),b&&e(a.checkbox)},destroy:function(){function a(a){this[a]&&(this[a]=this[a].destroy())}g(this.getAllItems(),(function(b){g(["legendItem","legendGroup"],a,b)})),g(["box","title","group"],a,this),this.display=null},positionCheckboxes:function(a){var b,c=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,f=this.titleHeight;c&&(b=c.translateY,g(this.allItems,(function(g){var h,i=g.checkbox;i&&(h=b+f+i.y+(a||0)+3,d(i,{left:c.translateX+g.checkboxOffset+i.x-20+"px",top:h+"px",display:h>b-6&&h<b+e-6?"":"none"}))})))},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),c=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},setText:function(b){var c=this.options;b.legendItem.attr({text:c.labelFormat?a.format(c.labelFormat,b):c.labelFormatter.call(b)})},renderItem:function(a){var b=this.chart,c=b.renderer,d=this.options,e="horizontal"===d.layout,f=this.symbolWidth,g=d.symbolPadding,h=this.itemStyle,i=this.itemHiddenStyle,j=this.padding,m=e?l(d.itemDistance,20):0,n=!d.rtl,o=d.width,p=d.itemMarginBottom||0,q=this.itemMarginTop,r=this.initialItemX,s=a.legendItem,t=!a.series,u=!t&&a.series.drawLegendSymbol?a.series:a,v=u.options,v=this.createCheckboxForItem&&v&&v.showCheckbox,w=d.useHTML;s||(a.legendGroup=c.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+a.colorIndex+(a.options.className?" "+a.options.className:"")+(t?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=s=c.text("",n?f+g:-g,this.baseline||0,w).css(k(a.visible?h:i)).attr({align:n?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(h=h.fontSize,this.fontMetrics=c.fontMetrics(h,s),this.baseline=this.fontMetrics.f+3+q,s.attr("y",this.baseline)),u.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,s,w),v&&this.createCheckboxForItem(a)),this.colorizeItem(a,a.visible),this.setText(a),c=s.getBBox(),f=a.checkboxOffset=d.itemWidth||a.legendItemWidth||f+g+c.width+m+(v?20:0),this.itemHeight=g=Math.round(a.legendItemHeight||c.height),e&&this.itemX-r+f>(o||b.chartWidth-2*j-r-d.x)&&(this.itemX=r,this.itemY+=q+this.lastLineHeight+p,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,f),this.lastItemY=q+this.itemY+p,this.lastLineHeight=Math.max(g,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],e?this.itemX+=f:(this.itemY+=q+g+p,this.lastLineHeight=g),this.offsetWidth=o||Math.max((e?this.itemX-r-m:f)+j,this.offsetWidth)},getAllItems:function(){var a=[];return g(this.chart.series,(function(b){var c=b&&b.options;b&&l(c.showInLegend,!f(c.linkedTo)&&void 0,!0)&&(a=a.concat(b.legendItems||("point"===c.legendType?b.data:b)))})),a},adjustMargins:function(a,b){var c=this.chart,d=this.options,e=d.align.charAt(0)+d.verticalAlign.charAt(0)+d.layout.charAt(0);d.floating||g([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],(function(g,h){g.test(e)&&!f(a[h])&&(c[j[h]]=Math.max(c[j[h]],c.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*d[h%2?"x":"y"]+l(d.margin,12)+b[h]))}))},render:function(){var a,b,c,d,e=this,f=e.chart,i=f.renderer,j=e.group,k=e.box,l=e.options,m=e.padding;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,j||(e.group=j=i.g("legend").attr({zIndex:7}).add(),e.contentGroup=i.g().attr({zIndex:1}).add(j),e.scrollGroup=i.g().add(e.contentGroup)),e.renderTitle(),a=e.getAllItems(),n(a,(function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)})),l.reversed&&a.reverse(),e.allItems=a,e.display=b=!!a.length,e.lastLineHeight=0,g(a,(function(a){e.renderItem(a)})),c=(l.width||e.offsetWidth)+m,d=e.lastItemY+e.lastLineHeight+e.titleHeight,d=e.handleOverflow(d),d+=m,k||(e.box=k=i.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(j),k.isNew=!0),k.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<c&&0<d&&(k[k.isNew?"attr":"animate"](k.crisp({x:0,y:0,width:c,height:d},k.strokeWidth())),k.isNew=!1),k[b?"show":"hide"](),e.legendWidth=c,e.legendHeight=d,g(a,(function(a){e.positionItem(a)})),b&&j.align(h({width:c,height:d},l),!0,"spacingBox"),f.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b,c,d=this,e=this.chart,f=e.renderer,h=this.options,i=h.y,e=e.spacingBox.height+("top"===h.verticalAlign?-i:i)-this.padding,i=h.maxHeight,j=this.clipRect,k=h.navigation,m=l(k.animation,!0),n=k.arrowSize||12,o=this.nav,p=this.pages,q=this.padding,r=this.allItems,s=function(a){a?j.attr({height:a}):j&&(d.clipRect=j.destroy(),d.contentGroup.clip()),d.contentGroup.div&&(d.contentGroup.div.style.clip=a?"rect("+q+"px,9999px,"+(q+a)+"px,0)":"auto")};return"horizontal"!==h.layout||"middle"===h.verticalAlign||h.floating||(e/=2),i&&(e=Math.min(e,i)),p.length=0,a>e&&!1!==k.enabled?(this.clipHeight=b=Math.max(e-20-this.titleHeight-q,0),this.currentPage=l(this.currentPage,1),this.fullHeight=a,g(r,(function(a,d){var e=a._legendItemPos[1];a=Math.round(a.legendItem.getBBox().height);var f=p.length;(!f||e-p[f-1]>b&&(c||e)!==p[f-1])&&(p.push(c||e),f++),d===r.length-1&&e+a-p[f-1]>b&&p.push(e),e!==c&&(c=e)})),j||(j=d.clipRect=f.clipRect(0,q,9999,0),d.contentGroup.clip(j)),s(b),o||(this.nav=o=f.g().attr({zIndex:1}).add(this.group),this.up=f.symbol("triangle",0,0,n,n).on("click",(function(){d.scroll(-1,m)})).add(o),this.pager=f.text("",15,10).addClass("highcharts-legend-navigation").css(k.style).add(o),this.down=f.symbol("triangle-down",0,0,n,n).on("click",(function(){d.scroll(1,m)})).add(o)),d.scroll(0),a=e):o&&(s(),o.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,b){var c=this.pages,d=c.length;a=this.currentPage+a;var e=this.clipHeight,f=this.options.navigation,g=this.pager,h=this.padding;a>d&&(a=d),0<a&&(void 0!==b&&m(b,this.chart),this.nav.attr({translateX:h,translateY:e+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),g.attr({text:a+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,"class":a===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===a?f.inactiveColor:f.activeColor}).css({cursor:1===a?"default":"pointer"}),this.down.attr({fill:a===d?f.inactiveColor:f.activeColor}).css({cursor:a===d?"default":"pointer"}),b=-c[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:b}),this.currentPage=a,this.positionCheckboxes(b))}},a.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options,d=c.symbolHeight||a.fontMetrics.f,c=c.squareSymbol;b.legendSymbol=this.chart.renderer.rect(c?(a.symbolWidth-d)/2:0,a.baseline-d+1,c?d:a.symbolWidth,d,l(a.options.symbolRadius,d/2)).addClass("highcharts-point").attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b=this.options,c=b.marker,d=a.symbolWidth,e=this.chart.renderer,f=this.legendGroup;a=a.baseline-Math.round(.3*a.fontMetrics.b);var g;g={"stroke-width":b.lineWidth||0},b.dashStyle&&(g.dashstyle=b.dashStyle),this.legendLine=e.path(["M",0,a,"L",d,a]).addClass("highcharts-graph").attr(g).add(f),c&&!1!==c.enabled&&(b=0===this.symbol.indexOf("url")?0:c.radius,this.legendSymbol=c=e.symbol(this.symbol,d/2-b,a-b,2*b,2*b,c).addClass("highcharts-point").add(f),c.isMarker=!0)}},(/Trident\/7\.0/.test(o.navigator.userAgent)||i)&&p(b.prototype,"positionItem",(function(a,b){var c=this,d=function(){b._legendItemPos&&a.call(c,b)};d(),setTimeout(d)}))})(a),(function(a){var b=a.addEvent,c=a.animate,d=a.animObject,e=a.attr,f=a.doc,g=a.Axis,h=a.createElement,i=a.defaultOptions,j=a.discardElement,k=a.charts,l=a.css,m=a.defined,n=a.each,o=a.extend,p=a.find,q=a.fireEvent,r=a.getStyle,s=a.grep,t=a.isNumber,u=a.isObject,v=a.isString,w=a.Legend,x=a.marginNames,y=a.merge,z=a.Pointer,A=a.pick,B=a.pInt,C=a.removeEvent,D=a.seriesTypes,E=a.splat,F=a.svg,G=a.syncTimeout,H=a.win,I=a.Renderer,J=a.Chart=function(){this.getArgs.apply(this,arguments)};a.chart=function(a,b,c){return new J(a,b,c)},J.prototype={callbacks:[],getArgs:function(){var a=[].slice.call(arguments);(v(a[0])||a[0].nodeName)&&(this.renderTo=a.shift()),this.init(a[0],a[1])},init:function(c,d){var e,f=c.series;c.series=null,e=y(i,c),e.series=c.series=f,this.userOptions=c,this.respRules=[],c=e.chart,f=c.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=d,this.isResizing=0,this.options=e,this.axes=[],this.series=[],this.hasCartesianSeries=c.showAxes;var g;if(this.index=k.length,k.push(this),a.chartCount++,f)for(g in f)b(this,g,f[g]);this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.firstRender()},initSeries:function(b){var c=this.options.chart;return(c=D[b.type||c.type||c.defaultSeriesType])||a.error(17,!0),c=new c,c.init(this,b),c},isInsidePlot:function(a,b,c){var d=c?b:a;return a=c?a:b,0<=d&&d<=this.plotWidth&&0<=a&&a<=this.plotHeight},redraw:function(b){var c,d,e=this.axes,f=this.series,g=this.pointer,h=this.legend,i=this.isDirtyLegend,j=this.hasCartesianSeries,k=this.isDirtyBox,l=f.length,m=l,p=this.renderer,r=p.isHidden(),s=[];for(a.setAnimation(b,this),r&&this.cloneRenderTo(),this.layOutTitles();m--;)if(b=f[m],b.options.stacking&&(c=!0,b.isDirty)){d=!0;break}if(d)for(m=l;m--;)b=f[m],b.options.stacking&&(b.isDirty=!0);n(f,(function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),i=!0),a.isDirtyData&&q(a,"updatedData")})),i&&h.options.enabled&&(h.render(),this.isDirtyLegend=!1),c&&this.getStacks(),j&&n(e,(function(a){a.updateNames(),a.setScale()})),this.getMargins(),j&&(n(e,(function(a){a.isDirty&&(k=!0)})),n(e,(function(a){var b=a.min+","+a.max;a.extKey!==b&&(a.extKey=b,s.push((function(){q(a,"afterSetExtremes",o(a.eventArgs,a.getExtremes())),delete a.eventArgs}))),(k||c)&&a.redraw()}))),k&&this.drawChartBox(),n(f,(function(a){(k||a.isDirty)&&a.visible&&a.redraw()})),g&&g.reset(!0),p.draw(),q(this,"redraw"),r&&this.cloneRenderTo(!0),n(s,(function(a){a.call()}))},get:function(a){function b(b){return b.id===a||b.options.id===a}var c,d,e=this.series;for(c=p(this.axes,b)||p(this.series,b),d=0;!c&&d<e.length;d++)c=p(e[d].points||[],b);return c},getAxes:function(){var a=this,b=this.options,c=b.xAxis=E(b.xAxis||{}),b=b.yAxis=E(b.yAxis||{});n(c,(function(a,b){a.index=b,a.isX=!0})),n(b,(function(a,b){a.index=b})),c=c.concat(b),n(c,(function(b){new g(a,b)}))},getSelectedPoints:function(){var a=[];return n(this.series,(function(b){a=a.concat(s(b.points||[],(function(a){return a.selected})))})),a},getSelectedSeries:function(){return s(this.series,(function(a){return a.selected}))},setTitle:function(a,b,c){var d,e=this,f=e.options;d=f.title=y({style:{color:"#333333",fontSize:f.isStock?"16px":"18px"}},f.title,a),f=f.subtitle=y({style:{color:"#666666"}},f.subtitle,b),n([["title",a,d],["subtitle",b,f]],(function(a,b){var c=a[0],d=e[c],f=a[1];a=a[2],d&&f&&(e[c]=d=d.destroy()),a&&a.text&&!d&&(e[c]=e.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+c,zIndex:a.zIndex||4}).add(),e[c].update=function(a){e.setTitle(!b&&a,b&&a)},e[c].css(a.style))})),e.layOutTitles(c)},layOutTitles:function(a){var b,c=0,d=this.renderer,e=this.spacingBox;n(["title","subtitle"],(function(a){var b,f=this[a],g=this.options[a];f&&(b=g.style.fontSize,b=d.fontMetrics(b,f).b,f.css({width:(g.width||e.width+g.widthAdjust)+"px"}).align(o({y:c+b+("title"===a?-3:2)},g),!1,"spacingBox"),g.floating||g.verticalAlign||(c=Math.ceil(c+f.getBBox().height)))}),this),b=this.titleOffset!==c,this.titleOffset=c,!this.isDirtyBox&&b&&(this.isDirtyBox=b,this.hasRendered&&A(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;m(b)||(this.containerWidth=r(c,"width")),m(a)||(this.containerHeight=r(c,"height")),this.chartWidth=Math.max(0,b||this.containerWidth||600),this.chartHeight=Math.max(0,A(a,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;if(a){if(b){for(;b.childNodes.length;)this.renderTo.appendChild(b.firstChild);j(b),delete this.renderToClone}}else c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),l(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),f.body.appendChild(b),c&&b.appendChild(c)},setClassName:function(a){this.container.className="highcharts-container "+(a||"")},getContainer:function(){var b,c,d,g=this.options,i=g.chart;b=this.renderTo;var j,l=a.uniqueKey();b||(this.renderTo=b=i.renderTo),v(b)&&(this.renderTo=b=f.getElementById(b)),b||a.error(13,!0),c=B(e(b,"data-highcharts-chart")),t(c)&&k[c]&&k[c].hasRendered&&k[c].destroy(),e(b,"data-highcharts-chart",this.index),b.innerHTML="",i.skipClone||b.offsetWidth||this.cloneRenderTo(),this.getChartSize(),c=this.chartWidth,d=this.chartHeight,j=o({position:"relative",overflow:"hidden",width:c+"px",height:d+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),this.container=b=h("div",{id:l},j,this.renderToClone||b),this._cursor=b.style.cursor,this.renderer=new(a[i.renderer]||I)(b,c,d,null,i.forExport,g.exporting&&g.exporting.allowHTML),this.setClassName(i.className),this.renderer.setStyle(i.style),this.renderer.chartIndex=this.index},getMargins:function(a){var b=this.spacing,c=this.margin,d=this.titleOffset;this.resetMargins(),d&&!m(c[0])&&(this.plotTop=Math.max(this.plotTop,d+this.options.title.margin+b[0])),this.legend.display&&this.legend.adjustMargins(c,b),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),a||this.getAxisMargins()},getAxisMargins:function(){var a=this,b=a.axisOffset=[0,0,0,0],c=a.margin;a.hasCartesianSeries&&n(a.axes,(function(a){a.visible&&a.getOffset()})),n(x,(function(d,e){m(c[e])||(a[d]+=b[e])})),a.setChartSize()},reflow:function(a){var b=this,c=b.options.chart,d=b.renderTo,e=m(c.width),g=c.width||r(d,"width"),c=c.height||r(d,"height"),d=a?a.target:H;e||b.isPrinting||!g||!c||d!==H&&d!==f||(g===b.containerWidth&&c===b.containerHeight||(clearTimeout(b.reflowTimeout),b.reflowTimeout=G((function(){b.container&&b.setSize(void 0,void 0,!1)}),a?100:0)),b.containerWidth=g,b.containerHeight=c)},initReflow:function(){var a,c=this;a=b(H,"resize",(function(a){c.reflow(a)})),b(c,"destroy",a)},setSize:function(b,e,f){var g=this,h=g.renderer;g.isResizing+=1,a.setAnimation(f,g),g.oldChartHeight=g.chartHeight,g.oldChartWidth=g.chartWidth,void 0!==b&&(g.options.chart.width=b),void 0!==e&&(g.options.chart.height=e),g.getChartSize(),b=h.globalAnimation,(b?c:l)(g.container,{width:g.chartWidth+"px",height:g.chartHeight+"px"},b),g.setChartSize(!0),h.setSize(g.chartWidth,g.chartHeight,f),n(g.axes,(function(a){a.isDirty=!0,a.setScale()})),g.isDirtyLegend=!0,g.isDirtyBox=!0,g.layOutTitles(),g.getMargins(),g.setResponsive&&g.setResponsive(!1),g.redraw(f),g.oldChartHeight=null,q(g,"resize"),G((function(){g&&q(g,"endResize",null,(function(){--g.isResizing}))}),d(b).duration)},setChartSize:function(a){var b,c,d,e,f=this.inverted,g=this.renderer,h=this.chartWidth,i=this.chartHeight,j=this.options.chart,k=this.spacing,l=this.clipOffset;this.plotLeft=b=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=d=Math.max(0,Math.round(h-b-this.marginRight)),this.plotHeight=e=Math.max(0,Math.round(i-c-this.marginBottom)),this.plotSizeX=f?e:d,this.plotSizeY=f?d:e,this.plotBorderWidth=j.plotBorderWidth||0,this.spacingBox=g.spacingBox={x:k[3],y:k[0],width:h-k[3]-k[1],height:i-k[0]-k[2]},this.plotBox=g.plotBox={x:b,y:c,width:d,height:e},h=2*Math.floor(this.plotBorderWidth/2),f=Math.ceil(Math.max(h,l[3])/2),g=Math.ceil(Math.max(h,l[0])/2),this.clipBox={x:f,y:g,width:Math.floor(this.plotSizeX-Math.max(h,l[1])/2-f),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(h,l[2])/2-g))},a||n(this.axes,(function(a){a.setAxisSize(),a.setAxisTranslation()}))},resetMargins:function(){var a=this,b=a.options.chart;n(["margin","spacing"],(function(c){var d=b[c],e=u(d)?d:[d,d,d,d];n(["Top","Right","Bottom","Left"],(function(d,f){a[c][f]=A(b[c+d],e[f])}))})),n(x,(function(b,c){a[b]=A(a.margin[c],a.spacing[c])})),a.axisOffset=[0,0,0,0],a.clipOffset=[0,0,0,0]},drawChartBox:function(){var a,b,c=this.options.chart,d=this.renderer,e=this.chartWidth,f=this.chartHeight,g=this.chartBackground,h=this.plotBackground,i=this.plotBorder,j=this.plotBGImage,k=c.backgroundColor,l=c.plotBackgroundColor,m=c.plotBackgroundImage,n=this.plotLeft,o=this.plotTop,p=this.plotWidth,q=this.plotHeight,r=this.plotBox,s=this.clipRect,t=this.clipBox,u="animate";g||(this.chartBackground=g=d.rect().addClass("highcharts-background").add(),u="attr"),a=c.borderWidth||0,b=a+(c.shadow?8:0),k={fill:k||"none"},(a||g["stroke-width"])&&(k.stroke=c.borderColor,k["stroke-width"]=a),g.attr(k).shadow(c.shadow),g[u]({x:b/2,y:b/2,width:e-b-a%2,height:f-b-a%2,r:c.borderRadius}),u="animate",h||(u="attr",this.plotBackground=h=d.rect().addClass("highcharts-plot-background").add()),h[u](r),h.attr({fill:l||"none"}).shadow(c.plotShadow),m&&(j?j.animate(r):this.plotBGImage=d.image(m,n,o,p,q).add()),s?s.animate({width:t.width,height:t.height}):this.clipRect=d.clipRect(t),u="animate",i||(u="attr",this.plotBorder=i=d.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),i.attr({stroke:c.plotBorderColor,"stroke-width":c.plotBorderWidth||0,fill:"none"}),i[u](i.crisp({x:n,y:o,width:p,height:q},-i.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var a,b,c,d=this,e=d.options.chart,f=d.options.series;n(["inverted","angular","polar"],(function(g){for(a=D[e.type||e.defaultSeriesType],c=e[g]||a&&a.prototype[g],b=f&&f.length;!c&&b--;)(a=D[f[b].type])&&a.prototype[g]&&(c=!0);d[g]=c}))},linkSeries:function(){var a=this,b=a.series;n(b,(function(a){a.linkedSeries.length=0})),n(b,(function(b){var c=b.options.linkedTo;v(c)&&(c=":previous"===c?a.series[b.index-1]:a.get(c))&&c.linkedParent!==b&&(c.linkedSeries.push(b),b.linkedParent=c,b.visible=A(b.options.visible,c.options.visible,b.visible))}))},renderSeries:function(){n(this.series,(function(a){a.translate(),a.render()}))},renderLabels:function(){var a=this,b=a.options.labels;b.items&&n(b.items,(function(c){var d=o(b.style,c.style),e=B(d.left)+a.plotLeft,f=B(d.top)+a.plotTop+12;delete d.left,delete d.top,a.renderer.text(c.html,e,f).attr({zIndex:2}).css(d).add()}))},render:function(){var a,b,c,d=this.axes,e=this.renderer,f=this.options;this.setTitle(),this.legend=new w(this,f.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),f=this.plotWidth,a=this.plotHeight-=21,n(d,(function(a){a.setScale()})),this.getAxisMargins(),b=1.1<f/this.plotWidth,c=1.05<a/this.plotHeight,(b||c)&&(n(d,(function(a){(a.horiz&&b||!a.horiz&&c)&&a.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&n(d,(function(a){a.visible&&a.render()})),this.seriesGroup||(this.seriesGroup=e.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(a){var b=this;a=y(!0,this.options.credits,a),a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){a.href&&(H.location.href=a.href)})).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position),this.credits.update=function(a){b.credits=b.credits.destroy(),b.addCredits(a)})},destroy:function(){var b,c=this,d=c.axes,e=c.series,f=c.container,g=f&&f.parentNode;for(q(c,"destroy"),k[c.index]=void 0,a.chartCount--,c.renderTo.removeAttribute("data-highcharts-chart"),C(c),b=d.length;b--;)d[b]=d[b].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),b=e.length;b--;)e[b]=e[b].destroy();n("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),(function(a){var b=c[a];b&&b.destroy&&(c[a]=b.destroy())})),f&&(f.innerHTML="",C(f),g&&j(f));for(b in c)delete c[b]},isReadyToRender:function(){var a=this;return!(!F&&H==H.top&&"complete"!==f.readyState)||(f.attachEvent("onreadystatechange",(function(){f.detachEvent("onreadystatechange",a.firstRender),"complete"===f.readyState&&a.firstRender()})),!1)},firstRender:function(){var a=this,b=a.options;a.isReadyToRender()&&(a.getContainer(),q(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),n(b.series||[],(function(b){a.initSeries(b)})),a.linkSeries(),q(a,"beforeRender"),z&&(a.pointer=new z(a,b)),a.render(),a.renderer.draw(),!a.renderer.imgCount&&a.onload&&a.onload(),a.cloneRenderTo(!0))},onload:function(){n([this.callback].concat(this.callbacks),(function(a){a&&void 0!==this.index&&a.apply(this,[this])}),this),q(this,"load"),m(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}}})(a),(function(a){var b,c=a.each,d=a.extend,e=a.erase,f=a.fireEvent,g=a.format,h=a.isArray,i=a.isNumber,j=a.pick,k=a.removeEvent;b=a.Point=function(){},b.prototype={init:function(a,b,c){return this.series=a,this.color=a.color,this.applyOptions(b,c),a.options.colorByPoint?(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter],b=b.length,c=a.colorCounter,a.colorCounter++,a.colorCounter===b&&(a.colorCounter=0)):c=a.colorIndex,this.colorIndex=j(this.colorIndex,c),a.chart.pointCount++,this},applyOptions:function(a,c){var e=this.series,f=e.options.pointValKey||e.pointValKey;return a=b.prototype.optionsToObject.call(this,a),d(this,a),this.options=this.options?d(this.options,a):a,a.group&&delete this.group,f&&(this.y=this[f]),this.isNull=j(this.isValid&&!this.isValid(),null===this.x||!i(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===c&&e.xAxis&&e.xAxis.hasNames&&(this.x=e.xAxis.nameToX(this)),void 0===this.x&&e&&(this.x=void 0===c?e.autoIncrement(this):c),this},optionsToObject:function(a){var b={},c=this.series,d=c.options.keys,e=d||c.pointArrayMap||["y"],f=e.length,g=0,j=0;if(i(a)||null===a)b[e[0]]=a;else if(h(a))for(!d&&a.length>f&&(c=typeof a[0],"string"===c?b.name=a[0]:"number"===c&&(b.x=a[0]),g++);j<f;)d&&void 0===a[g]||(b[e[j]]=a[g]),g++,j++;else"object"==typeof a&&(b=a,a.dataLabels&&(c._hasPointLabels=!0),a.marker&&(c._hasPointMarkers=!0));return b},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className:"")},getZone:function(){var a,b=this.series,c=b.zones,b=b.zoneAxis||"y",d=0;for(a=c[d];this[b]>=a.value;)a=c[++d];return a&&a.color&&!this.options.color&&(this.color=a.color),a},destroy:function(){var a,b=this.series.chart,c=b.hoverPoints;b.pointCount--,c&&(this.setState(),e(c,this),c.length||(b.hoverPoints=null)),this===b.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(k(this),this.destroyElements()),this.legendItem&&b.legend.destroyItem(this);for(a in this)this[a]=null},destroyElements:function(){for(var a,b=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],c=6;c--;)a=b[c],this[a]&&(this[a]=this[a].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,d=b.tooltipOptions,e=j(d.valueDecimals,""),f=d.valuePrefix||"",h=d.valueSuffix||"";return c(b.pointArrayMap||["y"],(function(b){b="{point."+b,(f||h)&&(a=a.replace(b+"}",f+b+"}"+h)),a=a.replace(b+"}",b+":,."+e+"f}")})),g(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var d=this,e=this.series.options;(e.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),"click"===a&&e.allowPointSelect&&(c=function(a){d.select&&d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),f(this,a,b,c)},visible:!0}})(a),(function(a){var b=a.addEvent,c=a.animObject,d=a.arrayMax,e=a.arrayMin,f=a.correctFloat,g=a.Date,h=a.defaultOptions,i=a.defaultPlotOptions,j=a.defined,k=a.each,l=a.erase,m=a.extend,n=a.fireEvent,o=a.grep,p=a.isArray,q=a.isNumber,r=a.isString,s=a.merge,t=a.pick,u=a.removeEvent,v=a.splat,w=a.SVGElement,x=a.syncTimeout,y=a.win;a.Series=a.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":a.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3},{isCartesian:!0,pointClass:a.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(a,c){var d,e,f,g=this,h=a.series;g.chart=a,g.options=c=g.setOptions(c),g.linkedSeries=[],g.bindAxes(),m(g,{name:c.name,state:"",visible:!1!==c.visible,selected:!0===c.selected}),e=c.events;for(d in e)b(g,d,e[d]);for((e&&e.click||c.point&&c.point.events&&c.point.events.click||c.allowPointSelect)&&(a.runTrackerClick=!0),g.getColor(),g.getSymbol(),k(g.parallelArrays,(function(a){g[a+"Data"]=[]})),g.setData(c.data,!1),g.isCartesian&&(a.hasCartesianSeries=!0),h.length&&(f=h[h.length-1]),g._i=t(f&&f._i,-1)+1,a=this.insert(h);a<h.length;a++)h[a].index=a,h[a].name=h[a].name||"Series "+(h[a].index+1)},insert:function(a){var b,c=this.options.index;if(q(c)){for(b=a.length;b--;)if(c>=t(a[b].options.index,a[b]._i)){a.splice(b+1,0,this);break}-1===b&&a.unshift(this),b+=1}else a.push(this);return t(b,a.length-1)},bindAxes:function(){var b,c=this,d=c.options,e=c.chart;k(c.axisTypes||[],(function(f){k(e[f],(function(a){b=a.options,(d[f]===b.index||void 0!==d[f]&&d[f]===b.id||void 0===d[f]&&0===b.index)&&(c.insert(a.series),c[f]=a,a.isDirty=!0)})),c[f]||c.optionalAxis===f||a.error(18,!0)}))},updateParallelArrays:function(a,b){var c=a.series,d=arguments,e=q(b)?function(d){var e="y"===d&&c.toYData?c.toYData(a):a[d];c[d+"Data"][b]=e}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2))};k(c.parallelArrays,e)},autoIncrement:function(){var a,b=this.options,c=this.xIncrement,d=b.pointIntervalUnit,c=t(c,b.pointStart,0);return this.pointInterval=a=t(this.pointInterval,b.pointInterval,1),d&&(b=new g(c),"day"===d?b=+b[g.hcSetDate](b[g.hcGetDate]()+a):"month"===d?b=+b[g.hcSetMonth](b[g.hcGetMonth]()+a):"year"===d&&(b=+b[g.hcSetFullYear](b[g.hcGetFullYear]()+a)),a=b-c),this.xIncrement=c+a,c},setOptions:function(a){var b=this.chart,c=b.options.plotOptions,b=b.userOptions||{},d=b.plotOptions||{},e=c[this.type];return this.userOptions=a,c=s(e,c.series,a),this.tooltipOptions=s(h.tooltip,h.plotOptions[this.type].tooltip,b.tooltip,d.series&&d.series.tooltip,d[this.type]&&d[this.type].tooltip,a.tooltip),null===e.marker&&delete c.marker,this.zoneAxis=c.zoneAxis,a=this.zones=(c.zones||[]).slice(),!c.negativeColor&&!c.negativeFillColor||c.zones||a.push({value:c[this.zoneAxis+"Threshold"]||c.threshold||0,className:"highcharts-negative",color:c.negativeColor,fillColor:c.negativeFillColor}),a.length&&j(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor}),c},getCyclic:function(a,b,c){var d,e=this.userOptions,f=a+"Index",g=a+"Counter",h=c?c.length:t(this.chart.options.chart[a+"Count"],this.chart[a+"Count"]);b||(d=t(e[f],e["_"+f]),j(d)||(e["_"+f]=d=this.chart[g]%h,this.chart[g]+=1),c&&(b=c[d])),void 0!==d&&(this[f]=d),this[a]=b},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||i[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:a.LegendSymbolMixin.drawLineMarker,setData:function(b,c,d,e){var f,g=this,h=g.points,i=h&&h.length||0,j=g.options,l=g.chart,m=null,n=g.xAxis,o=j.turboThreshold,s=this.xData,u=this.yData,v=(f=g.pointArrayMap)&&f.length;if(b=b||[],f=b.length,c=t(c,!0),!1!==e&&f&&i===f&&!g.cropped&&!g.hasGroupedData&&g.visible)k(b,(function(a,b){h[b].update&&a!==j.data[b]&&h[b].update(a,!1,null,!1)}));else{if(g.xIncrement=null,g.colorCounter=0,k(this.parallelArrays,(function(a){g[a+"Data"].length=0})),o&&f>o){for(d=0;null===m&&d<f;)m=b[d],d++;if(q(m))for(d=0;d<f;d++)s[d]=this.autoIncrement(),u[d]=b[d];else if(p(m))if(v)for(d=0;d<f;d++)m=b[d],s[d]=m[0],u[d]=m.slice(1,v+1);else for(d=0;d<f;d++)m=b[d],s[d]=m[0],u[d]=m[1];else a.error(12)}else for(d=0;d<f;d++)void 0!==b[d]&&(m={series:g},g.pointClass.prototype.applyOptions.apply(m,[b[d]]),g.updateParallelArrays(m,d));for(r(u[0])&&a.error(14,!0),g.data=[],g.options.data=g.userOptions.data=b,d=i;d--;)h[d]&&h[d].destroy&&h[d].destroy();n&&(n.minRange=n.userMinRange),g.isDirty=l.isDirtyBox=!0,g.isDirtyData=!!h,d=!1}"point"===j.legendType&&(this.processData(),this.generatePoints()),c&&l.redraw(d)},processData:function(b){var c,d=this.xData,e=this.yData,f=d.length;c=0;var g,h,i,j=this.xAxis,k=this.options;i=k.cropThreshold;var l,m,n=this.getExtremesFromAll||k.getExtremesFromAll,o=this.isCartesian,k=j&&j.val2lin,p=j&&j.isLog;if(o&&!this.isDirty&&!j.isDirty&&!this.yAxis.isDirty&&!b)return!1;for(j&&(b=j.getExtremes(),l=b.min,m=b.max),o&&this.sorted&&!n&&(!i||f>i||this.forceCrop)&&(d[f-1]<l||d[0]>m?(d=[],e=[]):(d[0]<l||d[f-1]>m)&&(c=this.cropData(this.xData,this.yData,l,m),d=c.xData,e=c.yData,c=c.start,g=!0)),i=d.length||1;--i;)f=p?k(d[i])-k(d[i-1]):d[i]-d[i-1],0<f&&(void 0===h||f<h)?h=f:0>f&&this.requireSorting&&a.error(15);this.cropped=g,this.cropStart=c,this.processedXData=d,this.processedYData=e,this.closestPointRange=h},cropData:function(a,b,c,d){var e,f=a.length,g=0,h=f,i=t(this.cropShoulder,1);for(e=0;e<f;e++)if(a[e]>=c){g=Math.max(0,e-i);break}for(c=e;c<f;c++)if(a[c]>d){h=c+i;break}return{xData:a.slice(g,h),yData:b.slice(g,h),start:g,end:h}},generatePoints:function(){var a,b,c,d,e=this.options.data,f=this.data,g=this.processedXData,h=this.processedYData,i=this.pointClass,j=g.length,k=this.cropStart||0,l=this.hasGroupedData,m=[];for(f||l||(f=[],f.length=e.length,f=this.data=f),d=0;d<j;d++)b=k+d,l?(c=(new i).init(this,[g[d]].concat(v(h[d]))),c.dataGroup=this.groupMap[d]):(c=f[b])||void 0===e[b]||(f[b]=c=(new i).init(this,e[b],g[d])),c.index=b,m[d]=c;if(f&&(j!==(a=f.length)||l))for(d=0;d<a;d++)d!==k||l||(d+=j),f[d]&&(f[d].destroyElements(),f[d].plotX=void 0);this.data=f,this.points=m},getExtremes:function(a){var b,c=this.yAxis,f=this.processedXData,g=[],h=0;b=this.xAxis.getExtremes();var i,j,k,l,m=b.min,n=b.max;for(a=a||this.stackedYData||this.processedYData||[],b=a.length,l=0;l<b;l++)if(j=f[l],k=a[l],i=(q(k,!0)||p(k))&&(!c.isLog||k.length||0<k),j=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(f[l+1]||j)>=m&&(f[l-1]||j)<=n,i&&j)if(i=k.length)for(;i--;)null!==k[i]&&(g[h++]=k[i]);else g[h++]=k;this.dataMin=e(g),this.dataMax=d(g)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var a,b,c,d,e=this.options,g=e.stacking,h=this.xAxis,i=h.categories,k=this.yAxis,l=this.points,m=l.length,n=!!this.modifyValue,o=e.pointPlacement,p="between"===o||q(o),r=e.threshold,s=e.startFromThreshold?r:0,u=Number.MAX_VALUE;
for("between"===o&&(o=.5),q(o)&&(o*=t(e.pointRange||h.pointRange)),e=0;e<m;e++){var v=l[e],w=v.x,x=v.y;b=v.low;var y,z=g&&k.stacks[(this.negStacks&&x<(s?0:r)?"-":"")+this.stackKey];k.isLog&&null!==x&&0>=x&&(v.isNull=!0),v.plotX=a=f(Math.min(Math.max(-1e5,h.translate(w,0,0,0,1,o,"flags"===this.type)),1e5)),g&&this.visible&&!v.isNull&&z&&z[w]&&(d=this.getStackIndicator(d,w,this.index),y=z[w],x=y.points[d.key],b=x[0],x=x[1],b===s&&d.key===z[w].base&&(b=t(r,k.min)),k.isLog&&0>=b&&(b=null),v.total=v.stackTotal=y.total,v.percentage=y.total&&v.y/y.total*100,v.stackY=x,y.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=j(b)?k.translate(b,0,1,0,1):null,n&&(x=this.modifyValue(x,v)),v.plotY=b="number"==typeof x&&1/0!==x?Math.min(Math.max(-1e5,k.translate(x,0,1,0,1)),1e5):void 0,v.isInside=void 0!==b&&0<=b&&b<=k.len&&0<=a&&a<=h.len,v.clientX=p?f(h.translate(w,0,0,0,1,o)):a,v.negative=v.y<(r||0),v.category=i&&void 0!==i[v.x]?i[v.x]:v.x,v.isNull||(void 0!==c&&(u=Math.min(u,Math.abs(a-c))),c=a),v.zone=this.zones.length&&v.getZone()}this.closestPointRangePx=u},getValidPoints:function(a,b){var c=this.chart;return o(a||this.points||[],(function(a){return!(b&&!c.isInsidePlot(a.plotX,a.plotY,c.inverted))&&!a.isNull}))},setClip:function(a){var b=this.chart,c=this.options,d=b.renderer,e=b.inverted,f=this.clipBox,g=f||b.clipBox,h=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,g.height,c.xAxis,c.yAxis].join(),i=b[h],j=b[h+"m"];i||(a&&(g.width=0,b[h+"m"]=j=d.clipRect(-99,e?-b.plotLeft:-b.plotTop,99,e?b.chartWidth:b.chartHeight)),b[h]=i=d.clipRect(g),i.count={length:0}),a&&!i.count[this.index]&&(i.count[this.index]=!0,i.count.length+=1),!1!==c.clip&&(this.group.clip(a||f?i:b.clipRect),this.markerGroup.clip(j),this.sharedClipKey=h),a||(i.count[this.index]&&(delete i.count[this.index],--i.count.length),0===i.count.length&&h&&b[h]&&(f||(b[h]=b[h].destroy()),b[h+"m"]&&(b[h+"m"]=b[h+"m"].destroy())))},animate:function(a){var b,d=this.chart,e=c(this.options.animation);a?this.setClip(e):(b=this.sharedClipKey,(a=d[b])&&a.animate({width:d.plotSizeX},e),d[b+"m"]&&d[b+"m"].animate({width:d.plotSizeX+99},e),this.animate=null)},afterAnimate:function(){this.setClip(),n(this,"afterAnimate")},drawPoints:function(){var a,b,c,d,e,f,g,h,i=this.points,j=this.chart,k=this.options.marker,l=this.markerGroup,m=t(k.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>2*k.radius);if(!1!==k.enabled||this._hasPointMarkers)for(b=i.length;b--;)c=i[b],a=c.plotY,d=c.graphic,e=c.marker||{},f=!!c.marker,g=m&&void 0===e.enabled||e.enabled,h=c.isInside,g&&q(a)&&null!==c.y?(a=t(e.symbol,this.symbol),c.hasImage=0===a.indexOf("url"),g=this.markerAttribs(c,c.selected&&"select"),d?d[h?"show":"hide"](!0).animate(g):h&&(0<g.width||c.hasImage)&&(c.graphic=d=j.renderer.symbol(a,g.x,g.y,g.width,g.height,f?e:k).add(l)),d&&d.attr(this.pointAttribs(c,c.selected&&"select")),d&&d.addClass(c.getClassName(),!0)):d&&(c.graphic=d.destroy())},markerAttribs:function(a,b){var c=this.options.marker,d=a&&a.options,e=d&&d.marker||{},d=t(e.radius,c.radius);return b&&(c=c.states[b],b=e.states&&e.states[b],d=t(b&&b.radius,c&&c.radius,d+(c&&c.radiusPlus||0))),a.hasImage&&(d=0),a={x:Math.floor(a.plotX)-d,y:a.plotY-d},d&&(a.width=a.height=2*d),a},pointAttribs:function(a,b){var c=this.options.marker,d=a&&a.options,e=d&&d.marker||{},f=this.color,g=d&&d.color,h=a&&a.color,d=t(e.lineWidth,c.lineWidth);return a=a&&a.zone&&a.zone.color,f=g||a||h||f,a=e.fillColor||c.fillColor||f,f=e.lineColor||c.lineColor||f,b&&(c=c.states[b],b=e.states&&e.states[b]||{},d=t(b.lineWidth,c.lineWidth,d+t(b.lineWidthPlus,c.lineWidthPlus,0)),a=b.fillColor||c.fillColor||a,f=b.lineColor||c.lineColor||f),{stroke:f,"stroke-width":d,fill:a}},destroy:function(){var a,b,c,d,e=this,f=e.chart,g=/AppleWebKit\/533/.test(y.navigator.userAgent),h=e.data||[];for(n(e,"destroy"),u(e),k(e.axisTypes||[],(function(a){(d=e[a])&&d.series&&(l(d.series,e),d.isDirty=d.forceRedraw=!0)})),e.legendItem&&e.chart.legend.destroyItem(e),a=h.length;a--;)(b=h[a])&&b.destroy&&b.destroy();e.points=null,clearTimeout(e.animationTimeout);for(c in e)e[c]instanceof w&&!e[c].survive&&(a=g&&"group"===c?"hide":"destroy",e[c][a]());f.hoverSeries===e&&(f.hoverSeries=null),l(f.series,e);for(c in e)delete e[c]},getGraphPath:function(a,b,c){var d,e,f=this,g=f.options,h=g.step,i=[],l=[];return a=a||f.points,(d=a.reversed)&&a.reverse(),(h={right:1,center:2}[h]||h&&3)&&d&&(h=4-h),!g.connectNulls||b||c||(a=this.getValidPoints(a)),k(a,(function(d,k){var m=d.plotX,n=d.plotY,o=a[k-1];(d.leftCliff||o&&o.rightCliff)&&!c&&(e=!0),d.isNull&&!j(b)&&0<k?e=!g.connectNulls:d.isNull&&!b?e=!0:(0===k||e?k=["M",d.plotX,d.plotY]:f.getPointSpline?k=f.getPointSpline(a,d,k):h?(k=1===h?["L",o.plotX,n]:2===h?["L",(o.plotX+m)/2,o.plotY,"L",(o.plotX+m)/2,n]:["L",m,o.plotY],k.push("L",m,n)):k=["L",m,n],l.push(d.x),h&&l.push(d.x),i.push.apply(i,k),e=!1)})),i.xMap=l,f.graphPath=i},drawGraph:function(){var a=this,b=this.options,c=(this.gappedPath||this.getGraphPath).call(this),d=[["graph","highcharts-graph",b.lineColor||this.color,b.dashStyle]];k(this.zones,(function(c,e){d.push(["zone-graph-"+e,"highcharts-graph highcharts-zone-graph-"+e+" "+(c.className||""),c.color||a.color,c.dashStyle||b.dashStyle])})),k(d,(function(d,e){var f=d[0],g=a[f];g?(g.endX=c.xMap,g.animate({d:c})):c.length&&(a[f]=a.chart.renderer.path(c).addClass(d[1]).attr({zIndex:1}).add(a.group),g={stroke:d[2],"stroke-width":b.lineWidth,fill:a.fillGraph&&a.color||"none"},d[3]?g.dashstyle=d[3]:"square"!==b.linecap&&(g["stroke-linecap"]=g["stroke-linejoin"]="round"),g=a[f].attr(g).shadow(2>e&&b.shadow)),g&&(g.startX=c.xMap,g.isArea=c.isArea)}))},applyZones:function(){var a,b,c,d,e,f,g,h,i,j=this,l=this.chart,m=l.renderer,n=this.zones,o=this.clips||[],p=this.graph,q=this.area,r=Math.max(l.chartWidth,l.chartHeight),s=this[(this.zoneAxis||"y")+"Axis"],u=l.inverted,v=!1;n.length&&(p||q)&&s&&void 0!==s.min&&(e=s.reversed,f=s.horiz,p&&p.hide(),q&&q.hide(),d=s.getExtremes(),k(n,(function(k,n){a=e?f?l.plotWidth:0:f?0:s.toPixels(d.min),a=Math.min(Math.max(t(b,a),0),r),b=Math.min(Math.max(Math.round(s.toPixels(t(k.value,d.max),!0)),0),r),v&&(a=b=s.toPixels(d.max)),g=Math.abs(a-b),h=Math.min(a,b),i=Math.max(a,b),s.isXAxis?(c={x:u?i:h,y:0,width:g,height:r},f||(c.x=l.plotHeight-c.x)):(c={x:0,y:u?i:h,width:r,height:g},f&&(c.y=l.plotWidth-c.y)),u&&m.isVML&&(c=s.isXAxis?{x:0,y:e?h:i,height:c.width,width:l.chartWidth}:{x:c.y-l.plotLeft-l.spacingBox.x,y:0,width:c.height,height:l.chartHeight}),o[n]?o[n].animate(c):(o[n]=m.clipRect(c),p&&j["zone-graph-"+n].clip(o[n]),q&&j["zone-area-"+n].clip(o[n])),v=k.value>d.max})),this.clips=o)},invertGroups:function(a){function c(){var b={width:e.yAxis.len,height:e.xAxis.len};k(["group","markerGroup"],(function(c){e[c]&&e[c].attr(b).invert(a)}))}var d,e=this;e.xAxis&&(d=b(e.chart,"resize",c),b(e,"destroy",d),c(a),e.invertGroups=c)},plotGroup:function(a,b,c,d,e){var f=this[a],g=!f;return g&&(this[a]=f=this.chart.renderer.g(b).attr({zIndex:d||.1}).add(e),f.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""))),f.attr({visibility:c})[g?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;return a.inverted&&(b=c,c=this.xAxis),{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a,b=this,d=b.chart,e=b.options,f=!!b.animate&&d.renderer.isSVG&&c(e.animation).duration,g=b.visible?"inherit":"hidden",h=e.zIndex,i=b.hasRendered,j=d.seriesGroup,k=d.inverted;a=b.plotGroup("group","series",g,h,j),b.markerGroup=b.plotGroup("markerGroup","markers",g,h,j),f&&b.animate(!0),a.inverted=!!b.isCartesian&&k,b.drawGraph&&(b.drawGraph(),b.applyZones()),b.drawDataLabels&&b.drawDataLabels(),b.visible&&b.drawPoints(),b.drawTracker&&!1!==b.options.enableMouseTracking&&b.drawTracker(),b.invertGroups(k),!1===e.clip||b.sharedClipKey||i||a.clip(d.clipRect),f&&b.animate(),i||(b.animationTimeout=x((function(){b.afterAnimate()}),f)),b.isDirty=b.isDirtyData=!1,b.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirty||this.isDirtyData,c=this.group,d=this.xAxis,e=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:t(d&&d.left,a.plotLeft),translateY:t(e&&e.top,a.plotTop)})),this.translate(),this.render(),b&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(a,b){var c=this.xAxis,d=this.yAxis,e=this.chart.inverted;return this.searchKDTree({clientX:e?c.len-a.chartY+c.pos:a.chartX-c.pos,plotY:e?d.len-a.chartX+d.pos:a.chartY-d.pos},b)},buildKDTree:function(){function a(c,d,e){var f,g;if(g=c&&c.length)return f=b.kdAxisArray[d%e],c.sort((function(a,b){return a[f]-b[f]})),g=Math.floor(g/2),{point:c[g],left:a(c.slice(0,g),d+1,e),right:a(c.slice(g+1),d+1,e)}}var b=this,c=b.kdDimensions;delete b.kdTree,x((function(){b.kdTree=a(b.getValidPoints(null,!b.directTouch),c,c)}),b.options.kdNow?0:1)},searchKDTree:function(a,b){function c(a,b,h,i){var k,l,m=b.point,n=d.kdAxisArray[h%i],o=m;return l=j(a[e])&&j(m[e])?Math.pow(a[e]-m[e],2):null,k=j(a[f])&&j(m[f])?Math.pow(a[f]-m[f],2):null,k=(l||0)+(k||0),m.dist=j(k)?Math.sqrt(k):Number.MAX_VALUE,m.distX=j(l)?Math.sqrt(l):Number.MAX_VALUE,n=a[n]-m[n],k=0>n?"left":"right",l=0>n?"right":"left",b[k]&&(k=c(a,b[k],h+1,i),o=k[g]<o[g]?k:m),b[l]&&Math.sqrt(n*n)<o[g]&&(a=c(a,b[l],h+1,i),o=a[g]<o[g]?a:o),o}var d=this,e=this.kdAxisArray[0],f=this.kdAxisArray[1],g=b?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return c(a,this.kdTree,this.kdDimensions,this.kdDimensions)}})})(a),(function(a){function b(a,b,c,d,e){var f=a.chart.inverted;this.axis=a,this.isNegative=c,this.options=b,this.x=d,this.total=null,this.points={},this.stack=e,this.rightCliff=this.leftCliff=0,this.alignOptions={align:b.align||(f?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(f?"middle":c?"bottom":"top"),y:j(b.y,f?4:c?14:-6),x:j(b.x,f?c?-6:6:0)},this.textAlign=b.textAlign||(f?c?"right":"left":"center")}var c=a.Axis,d=a.Chart,e=a.correctFloat,f=a.defined,g=a.destroyObjectProperties,h=a.each,i=a.format,j=a.pick;a=a.Series,b.prototype={destroy:function(){g(this,this.axis)},render:function(a){var b=this.options,c=b.format,c=c?i(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var c=this.axis,d=c.chart,e=d.inverted,f=c.reversed,f=this.isNegative&&!f||!this.isNegative&&f,g=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=Math.abs(g-c);a=d.xAxis[0].translate(this.x)+a;var h=d.plotHeight,e={x:e?f?g:g-c:a,y:e?h-a-b:f?h-g-c:h-g,width:e?c:b,height:e?b:c};(b=this.label)&&(b.align(this.alignOptions,null,e),e=b.alignAttr,b[!1===this.options.crop||d.isInsidePlot(e.x,e.y)?"show":"hide"](!0))}},d.prototype.getStacks=function(){var a=this;h(a.yAxis,(function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)})),h(a.series,(function(b){!b.options.stacking||!0!==b.visible&&!1!==a.options.chart.ignoreHiddenSeries||(b.stackKey=b.type+j(b.options.stack,""))}))},c.prototype.buildStacks=function(){var a,b,c=this.series,d=j(this.options.reversedStacks,!0),e=c.length;if(!this.isXAxis){for(this.usePercentage=!1,b=e;b--;)c[d?b:e-b-1].setStackedPoints();for(b=e;b--;)a=c[d?b:e-b-1],a.setStackCliffs&&a.setStackCliffs();if(this.usePercentage)for(b=0;b<e;b++)c[b].setPercentStacks()}},c.prototype.renderStackTotals=function(){var a,b,c=this.chart,d=c.renderer,e=this.stacks,f=this.stackTotalGroup;f||(this.stackTotalGroup=f=d.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),f.translate(c.plotLeft,c.plotTop);for(a in e)for(b in c=e[a])c[b].render(f)},c.prototype.resetStacks=function(){var a,b,c=this.stacks;if(!this.isXAxis)for(a in c)for(b in c[a])c[a][b].touched<this.stacksTouched?(c[a][b].destroy(),delete c[a][b]):(c[a][b].total=null,c[a][b].cum=null)},c.prototype.cleanStacks=function(){var a,b,c;if(!this.isXAxis)for(b in this.oldStacks&&(a=this.stacks=this.oldStacks),a)for(c in a[b])a[b][c].cum=a[b][c].total},a.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var a,c,d,g,h,i,k,l=this.processedXData,m=this.processedYData,n=[],o=m.length,p=this.options,q=p.threshold,r=p.startFromThreshold?q:0,s=p.stack,p=p.stacking,t=this.stackKey,u="-"+t,v=this.negStacks,w=this.yAxis,x=w.stacks,y=w.oldStacks;for(w.stacksTouched+=1,h=0;h<o;h++)i=l[h],k=m[h],a=this.getStackIndicator(a,i,this.index),g=a.key,d=(c=v&&k<(r?0:q))?u:t,x[d]||(x[d]={}),x[d][i]||(y[d]&&y[d][i]?(x[d][i]=y[d][i],x[d][i].total=null):x[d][i]=new b(w,w.options.stackLabels,c,i,s)),d=x[d][i],null!==k&&(d.points[g]=d.points[this.index]=[j(d.cum,r)],f(d.cum)||(d.base=g),d.touched=w.stacksTouched,0<a.index&&!1===this.singleStacks&&(d.points[g][0]=d.points[this.index+","+i+",0"][0])),"percent"===p?(c=c?t:u,v&&x[c]&&x[c][i]?(c=x[c][i],d.total=c.total=Math.max(c.total,d.total)+Math.abs(k)||0):d.total=e(d.total+(Math.abs(k)||0))):d.total=e(d.total+(k||0)),d.cum=j(d.cum,r)+(k||0),null!==k&&(d.points[g].push(d.cum),n[h]=d.cum);"percent"===p&&(w.usePercentage=!0),this.stackedYData=n,w.oldStacks={}}},a.prototype.setPercentStacks=function(){var a,b=this,c=b.stackKey,d=b.yAxis.stacks,f=b.processedXData;h([c,"-"+c],(function(c){for(var g,h,i=f.length;i--;)g=f[i],a=b.getStackIndicator(a,g,b.index,c),(g=(h=d[c]&&d[c][g])&&h.points[a.key])&&(h=h.total?100/h.total:0,g[0]=e(g[0]*h),g[1]=e(g[1]*h),b.stackedYData[i]=g[1])}))},a.prototype.getStackIndicator=function(a,b,c,d){return!f(a)||a.x!==b||d&&a.key!==d?a={x:b,index:0,key:d}:a.index++,a.key=[c,b,a.index].join(),a}})(a),(function(a){var b=a.addEvent,c=a.animate,d=a.Axis,e=a.createElement,f=a.css,g=a.defined,h=a.each,i=a.erase,j=a.extend,k=a.fireEvent,l=a.inArray,m=a.isNumber,n=a.isObject,o=a.merge,p=a.pick,q=a.Point,r=a.Series,s=a.seriesTypes,t=a.setAnimation,u=a.splat;j(a.Chart.prototype,{addSeries:function(a,b,c){var d,e=this;return a&&(b=p(b,!0),k(e,"addSeries",{options:a},(function(){d=e.initSeries(a),e.isDirtyLegend=!0,e.linkSeries(),b&&e.redraw(c)}))),d},addAxis:function(a,b,c,e){var f=b?"xAxis":"yAxis",g=this.options;a=o(a,{index:this[f].length,isX:b}),new d(this,a),g[f]=u(g[f]||{}),g[f].push(a),p(c,!0)&&this.redraw(e)},showLoading:function(a){var d=this,g=d.options,h=d.loadingDiv,i=g.loading,k=function(){h&&f(h,{left:d.plotLeft+"px",top:d.plotTop+"px",width:d.plotWidth+"px",height:d.plotHeight+"px"})};h||(d.loadingDiv=h=e("div",{className:"highcharts-loading highcharts-loading-hidden"},null,d.container),d.loadingSpan=e("span",{className:"highcharts-loading-inner"},null,h),b(d,"redraw",k)),h.className="highcharts-loading",d.loadingSpan.innerHTML=a||g.lang.loading,f(h,j(i.style,{zIndex:10})),f(d.loadingSpan,i.labelStyle),d.loadingShown||(f(h,{opacity:0,display:""}),c(h,{opacity:i.style.opacity||.5},{duration:i.showDuration||0})),d.loadingShown=!0,k()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",c(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){f(b,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions".split(" "),update:function(a,b){var c,d,e,f={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},i=a.chart;if(i){o(!0,this.options.chart,i),"className"in i&&this.setClassName(i.className),("inverted"in i||"polar"in i)&&(this.propFromSeries(),d=!0);for(c in i)i.hasOwnProperty(c)&&(-1!==l("chart."+c,this.propsRequireUpdateSeries)&&(e=!0),-1!==l(c,this.propsRequireDirtyBox)&&(this.isDirtyBox=!0));"style"in i&&this.renderer.setStyle(i.style)}for(c in a)this[c]&&"function"==typeof this[c].update?this[c].update(a[c],!1):"function"==typeof this[f[c]]&&this[f[c]](a[c]),"chart"!==c&&-1!==l(c,this.propsRequireUpdateSeries)&&(e=!0);a.colors&&(this.options.colors=a.colors),a.plotOptions&&o(!0,this.options.plotOptions,a.plotOptions),h(["xAxis","yAxis","series"],(function(b){a[b]&&h(u(a[b]),(function(a){var c=g(a.id)&&this.get(a.id)||this[b][0];c&&c.coll===b&&c.update(a,!1)}),this)}),this),d&&h(this.axes,(function(a){a.update({},!1)})),e&&h(this.series,(function(a){a.update({},!1)})),a.loading&&o(!0,this.options.loading,a.loading),c=i&&i.width,i=i&&i.height,m(c)&&c!==this.chartWidth||m(i)&&i!==this.chartHeight?this.setSize(c,i):p(b,!0)&&this.redraw()},setSubtitle:function(a){this.setTitle(void 0,a)}}),j(q.prototype,{update:function(a,b,c,d){function e(){g.applyOptions(a),null===g.y&&i&&(g.graphic=i.destroy()),n(a,!0)&&(i&&i.element&&a&&a.marker&&a.marker.symbol&&(g.graphic=i.destroy()),a&&a.dataLabels&&g.dataLabel&&(g.dataLabel=g.dataLabel.destroy())),f=g.index,h.updateParallelArrays(g,f),k.data[f]=n(k.data[f],!0)?g.options:a,h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(j.isDirtyBox=!0),"point"===k.legendType&&(j.isDirtyLegend=!0),b&&j.redraw(c)}var f,g=this,h=g.series,i=g.graphic,j=h.chart,k=h.options;b=p(b,!0),!1===d?e():g.firePointEvent("update",{options:a},e)},remove:function(a,b){this.series.removePoint(l(this,this.series.data),a,b)}}),j(r.prototype,{addPoint:function(a,b,c,d){var e,f,g,h,i=this.options,j=this.data,k=this.chart,l=this.xAxis&&this.xAxis.names,m=i.data,n=this.xData;if(b=p(b,!0),e={series:this},this.pointClass.prototype.applyOptions.apply(e,[a]),h=e.x,g=n.length,this.requireSorting&&h<n[g-1])for(f=!0;g&&n[g-1]>h;)g--;this.updateParallelArrays(e,"splice",g,0,0),this.updateParallelArrays(e,g),l&&e.name&&(l[h]=e.name),m.splice(g,0,a),f&&(this.data.splice(g,0,null),this.processData()),"point"===i.legendType&&this.generatePoints(),c&&(j[0]&&j[0].remove?j[0].remove(!1):(j.shift(),this.updateParallelArrays(e,"shift"),m.shift())),this.isDirtyData=this.isDirty=!0,b&&k.redraw(d)},removePoint:function(a,b,c){var d=this,e=d.data,f=e[a],g=d.points,h=d.chart,i=function(){g&&g.length===e.length&&g.splice(a,1),e.splice(a,1),d.options.data.splice(a,1),d.updateParallelArrays(f||{series:d},"splice",a,1),f&&f.destroy(),d.isDirty=!0,d.isDirtyData=!0,b&&h.redraw()};t(c,h),b=p(b,!0),f?f.firePointEvent("remove",null,i):i()},remove:function(a,b,c){function d(){e.destroy(),f.isDirtyLegend=f.isDirtyBox=!0,f.linkSeries(),p(a,!0)&&f.redraw(b)}var e=this,f=e.chart;!1!==c?k(e,"remove",null,d):d()},update:function(a,b){var c,d=this,e=this.chart,f=this.userOptions,g=this.type,i=a.type||f.type||e.options.chart.type,k=s[g].prototype,l=["group","markerGroup","dataLabelsGroup"];(i&&i!==g||void 0!==a.zIndex)&&(l.length=0),h(l,(function(a){l[a]=d[a],delete d[a]})),a=o(f,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},a),this.remove(!1,null,!1);for(c in k)this[c]=void 0;j(this,s[i||g].prototype),h(l,(function(a){d[a]=l[a]})),this.init(e,a),e.linkSeries(),p(b,!0)&&e.redraw(!1)}}),j(d.prototype,{update:function(a,b){var c=this.chart;a=c.options[this.coll][this.options.index]=o(this.userOptions,a),this.destroy(!0),this.init(c,j(a,{events:void 0})),c.isDirtyBox=!0,p(b,!0)&&c.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,d=this.series,e=d.length;e--;)d[e]&&d[e].remove(!1);i(b.axes,this),i(b[c],this),b.options[c].splice(this.options.index,1),h(b[c],(function(a,b){a.options.index=b})),this.destroy(),b.isDirtyBox=!0,p(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}})})(a),(function(a){var b=a.color,c=a.each,d=a.map,e=a.pick,f=a.Series,g=a.seriesType;g("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var a,b,f,g=[],h=[],i=this.xAxis,j=this.yAxis,k=j.stacks[this.stackKey],l={},m=this.points,n=this.index,o=j.series,p=o.length,q=e(j.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(b=0;b<m.length;b++)l[m[b].x]=m[b];for(f in k)null!==k[f].total&&h.push(f);h.sort((function(a,b){return a-b})),a=d(o,(function(){return this.visible})),c(h,(function(d,e){var f,m,o=0;if(l[d]&&!l[d].isNull)g.push(l[d]),c([-1,1],(function(c){var g=1===c?"rightNull":"leftNull",i=0,j=k[h[e+c]];if(j)for(b=n;0<=b&&b<p;)f=j.points[b],f||(b===n?l[d][g]=!0:a[b]&&(m=k[d].points[b])&&(i-=m[1]-m[0])),b+=q;l[d][1===c?"rightCliff":"leftCliff"]=i}));else{for(b=n;0<=b&&b<p;){if(f=k[d].points[b]){o=f[1];break}b+=q}o=j.toPixels(o,!0),g.push({isNull:!0,plotX:i.toPixels(d,!0),plotY:o,yBottom:o})}}))}return g},getGraphPath:function(a){var b,c,d,g,h=f.prototype.getGraphPath,i=this.options,j=i.stacking,k=this.yAxis,l=[],m=[],n=this.index,o=k.stacks[this.stackKey],p=i.threshold,q=k.getThreshold(i.threshold),i=i.connectNulls||"percent"===j,r=function(b,c,e){var f=a[b];b=j&&o[f.x].points[n];var g=f[e+"Null"]||0;e=f[e+"Cliff"]||0;var h,i,f=!0;e||g?(h=(g?b[0]:b[1])+e,i=b[0]+e,f=!!g):!j&&a[c]&&a[c].isNull&&(h=i=p),void 0!==h&&(m.push({plotX:d,plotY:null===h?q:k.getThreshold(h),isNull:f}),l.push({plotX:d,plotY:null===i?q:k.getThreshold(i),doCurve:!1}))};for(a=a||this.points,j&&(a=this.getStackPoints()),b=0;b<a.length;b++)c=a[b].isNull,d=e(a[b].rectPlotX,a[b].plotX),g=e(a[b].yBottom,q),(!c||i)&&(i||r(b,b-1,"left"),c&&!j&&i||(m.push(a[b]),l.push({x:b,plotX:d,plotY:g})),i||r(b,b+1,"right"));return b=h.call(this,m,!0,!0),l.reversed=!0,c=h.call(this,l,!0,!0),c.length&&(c[0]="L"),c=b.concat(c),h=h.call(this,m,!1,i),c.xMap=b.xMap,this.areaPath=c,h},drawGraph:function(){this.areaPath=[],f.prototype.drawGraph.apply(this);var a=this,d=this.areaPath,g=this.options,h=[["area","highcharts-area",this.color,g.fillColor]];c(this.zones,(function(b,c){h.push(["zone-area-"+c,"highcharts-area highcharts-zone-area-"+c+" "+b.className,b.color||a.color,b.fillColor||g.fillColor])})),c(h,(function(c){var f=c[0],h=a[f];h?(h.endX=d.xMap,h.animate({d:d})):(h=a[f]=a.chart.renderer.path(d).addClass(c[1]).attr({fill:e(c[3],b(c[2]).setOpacity(e(g.fillOpacity,.75)).get()),zIndex:0}).add(a.group),h.isArea=!0),h.startX=d.xMap,h.shiftUnit=g.step?2:1}))},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})})(a),(function(a){var b=a.pick;(a=a.seriesType)("spline","line",{},{getPointSpline:function(a,c,d){var e=c.plotX,f=c.plotY,g=a[d-1];d=a[d+1];var h,i,j,k;if(g&&!g.isNull&&!1!==g.doCurve&&d&&!d.isNull&&!1!==d.doCurve){a=g.plotY,j=d.plotX,d=d.plotY;var l=0;h=(1.5*e+g.plotX)/2.5,i=(1.5*f+a)/2.5,j=(1.5*e+j)/2.5,k=(1.5*f+d)/2.5,j!==h&&(l=(k-i)*(j-e)/(j-h)+f-k),i+=l,k+=l,i>a&&i>f?(i=Math.max(a,f),k=2*f-i):i<a&&i<f&&(i=Math.min(a,f),k=2*f-i),k>d&&k>f?(k=Math.max(d,f),i=2*f-k):k<d&&k<f&&(k=Math.min(d,f),i=2*f-k),c.rightContX=j,c.rightContY=k}return c=["C",b(g.rightContX,g.plotX),b(g.rightContY,g.plotY),b(h,e),b(i,f),e,f],g.rightContX=g.rightContY=null,c}})})(a),(function(a){var b=a.seriesTypes.area.prototype,c=a.seriesType;c("areaspline","spline",a.defaultPlotOptions.area,{getStackPoints:b.getStackPoints,getGraphPath:b.getGraphPath,setStackCliffs:b.setStackCliffs,drawGraph:b.drawGraph,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})})(a),(function(a){var b=a.animObject,c=a.color,d=a.each,e=a.extend,f=a.isNumber,g=a.merge,h=a.pick,i=a.Series,j=a.seriesType,k=a.svg;j("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){i.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&d(b.series,(function(b){b.type===a.type&&(b.isDirty=!0)}))},getColumnMetrics:function(){var a,b=this,c=b.options,e=b.xAxis,f=b.yAxis,g=e.reversed,i={},j=0;!1===c.grouping?j=1:d(b.chart.series,(function(c){var d,e=c.options,g=c.yAxis;c.type===b.type&&c.visible&&f.len===g.len&&f.pos===g.pos&&(e.stacking?(a=c.stackKey,void 0===i[a]&&(i[a]=j++),d=i[a]):!1!==e.grouping&&(d=j++),c.columnIndex=d)}));var k=Math.min(Math.abs(e.transA)*(e.ordinalSlope||c.pointRange||e.closestPointRange||e.tickInterval||1),e.len),l=k*c.groupPadding,m=(k-2*l)/j,c=Math.min(c.maxPointWidth||e.len,h(c.pointWidth,m*(1-2*c.pointPadding)));return b.columnMetrics={width:c,offset:(m-c)/2+(l+((b.columnIndex||0)+(g?1:0))*m-k/2)*(g?-1:1)},b.columnMetrics},crispCol:function(a,b,c,d){var e=this.chart,f=this.borderWidth,g=-(f%2?.5:0),f=f%2?.5:1;return e.inverted&&e.renderer.isVML&&(f+=1),c=Math.round(a+c)+g,a=Math.round(a)+g,d=Math.round(b+d)+f,g=.5>=Math.abs(b)&&.5<d,b=Math.round(b)+f,d-=b,g&&d&&(--b,d+=1),{x:a,y:b,width:c-a,height:d}},translate:function(){var a=this,b=a.chart,c=a.options,e=a.dense=2>a.closestPointRange*a.xAxis.transA,e=a.borderWidth=h(c.borderWidth,e?0:1),f=a.yAxis,g=a.translatedThreshold=f.getThreshold(c.threshold),j=h(c.minPointLength,5),k=a.getColumnMetrics(),l=k.width,m=a.barW=Math.max(l,1+2*e),n=a.pointXOffset=k.offset;b.inverted&&(g-=.5),c.pointPadding&&(m=Math.ceil(m)),i.prototype.translate.apply(a),d(a.points,(function(c){var d,e=h(c.yBottom,g),i=999+Math.abs(e),i=Math.min(Math.max(-i,c.plotY),f.len+i),k=c.plotX+n,o=m,p=Math.min(i,e),q=Math.max(i,e)-p;Math.abs(q)<j&&j&&(q=j,d=!f.reversed&&!c.negative||f.reversed&&c.negative,p=Math.abs(p-g)>j?e-j:g-(d?j:0)),c.barX=k,c.pointWidth=l,c.tooltipPos=b.inverted?[f.len+f.pos-b.plotLeft-i,a.xAxis.len-k-o/2,q]:[k+o/2,i+f.pos-b.plotTop,q],c.shapeType="rect",c.shapeArgs=a.crispCol.apply(a,c.isNull?[c.plotX,f.len/2,0,0]:[k,p,o,q])}))},getSymbol:a.noop,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(a,b){var d,e=this.options,f=this.pointAttrToOptions||{};d=f.stroke||"borderColor";var g=f["stroke-width"]||"borderWidth",h=a&&a.color||this.color,i=a[d]||e[d]||this.color||h,j=a[g]||e[g]||this[g]||0,f=e.dashStyle;return a&&this.zones.length&&(h=(h=a.getZone())&&h.color||a.options.color||this.color),b&&(a=e.states[b],b=a.brightness,h=a.color||void 0!==b&&c(h).brighten(a.brightness).get()||h,i=a[d]||i,j=a[g]||j,f=a.dashStyle||f),d={fill:h,stroke:i,"stroke-width":j},e.borderRadius&&(d.r=e.borderRadius),f&&(d.dashstyle=f),d},drawPoints:function(){var a,b=this,c=this.chart,e=b.options,h=c.renderer,i=e.animationLimit||250;d(b.points,(function(d){var j=d.graphic;f(d.plotY)&&null!==d.y?(a=d.shapeArgs,j?j[c.pointCount<i?"animate":"attr"](g(a)):d.graphic=j=h[d.shapeType](a).attr({"class":d.getClassName()}).add(d.group||b.group),j.attr(b.pointAttribs(d,d.selected&&"select")).shadow(e.shadow,null,e.stacking&&!e.borderRadius)):j&&(d.graphic=j.destroy())}))},animate:function(a){var c=this,d=this.yAxis,f=c.options,g=this.chart.inverted,h={};k&&(a?(h.scaleY=.001,a=Math.min(d.pos+d.len,Math.max(d.pos,d.toPixels(f.threshold))),g?h.translateX=a-d.len:h.translateY=a,c.group.attr(h)):(h[g?"translateX":"translateY"]=d.pos,c.group.animate(h,e(b(c.options.animation),{step:function(a,b){c.group.attr({scaleY:Math.max(.001,b.pos)})}})),c.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&d(b.series,(function(b){b.type===a.type&&(b.isDirty=!0)})),i.prototype.remove.apply(a,arguments)}})})(a),(function(a){(a=a.seriesType)("bar","column",null,{inverted:!0})})(a),(function(a){var b=a.Series;(a=a.seriesType)("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&b.prototype.drawGraph.call(this)}})})(a),(function(a){var b=a.pick,c=a.relativeLength;a.CenteredSeriesMixin={getCenter:function(){var a,d,e=this.options,f=this.chart,g=2*(e.slicedOffset||0),h=f.plotWidth-2*g,f=f.plotHeight-2*g,i=e.center,i=[b(i[0],"50%"),b(i[1],"50%"),e.size||"100%",e.innerSize||0],j=Math.min(h,f);for(a=0;4>a;++a)d=i[a],e=2>a||2===a&&/%$/.test(d),i[a]=c(d,[h,f,j,i[2]][a])+(e?g:0);return i[3]>i[2]&&(i[3]=i[2]),i}}})(a),(function(a){var b=a.addEvent,c=a.defined,d=a.each,e=a.extend,f=a.inArray,g=a.noop,h=a.pick,i=a.Point,j=a.Series,k=a.seriesType,l=a.setAnimation;k("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:a.seriesTypes.column.prototype.pointAttribs,animate:function(a){var b=this,c=b.points,e=b.startAngleRad;a||(d(c,(function(a){var c=a.graphic,d=a.shapeArgs;c&&(c.attr({r:a.startR||b.center[3]/2,start:e,end:e}),c.animate({r:d.r,start:d.start,end:d.end},b.options.animation))})),b.animate=null)},updateTotals:function(){var a,b,c=0,d=this.points,e=d.length,f=this.options.ignoreHiddenPoint;for(a=0;a<e;a++)b=d[a],0>b.y&&(b.y=null),c+=f&&!b.visible?0:b.y;for(this.total=c,a=0;a<e;a++)b=d[a],b.percentage=0<c&&(b.visible||!f)?b.y/c*100:0,b.total=c},generatePoints:function(){j.prototype.generatePoints.call(this),this.updateTotals()},translate:function(a){this.generatePoints();var b,c,d,e,f,g=0,i=this.options,j=i.slicedOffset,k=j+(i.borderWidth||0),l=i.startAngle||0,m=this.startAngleRad=Math.PI/180*(l-90),l=(this.endAngleRad=Math.PI/180*(h(i.endAngle,l+360)-90))-m,n=this.points,o=i.dataLabels.distance,i=i.ignoreHiddenPoint,p=n.length;for(a||(this.center=a=this.getCenter()),this.getX=function(b,c){return d=Math.asin(Math.min((b-a[1])/(a[2]/2+o),1)),a[0]+(c?-1:1)*Math.cos(d)*(a[2]/2+o)},e=0;e<p;e++)f=n[e],b=m+g*l,i&&!f.visible||(g+=f.percentage/100),c=m+g*l,f.shapeType="arc",f.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1e3*b)/1e3,end:Math.round(1e3*c)/1e3},d=(c+b)/2,d>1.5*Math.PI?d-=2*Math.PI:d<-Math.PI/2&&(d+=2*Math.PI),f.slicedTranslation={translateX:Math.round(Math.cos(d)*j),translateY:Math.round(Math.sin(d)*j)},b=Math.cos(d)*a[2]/2,c=Math.sin(d)*a[2]/2,f.tooltipPos=[a[0]+.7*b,a[1]+.7*c],f.half=d<-Math.PI/2||d>Math.PI/2?1:0,f.angle=d,k=Math.min(k,o/5),f.labelPos=[a[0]+b+Math.cos(d)*o,a[1]+c+Math.sin(d)*o,a[0]+b+Math.cos(d)*k,a[1]+c+Math.sin(d)*k,a[0]+b,a[1]+c,0>o?"center":f.half?"right":"left",d]},drawGraph:null,drawPoints:function(){var a,b,c,f,g=this,h=g.chart.renderer,i=g.options.shadow;i&&!g.shadowGroup&&(g.shadowGroup=h.g("shadow").add(g.group)),d(g.points,(function(d){if(null!==d.y){b=d.graphic,f=d.shapeArgs,a=d.sliced?d.slicedTranslation:{};var j=d.shadowGroup;i&&!j&&(j=d.shadowGroup=h.g("shadow").add(g.shadowGroup)),j&&j.attr(a),c=g.pointAttribs(d,d.selected&&"select"),b?b.setRadialReference(g.center).attr(c).animate(e(f,a)):(d.graphic=b=h[d.shapeType](f).addClass(d.getClassName()).setRadialReference(g.center).attr(a).add(g.group),d.visible||b.attr({visibility:"hidden"}),b.attr(c).attr({"stroke-linejoin":"round"}).shadow(i,j))}}))},searchPoint:g,sortByAngle:function(a,b){a.sort((function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b}))},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,getCenter:a.CenteredSeriesMixin.getCenter,getSymbol:g},{init:function(){i.prototype.init.apply(this,arguments);var a,c=this;return c.name=h(c.name,"Slice"),a=function(a){c.slice("select"===a.type)},b(c,"select",a),b(c,"unselect",a),
c},setVisible:function(a,b){var c=this,e=c.series,g=e.chart,i=e.options.ignoreHiddenPoint;b=h(b,i),a!==c.visible&&(c.visible=c.options.visible=a=void 0===a?!c.visible:a,e.options.data[f(c,e.data)]=c.options,d(["graphic","dataLabel","connector","shadowGroup"],(function(b){c[b]&&c[b][a?"show":"hide"](!0)})),c.legendItem&&g.legend.colorizeItem(c,a),a||"hover"!==c.state||c.setState(""),i&&(e.isDirty=!0),b&&g.redraw())},slice:function(a,b,d){var e=this.series;l(d,e.chart),h(b,!0),this.sliced=this.options.sliced=a=c(a)?a:!this.sliced,e.options.data[f(this,e.data)]=this.options,a=a?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(a),this.shadowGroup&&this.shadowGroup.animate(a)},haloPath:function(a){var b=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(b.x,b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}})})(a),(function(a){var b=a.addEvent,c=a.arrayMax,d=a.defined,e=a.each,f=a.extend,g=a.format,h=a.map,i=a.merge,j=a.noop,k=a.pick,l=a.relativeLength,m=a.Series,n=a.seriesTypes,o=a.stableSort;a.distribute=function(a,b){function c(a,b){return a.target-b.target}var d,f,g=!0,i=a,j=[];for(f=0,d=a.length;d--;)f+=a[d].size;if(f>b){for(o(a,(function(a,b){return(b.rank||0)-(a.rank||0)})),f=d=0;f<=b;)f+=a[d].size,d++;j=a.splice(d-1,a.length)}for(o(a,c),a=h(a,(function(a){return{size:a.size,targets:[a.target]}}));g;){for(d=a.length;d--;)g=a[d],f=(Math.min.apply(0,g.targets)+Math.max.apply(0,g.targets))/2,g.pos=Math.min(Math.max(0,f-g.size/2),b-g.size);for(d=a.length,g=!1;d--;)0<d&&a[d-1].pos+a[d-1].size>a[d].pos&&(a[d-1].size+=a[d].size,a[d-1].targets=a[d-1].targets.concat(a[d].targets),a[d-1].pos+a[d-1].size>b&&(a[d-1].pos=b-a[d-1].size),a.splice(d,1),g=!0)}d=0,e(a,(function(a){var b=0;e(a.targets,(function(){i[d].pos=a.pos+b,b+=i[d].size,d++}))})),i.push.apply(i,j),o(i,c)},m.prototype.drawDataLabels=function(){var a,c,h,j,l=this,m=l.options,n=m.dataLabels,o=l.points,p=l.hasRendered||0,q=k(n.defer,!0),r=l.chart.renderer;(n.enabled||l._hasPointLabels)&&(l.dlProcessOptions&&l.dlProcessOptions(n),j=l.plotGroup("dataLabelsGroup","data-labels",q&&!p?"hidden":"visible",n.zIndex||6),q&&(j.attr({opacity:+p}),p||b(l,"afterAnimate",(function(){l.visible&&j.show(!0),j[m.animation?"animate":"attr"]({opacity:1},{duration:200})}))),c=n,e(o,(function(b){var e,o,p,q,s=b.dataLabel,t=b.connector,u=!0,v={};if(a=b.dlOptions||b.options&&b.options.dataLabels,e=k(a&&a.enabled,c.enabled)&&null!==b.y,s&&!e)b.dataLabel=s.destroy();else if(e){if(n=i(c,a),q=n.style,e=n.rotation,o=b.getLabelConfig(),h=n.format?g(n.format,o):n.formatter.call(o,n),q.color=k(n.color,q.color,l.color,"#000000"),s)d(h)?(s.attr({text:h}),u=!1):(b.dataLabel=s=s.destroy(),t&&(b.connector=t.destroy()));else if(d(h)){s={fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:e,padding:n.padding,zIndex:1},"contrast"===q.color&&(v.color=n.inside||0>n.distance||m.stacking?r.getContrast(b.color||l.color):"#000000"),m.cursor&&(v.cursor=m.cursor);for(p in s)void 0===s[p]&&delete s[p];s=b.dataLabel=r[e?"text":"label"](h,0,-9999,n.shape,null,null,n.useHTML,null,"data-label").attr(s),s.addClass("highcharts-data-label-color-"+b.colorIndex+" "+(n.className||"")+(n.useHTML?"highcharts-tracker":"")),s.css(f(q,v)),s.add(j),s.shadow(n.shadow)}s&&l.alignDataLabel(b,s,n,null,u)}})))},m.prototype.alignDataLabel=function(a,b,c,d,e){var g,h=this.chart,i=h.inverted,j=k(a.plotX,-9999),l=k(a.plotY,-9999),m=b.getBBox(),n=c.rotation,o=c.align,p=this.visible&&(a.series.forceDL||h.isInsidePlot(j,Math.round(l),i)||d&&h.isInsidePlot(j,i?d.x+1:d.y+d.height-1,i)),q="justify"===k(c.overflow,"justify");p&&(g=c.style.fontSize,g=h.renderer.fontMetrics(g,b).b,d=f({x:i?h.plotWidth-l:j,y:Math.round(i?h.plotHeight-j:l),width:0,height:0},d),f(c,{width:m.width,height:m.height}),n?(q=!1,i=h.renderer.rotCorr(g,n),i={x:d.x+c.x+d.width/2+i.x,y:d.y+c.y+{top:0,middle:.5,bottom:1}[c.verticalAlign]*d.height},b[e?"attr":"animate"](i).attr({align:o}),j=(n+720)%360,j=180<j&&360>j,"left"===o?i.y-=j?m.height:0:"center"===o?(i.x-=m.width/2,i.y-=m.height/2):"right"===o&&(i.x-=m.width,i.y-=j?0:m.height)):(b.align(c,null,d),i=b.alignAttr),q?this.justifyDataLabel(b,c,i,m,d,e):k(c.crop,!0)&&(p=h.isInsidePlot(i.x,i.y)&&h.isInsidePlot(i.x+m.width,i.y+m.height)),c.shape&&!n&&b.attr({anchorX:a.plotX,anchorY:a.plotY})),p||(b.attr({y:-9999}),b.placed=!1)},m.prototype.justifyDataLabel=function(a,b,c,d,e,f){var g,h,i=this.chart,j=b.align,k=b.verticalAlign,l=a.box?0:a.padding||0;g=c.x+l,0>g&&("right"===j?b.align="left":b.x=-g,h=!0),g=c.x+d.width-l,g>i.plotWidth&&("left"===j?b.align="right":b.x=i.plotWidth-g,h=!0),g=c.y+l,0>g&&("bottom"===k?b.verticalAlign="top":b.y=-g,h=!0),g=c.y+d.height-l,g>i.plotHeight&&("top"===k?b.verticalAlign="bottom":b.y=i.plotHeight-g,h=!0),h&&(a.placed=!f,a.align(b,null,e))},n.pie&&(n.pie.prototype.drawDataLabels=function(){var b,d,f,g,i,j,l,n,o,p,q=this,r=q.data,s=q.chart,t=q.options.dataLabels,u=k(t.connectorPadding,10),v=k(t.connectorWidth,1),w=s.plotWidth,x=s.plotHeight,y=t.distance,z=q.center,A=z[2]/2,B=z[1],C=0<y,D=[[],[]],E=[0,0,0,0];q.visible&&(t.enabled||q._hasPointLabels)&&(m.prototype.drawDataLabels.apply(q),e(r,(function(a){a.dataLabel&&a.visible&&(D[a.half].push(a),a.dataLabel._pos=null)})),e(D,(function(c,d){var e,k,m,r,v,C=c.length;if(C)for(q.sortByAngle(c,d-.5),0<y&&(e=Math.max(0,B-A-y),k=Math.min(B+A+y,s.plotHeight),m=h(c,(function(a){if(a.dataLabel)return v=a.dataLabel.getBBox().height||21,{target:a.labelPos[1]-e+v/2,size:v,rank:a.y}})),a.distribute(m,k+v-e)),p=0;p<C;p++)b=c[p],i=b.labelPos,f=b.dataLabel,o=!1===b.visible?"hidden":"inherit",r=i[1],m?void 0===m[p].pos?o="hidden":(j=m[p].size,n=e+m[p].pos):n=r,l=t.justify?z[0]+(d?-1:1)*(A+y):q.getX(n<e+2||n>k-2?r:n,d),f._attr={visibility:o,align:i[6]},f._pos={x:l+t.x+({left:u,right:-u}[i[6]]||0),y:n+t.y-10},i.x=l,i.y=n,null===q.options.size&&(g=f.width,l-g<u?E[3]=Math.max(Math.round(g-l+u),E[3]):l+g>w-u&&(E[1]=Math.max(Math.round(l+g-w+u),E[1])),0>n-j/2?E[0]=Math.max(Math.round(-n+j/2),E[0]):n+j/2>x&&(E[2]=Math.max(Math.round(n+j/2-x),E[2])))})),0===c(E)||this.verifyDataLabelOverflow(E))&&(this.placeDataLabels(),C&&v&&e(this.points,(function(a){var b;d=a.connector,(f=a.dataLabel)&&f._pos&&a.visible?(o=f._attr.visibility,(b=!d)&&(a.connector=d=s.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+a.colorIndex).add(q.dataLabelsGroup),d.attr({"stroke-width":v,stroke:t.connectorColor||a.color||"#666666"})),d[b?"attr":"animate"]({d:q.connectorPath(a.labelPos)}),d.attr("visibility",o)):d&&(a.connector=d.destroy())})))},n.pie.prototype.connectorPath=function(a){var b=a.x,c=a.y;return k(this.options.dataLabels.softConnector,!0)?["M",b+("left"===a[6]?5:-5),c,"C",b,c,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",b+("left"===a[6]?5:-5),c,"L",a[2],a[3],"L",a[4],a[5]]},n.pie.prototype.placeDataLabels=function(){e(this.points,(function(a){var b=a.dataLabel;b&&a.visible&&((a=b._pos)?(b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999}))}))},n.pie.prototype.alignDataLabel=j,n.pie.prototype.verifyDataLabelOverflow=function(a){var b,c,d=this.center,e=this.options,f=e.center,g=e.minSize||80;return null!==f[0]?b=Math.max(d[2]-Math.max(a[1],a[3]),g):(b=Math.max(d[2]-a[1]-a[3],g),d[0]+=(a[3]-a[1])/2),null!==f[1]?b=Math.max(Math.min(b,d[2]-Math.max(a[0],a[2])),g):(b=Math.max(Math.min(b,d[2]-a[0]-a[2]),g),d[1]+=(a[0]-a[2])/2),b<d[2]?(d[2]=b,d[3]=Math.min(l(e.innerSize||0,b),b),this.translate(d),this.drawDataLabels&&this.drawDataLabels()):c=!0,c}),n.column&&(n.column.prototype.alignDataLabel=function(a,b,c,d,e){var f=this.chart.inverted,g=a.series,h=a.dlBox||a.shapeArgs,j=k(a.below,a.plotY>k(this.translatedThreshold,g.yAxis.len)),l=k(c.inside,!!this.options.stacking);h&&(d=i(h),0>d.y&&(d.height+=d.y,d.y=0),h=d.y+d.height-g.yAxis.len,0<h&&(d.height-=h),f&&(d={x:g.yAxis.len-d.y-d.height,y:g.xAxis.len-d.x-d.width,width:d.height,height:d.width}),l||(f?(d.x+=j?0:d.width,d.width=0):(d.y+=j?d.height:0,d.height=0))),c.align=k(c.align,!f||l?"center":j?"right":"left"),c.verticalAlign=k(c.verticalAlign,f||l?"middle":j?"top":"bottom"),m.prototype.alignDataLabel.call(this,a,b,c,d,e)})})(a),(function(a){var b=a.Chart,c=a.each,d=a.pick,e=a.addEvent;b.prototype.callbacks.push((function(a){function b(){var b=[];c(a.series,(function(a){var e=a.options.dataLabels,f=a.dataLabelCollections||["dataLabel"];(e.enabled||a._hasPointLabels)&&!e.allowOverlap&&a.visible&&c(f,(function(e){c(a.points,(function(a){a[e]&&(a[e].labelrank=d(a.labelrank,a.shapeArgs&&a.shapeArgs.height),b.push(a[e]))}))}))})),a.hideOverlappingLabels(b)}b(),e(a,"redraw",b)})),b.prototype.hideOverlappingLabels=function(a){var b,d,e,f,g,h,i,j,k,l=a.length,m=function(a,b,c,d,e,f,g,h){return!(e>a+c||e+g<a||f>b+d||f+h<b)};for(d=0;d<l;d++)(b=a[d])&&(b.oldOpacity=b.opacity,b.newOpacity=1);for(a.sort((function(a,b){return(b.labelrank||0)-(a.labelrank||0)})),d=0;d<l;d++)for(e=a[d],b=d+1;b<l;++b)f=a[b],e&&f&&e.placed&&f.placed&&0!==e.newOpacity&&0!==f.newOpacity&&(g=e.alignAttr,h=f.alignAttr,i=e.parentGroup,j=f.parentGroup,k=2*(e.box?0:e.padding),g=m(g.x+i.translateX,g.y+i.translateY,e.width-k,e.height-k,h.x+j.translateX,h.y+j.translateY,f.width-k,f.height-k))&&((e.labelrank<f.labelrank?e:f).newOpacity=0);c(a,(function(a){var b,c;a&&(c=a.newOpacity,a.oldOpacity!==c&&a.placed&&(c?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)),a.isOld=!0)}))}})(a),(function(a){var b=a.addEvent,c=a.Chart,d=a.createElement,e=a.css,f=a.defaultOptions,g=a.defaultPlotOptions,h=a.each,i=a.extend,j=a.fireEvent,k=a.hasTouch,l=a.inArray,m=a.isObject,n=a.Legend,o=a.merge,p=a.pick,q=a.Point,r=a.Series,s=a.seriesTypes,t=a.svg;a=a.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,d=function(a){for(var c,d=a.target;d&&!c;)c=d.point,d=d.parentNode;void 0!==c&&c!==b.hoverPoint&&c.onMouseOver(a)};h(a.points,(function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a)})),a._hasTracking||(h(a.trackerGroups,(function(b){a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",d).on("mouseout",(function(a){c.onTrackerMouseOut(a)})),k&&a[b].on("touchstart",d),a.options.cursor&&a[b].css(e).css({cursor:a.options.cursor}))})),a._hasTracking=!0)},drawTrackerGraph:function(){var a,b=this,c=b.options,d=c.trackByArea,e=[].concat(d?b.areaPath:b.graphPath),f=e.length,g=b.chart,i=g.pointer,j=g.renderer,l=g.options.tooltip.snap,m=b.tracker,n=function(){g.hoverSeries!==b&&b.onMouseOver()},o="rgba(192,192,192,"+(t?1e-4:.002)+")";if(f&&!d)for(a=f+1;a--;)"M"===e[a]&&e.splice(a+1,0,e[a+1]-l,e[a+2],"L"),(a&&"M"===e[a]||a===f)&&e.splice(a,0,"L",e[a-2]+l,e[a-1]);m?m.attr({d:e}):b.graph&&(b.tracker=j.path(e).attr({"stroke-linejoin":"round",visibility:b.visible?"visible":"hidden",stroke:o,fill:d?o:"none","stroke-width":b.graph.strokeWidth()+(d?0:2*l),zIndex:2}).add(b.group),h([b.tracker,b.markerGroup],(function(a){a.addClass("highcharts-tracker").on("mouseover",n).on("mouseout",(function(a){i.onTrackerMouseOut(a)})),c.cursor&&a.css({cursor:c.cursor}),k&&a.on("touchstart",n)})))}},s.column&&(s.column.prototype.drawTracker=a.drawTrackerPoint),s.pie&&(s.pie.prototype.drawTracker=a.drawTrackerPoint),s.scatter&&(s.scatter.prototype.drawTracker=a.drawTrackerPoint),i(n.prototype,{setItemEvents:function(a,b,c){var d=this,e=d.chart,f="highcharts-legend-"+(a.series?"point":"series")+"-active";(c?b:a.legendGroup).on("mouseover",(function(){a.setState("hover"),e.seriesGroup.addClass(f),b.css(d.options.itemHoverStyle)})).on("mouseout",(function(){b.css(a.visible?d.itemStyle:d.itemHiddenStyle),e.seriesGroup.removeClass(f),a.setState()})).on("click",(function(b){var c=function(){a.setVisible&&a.setVisible()};b={browserEvent:b},a.firePointEvent?a.firePointEvent("legendItemClick",b,c):j(a,"legendItemClick",b,c)}))},createCheckboxForItem:function(a){a.checkbox=d("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),b(a.checkbox,"click",(function(b){j(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},(function(){a.select()}))}))}}),f.legend.itemStyle.cursor="pointer",i(c.prototype,{showResetZoom:function(){var a=this,b=f.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,g="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,(function(){a.zoomOut()}),d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,g)},zoomOut:function(){var a=this;j(a,"selection",{resetSelection:!0},(function(){a.zoom()}))},zoom:function(a){var b,c,d=this.pointer,e=!1;!a||a.resetSelection?h(this.axes,(function(a){b=a.zoom()})):h(a.xAxis.concat(a.yAxis),(function(a){var c=a.axis;d[c.isXAxis?"zoomX":"zoomY"]&&(b=c.zoom(a.min,a.max),c.displayBtn&&(e=!0))})),c=this.resetZoomButton,e&&!c?this.showResetZoom():!e&&m(c)&&(this.resetZoomButton=c.destroy()),b&&this.redraw(p(this.options.chart.animation,a&&a.animation,100>this.pointCount))},pan:function(a,b){var c,d=this,f=d.hoverPoints;f&&h(f,(function(a){a.setState()})),h("xy"===b?[1,0]:[1],(function(b){b=d[b?"xAxis":"yAxis"][0];var e=b.horiz,f=a[e?"chartX":"chartY"],e=e?"mouseDownX":"mouseDownY",g=d[e],h=(b.pointRange||0)/2,i=b.getExtremes(),j=b.toValue(g-f,!0)+h,h=b.toValue(g+b.len-f,!0)-h,k=h<j,g=k?h:j,j=k?j:h,h=Math.min(i.dataMin,i.min)-g,i=j-Math.max(i.dataMax,i.max);b.series.length&&0>h&&0>i&&(b.setExtremes(g,j,!1,!1,{trigger:"pan"}),c=!0),d[e]=f})),c&&d.redraw(!1),e(d.container,{cursor:"move"})}}),i(q.prototype,{select:function(a,b){var c=this,d=c.series,e=d.chart;a=p(a,!c.selected),c.firePointEvent(a?"select":"unselect",{accumulate:b},(function(){c.selected=c.options.selected=a,d.options.data[l(c,d.data)]=c.options,c.setState(a&&"select"),b||h(e.getSelectedPoints(),(function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,d.options.data[l(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))}))}))},onMouseOver:function(a,b){var c=this.series,d=c.chart,e=d.tooltip,f=d.hoverPoint;this.series&&(b||(f&&f!==this&&f.onMouseOut(),d.hoverSeries!==c&&c.onMouseOver(),d.hoverPoint=this),!e||e.shared&&!c.noSharedTooltip?e||this.setState("hover"):(this.setState("hover"),e.refresh(this,a)),this.firePointEvent("mouseOver"))},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;this.firePointEvent("mouseOut"),b&&-1!==l(this,b)||(this.setState(),a.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var a,c=o(this.series.options.point,this.options).events;this.events=c;for(a in c)b(this,a,c[a]);this.hasImportedEvents=!0}},setState:function(a,b){var c,d=Math.floor(this.plotX),e=this.plotY,f=this.series,h=f.options.states[a]||{},j=g[f.type].marker&&f.options.marker,k=j&&!1===j.enabled,l=j&&j.states&&j.states[a]||{},m=!1===l.enabled,n=f.stateMarkerGraphic,o=this.marker||{},q=f.chart,r=f.halo,s=j&&f.markerAttribs;a=a||"",a===this.state&&!b||this.selected&&"select"!==a||!1===h.enabled||a&&(m||k&&!1===l.enabled)||a&&o.states&&o.states[a]&&!1===o.states[a].enabled||(s&&(c=f.markerAttribs(this,a)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),a&&this.graphic.addClass("highcharts-point-"+a),this.graphic.attr(f.pointAttribs(this,a)),c&&this.graphic.animate(c,p(q.options.chart.animation,l.animation,j.animation)),n&&n.hide()):(a&&l&&(j=o.symbol||f.symbol,n&&n.currentSymbol!==j&&(n=n.destroy()),n?n[b?"animate":"attr"]({x:c.x,y:c.y}):j&&(f.stateMarkerGraphic=n=q.renderer.symbol(j,c.x,c.y,c.width,c.height).add(f.markerGroup),n.currentSymbol=j),n&&n.attr(f.pointAttribs(this,a))),n&&(n[a&&q.isInsidePlot(d,e,q.inverted)?"show":"hide"](),n.element.point=this)),(d=h.halo)&&d.size?(r||(f.halo=r=q.renderer.path().add(s?f.markerGroup:f.group)),r[b?"animate":"attr"]({d:this.haloPath(d.size)}),r.attr({"class":"highcharts-halo highcharts-color-"+p(this.colorIndex,f.colorIndex)}),r.point=this,r.attr(i({fill:this.color||f.color,"fill-opacity":d.opacity,zIndex:-1},d.attributes))):r&&r.point&&r.point.haloPath&&r.animate({d:r.point.haloPath(0)}),this.state=a)},haloPath:function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)}}),i(r.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;b&&b!==this&&b.onMouseOut(),this.options.events.mouseOver&&j(this,"mouseOver"),this.setState("hover"),a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;b.hoverSeries=null,d&&d.onMouseOut(),this&&a.events.mouseOut&&j(this,"mouseOut"),!c||a.stickyTracking||c.shared&&!this.noSharedTooltip||c.hide(),this.setState()},setState:function(a){var b=this,c=b.options,d=b.graph,e=c.states,f=c.lineWidth,c=0;if(a=a||"",b.state!==a&&(h([b.group,b.markerGroup],(function(c){c&&(b.state&&c.removeClass("highcharts-series-"+b.state),a&&c.addClass("highcharts-series-"+a))})),b.state=a,!e[a]||!1!==e[a].enabled)&&(a&&(f=e[a].lineWidth||f+(e[a].lineWidthPlus||0)),d&&!d.dashstyle))for(e={"stroke-width":f},d.attr(e);b["zone-graph-"+c];)b["zone-graph-"+c].attr(e),c+=1},setVisible:function(a,b){var c,d=this,e=d.chart,f=d.legendItem,g=e.options.chart.ignoreHiddenSeries,i=d.visible;c=(d.visible=a=d.options.visible=d.userOptions.visible=void 0===a?!i:a)?"show":"hide",h(["group","dataLabelsGroup","markerGroup","tracker","tt"],(function(a){d[a]&&d[a][c]()})),e.hoverSeries!==d&&(e.hoverPoint&&e.hoverPoint.series)!==d||d.onMouseOut(),f&&e.legend.colorizeItem(d,a),d.isDirty=!0,d.options.stacking&&h(e.series,(function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)})),h(d.linkedSeries,(function(b){b.setVisible(a,!1)})),g&&(e.isDirtyBox=!0),!1!==b&&e.redraw(),j(d,c)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=void 0===a?!this.selected:a,this.checkbox&&(this.checkbox.checked=a),j(this,a?"select":"unselect")},drawTracker:a.drawTrackerGraph})})(a),(function(a){var b=a.Chart,c=a.each,d=a.inArray,e=a.isObject,f=a.pick,g=a.splat;b.prototype.setResponsive=function(a){var b=this.options.responsive;b&&b.rules&&c(b.rules,(function(b){this.matchResponsiveRule(b,a)}),this)},b.prototype.matchResponsiveRule=function(b,c){var d,e=this.respRules,g=b.condition;d=g.callback||function(){return this.chartWidth<=f(g.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=f(g.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=f(g.minWidth,0)&&this.chartHeight>=f(g.minHeight,0)},void 0===b._id&&(b._id=a.uniqueKey()),d=d.call(this),!e[b._id]&&d?b.chartOptions&&(e[b._id]=this.currentOptions(b.chartOptions),this.update(b.chartOptions,c)):e[b._id]&&!d&&(this.update(e[b._id],c),delete e[b._id])},b.prototype.currentOptions=function(a){function b(a,c,f){var h,i;for(h in a)if(-1<d(h,["series","xAxis","yAxis"]))for(a[h]=g(a[h]),f[h]=[],i=0;i<a[h].length;i++)f[h][i]={},b(a[h][i],c[h][i],f[h][i]);else e(a[h])?(f[h]={},b(a[h],c[h]||{},f[h])):f[h]=c[h]||null}var c={};return b(a,this.options,c),c}})(a),a}));var myApp=myApp||{};!(function(a){a(document).ready((function(){myApp.constants={PUBLIC_TOKEN:"4c1eb64a-45dc-46df-89b6-811ed0f9ff21-843339462",GEO_DATA:"data/geodata.json",OVERLAY_GROUP_NAMES:[{name:"Geomorphic features"},{name:"Base overlays"}],ZOOM:3,OGC_WMS_NS:"W_mpa",OGC_WMS_SUFFIX:"geo_fea_",OGC_WMS_BASEURL:"https://geoserver.d4science.org/geoserver/wms",OGC_WFS_BASEURL:"https://geoserver.d4science.org/geoserver/wfs",OGC_WFS_FORMAT:new ol.format.GeoJSON,OGC_WPS_BASEURL:"https://dataminer-cluster1.d4science.org/wps/WebProcessingService?request=Execute&service=WPS&Version=1.0.0&lang=en-US",OGC_WPS_IDENTIFIER:"org.gcube.dataanalysis.wps.statisticalmanager.synchserver.mappedclasses.transducerers.MPA_INTERSECT_V2",OGC_WPS_OUTPUTDATA_HTTPS:!0,OGC_CSW_BASEURL:"https://geonetwork1-d-d4s.d4science.org/geonetwork/srv/eng/csw",SURFACE_UNIT:{id:"sqkm",label:"km"},SURFACE_ROUND_DECIMALS:2,DEBUG_REPORTING:!1},myApp.getAllUrlParams=function(a){var b=a?a.split("?")[1]:window.location.search.slice(1),c={};if(b){b=b.split("#")[0];for(var d=b.split("&"),e=0;e<d.length;e++){var f=d[e].split("="),g=void 0,h=f[0].replace(/\[\d*\]/,(function(a){return g=a.slice(1,-1),""})),i="undefined"==typeof f[1]||f[1];c[h]?("string"==typeof c[h]&&(c[h]=[c[h]]),"undefined"==typeof g?c[h].push(i):c[h][g]=i):c[h]=i}}return c},myApp.renderStatValue=function(a,b,c){var d=Math.pow(10,this.constants.SURFACE_ROUND_DECIMALS);if("percentage"==b)refRow=this.processData[0],refValue=refRow[Object.keys(refRow)[c.col]],outValue=a/refValue*100,outValue=Math.round(outValue*d)/d,0!=refValue&&0!=outValue||(outValue="");else if("surface"==b){var e=1;switch(this.constants.SURFACE_UNIT.id){case"sqkm":e=1e-6;break;case"ha":e=1e-4;break;default:e=1}outValue=Math.round(a*e*d)/d,0==outValue&&(outValue="")}return outValue},myApp.renderStatTable=function(){this.table.rows().invalidate("data").draw(!1)},myApp.fetchSecurityToken=function(){var a=this.getAllUrlParams().securityToken;return"undefined"!=typeof a?(console.log("Passing security token from VRE to web-app = "+a),this.securityToken=a):(console.log("Using public security token"),this.securityToken=this.constants.PUBLIC_TOKEN),this.securityToken},myApp.sanitizeMetadataElement=function(a){return a=a.replace(/\s{2,}/g," "),a=a.replace(/(\r\n|\n|\r)/gm,"")},myApp.fetchGeomorphicFeatureMetadata=function(b){var c=this,d=a.Deferred(),e=this.constants.OGC_CSW_BASEURL+"?service=CSW&request=GetRecordById&Version=2.0.2";return e+="&outputSchema=http%3A//www.isotc211.org/2005/gmd",e+="&elementSetName=full",e+="&id="+b,console.log("Performing CSW GetRecord metadata request"),console.log(e),a.ajax({type:"GET",url:e,contentType:"application/json",success:function(e){var f="",g=a(e).find("abstract");f=g.length>0?c.sanitizeMetadataElement(g[0].textContent):"No abstract available";var h="",i=a(e).find("credit");h=i.length>0?c.sanitizeMetadataElement(i[0].textContent):"No reference available";for(var j=0;j<c.geomorphicFeatures.length;j++){var k=b.split("geo_fea_")[1];if(c.geomorphicFeatures[j].id===k){c.geomorphicFeatures[j].description=f,c.geomorphicFeatures[j].reference=h;break}}d.resolve()}}),d.promise()},myApp.fetchGeomorphicFeatures=function(){var b=a.Deferred(),c=this;return a.getJSON(this.constants.GEO_DATA,(function(d){c.geomorphicFeatures=d;for(var e=new Array,f=0;f<d.length;f++){var g=c.constants.OGC_WMS_SUFFIX+d[f].id;e.push(c.fetchGeomorphicFeatureMetadata(g))}a.when(e).done((function(){b.resolve(c.geomorphicFeatures)}))})),b.promise()},myApp.initAreaTypeSelector=function(){var b=this;this.$areaTypeSelector=a("#areaTypeSelector").select2({placeholder:"Select an area type"}),this.$areaTypeSelector.val(""),this.$areaTypeSelector.trigger("change"),a("#areaTypeSelector").on("select2:select",(function(c){var d=a("#areaTypeSelector").select2("val");b.configureMapSelector(d)}))},myApp.initMap=function(b,c,d){var e,f=[new ol.layer.Group({title:"Basemaps",layers:[new ol.layer.Tile({title:"ESRI WLGB",type:"base",source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'Tiles  <a href="http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>'})],url:"//server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"})})]})],g=new ol.layer.Group({title:this.constants.OVERLAY_GROUP_NAMES[0].name,layers:[]}),h=new ol.layer.Group({title:this.constants.OVERLAY_GROUP_NAMES[1].name,layers:[]}),i=[g,h],j=this.constants.OGC_WFS_BBOX?this.constants.OGC_WFS_BBOX:[-180,-90,180,90],k=this.constants.OGC_WFS_BBOX?5:2;c&&(this.baseLayers=f,this.geomorphicLayers=g,this.baseOverlays=h,this.overlays=i,this.defaultMapExtent=j,this.defaultMapZoom=k);var l=b?b:"map";a("#"+l).empty();var e=new ol.Map({id:l,target:l,layers:f.concat(i),view:new ol.View({projection:"EPSG:4326",center:ol.extent.getCenter(j),extent:j,zoom:k}),controls:[],logo:!1});return e.addControl(new ol.control.LoadingPanel),e.addControl(new ol.control.Zoom),e.addControl(new ol.control.ZoomToMaxExtent({extent:d?d:j,zoom:k})),c&&e.addControl(new ol.control.LayerSwitcher({target:"layerswitcher",displayLegend:!0,collapsableGroups:!0,overlayGroups:this.constants.OVERLAY_GROUP_NAMES})),d&&e.getView().fit(d,e.getSize()),c&&this.constants.ZOOM&&e.getView().setZoom(this.constants.ZOOM),e},myApp.setLegendGraphic=function(a){var b=a.getSource();if(!(b instanceof ol.source.TileWMS))return!1;var c=b.getParams(),d="";d+=b.getUrls()[0]+"?",d+="VERSION=1.0.0",d+="&REQUEST=GetLegendGraphic",d+="&LAYER="+c.LAYERS,d+="&STYLE="+(c.STYLES?c.STYLES:""),d+="&LEGEND_OPTIONS=forcelabels:on;forcerule:True;fontSize:12",d+="&SCALE=139770286.4465912",d+="&FORMAT=image/png",d+="&TRANSPARENT=true",a.legendGraphic=d},myApp.addLayer=function(a,b,c,d,e){var d=new ol.layer.Tile({id:b,title:c,source:new ol.source.TileWMS({url:this.constants.OGC_WMS_BASEURL,params:{LAYERS:d,VERSION:"1.1.1",FORMAT:"image/png",TILED:!0,TILESORIGIN:[-180,-90].join(","),CQL_FILTER:e},wrapX:!0,serverType:"geoserver"}),opacity:.8,visible:!0});this.setLegendGraphic(d),d.showLegendGraphic=!0,d.overlayGroup=this.constants.OVERLAY_GROUP_NAMES[0],a?this.overlays[0].getLayers().push(d):this.featureMap.getLayers().push(d)},myApp.addGeomorphicFeatureLayer=function(a,b){var c=new ol.layer.Tile({id:a.id,title:a.title,source:new ol.source.TileWMS({url:this.constants.OGC_WMS_BASEURL,params:{LAYERS:this.constants.OGC_WMS_NS+":"+this.constants.OGC_WMS_SUFFIX+a.id,VERSION:"1.1.1",FORMAT:"image/png",TILED:!0,TILESORIGIN:[-180,-90].join(",")},wrapX:!0,serverType:"geoserver"}),opacity:.8,visible:!b||a.visible});myApp.setLegendGraphic(c),c.showLegendGraphic=!0,c.overlayGroup=this.constants.OVERLAY_GROUP_NAMES[0],b?this.overlays[0].getLayers().push(c):this.featureMap.getLayers().push(c)},myApp.addGeomorphicFeatureLayers=function(a){this.geomorphicFeatures.reverse();for(var b=0;b<this.geomorphicFeatures.length;b++){var a=this.geomorphicFeatures[b];this.addGeomorphicFeatureLayer(a,!0)}this.geomorphicFeatures.reverse()},myApp.getLayerByProperty=function(a,b){b||(byTitle=!1);for(var c=void 0,d=0;d<this.map.getLayerGroup().getLayersArray().length;d++){var e=this.map.getLayerGroup().getLayersArray()[d],f=b?e.get(b)===a:e.getSource().getParams().LAYERS===a;if(f){c=this.map.getLayerGroup().getLayersArray()[d];break}}return c},myApp.configureMapSelector=function(b){var c=this;switch(c.$areaTypeSelector.val(b),c.$areaTypeSelector.trigger("change"),a("#areaSelector").empty(),a("#areaSelectorWrapper").hide(),a("#areaSelectorLoader").show(),c.areaFeatureType=null,c.intersectFeatureType=null,c.areaIdProperty=null,c.areaLabelProperty=null,b){case"EEZ":c.areaFeatureType="W_mpa:eez",c.intersectFeatureType="W_mpa:intersect_mpa_eez_v1",c.areaIdProperty="mrgid",c.areaLabelProperty="geoname";break;case"ECOREGION":c.areaFeatureType="W_mpa:meow_ppow",c.intersectFeatureType="W_mpa:intersect_mpa_ecoregions_v1",c.areaIdProperty="ecoregion",c.areaLabelProperty="ecoregion"}var d=this.constants.OGC_WFS_BASEURL+"?version=1.0.0&request=GetFeature&typeName="+c.areaFeatureType;this.constants.OGC_WFS_BBOX&&(d+="&bbox="+this.constants.OGC_WFS_BBOX.join(",")),d+="&outputFormat=json",console.log("Performing WFS request on selected area type"),console.log(d),this.sourceFeatures=new ol.source.Vector({format:c.constants.OGC_WFS_FORMAT,loader:function(b,e,f){a.ajax({url:d,success:function(b){var d=c.constants.OGC_WFS_FORMAT.readFeatures(b);a("#areaSelectorWrapper").show(),c.$areaSelector=a("#areaSelector").select2({placeholder:"Select an area",allowClear:!0,sorter:function(a){return a.sort((function(a,b){return a=a.text.toLowerCase(),b=b.text.toLowerCase(),a>b?1:a<b?-1:0})),a}});for(var e=[],f=0;f<d.length;f++){var g=d[f],h=g.getProperties();g.setId(h[c.areaIdProperty]),e.push(g);var i=new Option(h[c.areaLabelProperty],h[c.areaIdProperty]);c.$areaSelector.append(i)}c.sourceFeatures.addFeatures(e),c.$areaSelector.val(""),c.$areaSelector.trigger("change"),c.$areaSelector.on("select2:select",(function(b){var d=c.sourceFeatures.getFeatureById(b.params.data.id);c.selectInteraction.getFeatures().clear(),c.selectInteraction.getFeatures().push(d),c.map.getView().fit(d.getGeometry().getExtent(),c.map.getSize()),a("#analyzer").show()})),c.$areaSelector.on("select2:unselect",(function(b){c.selectInteraction.getFeatures().clear(),c.map.getView().fit(c.map.getView().getProjection().getExtent(),c.map.getSize()),c.map.getView().setZoom(2),a("#analyzer").hide()})),a("#areaSelectorLoader").hide()},error:function(){console.log("failed to query WFS"),c.map=c.initMap("map",!0,!1),c.addGeomorphicFeatureLayers(),c.$areaTypeSelector.val(""),c.$areaTypeSelector.trigger("change"),a("#areaSelectorLoader").hide()}})}});var e=myApp.getLayerByProperty("geoselector","id");if("undefined"==typeof e){var e=new ol.layer.Vector({id:"geoselector",title:"Geo selector ("+b+")",source:c.sourceFeatures});c.overlays[1].getLayers().push(e),c.selectInteraction=new ol.interaction.Select({condition:ol.events.condition.click,layers:[e],style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(238,153,0,0.4)"}),stroke:new ol.style.Stroke({color:"#ee9900",width:1})})}),c.hoverInteraction=new ol.interaction.Select({condition:ol.events.condition.pointerMove,layers:[e],style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255,255,255,0.3)"}),stroke:new ol.style.Stroke({color:"#0099ff",width:2})})}),c.map.addInteraction(c.selectInteraction),c.map.addInteraction(c.hoverInteraction),c.selectInteraction.on("select",(function(b){b.selected.length>0?(c.$areaSelector.val(b.selected[0].getId()),c.$areaSelector.trigger("change"),a("#analyzer").show()):(c.$areaSelector.val(""),c.$areaSelector.trigger("change"),a("#analyzer").hide())})),c.selectInteraction.on("unselect",(function(b){c.$areaSelector.val(""),c.$areaSelector.trigger("change"),a("#analyzer").hide()}));var f=new ol.Overlay.Popup({id:"geoselector-tooltip",isTooltip:!0});c.map.addOverlay(f);var g=function(a){return a.getProperties()[c.areaLabelProperty]};c.map.on("pointermove",(function(a){var b=c.map.forEachFeatureAtPixel(a.pixel,(function(a,b){var c=a.get("features");if(c){var d=c.length;if(d>1)return;a=c[0]}return a}));b?f.show(a.coordinate,g(b)):f.hide()}))}else e.setSource(c.sourceFeatures);this.map.getControls().getArray().filter((function(a){if(a instanceof ol.control.LayerSwitcher)return a}))[0].renderPanel()},myApp.executeWPSRequest=function(b,c){var d=this,e=new Date;console.log("Executing WPS request with the following params"),console.log("Security Token = "+this.securityToken),console.log("Area type = "+b),console.log("Area Id = "+c),a("#areaTypeSelector").prop("disabled",!0),a("#areaSelector").prop("disabled",!0),a("#analyzer").attr("disabled",!0),a("#mpaTabs").show(),a("#mpaTabs").tabs(),a("#mpaTabs").tabs("option","active",0),a("#mpaResultsWrapper").show(),a("#mpaResultsCharts").show(),a("#mpaResultsWrapper").empty(),a("#mpaResultsCharts").empty(),a("#mpaResultsLoader").show();var f=this.constants.OGC_WPS_BASEURL;f+="&Identifier="+this.constants.OGC_WPS_IDENTIFIER,f+="&gcube-token="+this.securityToken,f+="&DataInputs=areaType="+b+";areaId="+c,d.storeWPSOutputMetadata(b,c,d.sourceFeatures.getFeatureById(c).getGeometry().getExtent(),e,void 0),a.ajax({type:"GET",url:f,cache:!1,dataType:"xml",success:function(b){var c=new Date;d.processMetadata.end=c;var e=a(a(b).find("Data")[2]).text();d.getWPSOutputData(e)},error:function(b,c,d){console.log("Error while executing WPS request"),a("#mpaResultsWrapper").append("<p><b>The MPA analysis returned an error...</b></p>"),a("#mpaResultsWrapper").append("<p style='color:red;'>GET Request '"+f+"' failed!</p>"),a("#mpaResultsLoader").hide()}})},myApp.getWPSOutputData=function(b){var c=this;c.constants.OGC_WPS_OUTPUTDATA_HTTPS&&(b=b.replace(/^http:\/\//i,"https://")),console.log("Fetching WPS output data '"+b+"'"),a.ajax({url:b,success:function(b){var d=JSON.parse(b);c.processData=new Array,c.processData=c.processData.concat(d.filter((function(a){if("MPA"!=a.type)return a}))),c.processData=c.processData.concat(d.filter((function(a){
if("All MPAs"==a.name)return a})));var e=d.filter((function(a){if("MPA"==a.type&"All MPAs"!=a.name)return a}));e.sort((function(a,b){return a.name>b.name?1:b.name>a.name?-1:0})),c.processData=c.processData.concat(e);var f=Object.keys(c.processData[0]);for(key in f){var g=f[key];if("id"!=g&0==c.processData[0][g])for(var h=0,i=c.processData.length;h<i;h++)delete c.processData[h][g]}var j=Object.keys(c.processData[0]),k=["id","Name","Type","Area"];if("undefined"!=typeof c.geomorphicFeatures)for(var h=0;h<c.geomorphicFeatures.length;h++){var l=c.geomorphicFeatures[h];j.indexOf(l.id)!=-1&&k.push(l.title)}var m="";a.each(k,(function(a,b){m+="<th>"+b+"</th>"}));var n=[k,c.processData];c.initResultsChart(n);var o=(c.processMetadata.end-c.processMetadata.start)/1e3,p='<p class="mpa-timer">MPA analysis performed in '+o+" seconds!</p>";a("#mpaResultsWrapper").append(p);var q='<table class="mpa-formatswitcher"><tr>';q+='<td><input type="radio" name="formatSwitcher" value="surface" checked onclick="myApp.renderStatTable()">Surface (km)</td>',q+='<td><input type="radio" name="formatSwitcher" value="percentage" onclick="myApp.renderStatTable()">% of geomorphic feature</td>',q+="</tr></table>",a("#mpaResultsWrapper").append(q);var r='<table id="mpaResultsTable" class="stripe row-border order-column" cellspacing="0" style="width:100%;"><thead><tr>'+m+"</tr></thead></table>";a("#mpaResultsWrapper").append(r),a("#areaTypeSelector").prop("disabled",!1),a("#areaSelector").prop("disabled",!1),a("#analyzer").attr("disabled",!1),a("#mpaResultsLoader").hide();for(var s=new Array,h=0;h<j.length;h++){var t={data:j[h]};s.push(t)}c.table=a("#mpaResultsTable").removeAttr("width").DataTable({data:c.processData,columns:s,paging:!1,scrollCollapse:!0,scrollY:230,scrollX:!0,columnDefs:[{targets:0,visible:!1},{targets:1,width:220,render:function(a,b,c,d){return'<a href="#" onclick="myApp.accessReports('+c.id+')" title="Access report" class="mpa-table-name">'+a+"</a>"}},{targets:Array.apply(null,Array(Object.keys(c.processData[0]).length)).map((function(a,b){return b})).slice(3),render:function(b,d,e,f){return'<span class="mpa-table-stat">'+c.renderStatValue(b,a("input[name=formatSwitcher]:checked").val(),f)+"</span>"}}],order:[],colReorder:{fixedColumnsLeft:4}}),new a.fn.dataTable.FixedColumns(c.table,{leftColumns:4})},error:function(c,d,e){console.log("Error while fetching WPS output data"),a("#mpaResultsWrapper").append("<p>The MPA analysis returned an error...</p>"),a("#mpaResultsWrapper").append("<p style='color:red;'>GET Request '"+b+"' failed!</p>"),a("#mpaResultsLoader").hide(),a("#areaTypeSelector").prop("disabled",!1),a("#areaSelector").prop("disabled",!1),a("#analyzer").attr("disabled",!1)}})},myApp.storeWPSOutputMetadata=function(a,b,c,d,e){this.processMetadata={areaType:a,areaId:b,areaExtent:c,areaFeatureType:this.areaFeatureType,areaIdProperty:this.areaIdProperty,intersectFeatureType:this.intersectFeatureType,start:d,end:e}},myApp.getFeatureReportMap=function(a,b){var c=[{layer:b,filter:"INCLUDE"},{layer:this.processMetadata.intersectFeatureType,filter:"wdpaid="+a},{layer:this.processMetadata.areaFeatureType,filter:this.processMetadata.areaIdProperty+"='"+this.processMetadata.areaId+"'"}],d=this.processMetadata.areaExtent,e=(d[2]-d[0])/(d[3]-d[1]),f=200,g=f,h=Math.round(g*e),i=this.constants.OGC_WMS_BASEURL+"?service=WMS&version=1.1.1&request=GetMap";return i+="&layers="+c.map((function(a){return a.layer})).join(","),i+="&cql_filter="+c.map((function(a){return a.filter})).join(";"),i+="&bbox="+d.join(","),i+="&styles=",i+="&width="+h+"&height="+g,i+="&srs=EPSG:4326",i+="&format=image/png"},myApp.accessReports=function(b){var c=this;a("nav li[data-where='#pageReports']").trigger("click"),a("#mpaReportMainWrapper").empty(),a("#mpaReportFeatureWrapper").empty(),a("#mpaReportLoader").show();var d=this.processData.filter((function(a){if(a.id===b)return a}))[0];console.log(d),this.report={id:d.id,name:d.name,type:d.type,isMPA:"MPA"==d.type,surface:this.renderStatValue(d.surface,"surface"),surfaceUnit:this.constants.SURFACE_UNIT.label,target:this.processData.filter((function(a){if("EEZ"==a.type)return a}))[0],features:[]};for(var e=0;e<this.geomorphicFeatures.length;e++){var f=d[this.geomorphicFeatures[e].id];if(f>0){var g=this.report.target[this.geomorphicFeatures[e].id],h={metadata:this.geomorphicFeatures[e],data:{surface:this.renderStatValue(f,"surface"),surfaceUnit:this.constants.SURFACE_UNIT.label,indicator1:Math.round(f/g*100*100)/100,map:this.getFeatureReportMap(this.report.id,this.geomorphicFeatures[e].layer)}};this.report.features.push(h)}}var i=this.areaIdProperty+" = "+this.report.target.id;"MPA"==this.report.type&"All MPAs"!=this.report.name&&(i+=" AND wdpaid = "+b);var j=this.constants.OGC_WFS_BASEURL+"?version=1.0.0&request=GetFeature",k="MPA"!=this.report.type?this.areaFeatureType:c.intersectFeatureType;j+="&typeName="+k,j+="&propertyName=the_geom",j+="&outputFormat=json",j+="&cql_filter="+i,j=encodeURI(j),console.log("Performing WFS request to get Report map bbox"),console.log(j),a.ajax({url:j,success:function(b){var d=c.constants.OGC_WFS_FORMAT.readFeatures(b),e=new ol.source.Vector;e.addFeatures(d),c.report.featureType=k,c.report.filter=i,c.report.bbox=e.getExtent(),a("#mpaReportLoader").hide(),c._template1=document.getElementById("mpa-report-template1").innerHTML,Mustache.parse(c._template2),c._template2=document.getElementById("mpa-report-template2").innerHTML,Mustache.parse(c._template2);var f=Mustache.render(c._template1,c.report);document.getElementById("mpaReportMainWrapper").innerHTML=f,a(".mpa-report-featurelist").css("height","90%");var g="#"+c.report.features[0].metadata.id+"-button";a(g).trigger("click")},error:function(){console.log("failed to query WFS"),a("#mpaReportMainWrapper").append("<p>The MPA analysis returned an error...</p>"),a("#mpaReportMainWrapper").append("<p style='color:red;'>GET Request '"+j+"' failed!</p>"),a("#mpaReportLoader").hide()}})},myApp.displayReport=function(b){for(var c=new Array,d=void 0,e=0;e<this.report.features.length;e++){var f="#"+this.report.features[e].metadata.id+"-button";this.report.features[e].metadata.id==b?(d=this.report.features[e].metadata,c.push(this.report.features[e]),a(f).addClass("selected")):a(f).removeClass("selected")}var g=jQuery.extend({},this.report);g.features=c;var h=Mustache.render(this._template2,g);document.getElementById("mpaReportFeatureWrapper").innerHTML=h;var i=d.id+"-map";this.featureMap=this.initMap(i,!1,this.report.bbox),this.addGeomorphicFeatureLayer(d,!1),this.addLayer(!1,this.report.id,"MPA",this.report.featureType,this.report.filter)},myApp.configureViewer=function(){var b=this;b.map=b.initMap("map",!0,!1),b.configureMapSelector("EEZ"),b.fetchGeomorphicFeatures().done((function(c){if(b.addGeomorphicFeatureLayers(),a("#analyzer").on("click",(function(a){var c=b.$areaTypeSelector.select2("data")[0].id,d=b.$areaSelector.select2("data")[0].id;console.log("MPA analysis for "+c+" id ='"+d+"'"),b.executeWPSRequest(c,d)})),b.constants.DEBUG_REPORTING){a("#mpaTabs").show(),a("#mpaTabs").tabs(),a("#mpaTabs").tabs("option","active",0),a("#mpaResultsWrapper").show(),a("#mpaResultsCharts").show(),a("#mpaResultsWrapper").empty(),a("#mpaResultsCharts").empty(),a("#mpaResultsLoader").show();var d="https://data.d4science.org/VDVyTjVmVkFkUzRjK1llZ25sSXY0cVJqUk41TmZVa0VHbWJQNStIS0N6Yz0-VLT";b.storeWPSOutputMetadata("EEZ",8404,[-81.21527777999995,20.36826343900003,-70.63139390299995,30.355082680000066],0,0),b.getWPSOutputData(d)}})).fail((function(){alert("geodata.json is not valid JSON data")}))},myApp.fetchSecurityToken(),myApp.initAreaTypeSelector(),myApp.configureViewer()}))})(jQuery),$(document).ready((function(){"use strict";function a(a,b){a?($("nav li").removeClass("active"),a.addClass("active")):a||"#pageResults"!=b||($("nav li").removeClass("active"),$("nav li[data-where='#pageResults']").addClass("active")),$(".page").hide(),$(b).show(),"#pageResults"==b?$("#mpaResultsWrapper").is(":empty")&&$("#mpaResultsWrapper").html("<center class='pendingText'>Run the <i>analysis</i> first, then check out the <i>results</i>.</center>"):"#pageReports"==b&&$("#mpaReportsWrapper").is(":empty")&&$("#mpaReportsWrapper").html("<center class='pendingText'>Run the <i>analysis</i> first, then check out the <i>results</i> to select a <i>report</i>.</center>")}document.URL.indexOf("~mpaweb")>=0&&window.location.replace("https://mpa-web.catalina.grida.no/"),$(document).on("click","nav li",(function(){a($(this),$(this).data("where"))})),$("#analyzer").on("click",(function(){a(0,"#pageResults")}))})),$(document).ready((function(){"use strict";$("#ESRI-WLGB_1").trigger("click")})),myApp.initResultsChart=function(a){"use strict";var b=this,c=jQuery.extend([],a[0]),d=jQuery.extend([],a[1]),e=[[],[]],f="",g="";c=c.splice(4,c.length-4),f=d[0].name,g=d[1].name;for(var h=0;h<=1;h++)a=jQuery.extend({},d[h]),delete a.surface,d[h]=Object.assign({},a),delete d[h].id,delete d[h].name,delete d[h].type,$.each(d[h],(function(a,c){e[h].push(b.renderStatValue(c,"surface"))}));$("#mpaResultsCharts").highcharts({chart:{type:"column"},title:{text:""},xAxis:{categories:c},yAxis:{allowDecimals:!1,min:0,title:{text:"Area in square kilometers"}},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+this.y+"<br/>Total: "+this.point.stackTotal}},plotOptions:{column:{stacking:"normal"}},series:[{name:f,data:e[0],stack:"EEZ"},{name:g,data:e[1],stack:"feature"}]})};